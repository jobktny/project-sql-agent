"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9";
exports.ids = ["vendor-chunks/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/any_value.js":
/*!******************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/any_value.js ***!
  \******************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AnyValue: () => (/* binding */ AnyValue)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errors.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/errors.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/base.js\");\n\n\n\n//#region src/channels/any_value.ts\n/**\n* Stores the last value received, assumes that if multiple values are received, they are all equal.\n*\n* Note: Unlike 'LastValue' if multiple nodes write to this channel in a single step, the values\n* will be continuously overwritten.\n*/\nvar AnyValue = class AnyValue extends _base_js__WEBPACK_IMPORTED_MODULE_1__.BaseChannel {\n\tlc_graph_name = \"AnyValue\";\n\tvalue = [];\n\tconstructor() {\n\t\tsuper();\n\t}\n\tfromCheckpoint(checkpoint) {\n\t\tconst empty = new AnyValue();\n\t\tif (typeof checkpoint !== \"undefined\") empty.value = [checkpoint];\n\t\treturn empty;\n\t}\n\tupdate(values) {\n\t\tif (values.length === 0) {\n\t\t\tconst updated = this.value.length > 0;\n\t\t\tthis.value = [];\n\t\t\treturn updated;\n\t\t}\n\t\tthis.value = [values[values.length - 1]];\n\t\treturn false;\n\t}\n\tget() {\n\t\tif (this.value.length === 0) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.EmptyChannelError();\n\t\treturn this.value[0];\n\t}\n\tcheckpoint() {\n\t\tif (this.value.length === 0) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.EmptyChannelError();\n\t\treturn this.value[0];\n\t}\n\tisAvailable() {\n\t\treturn this.value.length !== 0;\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=any_value.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L2NoYW5uZWxzL2FueV92YWx1ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBaUQ7QUFDVDs7QUFFeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsaURBQVc7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5Qyx5REFBaUI7QUFDMUQ7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLHlEQUFpQjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDb0I7QUFDcEIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2IvRGVza3RvcC9wcm9qZWN0X3gvcHJvamVjdC1zcWwtYWdlbnQvc2VydmljZXMvZnJvbnRlbmQvbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rbGFuZ2dyYXBoQDEuMC4xX0BsYW5nY2hhaW4rY29yZUAxLjAuMl9vcGVuYWlANC4xMDAuMF93c0A4LjE4LjJfem9kQDQuMS4xMl9fX19lZmE0ZThmODY1NThlNWQyOWViZGVjM2QyZjAwNGVkOS9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9sYW5nZ3JhcGgvZGlzdC9jaGFubmVscy9hbnlfdmFsdWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRW1wdHlDaGFubmVsRXJyb3IgfSBmcm9tIFwiLi4vZXJyb3JzLmpzXCI7XG5pbXBvcnQgeyBCYXNlQ2hhbm5lbCB9IGZyb20gXCIuL2Jhc2UuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9jaGFubmVscy9hbnlfdmFsdWUudHNcbi8qKlxuKiBTdG9yZXMgdGhlIGxhc3QgdmFsdWUgcmVjZWl2ZWQsIGFzc3VtZXMgdGhhdCBpZiBtdWx0aXBsZSB2YWx1ZXMgYXJlIHJlY2VpdmVkLCB0aGV5IGFyZSBhbGwgZXF1YWwuXG4qXG4qIE5vdGU6IFVubGlrZSAnTGFzdFZhbHVlJyBpZiBtdWx0aXBsZSBub2RlcyB3cml0ZSB0byB0aGlzIGNoYW5uZWwgaW4gYSBzaW5nbGUgc3RlcCwgdGhlIHZhbHVlc1xuKiB3aWxsIGJlIGNvbnRpbnVvdXNseSBvdmVyd3JpdHRlbi5cbiovXG52YXIgQW55VmFsdWUgPSBjbGFzcyBBbnlWYWx1ZSBleHRlbmRzIEJhc2VDaGFubmVsIHtcblx0bGNfZ3JhcGhfbmFtZSA9IFwiQW55VmFsdWVcIjtcblx0dmFsdWUgPSBbXTtcblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0c3VwZXIoKTtcblx0fVxuXHRmcm9tQ2hlY2twb2ludChjaGVja3BvaW50KSB7XG5cdFx0Y29uc3QgZW1wdHkgPSBuZXcgQW55VmFsdWUoKTtcblx0XHRpZiAodHlwZW9mIGNoZWNrcG9pbnQgIT09IFwidW5kZWZpbmVkXCIpIGVtcHR5LnZhbHVlID0gW2NoZWNrcG9pbnRdO1xuXHRcdHJldHVybiBlbXB0eTtcblx0fVxuXHR1cGRhdGUodmFsdWVzKSB7XG5cdFx0aWYgKHZhbHVlcy5sZW5ndGggPT09IDApIHtcblx0XHRcdGNvbnN0IHVwZGF0ZWQgPSB0aGlzLnZhbHVlLmxlbmd0aCA+IDA7XG5cdFx0XHR0aGlzLnZhbHVlID0gW107XG5cdFx0XHRyZXR1cm4gdXBkYXRlZDtcblx0XHR9XG5cdFx0dGhpcy52YWx1ZSA9IFt2YWx1ZXNbdmFsdWVzLmxlbmd0aCAtIDFdXTtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0Z2V0KCkge1xuXHRcdGlmICh0aGlzLnZhbHVlLmxlbmd0aCA9PT0gMCkgdGhyb3cgbmV3IEVtcHR5Q2hhbm5lbEVycm9yKCk7XG5cdFx0cmV0dXJuIHRoaXMudmFsdWVbMF07XG5cdH1cblx0Y2hlY2twb2ludCgpIHtcblx0XHRpZiAodGhpcy52YWx1ZS5sZW5ndGggPT09IDApIHRocm93IG5ldyBFbXB0eUNoYW5uZWxFcnJvcigpO1xuXHRcdHJldHVybiB0aGlzLnZhbHVlWzBdO1xuXHR9XG5cdGlzQXZhaWxhYmxlKCkge1xuXHRcdHJldHVybiB0aGlzLnZhbHVlLmxlbmd0aCAhPT0gMDtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBBbnlWYWx1ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YW55X3ZhbHVlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/any_value.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/base.js":
/*!*************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/base.js ***!
  \*************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseChannel: () => (/* binding */ BaseChannel),\n/* harmony export */   createCheckpoint: () => (/* binding */ createCheckpoint),\n/* harmony export */   emptyChannels: () => (/* binding */ emptyChannels),\n/* harmony export */   getOnlyChannels: () => (/* binding */ getOnlyChannels),\n/* harmony export */   isBaseChannel: () => (/* binding */ isBaseChannel)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errors.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/errors.js\");\n/* harmony import */ var _langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @langchain/langgraph-checkpoint */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph-checkpoint@1.0.0_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12__/node_modules/@langchain/langgraph-checkpoint/dist/index.js\");\n\n\n\n//#region src/channels/base.ts\nfunction isBaseChannel(obj) {\n\treturn obj != null && obj.lg_is_channel === true;\n}\n/** @internal */\nvar BaseChannel = class {\n\tValueType;\n\tUpdateType;\n\t/** @ignore */\n\tlg_is_channel = true;\n\t/**\n\t* Mark the current value of the channel as consumed. By default, no-op.\n\t* A channel can use this method to modify its state, preventing the value\n\t* from being consumed again.\n\t*\n\t* Returns True if the channel was updated, False otherwise.\n\t*/\n\tconsume() {\n\t\treturn false;\n\t}\n\t/**\n\t* Notify the channel that the Pregel run is finishing. By default, no-op.\n\t* A channel can use this method to modify its state, preventing finish.\n\t*\n\t* Returns True if the channel was updated, False otherwise.\n\t*/\n\tfinish() {\n\t\treturn false;\n\t}\n\t/**\n\t* Return True if the channel is available (not empty), False otherwise.\n\t* Subclasses should override this method to provide a more efficient\n\t* implementation than calling get() and catching EmptyChannelError.\n\t*/\n\tisAvailable() {\n\t\ttry {\n\t\t\tthis.get();\n\t\t\treturn true;\n\t\t} catch (error) {\n\t\t\tif (error.name === _errors_js__WEBPACK_IMPORTED_MODULE_0__.EmptyChannelError.unminifiable_name) return false;\n\t\t\tthrow error;\n\t\t}\n\t}\n};\nconst IS_ONLY_BASE_CHANNEL = Symbol.for(\"LG_IS_ONLY_BASE_CHANNEL\");\nfunction getOnlyChannels(channels) {\n\tif (channels[IS_ONLY_BASE_CHANNEL] === true) return channels;\n\tconst newChannels = {};\n\tfor (const k in channels) {\n\t\tif (!Object.prototype.hasOwnProperty.call(channels, k)) continue;\n\t\tconst value = channels[k];\n\t\tif (isBaseChannel(value)) newChannels[k] = value;\n\t}\n\tObject.assign(newChannels, { [IS_ONLY_BASE_CHANNEL]: true });\n\treturn newChannels;\n}\nfunction emptyChannels(channels, checkpoint) {\n\tconst filteredChannels = getOnlyChannels(channels);\n\tconst newChannels = {};\n\tfor (const k in filteredChannels) {\n\t\tif (!Object.prototype.hasOwnProperty.call(filteredChannels, k)) continue;\n\t\tconst channelValue = checkpoint.channel_values[k];\n\t\tnewChannels[k] = filteredChannels[k].fromCheckpoint(channelValue);\n\t}\n\tObject.assign(newChannels, { [IS_ONLY_BASE_CHANNEL]: true });\n\treturn newChannels;\n}\nfunction createCheckpoint(checkpoint, channels, step, options) {\n\tlet values;\n\tif (channels === void 0) values = checkpoint.channel_values;\n\telse {\n\t\tvalues = {};\n\t\tfor (const k in channels) {\n\t\t\tif (!Object.prototype.hasOwnProperty.call(channels, k)) continue;\n\t\t\ttry {\n\t\t\t\tvalues[k] = channels[k].checkpoint();\n\t\t\t} catch (error) {\n\t\t\t\tif (error.name === _errors_js__WEBPACK_IMPORTED_MODULE_0__.EmptyChannelError.unminifiable_name) {} else throw error;\n\t\t\t}\n\t\t}\n\t}\n\treturn {\n\t\tv: 4,\n\t\tid: options?.id ?? (0,_langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_1__.uuid6)(step),\n\t\tts: (/* @__PURE__ */ new Date()).toISOString(),\n\t\tchannel_values: values,\n\t\tchannel_versions: checkpoint.channel_versions,\n\t\tversions_seen: checkpoint.versions_seen\n\t};\n}\n\n//#endregion\n\n//# sourceMappingURL=base.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L2NoYW5uZWxzL2Jhc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFpRDtBQUNPOztBQUV4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLHNCQUFzQix5REFBaUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsOEJBQThCO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLDhCQUE4QjtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLHVCQUF1Qix5REFBaUIsdUJBQXVCO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsc0VBQUs7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3dGO0FBQ3hGIiwic291cmNlcyI6WyIvVXNlcnMvam9iL0Rlc2t0b3AvcHJvamVjdF94L3Byb2plY3Qtc3FsLWFnZW50L3NlcnZpY2VzL2Zyb250ZW5kL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2xhbmdncmFwaEAxLjAuMV9AbGFuZ2NoYWluK2NvcmVAMS4wLjJfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEA0LjEuMTJfX19fZWZhNGU4Zjg2NTU4ZTVkMjllYmRlYzNkMmYwMDRlZDkvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vbGFuZ2dyYXBoL2Rpc3QvY2hhbm5lbHMvYmFzZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFbXB0eUNoYW5uZWxFcnJvciB9IGZyb20gXCIuLi9lcnJvcnMuanNcIjtcbmltcG9ydCB7IHV1aWQ2IH0gZnJvbSBcIkBsYW5nY2hhaW4vbGFuZ2dyYXBoLWNoZWNrcG9pbnRcIjtcblxuLy8jcmVnaW9uIHNyYy9jaGFubmVscy9iYXNlLnRzXG5mdW5jdGlvbiBpc0Jhc2VDaGFubmVsKG9iaikge1xuXHRyZXR1cm4gb2JqICE9IG51bGwgJiYgb2JqLmxnX2lzX2NoYW5uZWwgPT09IHRydWU7XG59XG4vKiogQGludGVybmFsICovXG52YXIgQmFzZUNoYW5uZWwgPSBjbGFzcyB7XG5cdFZhbHVlVHlwZTtcblx0VXBkYXRlVHlwZTtcblx0LyoqIEBpZ25vcmUgKi9cblx0bGdfaXNfY2hhbm5lbCA9IHRydWU7XG5cdC8qKlxuXHQqIE1hcmsgdGhlIGN1cnJlbnQgdmFsdWUgb2YgdGhlIGNoYW5uZWwgYXMgY29uc3VtZWQuIEJ5IGRlZmF1bHQsIG5vLW9wLlxuXHQqIEEgY2hhbm5lbCBjYW4gdXNlIHRoaXMgbWV0aG9kIHRvIG1vZGlmeSBpdHMgc3RhdGUsIHByZXZlbnRpbmcgdGhlIHZhbHVlXG5cdCogZnJvbSBiZWluZyBjb25zdW1lZCBhZ2Fpbi5cblx0KlxuXHQqIFJldHVybnMgVHJ1ZSBpZiB0aGUgY2hhbm5lbCB3YXMgdXBkYXRlZCwgRmFsc2Ugb3RoZXJ3aXNlLlxuXHQqL1xuXHRjb25zdW1lKCkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHQvKipcblx0KiBOb3RpZnkgdGhlIGNoYW5uZWwgdGhhdCB0aGUgUHJlZ2VsIHJ1biBpcyBmaW5pc2hpbmcuIEJ5IGRlZmF1bHQsIG5vLW9wLlxuXHQqIEEgY2hhbm5lbCBjYW4gdXNlIHRoaXMgbWV0aG9kIHRvIG1vZGlmeSBpdHMgc3RhdGUsIHByZXZlbnRpbmcgZmluaXNoLlxuXHQqXG5cdCogUmV0dXJucyBUcnVlIGlmIHRoZSBjaGFubmVsIHdhcyB1cGRhdGVkLCBGYWxzZSBvdGhlcndpc2UuXG5cdCovXG5cdGZpbmlzaCgpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0LyoqXG5cdCogUmV0dXJuIFRydWUgaWYgdGhlIGNoYW5uZWwgaXMgYXZhaWxhYmxlIChub3QgZW1wdHkpLCBGYWxzZSBvdGhlcndpc2UuXG5cdCogU3ViY2xhc3NlcyBzaG91bGQgb3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gcHJvdmlkZSBhIG1vcmUgZWZmaWNpZW50XG5cdCogaW1wbGVtZW50YXRpb24gdGhhbiBjYWxsaW5nIGdldCgpIGFuZCBjYXRjaGluZyBFbXB0eUNoYW5uZWxFcnJvci5cblx0Ki9cblx0aXNBdmFpbGFibGUoKSB7XG5cdFx0dHJ5IHtcblx0XHRcdHRoaXMuZ2V0KCk7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0aWYgKGVycm9yLm5hbWUgPT09IEVtcHR5Q2hhbm5lbEVycm9yLnVubWluaWZpYWJsZV9uYW1lKSByZXR1cm4gZmFsc2U7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cdH1cbn07XG5jb25zdCBJU19PTkxZX0JBU0VfQ0hBTk5FTCA9IFN5bWJvbC5mb3IoXCJMR19JU19PTkxZX0JBU0VfQ0hBTk5FTFwiKTtcbmZ1bmN0aW9uIGdldE9ubHlDaGFubmVscyhjaGFubmVscykge1xuXHRpZiAoY2hhbm5lbHNbSVNfT05MWV9CQVNFX0NIQU5ORUxdID09PSB0cnVlKSByZXR1cm4gY2hhbm5lbHM7XG5cdGNvbnN0IG5ld0NoYW5uZWxzID0ge307XG5cdGZvciAoY29uc3QgayBpbiBjaGFubmVscykge1xuXHRcdGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNoYW5uZWxzLCBrKSkgY29udGludWU7XG5cdFx0Y29uc3QgdmFsdWUgPSBjaGFubmVsc1trXTtcblx0XHRpZiAoaXNCYXNlQ2hhbm5lbCh2YWx1ZSkpIG5ld0NoYW5uZWxzW2tdID0gdmFsdWU7XG5cdH1cblx0T2JqZWN0LmFzc2lnbihuZXdDaGFubmVscywgeyBbSVNfT05MWV9CQVNFX0NIQU5ORUxdOiB0cnVlIH0pO1xuXHRyZXR1cm4gbmV3Q2hhbm5lbHM7XG59XG5mdW5jdGlvbiBlbXB0eUNoYW5uZWxzKGNoYW5uZWxzLCBjaGVja3BvaW50KSB7XG5cdGNvbnN0IGZpbHRlcmVkQ2hhbm5lbHMgPSBnZXRPbmx5Q2hhbm5lbHMoY2hhbm5lbHMpO1xuXHRjb25zdCBuZXdDaGFubmVscyA9IHt9O1xuXHRmb3IgKGNvbnN0IGsgaW4gZmlsdGVyZWRDaGFubmVscykge1xuXHRcdGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGZpbHRlcmVkQ2hhbm5lbHMsIGspKSBjb250aW51ZTtcblx0XHRjb25zdCBjaGFubmVsVmFsdWUgPSBjaGVja3BvaW50LmNoYW5uZWxfdmFsdWVzW2tdO1xuXHRcdG5ld0NoYW5uZWxzW2tdID0gZmlsdGVyZWRDaGFubmVsc1trXS5mcm9tQ2hlY2twb2ludChjaGFubmVsVmFsdWUpO1xuXHR9XG5cdE9iamVjdC5hc3NpZ24obmV3Q2hhbm5lbHMsIHsgW0lTX09OTFlfQkFTRV9DSEFOTkVMXTogdHJ1ZSB9KTtcblx0cmV0dXJuIG5ld0NoYW5uZWxzO1xufVxuZnVuY3Rpb24gY3JlYXRlQ2hlY2twb2ludChjaGVja3BvaW50LCBjaGFubmVscywgc3RlcCwgb3B0aW9ucykge1xuXHRsZXQgdmFsdWVzO1xuXHRpZiAoY2hhbm5lbHMgPT09IHZvaWQgMCkgdmFsdWVzID0gY2hlY2twb2ludC5jaGFubmVsX3ZhbHVlcztcblx0ZWxzZSB7XG5cdFx0dmFsdWVzID0ge307XG5cdFx0Zm9yIChjb25zdCBrIGluIGNoYW5uZWxzKSB7XG5cdFx0XHRpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjaGFubmVscywgaykpIGNvbnRpbnVlO1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0dmFsdWVzW2tdID0gY2hhbm5lbHNba10uY2hlY2twb2ludCgpO1xuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0aWYgKGVycm9yLm5hbWUgPT09IEVtcHR5Q2hhbm5lbEVycm9yLnVubWluaWZpYWJsZV9uYW1lKSB7fSBlbHNlIHRocm93IGVycm9yO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4ge1xuXHRcdHY6IDQsXG5cdFx0aWQ6IG9wdGlvbnM/LmlkID8/IHV1aWQ2KHN0ZXApLFxuXHRcdHRzOiAoLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCkpLnRvSVNPU3RyaW5nKCksXG5cdFx0Y2hhbm5lbF92YWx1ZXM6IHZhbHVlcyxcblx0XHRjaGFubmVsX3ZlcnNpb25zOiBjaGVja3BvaW50LmNoYW5uZWxfdmVyc2lvbnMsXG5cdFx0dmVyc2lvbnNfc2VlbjogY2hlY2twb2ludC52ZXJzaW9uc19zZWVuXG5cdH07XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgQmFzZUNoYW5uZWwsIGNyZWF0ZUNoZWNrcG9pbnQsIGVtcHR5Q2hhbm5lbHMsIGdldE9ubHlDaGFubmVscywgaXNCYXNlQ2hhbm5lbCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmFzZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/base.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/binop.js":
/*!**************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/binop.js ***!
  \**************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BinaryOperatorAggregate: () => (/* binding */ BinaryOperatorAggregate)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errors.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/errors.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/base.js\");\n\n\n\n//#region src/channels/binop.ts\n/**\n* Stores the result of applying a binary operator to the current value and each new value.\n*/\nvar BinaryOperatorAggregate = class BinaryOperatorAggregate extends _base_js__WEBPACK_IMPORTED_MODULE_1__.BaseChannel {\n\tlc_graph_name = \"BinaryOperatorAggregate\";\n\tvalue;\n\toperator;\n\tinitialValueFactory;\n\tconstructor(operator, initialValueFactory) {\n\t\tsuper();\n\t\tthis.operator = operator;\n\t\tthis.initialValueFactory = initialValueFactory;\n\t\tthis.value = initialValueFactory?.();\n\t}\n\tfromCheckpoint(checkpoint) {\n\t\tconst empty = new BinaryOperatorAggregate(this.operator, this.initialValueFactory);\n\t\tif (typeof checkpoint !== \"undefined\") empty.value = checkpoint;\n\t\treturn empty;\n\t}\n\tupdate(values) {\n\t\tlet newValues = values;\n\t\tif (!newValues.length) return false;\n\t\tif (this.value === void 0) {\n\t\t\t[this.value] = newValues;\n\t\t\tnewValues = newValues.slice(1);\n\t\t}\n\t\tfor (const value of newValues) if (this.value !== void 0) this.value = this.operator(this.value, value);\n\t\treturn true;\n\t}\n\tget() {\n\t\tif (this.value === void 0) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.EmptyChannelError();\n\t\treturn this.value;\n\t}\n\tcheckpoint() {\n\t\tif (this.value === void 0) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.EmptyChannelError();\n\t\treturn this.value;\n\t}\n\tisAvailable() {\n\t\treturn this.value !== void 0;\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=binop.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L2NoYW5uZWxzL2Jpbm9wLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFpRDtBQUNUOztBQUV4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRSxpREFBVztBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLHlEQUFpQjtBQUN4RDtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMseURBQWlCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNtQztBQUNuQyIsInNvdXJjZXMiOlsiL1VzZXJzL2pvYi9EZXNrdG9wL3Byb2plY3RfeC9wcm9qZWN0LXNxbC1hZ2VudC9zZXJ2aWNlcy9mcm9udGVuZC9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L2NoYW5uZWxzL2Jpbm9wLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVtcHR5Q2hhbm5lbEVycm9yIH0gZnJvbSBcIi4uL2Vycm9ycy5qc1wiO1xuaW1wb3J0IHsgQmFzZUNoYW5uZWwgfSBmcm9tIFwiLi9iYXNlLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvY2hhbm5lbHMvYmlub3AudHNcbi8qKlxuKiBTdG9yZXMgdGhlIHJlc3VsdCBvZiBhcHBseWluZyBhIGJpbmFyeSBvcGVyYXRvciB0byB0aGUgY3VycmVudCB2YWx1ZSBhbmQgZWFjaCBuZXcgdmFsdWUuXG4qL1xudmFyIEJpbmFyeU9wZXJhdG9yQWdncmVnYXRlID0gY2xhc3MgQmluYXJ5T3BlcmF0b3JBZ2dyZWdhdGUgZXh0ZW5kcyBCYXNlQ2hhbm5lbCB7XG5cdGxjX2dyYXBoX25hbWUgPSBcIkJpbmFyeU9wZXJhdG9yQWdncmVnYXRlXCI7XG5cdHZhbHVlO1xuXHRvcGVyYXRvcjtcblx0aW5pdGlhbFZhbHVlRmFjdG9yeTtcblx0Y29uc3RydWN0b3Iob3BlcmF0b3IsIGluaXRpYWxWYWx1ZUZhY3RvcnkpIHtcblx0XHRzdXBlcigpO1xuXHRcdHRoaXMub3BlcmF0b3IgPSBvcGVyYXRvcjtcblx0XHR0aGlzLmluaXRpYWxWYWx1ZUZhY3RvcnkgPSBpbml0aWFsVmFsdWVGYWN0b3J5O1xuXHRcdHRoaXMudmFsdWUgPSBpbml0aWFsVmFsdWVGYWN0b3J5Py4oKTtcblx0fVxuXHRmcm9tQ2hlY2twb2ludChjaGVja3BvaW50KSB7XG5cdFx0Y29uc3QgZW1wdHkgPSBuZXcgQmluYXJ5T3BlcmF0b3JBZ2dyZWdhdGUodGhpcy5vcGVyYXRvciwgdGhpcy5pbml0aWFsVmFsdWVGYWN0b3J5KTtcblx0XHRpZiAodHlwZW9mIGNoZWNrcG9pbnQgIT09IFwidW5kZWZpbmVkXCIpIGVtcHR5LnZhbHVlID0gY2hlY2twb2ludDtcblx0XHRyZXR1cm4gZW1wdHk7XG5cdH1cblx0dXBkYXRlKHZhbHVlcykge1xuXHRcdGxldCBuZXdWYWx1ZXMgPSB2YWx1ZXM7XG5cdFx0aWYgKCFuZXdWYWx1ZXMubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG5cdFx0aWYgKHRoaXMudmFsdWUgPT09IHZvaWQgMCkge1xuXHRcdFx0W3RoaXMudmFsdWVdID0gbmV3VmFsdWVzO1xuXHRcdFx0bmV3VmFsdWVzID0gbmV3VmFsdWVzLnNsaWNlKDEpO1xuXHRcdH1cblx0XHRmb3IgKGNvbnN0IHZhbHVlIG9mIG5ld1ZhbHVlcykgaWYgKHRoaXMudmFsdWUgIT09IHZvaWQgMCkgdGhpcy52YWx1ZSA9IHRoaXMub3BlcmF0b3IodGhpcy52YWx1ZSwgdmFsdWUpO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cdGdldCgpIHtcblx0XHRpZiAodGhpcy52YWx1ZSA9PT0gdm9pZCAwKSB0aHJvdyBuZXcgRW1wdHlDaGFubmVsRXJyb3IoKTtcblx0XHRyZXR1cm4gdGhpcy52YWx1ZTtcblx0fVxuXHRjaGVja3BvaW50KCkge1xuXHRcdGlmICh0aGlzLnZhbHVlID09PSB2b2lkIDApIHRocm93IG5ldyBFbXB0eUNoYW5uZWxFcnJvcigpO1xuXHRcdHJldHVybiB0aGlzLnZhbHVlO1xuXHR9XG5cdGlzQXZhaWxhYmxlKCkge1xuXHRcdHJldHVybiB0aGlzLnZhbHVlICE9PSB2b2lkIDA7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgQmluYXJ5T3BlcmF0b3JBZ2dyZWdhdGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJpbm9wLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/binop.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/dynamic_barrier_value.js":
/*!******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/dynamic_barrier_value.js ***!
  \******************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DynamicBarrierValue: () => (/* binding */ DynamicBarrierValue)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errors.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/errors.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/base.js\");\n/* harmony import */ var _named_barrier_value_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./named_barrier_value.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/named_barrier_value.js\");\n\n\n\n\n//#region src/channels/dynamic_barrier_value.ts\nfunction isWaitForNames(v) {\n\treturn v.__names !== void 0;\n}\n/**\n* A channel that switches between two states\n*\n* - in the \"priming\" state it can't be read from.\n*     - if it receives a WaitForNames update, it switches to the \"waiting\" state.\n* - in the \"waiting\" state it collects named values until all are received.\n*     - once all named values are received, it can be read once, and it switches\n*       back to the \"priming\" state.\n*/\nvar DynamicBarrierValue = class DynamicBarrierValue extends _base_js__WEBPACK_IMPORTED_MODULE_1__.BaseChannel {\n\tlc_graph_name = \"DynamicBarrierValue\";\n\tnames;\n\tseen;\n\tconstructor() {\n\t\tsuper();\n\t\tthis.names = void 0;\n\t\tthis.seen = /* @__PURE__ */ new Set();\n\t}\n\tfromCheckpoint(checkpoint) {\n\t\tconst empty = new DynamicBarrierValue();\n\t\tif (typeof checkpoint !== \"undefined\") {\n\t\t\tempty.names = new Set(checkpoint[0]);\n\t\t\tempty.seen = new Set(checkpoint[1]);\n\t\t}\n\t\treturn empty;\n\t}\n\tupdate(values) {\n\t\tconst waitForNames = values.filter(isWaitForNames);\n\t\tif (waitForNames.length > 0) {\n\t\t\tif (waitForNames.length > 1) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.InvalidUpdateError(\"Received multiple WaitForNames updates in the same step.\");\n\t\t\tthis.names = new Set(waitForNames[0].__names);\n\t\t\treturn true;\n\t\t} else if (this.names !== void 0) {\n\t\t\tlet updated = false;\n\t\t\tfor (const value of values) {\n\t\t\t\tif (isWaitForNames(value)) throw new Error(\"Assertion Error: Received unexpected WaitForNames instance.\");\n\t\t\t\tif (this.names.has(value) && !this.seen.has(value)) {\n\t\t\t\t\tthis.seen.add(value);\n\t\t\t\t\tupdated = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn updated;\n\t\t}\n\t\treturn false;\n\t}\n\tconsume() {\n\t\tif (this.seen && this.names && (0,_named_barrier_value_js__WEBPACK_IMPORTED_MODULE_2__.areSetsEqual)(this.seen, this.names)) {\n\t\t\tthis.seen = /* @__PURE__ */ new Set();\n\t\t\tthis.names = void 0;\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\tget() {\n\t\tif (!this.names || !(0,_named_barrier_value_js__WEBPACK_IMPORTED_MODULE_2__.areSetsEqual)(this.names, this.seen)) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.EmptyChannelError();\n\t\treturn void 0;\n\t}\n\tcheckpoint() {\n\t\treturn [this.names ? [...this.names] : void 0, [...this.seen]];\n\t}\n\tisAvailable() {\n\t\treturn !!this.names && (0,_named_barrier_value_js__WEBPACK_IMPORTED_MODULE_2__.areSetsEqual)(this.names, this.seen);\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=dynamic_barrier_value.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L2NoYW5uZWxzL2R5bmFtaWNfYmFycmllcl92YWx1ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXFFO0FBQzdCO0FBQ2dCOztBQUV4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxpREFBVztBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQywwREFBa0I7QUFDNUQ7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxxRUFBWTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixxRUFBWSxtQ0FBbUMseURBQWlCO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixxRUFBWTtBQUNyQztBQUNBOztBQUVBO0FBQytCO0FBQy9CIiwic291cmNlcyI6WyIvVXNlcnMvam9iL0Rlc2t0b3AvcHJvamVjdF94L3Byb2plY3Qtc3FsLWFnZW50L3NlcnZpY2VzL2Zyb250ZW5kL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2xhbmdncmFwaEAxLjAuMV9AbGFuZ2NoYWluK2NvcmVAMS4wLjJfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEA0LjEuMTJfX19fZWZhNGU4Zjg2NTU4ZTVkMjllYmRlYzNkMmYwMDRlZDkvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vbGFuZ2dyYXBoL2Rpc3QvY2hhbm5lbHMvZHluYW1pY19iYXJyaWVyX3ZhbHVlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVtcHR5Q2hhbm5lbEVycm9yLCBJbnZhbGlkVXBkYXRlRXJyb3IgfSBmcm9tIFwiLi4vZXJyb3JzLmpzXCI7XG5pbXBvcnQgeyBCYXNlQ2hhbm5lbCB9IGZyb20gXCIuL2Jhc2UuanNcIjtcbmltcG9ydCB7IGFyZVNldHNFcXVhbCB9IGZyb20gXCIuL25hbWVkX2JhcnJpZXJfdmFsdWUuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9jaGFubmVscy9keW5hbWljX2JhcnJpZXJfdmFsdWUudHNcbmZ1bmN0aW9uIGlzV2FpdEZvck5hbWVzKHYpIHtcblx0cmV0dXJuIHYuX19uYW1lcyAhPT0gdm9pZCAwO1xufVxuLyoqXG4qIEEgY2hhbm5lbCB0aGF0IHN3aXRjaGVzIGJldHdlZW4gdHdvIHN0YXRlc1xuKlxuKiAtIGluIHRoZSBcInByaW1pbmdcIiBzdGF0ZSBpdCBjYW4ndCBiZSByZWFkIGZyb20uXG4qICAgICAtIGlmIGl0IHJlY2VpdmVzIGEgV2FpdEZvck5hbWVzIHVwZGF0ZSwgaXQgc3dpdGNoZXMgdG8gdGhlIFwid2FpdGluZ1wiIHN0YXRlLlxuKiAtIGluIHRoZSBcIndhaXRpbmdcIiBzdGF0ZSBpdCBjb2xsZWN0cyBuYW1lZCB2YWx1ZXMgdW50aWwgYWxsIGFyZSByZWNlaXZlZC5cbiogICAgIC0gb25jZSBhbGwgbmFtZWQgdmFsdWVzIGFyZSByZWNlaXZlZCwgaXQgY2FuIGJlIHJlYWQgb25jZSwgYW5kIGl0IHN3aXRjaGVzXG4qICAgICAgIGJhY2sgdG8gdGhlIFwicHJpbWluZ1wiIHN0YXRlLlxuKi9cbnZhciBEeW5hbWljQmFycmllclZhbHVlID0gY2xhc3MgRHluYW1pY0JhcnJpZXJWYWx1ZSBleHRlbmRzIEJhc2VDaGFubmVsIHtcblx0bGNfZ3JhcGhfbmFtZSA9IFwiRHluYW1pY0JhcnJpZXJWYWx1ZVwiO1xuXHRuYW1lcztcblx0c2Vlbjtcblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0c3VwZXIoKTtcblx0XHR0aGlzLm5hbWVzID0gdm9pZCAwO1xuXHRcdHRoaXMuc2VlbiA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG5cdH1cblx0ZnJvbUNoZWNrcG9pbnQoY2hlY2twb2ludCkge1xuXHRcdGNvbnN0IGVtcHR5ID0gbmV3IER5bmFtaWNCYXJyaWVyVmFsdWUoKTtcblx0XHRpZiAodHlwZW9mIGNoZWNrcG9pbnQgIT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdGVtcHR5Lm5hbWVzID0gbmV3IFNldChjaGVja3BvaW50WzBdKTtcblx0XHRcdGVtcHR5LnNlZW4gPSBuZXcgU2V0KGNoZWNrcG9pbnRbMV0pO1xuXHRcdH1cblx0XHRyZXR1cm4gZW1wdHk7XG5cdH1cblx0dXBkYXRlKHZhbHVlcykge1xuXHRcdGNvbnN0IHdhaXRGb3JOYW1lcyA9IHZhbHVlcy5maWx0ZXIoaXNXYWl0Rm9yTmFtZXMpO1xuXHRcdGlmICh3YWl0Rm9yTmFtZXMubGVuZ3RoID4gMCkge1xuXHRcdFx0aWYgKHdhaXRGb3JOYW1lcy5sZW5ndGggPiAxKSB0aHJvdyBuZXcgSW52YWxpZFVwZGF0ZUVycm9yKFwiUmVjZWl2ZWQgbXVsdGlwbGUgV2FpdEZvck5hbWVzIHVwZGF0ZXMgaW4gdGhlIHNhbWUgc3RlcC5cIik7XG5cdFx0XHR0aGlzLm5hbWVzID0gbmV3IFNldCh3YWl0Rm9yTmFtZXNbMF0uX19uYW1lcyk7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9IGVsc2UgaWYgKHRoaXMubmFtZXMgIT09IHZvaWQgMCkge1xuXHRcdFx0bGV0IHVwZGF0ZWQgPSBmYWxzZTtcblx0XHRcdGZvciAoY29uc3QgdmFsdWUgb2YgdmFsdWVzKSB7XG5cdFx0XHRcdGlmIChpc1dhaXRGb3JOYW1lcyh2YWx1ZSkpIHRocm93IG5ldyBFcnJvcihcIkFzc2VydGlvbiBFcnJvcjogUmVjZWl2ZWQgdW5leHBlY3RlZCBXYWl0Rm9yTmFtZXMgaW5zdGFuY2UuXCIpO1xuXHRcdFx0XHRpZiAodGhpcy5uYW1lcy5oYXModmFsdWUpICYmICF0aGlzLnNlZW4uaGFzKHZhbHVlKSkge1xuXHRcdFx0XHRcdHRoaXMuc2Vlbi5hZGQodmFsdWUpO1xuXHRcdFx0XHRcdHVwZGF0ZWQgPSB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdXBkYXRlZDtcblx0XHR9XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdGNvbnN1bWUoKSB7XG5cdFx0aWYgKHRoaXMuc2VlbiAmJiB0aGlzLm5hbWVzICYmIGFyZVNldHNFcXVhbCh0aGlzLnNlZW4sIHRoaXMubmFtZXMpKSB7XG5cdFx0XHR0aGlzLnNlZW4gPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuXHRcdFx0dGhpcy5uYW1lcyA9IHZvaWQgMDtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0Z2V0KCkge1xuXHRcdGlmICghdGhpcy5uYW1lcyB8fCAhYXJlU2V0c0VxdWFsKHRoaXMubmFtZXMsIHRoaXMuc2VlbikpIHRocm93IG5ldyBFbXB0eUNoYW5uZWxFcnJvcigpO1xuXHRcdHJldHVybiB2b2lkIDA7XG5cdH1cblx0Y2hlY2twb2ludCgpIHtcblx0XHRyZXR1cm4gW3RoaXMubmFtZXMgPyBbLi4udGhpcy5uYW1lc10gOiB2b2lkIDAsIFsuLi50aGlzLnNlZW5dXTtcblx0fVxuXHRpc0F2YWlsYWJsZSgpIHtcblx0XHRyZXR1cm4gISF0aGlzLm5hbWVzICYmIGFyZVNldHNFcXVhbCh0aGlzLm5hbWVzLCB0aGlzLnNlZW4pO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IER5bmFtaWNCYXJyaWVyVmFsdWUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWR5bmFtaWNfYmFycmllcl92YWx1ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/dynamic_barrier_value.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/ephemeral_value.js":
/*!************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/ephemeral_value.js ***!
  \************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EphemeralValue: () => (/* binding */ EphemeralValue)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errors.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/errors.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/base.js\");\n\n\n\n//#region src/channels/ephemeral_value.ts\n/**\n* Stores the value received in the step immediately preceding, clears after.\n*/\nvar EphemeralValue = class EphemeralValue extends _base_js__WEBPACK_IMPORTED_MODULE_1__.BaseChannel {\n\tlc_graph_name = \"EphemeralValue\";\n\tguard;\n\tvalue = [];\n\tconstructor(guard = true) {\n\t\tsuper();\n\t\tthis.guard = guard;\n\t}\n\tfromCheckpoint(checkpoint) {\n\t\tconst empty = new EphemeralValue(this.guard);\n\t\tif (typeof checkpoint !== \"undefined\") empty.value = [checkpoint];\n\t\treturn empty;\n\t}\n\tupdate(values) {\n\t\tif (values.length === 0) {\n\t\t\tconst updated = this.value.length > 0;\n\t\t\tthis.value = [];\n\t\t\treturn updated;\n\t\t}\n\t\tif (values.length !== 1 && this.guard) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.InvalidUpdateError(\"EphemeralValue can only receive one value per step.\");\n\t\tthis.value = [values[values.length - 1]];\n\t\treturn true;\n\t}\n\tget() {\n\t\tif (this.value.length === 0) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.EmptyChannelError();\n\t\treturn this.value[0];\n\t}\n\tcheckpoint() {\n\t\tif (this.value.length === 0) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.EmptyChannelError();\n\t\treturn this.value[0];\n\t}\n\tisAvailable() {\n\t\treturn this.value.length !== 0;\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=ephemeral_value.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L2NoYW5uZWxzL2VwaGVtZXJhbF92YWx1ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBcUU7QUFDN0I7O0FBRXhDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELGlEQUFXO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCwwREFBa0I7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMseURBQWlCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBLHlDQUF5Qyx5REFBaUI7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQzBCO0FBQzFCIiwic291cmNlcyI6WyIvVXNlcnMvam9iL0Rlc2t0b3AvcHJvamVjdF94L3Byb2plY3Qtc3FsLWFnZW50L3NlcnZpY2VzL2Zyb250ZW5kL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2xhbmdncmFwaEAxLjAuMV9AbGFuZ2NoYWluK2NvcmVAMS4wLjJfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEA0LjEuMTJfX19fZWZhNGU4Zjg2NTU4ZTVkMjllYmRlYzNkMmYwMDRlZDkvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vbGFuZ2dyYXBoL2Rpc3QvY2hhbm5lbHMvZXBoZW1lcmFsX3ZhbHVlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVtcHR5Q2hhbm5lbEVycm9yLCBJbnZhbGlkVXBkYXRlRXJyb3IgfSBmcm9tIFwiLi4vZXJyb3JzLmpzXCI7XG5pbXBvcnQgeyBCYXNlQ2hhbm5lbCB9IGZyb20gXCIuL2Jhc2UuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9jaGFubmVscy9lcGhlbWVyYWxfdmFsdWUudHNcbi8qKlxuKiBTdG9yZXMgdGhlIHZhbHVlIHJlY2VpdmVkIGluIHRoZSBzdGVwIGltbWVkaWF0ZWx5IHByZWNlZGluZywgY2xlYXJzIGFmdGVyLlxuKi9cbnZhciBFcGhlbWVyYWxWYWx1ZSA9IGNsYXNzIEVwaGVtZXJhbFZhbHVlIGV4dGVuZHMgQmFzZUNoYW5uZWwge1xuXHRsY19ncmFwaF9uYW1lID0gXCJFcGhlbWVyYWxWYWx1ZVwiO1xuXHRndWFyZDtcblx0dmFsdWUgPSBbXTtcblx0Y29uc3RydWN0b3IoZ3VhcmQgPSB0cnVlKSB7XG5cdFx0c3VwZXIoKTtcblx0XHR0aGlzLmd1YXJkID0gZ3VhcmQ7XG5cdH1cblx0ZnJvbUNoZWNrcG9pbnQoY2hlY2twb2ludCkge1xuXHRcdGNvbnN0IGVtcHR5ID0gbmV3IEVwaGVtZXJhbFZhbHVlKHRoaXMuZ3VhcmQpO1xuXHRcdGlmICh0eXBlb2YgY2hlY2twb2ludCAhPT0gXCJ1bmRlZmluZWRcIikgZW1wdHkudmFsdWUgPSBbY2hlY2twb2ludF07XG5cdFx0cmV0dXJuIGVtcHR5O1xuXHR9XG5cdHVwZGF0ZSh2YWx1ZXMpIHtcblx0XHRpZiAodmFsdWVzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0Y29uc3QgdXBkYXRlZCA9IHRoaXMudmFsdWUubGVuZ3RoID4gMDtcblx0XHRcdHRoaXMudmFsdWUgPSBbXTtcblx0XHRcdHJldHVybiB1cGRhdGVkO1xuXHRcdH1cblx0XHRpZiAodmFsdWVzLmxlbmd0aCAhPT0gMSAmJiB0aGlzLmd1YXJkKSB0aHJvdyBuZXcgSW52YWxpZFVwZGF0ZUVycm9yKFwiRXBoZW1lcmFsVmFsdWUgY2FuIG9ubHkgcmVjZWl2ZSBvbmUgdmFsdWUgcGVyIHN0ZXAuXCIpO1xuXHRcdHRoaXMudmFsdWUgPSBbdmFsdWVzW3ZhbHVlcy5sZW5ndGggLSAxXV07XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblx0Z2V0KCkge1xuXHRcdGlmICh0aGlzLnZhbHVlLmxlbmd0aCA9PT0gMCkgdGhyb3cgbmV3IEVtcHR5Q2hhbm5lbEVycm9yKCk7XG5cdFx0cmV0dXJuIHRoaXMudmFsdWVbMF07XG5cdH1cblx0Y2hlY2twb2ludCgpIHtcblx0XHRpZiAodGhpcy52YWx1ZS5sZW5ndGggPT09IDApIHRocm93IG5ldyBFbXB0eUNoYW5uZWxFcnJvcigpO1xuXHRcdHJldHVybiB0aGlzLnZhbHVlWzBdO1xuXHR9XG5cdGlzQXZhaWxhYmxlKCkge1xuXHRcdHJldHVybiB0aGlzLnZhbHVlLmxlbmd0aCAhPT0gMDtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBFcGhlbWVyYWxWYWx1ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXBoZW1lcmFsX3ZhbHVlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/ephemeral_value.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/index.js":
/*!**************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/index.js ***!
  \**************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AnyValue: () => (/* reexport safe */ _any_value_js__WEBPACK_IMPORTED_MODULE_6__.AnyValue),\n/* harmony export */   BaseChannel: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseChannel),\n/* harmony export */   BinaryOperatorAggregate: () => (/* reexport safe */ _binop_js__WEBPACK_IMPORTED_MODULE_1__.BinaryOperatorAggregate),\n/* harmony export */   DynamicBarrierValue: () => (/* reexport safe */ _dynamic_barrier_value_js__WEBPACK_IMPORTED_MODULE_7__.DynamicBarrierValue),\n/* harmony export */   EphemeralValue: () => (/* reexport safe */ _ephemeral_value_js__WEBPACK_IMPORTED_MODULE_4__.EphemeralValue),\n/* harmony export */   LastValue: () => (/* reexport safe */ _last_value_js__WEBPACK_IMPORTED_MODULE_2__.LastValue),\n/* harmony export */   LastValueAfterFinish: () => (/* reexport safe */ _last_value_js__WEBPACK_IMPORTED_MODULE_2__.LastValueAfterFinish),\n/* harmony export */   NamedBarrierValue: () => (/* reexport safe */ _named_barrier_value_js__WEBPACK_IMPORTED_MODULE_5__.NamedBarrierValue),\n/* harmony export */   NamedBarrierValueAfterFinish: () => (/* reexport safe */ _named_barrier_value_js__WEBPACK_IMPORTED_MODULE_5__.NamedBarrierValueAfterFinish),\n/* harmony export */   Topic: () => (/* reexport safe */ _topic_js__WEBPACK_IMPORTED_MODULE_3__.Topic),\n/* harmony export */   createCheckpoint: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_0__.createCheckpoint),\n/* harmony export */   empty: () => (/* reexport safe */ _base_js__WEBPACK_IMPORTED_MODULE_0__.emptyChannels)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/base.js\");\n/* harmony import */ var _binop_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./binop.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/binop.js\");\n/* harmony import */ var _last_value_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./last_value.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/last_value.js\");\n/* harmony import */ var _topic_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./topic.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/topic.js\");\n/* harmony import */ var _ephemeral_value_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ephemeral_value.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/ephemeral_value.js\");\n/* harmony import */ var _named_barrier_value_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./named_barrier_value.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/named_barrier_value.js\");\n/* harmony import */ var _any_value_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./any_value.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/any_value.js\");\n/* harmony import */ var _dynamic_barrier_value_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./dynamic_barrier_value.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/dynamic_barrier_value.js\");\n\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L2NoYW5uZWxzL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXlFO0FBQ3BCO0FBQ2E7QUFDL0I7QUFDbUI7QUFDcUM7QUFDakQ7QUFDdUIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2IvRGVza3RvcC9wcm9qZWN0X3gvcHJvamVjdC1zcWwtYWdlbnQvc2VydmljZXMvZnJvbnRlbmQvbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rbGFuZ2dyYXBoQDEuMC4xX0BsYW5nY2hhaW4rY29yZUAxLjAuMl9vcGVuYWlANC4xMDAuMF93c0A4LjE4LjJfem9kQDQuMS4xMl9fX19lZmE0ZThmODY1NThlNWQyOWViZGVjM2QyZjAwNGVkOS9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9sYW5nZ3JhcGgvZGlzdC9jaGFubmVscy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYXNlQ2hhbm5lbCwgY3JlYXRlQ2hlY2twb2ludCwgZW1wdHlDaGFubmVscyB9IGZyb20gXCIuL2Jhc2UuanNcIjtcbmltcG9ydCB7IEJpbmFyeU9wZXJhdG9yQWdncmVnYXRlIH0gZnJvbSBcIi4vYmlub3AuanNcIjtcbmltcG9ydCB7IExhc3RWYWx1ZSwgTGFzdFZhbHVlQWZ0ZXJGaW5pc2ggfSBmcm9tIFwiLi9sYXN0X3ZhbHVlLmpzXCI7XG5pbXBvcnQgeyBUb3BpYyB9IGZyb20gXCIuL3RvcGljLmpzXCI7XG5pbXBvcnQgeyBFcGhlbWVyYWxWYWx1ZSB9IGZyb20gXCIuL2VwaGVtZXJhbF92YWx1ZS5qc1wiO1xuaW1wb3J0IHsgTmFtZWRCYXJyaWVyVmFsdWUsIE5hbWVkQmFycmllclZhbHVlQWZ0ZXJGaW5pc2ggfSBmcm9tIFwiLi9uYW1lZF9iYXJyaWVyX3ZhbHVlLmpzXCI7XG5pbXBvcnQgeyBBbnlWYWx1ZSB9IGZyb20gXCIuL2FueV92YWx1ZS5qc1wiO1xuaW1wb3J0IHsgRHluYW1pY0JhcnJpZXJWYWx1ZSB9IGZyb20gXCIuL2R5bmFtaWNfYmFycmllcl92YWx1ZS5qc1wiO1xuXG5leHBvcnQgeyBBbnlWYWx1ZSwgQmFzZUNoYW5uZWwsIEJpbmFyeU9wZXJhdG9yQWdncmVnYXRlLCBEeW5hbWljQmFycmllclZhbHVlLCBFcGhlbWVyYWxWYWx1ZSwgTGFzdFZhbHVlLCBMYXN0VmFsdWVBZnRlckZpbmlzaCwgTmFtZWRCYXJyaWVyVmFsdWUsIE5hbWVkQmFycmllclZhbHVlQWZ0ZXJGaW5pc2gsIFRvcGljLCBjcmVhdGVDaGVja3BvaW50LCBlbXB0eUNoYW5uZWxzIGFzIGVtcHR5IH07Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/last_value.js":
/*!*******************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/last_value.js ***!
  \*******************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LastValue: () => (/* binding */ LastValue),\n/* harmony export */   LastValueAfterFinish: () => (/* binding */ LastValueAfterFinish)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errors.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/errors.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/base.js\");\n\n\n\n//#region src/channels/last_value.ts\n/**\n* Stores the last value received, can receive at most one value per step.\n*\n* Since `update` is only called once per step and value can only be of length 1,\n* LastValue always stores the last value of a single node. If multiple nodes attempt to\n* write to this channel in a single step, an error will be thrown.\n* @internal\n*/\nvar LastValue = class LastValue extends _base_js__WEBPACK_IMPORTED_MODULE_1__.BaseChannel {\n\tlc_graph_name = \"LastValue\";\n\tvalue = [];\n\tfromCheckpoint(checkpoint) {\n\t\tconst empty = new LastValue();\n\t\tif (typeof checkpoint !== \"undefined\") empty.value = [checkpoint];\n\t\treturn empty;\n\t}\n\tupdate(values) {\n\t\tif (values.length === 0) return false;\n\t\tif (values.length !== 1) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.InvalidUpdateError(\"LastValue can only receive one value per step.\", { lc_error_code: \"INVALID_CONCURRENT_GRAPH_UPDATE\" });\n\t\tthis.value = [values[values.length - 1]];\n\t\treturn true;\n\t}\n\tget() {\n\t\tif (this.value.length === 0) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.EmptyChannelError();\n\t\treturn this.value[0];\n\t}\n\tcheckpoint() {\n\t\tif (this.value.length === 0) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.EmptyChannelError();\n\t\treturn this.value[0];\n\t}\n\tisAvailable() {\n\t\treturn this.value.length !== 0;\n\t}\n};\n/**\n* Stores the last value received, but only made available after finish().\n* Once made available, clears the value.\n*/\nvar LastValueAfterFinish = class LastValueAfterFinish extends _base_js__WEBPACK_IMPORTED_MODULE_1__.BaseChannel {\n\tlc_graph_name = \"LastValueAfterFinish\";\n\tvalue = [];\n\tfinished = false;\n\tfromCheckpoint(checkpoint) {\n\t\tconst empty = new LastValueAfterFinish();\n\t\tif (typeof checkpoint !== \"undefined\") {\n\t\t\tconst [value, finished] = checkpoint;\n\t\t\tempty.value = [value];\n\t\t\tempty.finished = finished;\n\t\t}\n\t\treturn empty;\n\t}\n\tupdate(values) {\n\t\tif (values.length === 0) return false;\n\t\tthis.finished = false;\n\t\tthis.value = [values[values.length - 1]];\n\t\treturn true;\n\t}\n\tget() {\n\t\tif (this.value.length === 0 || !this.finished) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.EmptyChannelError();\n\t\treturn this.value[0];\n\t}\n\tcheckpoint() {\n\t\tif (this.value.length === 0) return void 0;\n\t\treturn [this.value[0], this.finished];\n\t}\n\tconsume() {\n\t\tif (this.finished) {\n\t\t\tthis.finished = false;\n\t\t\tthis.value = [];\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\tfinish() {\n\t\tif (!this.finished && this.value.length > 0) {\n\t\t\tthis.finished = true;\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\tisAvailable() {\n\t\treturn this.value.length !== 0 && this.finished;\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=last_value.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L2NoYW5uZWxzL2xhc3RfdmFsdWUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFxRTtBQUM3Qjs7QUFFeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLGlEQUFXO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQywwREFBa0IscURBQXFELGtEQUFrRDtBQUM5SjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5Qyx5REFBaUI7QUFDMUQ7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLHlEQUFpQjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCxpREFBVztBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCx5REFBaUI7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDMkM7QUFDM0MiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2IvRGVza3RvcC9wcm9qZWN0X3gvcHJvamVjdC1zcWwtYWdlbnQvc2VydmljZXMvZnJvbnRlbmQvbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rbGFuZ2dyYXBoQDEuMC4xX0BsYW5nY2hhaW4rY29yZUAxLjAuMl9vcGVuYWlANC4xMDAuMF93c0A4LjE4LjJfem9kQDQuMS4xMl9fX19lZmE0ZThmODY1NThlNWQyOWViZGVjM2QyZjAwNGVkOS9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9sYW5nZ3JhcGgvZGlzdC9jaGFubmVscy9sYXN0X3ZhbHVlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVtcHR5Q2hhbm5lbEVycm9yLCBJbnZhbGlkVXBkYXRlRXJyb3IgfSBmcm9tIFwiLi4vZXJyb3JzLmpzXCI7XG5pbXBvcnQgeyBCYXNlQ2hhbm5lbCB9IGZyb20gXCIuL2Jhc2UuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9jaGFubmVscy9sYXN0X3ZhbHVlLnRzXG4vKipcbiogU3RvcmVzIHRoZSBsYXN0IHZhbHVlIHJlY2VpdmVkLCBjYW4gcmVjZWl2ZSBhdCBtb3N0IG9uZSB2YWx1ZSBwZXIgc3RlcC5cbipcbiogU2luY2UgYHVwZGF0ZWAgaXMgb25seSBjYWxsZWQgb25jZSBwZXIgc3RlcCBhbmQgdmFsdWUgY2FuIG9ubHkgYmUgb2YgbGVuZ3RoIDEsXG4qIExhc3RWYWx1ZSBhbHdheXMgc3RvcmVzIHRoZSBsYXN0IHZhbHVlIG9mIGEgc2luZ2xlIG5vZGUuIElmIG11bHRpcGxlIG5vZGVzIGF0dGVtcHQgdG9cbiogd3JpdGUgdG8gdGhpcyBjaGFubmVsIGluIGEgc2luZ2xlIHN0ZXAsIGFuIGVycm9yIHdpbGwgYmUgdGhyb3duLlxuKiBAaW50ZXJuYWxcbiovXG52YXIgTGFzdFZhbHVlID0gY2xhc3MgTGFzdFZhbHVlIGV4dGVuZHMgQmFzZUNoYW5uZWwge1xuXHRsY19ncmFwaF9uYW1lID0gXCJMYXN0VmFsdWVcIjtcblx0dmFsdWUgPSBbXTtcblx0ZnJvbUNoZWNrcG9pbnQoY2hlY2twb2ludCkge1xuXHRcdGNvbnN0IGVtcHR5ID0gbmV3IExhc3RWYWx1ZSgpO1xuXHRcdGlmICh0eXBlb2YgY2hlY2twb2ludCAhPT0gXCJ1bmRlZmluZWRcIikgZW1wdHkudmFsdWUgPSBbY2hlY2twb2ludF07XG5cdFx0cmV0dXJuIGVtcHR5O1xuXHR9XG5cdHVwZGF0ZSh2YWx1ZXMpIHtcblx0XHRpZiAodmFsdWVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGZhbHNlO1xuXHRcdGlmICh2YWx1ZXMubGVuZ3RoICE9PSAxKSB0aHJvdyBuZXcgSW52YWxpZFVwZGF0ZUVycm9yKFwiTGFzdFZhbHVlIGNhbiBvbmx5IHJlY2VpdmUgb25lIHZhbHVlIHBlciBzdGVwLlwiLCB7IGxjX2Vycm9yX2NvZGU6IFwiSU5WQUxJRF9DT05DVVJSRU5UX0dSQVBIX1VQREFURVwiIH0pO1xuXHRcdHRoaXMudmFsdWUgPSBbdmFsdWVzW3ZhbHVlcy5sZW5ndGggLSAxXV07XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblx0Z2V0KCkge1xuXHRcdGlmICh0aGlzLnZhbHVlLmxlbmd0aCA9PT0gMCkgdGhyb3cgbmV3IEVtcHR5Q2hhbm5lbEVycm9yKCk7XG5cdFx0cmV0dXJuIHRoaXMudmFsdWVbMF07XG5cdH1cblx0Y2hlY2twb2ludCgpIHtcblx0XHRpZiAodGhpcy52YWx1ZS5sZW5ndGggPT09IDApIHRocm93IG5ldyBFbXB0eUNoYW5uZWxFcnJvcigpO1xuXHRcdHJldHVybiB0aGlzLnZhbHVlWzBdO1xuXHR9XG5cdGlzQXZhaWxhYmxlKCkge1xuXHRcdHJldHVybiB0aGlzLnZhbHVlLmxlbmd0aCAhPT0gMDtcblx0fVxufTtcbi8qKlxuKiBTdG9yZXMgdGhlIGxhc3QgdmFsdWUgcmVjZWl2ZWQsIGJ1dCBvbmx5IG1hZGUgYXZhaWxhYmxlIGFmdGVyIGZpbmlzaCgpLlxuKiBPbmNlIG1hZGUgYXZhaWxhYmxlLCBjbGVhcnMgdGhlIHZhbHVlLlxuKi9cbnZhciBMYXN0VmFsdWVBZnRlckZpbmlzaCA9IGNsYXNzIExhc3RWYWx1ZUFmdGVyRmluaXNoIGV4dGVuZHMgQmFzZUNoYW5uZWwge1xuXHRsY19ncmFwaF9uYW1lID0gXCJMYXN0VmFsdWVBZnRlckZpbmlzaFwiO1xuXHR2YWx1ZSA9IFtdO1xuXHRmaW5pc2hlZCA9IGZhbHNlO1xuXHRmcm9tQ2hlY2twb2ludChjaGVja3BvaW50KSB7XG5cdFx0Y29uc3QgZW1wdHkgPSBuZXcgTGFzdFZhbHVlQWZ0ZXJGaW5pc2goKTtcblx0XHRpZiAodHlwZW9mIGNoZWNrcG9pbnQgIT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdGNvbnN0IFt2YWx1ZSwgZmluaXNoZWRdID0gY2hlY2twb2ludDtcblx0XHRcdGVtcHR5LnZhbHVlID0gW3ZhbHVlXTtcblx0XHRcdGVtcHR5LmZpbmlzaGVkID0gZmluaXNoZWQ7XG5cdFx0fVxuXHRcdHJldHVybiBlbXB0eTtcblx0fVxuXHR1cGRhdGUodmFsdWVzKSB7XG5cdFx0aWYgKHZhbHVlcy5sZW5ndGggPT09IDApIHJldHVybiBmYWxzZTtcblx0XHR0aGlzLmZpbmlzaGVkID0gZmFsc2U7XG5cdFx0dGhpcy52YWx1ZSA9IFt2YWx1ZXNbdmFsdWVzLmxlbmd0aCAtIDFdXTtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXHRnZXQoKSB7XG5cdFx0aWYgKHRoaXMudmFsdWUubGVuZ3RoID09PSAwIHx8ICF0aGlzLmZpbmlzaGVkKSB0aHJvdyBuZXcgRW1wdHlDaGFubmVsRXJyb3IoKTtcblx0XHRyZXR1cm4gdGhpcy52YWx1ZVswXTtcblx0fVxuXHRjaGVja3BvaW50KCkge1xuXHRcdGlmICh0aGlzLnZhbHVlLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHZvaWQgMDtcblx0XHRyZXR1cm4gW3RoaXMudmFsdWVbMF0sIHRoaXMuZmluaXNoZWRdO1xuXHR9XG5cdGNvbnN1bWUoKSB7XG5cdFx0aWYgKHRoaXMuZmluaXNoZWQpIHtcblx0XHRcdHRoaXMuZmluaXNoZWQgPSBmYWxzZTtcblx0XHRcdHRoaXMudmFsdWUgPSBbXTtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0ZmluaXNoKCkge1xuXHRcdGlmICghdGhpcy5maW5pc2hlZCAmJiB0aGlzLnZhbHVlLmxlbmd0aCA+IDApIHtcblx0XHRcdHRoaXMuZmluaXNoZWQgPSB0cnVlO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHRpc0F2YWlsYWJsZSgpIHtcblx0XHRyZXR1cm4gdGhpcy52YWx1ZS5sZW5ndGggIT09IDAgJiYgdGhpcy5maW5pc2hlZDtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBMYXN0VmFsdWUsIExhc3RWYWx1ZUFmdGVyRmluaXNoIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sYXN0X3ZhbHVlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/last_value.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/named_barrier_value.js":
/*!****************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/named_barrier_value.js ***!
  \****************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NamedBarrierValue: () => (/* binding */ NamedBarrierValue),\n/* harmony export */   NamedBarrierValueAfterFinish: () => (/* binding */ NamedBarrierValueAfterFinish),\n/* harmony export */   areSetsEqual: () => (/* binding */ areSetsEqual)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errors.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/errors.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/base.js\");\n\n\n\n//#region src/channels/named_barrier_value.ts\nconst areSetsEqual = (a, b) => a.size === b.size && [...a].every((value) => b.has(value));\n/**\n* A channel that waits until all named values are received before making the value available.\n*\n* This ensures that if node N and node M both write to channel C, the value of C will not be updated\n* until N and M have completed updating.\n*/\nvar NamedBarrierValue = class NamedBarrierValue extends _base_js__WEBPACK_IMPORTED_MODULE_1__.BaseChannel {\n\tlc_graph_name = \"NamedBarrierValue\";\n\tnames;\n\tseen;\n\tconstructor(names) {\n\t\tsuper();\n\t\tthis.names = names;\n\t\tthis.seen = /* @__PURE__ */ new Set();\n\t}\n\tfromCheckpoint(checkpoint) {\n\t\tconst empty = new NamedBarrierValue(this.names);\n\t\tif (typeof checkpoint !== \"undefined\") empty.seen = new Set(checkpoint);\n\t\treturn empty;\n\t}\n\tupdate(values) {\n\t\tlet updated = false;\n\t\tfor (const nodeName of values) if (this.names.has(nodeName)) {\n\t\t\tif (!this.seen.has(nodeName)) {\n\t\t\t\tthis.seen.add(nodeName);\n\t\t\t\tupdated = true;\n\t\t\t}\n\t\t} else throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.InvalidUpdateError(`Value ${JSON.stringify(nodeName)} not in names ${JSON.stringify(this.names)}`);\n\t\treturn updated;\n\t}\n\tget() {\n\t\tif (!areSetsEqual(this.names, this.seen)) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.EmptyChannelError();\n\t\treturn void 0;\n\t}\n\tcheckpoint() {\n\t\treturn [...this.seen];\n\t}\n\tconsume() {\n\t\tif (this.seen && this.names && areSetsEqual(this.seen, this.names)) {\n\t\t\tthis.seen = /* @__PURE__ */ new Set();\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\tisAvailable() {\n\t\treturn !!this.names && areSetsEqual(this.names, this.seen);\n\t}\n};\n/**\n* A channel that waits until all named values are received before making the value ready to be made available.\n* It is only made available after finish() is called.\n* @internal\n*/\nvar NamedBarrierValueAfterFinish = class NamedBarrierValueAfterFinish extends _base_js__WEBPACK_IMPORTED_MODULE_1__.BaseChannel {\n\tlc_graph_name = \"NamedBarrierValueAfterFinish\";\n\tnames;\n\tseen;\n\tfinished;\n\tconstructor(names) {\n\t\tsuper();\n\t\tthis.names = names;\n\t\tthis.seen = /* @__PURE__ */ new Set();\n\t\tthis.finished = false;\n\t}\n\tfromCheckpoint(checkpoint) {\n\t\tconst empty = new NamedBarrierValueAfterFinish(this.names);\n\t\tif (typeof checkpoint !== \"undefined\") {\n\t\t\tconst [seen, finished] = checkpoint;\n\t\t\tempty.seen = new Set(seen);\n\t\t\tempty.finished = finished;\n\t\t}\n\t\treturn empty;\n\t}\n\tupdate(values) {\n\t\tlet updated = false;\n\t\tfor (const nodeName of values) if (this.names.has(nodeName) && !this.seen.has(nodeName)) {\n\t\t\tthis.seen.add(nodeName);\n\t\t\tupdated = true;\n\t\t} else if (!this.names.has(nodeName)) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.InvalidUpdateError(`Value ${JSON.stringify(nodeName)} not in names ${JSON.stringify(this.names)}`);\n\t\treturn updated;\n\t}\n\tget() {\n\t\tif (!this.finished || !areSetsEqual(this.names, this.seen)) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.EmptyChannelError();\n\t\treturn void 0;\n\t}\n\tcheckpoint() {\n\t\treturn [[...this.seen], this.finished];\n\t}\n\tconsume() {\n\t\tif (this.finished && this.seen && this.names && areSetsEqual(this.seen, this.names)) {\n\t\t\tthis.seen = /* @__PURE__ */ new Set();\n\t\t\tthis.finished = false;\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\tfinish() {\n\t\tif (!this.finished && !!this.names && areSetsEqual(this.names, this.seen)) {\n\t\t\tthis.finished = true;\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\tisAvailable() {\n\t\treturn this.finished && !!this.names && areSetsEqual(this.names, this.seen);\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=named_barrier_value.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L2NoYW5uZWxzL25hbWVkX2JhcnJpZXJfdmFsdWUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBcUU7QUFDN0I7O0FBRXhDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsaURBQVc7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksZUFBZSwwREFBa0IsVUFBVSwwQkFBMEIsZUFBZSwyQkFBMkI7QUFDbkg7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELHlEQUFpQjtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4RUFBOEUsaURBQVc7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSw4Q0FBOEMsMERBQWtCLFVBQVUsMEJBQTBCLGVBQWUsMkJBQTJCO0FBQ2xKO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RSx5REFBaUI7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3lFO0FBQ3pFIiwic291cmNlcyI6WyIvVXNlcnMvam9iL0Rlc2t0b3AvcHJvamVjdF94L3Byb2plY3Qtc3FsLWFnZW50L3NlcnZpY2VzL2Zyb250ZW5kL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2xhbmdncmFwaEAxLjAuMV9AbGFuZ2NoYWluK2NvcmVAMS4wLjJfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEA0LjEuMTJfX19fZWZhNGU4Zjg2NTU4ZTVkMjllYmRlYzNkMmYwMDRlZDkvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vbGFuZ2dyYXBoL2Rpc3QvY2hhbm5lbHMvbmFtZWRfYmFycmllcl92YWx1ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFbXB0eUNoYW5uZWxFcnJvciwgSW52YWxpZFVwZGF0ZUVycm9yIH0gZnJvbSBcIi4uL2Vycm9ycy5qc1wiO1xuaW1wb3J0IHsgQmFzZUNoYW5uZWwgfSBmcm9tIFwiLi9iYXNlLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvY2hhbm5lbHMvbmFtZWRfYmFycmllcl92YWx1ZS50c1xuY29uc3QgYXJlU2V0c0VxdWFsID0gKGEsIGIpID0+IGEuc2l6ZSA9PT0gYi5zaXplICYmIFsuLi5hXS5ldmVyeSgodmFsdWUpID0+IGIuaGFzKHZhbHVlKSk7XG4vKipcbiogQSBjaGFubmVsIHRoYXQgd2FpdHMgdW50aWwgYWxsIG5hbWVkIHZhbHVlcyBhcmUgcmVjZWl2ZWQgYmVmb3JlIG1ha2luZyB0aGUgdmFsdWUgYXZhaWxhYmxlLlxuKlxuKiBUaGlzIGVuc3VyZXMgdGhhdCBpZiBub2RlIE4gYW5kIG5vZGUgTSBib3RoIHdyaXRlIHRvIGNoYW5uZWwgQywgdGhlIHZhbHVlIG9mIEMgd2lsbCBub3QgYmUgdXBkYXRlZFxuKiB1bnRpbCBOIGFuZCBNIGhhdmUgY29tcGxldGVkIHVwZGF0aW5nLlxuKi9cbnZhciBOYW1lZEJhcnJpZXJWYWx1ZSA9IGNsYXNzIE5hbWVkQmFycmllclZhbHVlIGV4dGVuZHMgQmFzZUNoYW5uZWwge1xuXHRsY19ncmFwaF9uYW1lID0gXCJOYW1lZEJhcnJpZXJWYWx1ZVwiO1xuXHRuYW1lcztcblx0c2Vlbjtcblx0Y29uc3RydWN0b3IobmFtZXMpIHtcblx0XHRzdXBlcigpO1xuXHRcdHRoaXMubmFtZXMgPSBuYW1lcztcblx0XHR0aGlzLnNlZW4gPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuXHR9XG5cdGZyb21DaGVja3BvaW50KGNoZWNrcG9pbnQpIHtcblx0XHRjb25zdCBlbXB0eSA9IG5ldyBOYW1lZEJhcnJpZXJWYWx1ZSh0aGlzLm5hbWVzKTtcblx0XHRpZiAodHlwZW9mIGNoZWNrcG9pbnQgIT09IFwidW5kZWZpbmVkXCIpIGVtcHR5LnNlZW4gPSBuZXcgU2V0KGNoZWNrcG9pbnQpO1xuXHRcdHJldHVybiBlbXB0eTtcblx0fVxuXHR1cGRhdGUodmFsdWVzKSB7XG5cdFx0bGV0IHVwZGF0ZWQgPSBmYWxzZTtcblx0XHRmb3IgKGNvbnN0IG5vZGVOYW1lIG9mIHZhbHVlcykgaWYgKHRoaXMubmFtZXMuaGFzKG5vZGVOYW1lKSkge1xuXHRcdFx0aWYgKCF0aGlzLnNlZW4uaGFzKG5vZGVOYW1lKSkge1xuXHRcdFx0XHR0aGlzLnNlZW4uYWRkKG5vZGVOYW1lKTtcblx0XHRcdFx0dXBkYXRlZCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHRocm93IG5ldyBJbnZhbGlkVXBkYXRlRXJyb3IoYFZhbHVlICR7SlNPTi5zdHJpbmdpZnkobm9kZU5hbWUpfSBub3QgaW4gbmFtZXMgJHtKU09OLnN0cmluZ2lmeSh0aGlzLm5hbWVzKX1gKTtcblx0XHRyZXR1cm4gdXBkYXRlZDtcblx0fVxuXHRnZXQoKSB7XG5cdFx0aWYgKCFhcmVTZXRzRXF1YWwodGhpcy5uYW1lcywgdGhpcy5zZWVuKSkgdGhyb3cgbmV3IEVtcHR5Q2hhbm5lbEVycm9yKCk7XG5cdFx0cmV0dXJuIHZvaWQgMDtcblx0fVxuXHRjaGVja3BvaW50KCkge1xuXHRcdHJldHVybiBbLi4udGhpcy5zZWVuXTtcblx0fVxuXHRjb25zdW1lKCkge1xuXHRcdGlmICh0aGlzLnNlZW4gJiYgdGhpcy5uYW1lcyAmJiBhcmVTZXRzRXF1YWwodGhpcy5zZWVuLCB0aGlzLm5hbWVzKSkge1xuXHRcdFx0dGhpcy5zZWVuID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0aXNBdmFpbGFibGUoKSB7XG5cdFx0cmV0dXJuICEhdGhpcy5uYW1lcyAmJiBhcmVTZXRzRXF1YWwodGhpcy5uYW1lcywgdGhpcy5zZWVuKTtcblx0fVxufTtcbi8qKlxuKiBBIGNoYW5uZWwgdGhhdCB3YWl0cyB1bnRpbCBhbGwgbmFtZWQgdmFsdWVzIGFyZSByZWNlaXZlZCBiZWZvcmUgbWFraW5nIHRoZSB2YWx1ZSByZWFkeSB0byBiZSBtYWRlIGF2YWlsYWJsZS5cbiogSXQgaXMgb25seSBtYWRlIGF2YWlsYWJsZSBhZnRlciBmaW5pc2goKSBpcyBjYWxsZWQuXG4qIEBpbnRlcm5hbFxuKi9cbnZhciBOYW1lZEJhcnJpZXJWYWx1ZUFmdGVyRmluaXNoID0gY2xhc3MgTmFtZWRCYXJyaWVyVmFsdWVBZnRlckZpbmlzaCBleHRlbmRzIEJhc2VDaGFubmVsIHtcblx0bGNfZ3JhcGhfbmFtZSA9IFwiTmFtZWRCYXJyaWVyVmFsdWVBZnRlckZpbmlzaFwiO1xuXHRuYW1lcztcblx0c2Vlbjtcblx0ZmluaXNoZWQ7XG5cdGNvbnN0cnVjdG9yKG5hbWVzKSB7XG5cdFx0c3VwZXIoKTtcblx0XHR0aGlzLm5hbWVzID0gbmFtZXM7XG5cdFx0dGhpcy5zZWVuID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcblx0XHR0aGlzLmZpbmlzaGVkID0gZmFsc2U7XG5cdH1cblx0ZnJvbUNoZWNrcG9pbnQoY2hlY2twb2ludCkge1xuXHRcdGNvbnN0IGVtcHR5ID0gbmV3IE5hbWVkQmFycmllclZhbHVlQWZ0ZXJGaW5pc2godGhpcy5uYW1lcyk7XG5cdFx0aWYgKHR5cGVvZiBjaGVja3BvaW50ICE9PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHRjb25zdCBbc2VlbiwgZmluaXNoZWRdID0gY2hlY2twb2ludDtcblx0XHRcdGVtcHR5LnNlZW4gPSBuZXcgU2V0KHNlZW4pO1xuXHRcdFx0ZW1wdHkuZmluaXNoZWQgPSBmaW5pc2hlZDtcblx0XHR9XG5cdFx0cmV0dXJuIGVtcHR5O1xuXHR9XG5cdHVwZGF0ZSh2YWx1ZXMpIHtcblx0XHRsZXQgdXBkYXRlZCA9IGZhbHNlO1xuXHRcdGZvciAoY29uc3Qgbm9kZU5hbWUgb2YgdmFsdWVzKSBpZiAodGhpcy5uYW1lcy5oYXMobm9kZU5hbWUpICYmICF0aGlzLnNlZW4uaGFzKG5vZGVOYW1lKSkge1xuXHRcdFx0dGhpcy5zZWVuLmFkZChub2RlTmFtZSk7XG5cdFx0XHR1cGRhdGVkID0gdHJ1ZTtcblx0XHR9IGVsc2UgaWYgKCF0aGlzLm5hbWVzLmhhcyhub2RlTmFtZSkpIHRocm93IG5ldyBJbnZhbGlkVXBkYXRlRXJyb3IoYFZhbHVlICR7SlNPTi5zdHJpbmdpZnkobm9kZU5hbWUpfSBub3QgaW4gbmFtZXMgJHtKU09OLnN0cmluZ2lmeSh0aGlzLm5hbWVzKX1gKTtcblx0XHRyZXR1cm4gdXBkYXRlZDtcblx0fVxuXHRnZXQoKSB7XG5cdFx0aWYgKCF0aGlzLmZpbmlzaGVkIHx8ICFhcmVTZXRzRXF1YWwodGhpcy5uYW1lcywgdGhpcy5zZWVuKSkgdGhyb3cgbmV3IEVtcHR5Q2hhbm5lbEVycm9yKCk7XG5cdFx0cmV0dXJuIHZvaWQgMDtcblx0fVxuXHRjaGVja3BvaW50KCkge1xuXHRcdHJldHVybiBbWy4uLnRoaXMuc2Vlbl0sIHRoaXMuZmluaXNoZWRdO1xuXHR9XG5cdGNvbnN1bWUoKSB7XG5cdFx0aWYgKHRoaXMuZmluaXNoZWQgJiYgdGhpcy5zZWVuICYmIHRoaXMubmFtZXMgJiYgYXJlU2V0c0VxdWFsKHRoaXMuc2VlbiwgdGhpcy5uYW1lcykpIHtcblx0XHRcdHRoaXMuc2VlbiA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG5cdFx0XHR0aGlzLmZpbmlzaGVkID0gZmFsc2U7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdGZpbmlzaCgpIHtcblx0XHRpZiAoIXRoaXMuZmluaXNoZWQgJiYgISF0aGlzLm5hbWVzICYmIGFyZVNldHNFcXVhbCh0aGlzLm5hbWVzLCB0aGlzLnNlZW4pKSB7XG5cdFx0XHR0aGlzLmZpbmlzaGVkID0gdHJ1ZTtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0aXNBdmFpbGFibGUoKSB7XG5cdFx0cmV0dXJuIHRoaXMuZmluaXNoZWQgJiYgISF0aGlzLm5hbWVzICYmIGFyZVNldHNFcXVhbCh0aGlzLm5hbWVzLCB0aGlzLnNlZW4pO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IE5hbWVkQmFycmllclZhbHVlLCBOYW1lZEJhcnJpZXJWYWx1ZUFmdGVyRmluaXNoLCBhcmVTZXRzRXF1YWwgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5hbWVkX2JhcnJpZXJfdmFsdWUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/named_barrier_value.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/topic.js":
/*!**************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/topic.js ***!
  \**************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Topic: () => (/* binding */ Topic)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errors.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/errors.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/base.js\");\n\n\n\n//#region src/channels/topic.ts\n/**\n* A configurable PubSub Topic.\n*/\nvar Topic = class Topic extends _base_js__WEBPACK_IMPORTED_MODULE_1__.BaseChannel {\n\tlc_graph_name = \"Topic\";\n\tunique = false;\n\taccumulate = false;\n\tseen;\n\tvalues;\n\tconstructor(fields) {\n\t\tsuper();\n\t\tthis.unique = fields?.unique ?? this.unique;\n\t\tthis.accumulate = fields?.accumulate ?? this.accumulate;\n\t\tthis.seen = /* @__PURE__ */ new Set();\n\t\tthis.values = [];\n\t}\n\tfromCheckpoint(checkpoint) {\n\t\tconst empty = new Topic({\n\t\t\tunique: this.unique,\n\t\t\taccumulate: this.accumulate\n\t\t});\n\t\tif (typeof checkpoint !== \"undefined\") {\n\t\t\tempty.seen = new Set(checkpoint[0]);\n\t\t\tempty.values = checkpoint[1];\n\t\t}\n\t\treturn empty;\n\t}\n\tupdate(values) {\n\t\tlet updated = false;\n\t\tif (!this.accumulate) {\n\t\t\tupdated = this.values.length > 0;\n\t\t\tthis.values = [];\n\t\t}\n\t\tconst flatValues = values.flat();\n\t\tif (flatValues.length > 0) if (this.unique) {\n\t\t\tfor (const value of flatValues) if (!this.seen.has(value)) {\n\t\t\t\tupdated = true;\n\t\t\t\tthis.seen.add(value);\n\t\t\t\tthis.values.push(value);\n\t\t\t}\n\t\t} else {\n\t\t\tupdated = true;\n\t\t\tthis.values.push(...flatValues);\n\t\t}\n\t\treturn updated;\n\t}\n\tget() {\n\t\tif (this.values.length === 0) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.EmptyChannelError();\n\t\treturn this.values;\n\t}\n\tcheckpoint() {\n\t\treturn [[...this.seen], this.values];\n\t}\n\tisAvailable() {\n\t\treturn this.values.length !== 0;\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=topic.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L2NoYW5uZWxzL3RvcGljLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFpRDtBQUNUOztBQUV4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxpREFBVztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMseURBQWlCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNpQjtBQUNqQiIsInNvdXJjZXMiOlsiL1VzZXJzL2pvYi9EZXNrdG9wL3Byb2plY3RfeC9wcm9qZWN0LXNxbC1hZ2VudC9zZXJ2aWNlcy9mcm9udGVuZC9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L2NoYW5uZWxzL3RvcGljLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVtcHR5Q2hhbm5lbEVycm9yIH0gZnJvbSBcIi4uL2Vycm9ycy5qc1wiO1xuaW1wb3J0IHsgQmFzZUNoYW5uZWwgfSBmcm9tIFwiLi9iYXNlLmpzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvY2hhbm5lbHMvdG9waWMudHNcbi8qKlxuKiBBIGNvbmZpZ3VyYWJsZSBQdWJTdWIgVG9waWMuXG4qL1xudmFyIFRvcGljID0gY2xhc3MgVG9waWMgZXh0ZW5kcyBCYXNlQ2hhbm5lbCB7XG5cdGxjX2dyYXBoX25hbWUgPSBcIlRvcGljXCI7XG5cdHVuaXF1ZSA9IGZhbHNlO1xuXHRhY2N1bXVsYXRlID0gZmFsc2U7XG5cdHNlZW47XG5cdHZhbHVlcztcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0c3VwZXIoKTtcblx0XHR0aGlzLnVuaXF1ZSA9IGZpZWxkcz8udW5pcXVlID8/IHRoaXMudW5pcXVlO1xuXHRcdHRoaXMuYWNjdW11bGF0ZSA9IGZpZWxkcz8uYWNjdW11bGF0ZSA/PyB0aGlzLmFjY3VtdWxhdGU7XG5cdFx0dGhpcy5zZWVuID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcblx0XHR0aGlzLnZhbHVlcyA9IFtdO1xuXHR9XG5cdGZyb21DaGVja3BvaW50KGNoZWNrcG9pbnQpIHtcblx0XHRjb25zdCBlbXB0eSA9IG5ldyBUb3BpYyh7XG5cdFx0XHR1bmlxdWU6IHRoaXMudW5pcXVlLFxuXHRcdFx0YWNjdW11bGF0ZTogdGhpcy5hY2N1bXVsYXRlXG5cdFx0fSk7XG5cdFx0aWYgKHR5cGVvZiBjaGVja3BvaW50ICE9PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHRlbXB0eS5zZWVuID0gbmV3IFNldChjaGVja3BvaW50WzBdKTtcblx0XHRcdGVtcHR5LnZhbHVlcyA9IGNoZWNrcG9pbnRbMV07XG5cdFx0fVxuXHRcdHJldHVybiBlbXB0eTtcblx0fVxuXHR1cGRhdGUodmFsdWVzKSB7XG5cdFx0bGV0IHVwZGF0ZWQgPSBmYWxzZTtcblx0XHRpZiAoIXRoaXMuYWNjdW11bGF0ZSkge1xuXHRcdFx0dXBkYXRlZCA9IHRoaXMudmFsdWVzLmxlbmd0aCA+IDA7XG5cdFx0XHR0aGlzLnZhbHVlcyA9IFtdO1xuXHRcdH1cblx0XHRjb25zdCBmbGF0VmFsdWVzID0gdmFsdWVzLmZsYXQoKTtcblx0XHRpZiAoZmxhdFZhbHVlcy5sZW5ndGggPiAwKSBpZiAodGhpcy51bmlxdWUpIHtcblx0XHRcdGZvciAoY29uc3QgdmFsdWUgb2YgZmxhdFZhbHVlcykgaWYgKCF0aGlzLnNlZW4uaGFzKHZhbHVlKSkge1xuXHRcdFx0XHR1cGRhdGVkID0gdHJ1ZTtcblx0XHRcdFx0dGhpcy5zZWVuLmFkZCh2YWx1ZSk7XG5cdFx0XHRcdHRoaXMudmFsdWVzLnB1c2godmFsdWUpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR1cGRhdGVkID0gdHJ1ZTtcblx0XHRcdHRoaXMudmFsdWVzLnB1c2goLi4uZmxhdFZhbHVlcyk7XG5cdFx0fVxuXHRcdHJldHVybiB1cGRhdGVkO1xuXHR9XG5cdGdldCgpIHtcblx0XHRpZiAodGhpcy52YWx1ZXMubGVuZ3RoID09PSAwKSB0aHJvdyBuZXcgRW1wdHlDaGFubmVsRXJyb3IoKTtcblx0XHRyZXR1cm4gdGhpcy52YWx1ZXM7XG5cdH1cblx0Y2hlY2twb2ludCgpIHtcblx0XHRyZXR1cm4gW1suLi50aGlzLnNlZW5dLCB0aGlzLnZhbHVlc107XG5cdH1cblx0aXNBdmFpbGFibGUoKSB7XG5cdFx0cmV0dXJuIHRoaXMudmFsdWVzLmxlbmd0aCAhPT0gMDtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBUb3BpYyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dG9waWMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/topic.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/constants.js":
/*!*********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/constants.js ***!
  \*********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CACHE_NS_WRITES: () => (/* binding */ CACHE_NS_WRITES),\n/* harmony export */   CHECKPOINT_NAMESPACE_END: () => (/* binding */ CHECKPOINT_NAMESPACE_END),\n/* harmony export */   CHECKPOINT_NAMESPACE_SEPARATOR: () => (/* binding */ CHECKPOINT_NAMESPACE_SEPARATOR),\n/* harmony export */   CONFIG_KEY_ABORT_SIGNALS: () => (/* binding */ CONFIG_KEY_ABORT_SIGNALS),\n/* harmony export */   CONFIG_KEY_CALL: () => (/* binding */ CONFIG_KEY_CALL),\n/* harmony export */   CONFIG_KEY_CHECKPOINTER: () => (/* binding */ CONFIG_KEY_CHECKPOINTER),\n/* harmony export */   CONFIG_KEY_CHECKPOINT_ID: () => (/* binding */ CONFIG_KEY_CHECKPOINT_ID),\n/* harmony export */   CONFIG_KEY_CHECKPOINT_MAP: () => (/* binding */ CONFIG_KEY_CHECKPOINT_MAP),\n/* harmony export */   CONFIG_KEY_CHECKPOINT_NS: () => (/* binding */ CONFIG_KEY_CHECKPOINT_NS),\n/* harmony export */   CONFIG_KEY_DURABILITY: () => (/* binding */ CONFIG_KEY_DURABILITY),\n/* harmony export */   CONFIG_KEY_NODE_FINISHED: () => (/* binding */ CONFIG_KEY_NODE_FINISHED),\n/* harmony export */   CONFIG_KEY_PREVIOUS_STATE: () => (/* binding */ CONFIG_KEY_PREVIOUS_STATE),\n/* harmony export */   CONFIG_KEY_READ: () => (/* binding */ CONFIG_KEY_READ),\n/* harmony export */   CONFIG_KEY_RESUME_MAP: () => (/* binding */ CONFIG_KEY_RESUME_MAP),\n/* harmony export */   CONFIG_KEY_RESUMING: () => (/* binding */ CONFIG_KEY_RESUMING),\n/* harmony export */   CONFIG_KEY_SCRATCHPAD: () => (/* binding */ CONFIG_KEY_SCRATCHPAD),\n/* harmony export */   CONFIG_KEY_SEND: () => (/* binding */ CONFIG_KEY_SEND),\n/* harmony export */   CONFIG_KEY_STREAM: () => (/* binding */ CONFIG_KEY_STREAM),\n/* harmony export */   CONFIG_KEY_TASK_ID: () => (/* binding */ CONFIG_KEY_TASK_ID),\n/* harmony export */   COPY: () => (/* binding */ COPY),\n/* harmony export */   Command: () => (/* binding */ Command),\n/* harmony export */   CommandInstance: () => (/* binding */ CommandInstance),\n/* harmony export */   END: () => (/* binding */ END),\n/* harmony export */   ERROR: () => (/* binding */ ERROR),\n/* harmony export */   INPUT: () => (/* binding */ INPUT),\n/* harmony export */   INTERRUPT: () => (/* binding */ INTERRUPT),\n/* harmony export */   NO_WRITES: () => (/* binding */ NO_WRITES),\n/* harmony export */   NULL_TASK_ID: () => (/* binding */ NULL_TASK_ID),\n/* harmony export */   PREVIOUS: () => (/* binding */ PREVIOUS),\n/* harmony export */   PULL: () => (/* binding */ PULL),\n/* harmony export */   PUSH: () => (/* binding */ PUSH),\n/* harmony export */   RESERVED: () => (/* binding */ RESERVED),\n/* harmony export */   RESUME: () => (/* binding */ RESUME),\n/* harmony export */   RETURN: () => (/* binding */ RETURN),\n/* harmony export */   SELF: () => (/* binding */ SELF),\n/* harmony export */   START: () => (/* binding */ START),\n/* harmony export */   Send: () => (/* binding */ Send),\n/* harmony export */   TAG_HIDDEN: () => (/* binding */ TAG_HIDDEN),\n/* harmony export */   TAG_NOSTREAM: () => (/* binding */ TAG_NOSTREAM),\n/* harmony export */   TASKS: () => (/* binding */ TASKS),\n/* harmony export */   _isSend: () => (/* binding */ _isSend),\n/* harmony export */   _isSendInterface: () => (/* binding */ _isSendInterface),\n/* harmony export */   isCommand: () => (/* binding */ isCommand),\n/* harmony export */   isInterrupted: () => (/* binding */ isInterrupted)\n/* harmony export */ });\n//#region src/constants.ts\n/** Special reserved node name denoting the start of a graph. */\nconst START = \"__start__\";\n/** Special reserved node name denoting the end of a graph. */\nconst END = \"__end__\";\nconst INPUT = \"__input__\";\nconst COPY = \"__copy__\";\nconst ERROR = \"__error__\";\n/** Special reserved cache namespaces */\nconst CACHE_NS_WRITES = \"__pregel_ns_writes\";\nconst CONFIG_KEY_SEND = \"__pregel_send\";\n/** config key containing function used to call a node (push task) */\nconst CONFIG_KEY_CALL = \"__pregel_call\";\nconst CONFIG_KEY_READ = \"__pregel_read\";\nconst CONFIG_KEY_CHECKPOINTER = \"__pregel_checkpointer\";\nconst CONFIG_KEY_RESUMING = \"__pregel_resuming\";\nconst CONFIG_KEY_TASK_ID = \"__pregel_task_id\";\nconst CONFIG_KEY_STREAM = \"__pregel_stream\";\nconst CONFIG_KEY_RESUME_VALUE = \"__pregel_resume_value\";\nconst CONFIG_KEY_RESUME_MAP = \"__pregel_resume_map\";\nconst CONFIG_KEY_SCRATCHPAD = \"__pregel_scratchpad\";\n/** config key containing state from previous invocation of graph for the given thread */\nconst CONFIG_KEY_PREVIOUS_STATE = \"__pregel_previous\";\nconst CONFIG_KEY_DURABILITY = \"__pregel_durability\";\nconst CONFIG_KEY_CHECKPOINT_ID = \"checkpoint_id\";\nconst CONFIG_KEY_CHECKPOINT_NS = \"checkpoint_ns\";\nconst CONFIG_KEY_NODE_FINISHED = \"__pregel_node_finished\";\nconst CONFIG_KEY_CHECKPOINT_MAP = \"checkpoint_map\";\nconst CONFIG_KEY_ABORT_SIGNALS = \"__pregel_abort_signals\";\n/** Special channel reserved for graph interrupts */\nconst INTERRUPT = \"__interrupt__\";\n/** Special channel reserved for graph resume */\nconst RESUME = \"__resume__\";\n/** Special channel reserved for cases when a task exits without any writes */\nconst NO_WRITES = \"__no_writes__\";\n/** Special channel reserved for graph return */\nconst RETURN = \"__return__\";\n/** Special channel reserved for graph previous state */\nconst PREVIOUS = \"__previous__\";\nconst TAG_HIDDEN = \"langsmith:hidden\";\nconst TAG_NOSTREAM = \"langsmith:nostream\";\nconst SELF = \"__self__\";\nconst TASKS = \"__pregel_tasks\";\nconst PUSH = \"__pregel_push\";\nconst PULL = \"__pregel_pull\";\nconst NULL_TASK_ID = \"00000000-0000-0000-0000-000000000000\";\nconst RESERVED = [\n\tTAG_HIDDEN,\n\tINPUT,\n\tINTERRUPT,\n\tRESUME,\n\tERROR,\n\tNO_WRITES,\n\tCONFIG_KEY_SEND,\n\tCONFIG_KEY_READ,\n\tCONFIG_KEY_CHECKPOINTER,\n\tCONFIG_KEY_DURABILITY,\n\tCONFIG_KEY_STREAM,\n\tCONFIG_KEY_RESUMING,\n\tCONFIG_KEY_TASK_ID,\n\tCONFIG_KEY_CALL,\n\tCONFIG_KEY_RESUME_VALUE,\n\tCONFIG_KEY_SCRATCHPAD,\n\tCONFIG_KEY_PREVIOUS_STATE,\n\tCONFIG_KEY_CHECKPOINT_MAP,\n\tCONFIG_KEY_CHECKPOINT_NS,\n\tCONFIG_KEY_CHECKPOINT_ID\n];\nconst CHECKPOINT_NAMESPACE_SEPARATOR = \"|\";\nconst CHECKPOINT_NAMESPACE_END = \":\";\n/** @internal */\nconst COMMAND_SYMBOL = Symbol.for(\"langgraph.command\");\n/**\n* Instance of a {@link Command} class.\n*\n* This is used to avoid IntelliSense suggesting public fields\n* of {@link Command} class when a plain object is expected.\n*\n* @see {@link Command}\n* @internal\n*/\nvar CommandInstance = class {\n\t[COMMAND_SYMBOL];\n\tconstructor(args) {\n\t\tthis[COMMAND_SYMBOL] = args;\n\t}\n};\nfunction _isSendInterface(x) {\n\tconst operation = x;\n\treturn operation !== null && operation !== void 0 && typeof operation.node === \"string\" && operation.args !== void 0;\n}\n/**\n*\n* A message or packet to send to a specific node in the graph.\n*\n* The `Send` class is used within a `StateGraph`'s conditional edges to\n* dynamically invoke a node with a custom state at the next step.\n*\n* Importantly, the sent state can differ from the core graph's state,\n* allowing for flexible and dynamic workflow management.\n*\n* One such example is a \"map-reduce\" workflow where your graph invokes\n* the same node multiple times in parallel with different states,\n* before aggregating the results back into the main graph's state.\n*\n* @example\n* ```typescript\n* import { Annotation, Send, StateGraph } from \"@langchain/langgraph\";\n*\n* const ChainState = Annotation.Root({\n*   subjects: Annotation<string[]>,\n*   jokes: Annotation<string[]>({\n*     reducer: (a, b) => a.concat(b),\n*   }),\n* });\n*\n* const continueToJokes = async (state: typeof ChainState.State) => {\n*   return state.subjects.map((subject) => {\n*     return new Send(\"generate_joke\", { subjects: [subject] });\n*   });\n* };\n*\n* const graph = new StateGraph(ChainState)\n*   .addNode(\"generate_joke\", (state) => ({\n*     jokes: [`Joke about ${state.subjects}`],\n*   }))\n*   .addConditionalEdges(\"__start__\", continueToJokes)\n*   .addEdge(\"generate_joke\", \"__end__\")\n*   .compile();\n*\n* const res = await graph.invoke({ subjects: [\"cats\", \"dogs\"] });\n* console.log(res);\n*\n* // Invoking with two subjects results in a generated joke for each\n* // { subjects: [\"cats\", \"dogs\"], jokes: [`Joke about cats`, `Joke about dogs`] }\n* ```\n*/\nvar Send = class {\n\tlg_name = \"Send\";\n\tnode;\n\targs;\n\tconstructor(node, args) {\n\t\tthis.node = node;\n\t\tthis.args = _deserializeCommandSendObjectGraph(args);\n\t}\n\ttoJSON() {\n\t\treturn {\n\t\t\tlg_name: this.lg_name,\n\t\t\tnode: this.node,\n\t\t\targs: this.args\n\t\t};\n\t}\n};\nfunction _isSend(x) {\n\treturn x instanceof Send;\n}\n/**\n* Checks if the given graph invoke / stream chunk contains interrupt.\n*\n* @example\n* ```ts\n* import { INTERRUPT, isInterrupted } from \"@langchain/langgraph\";\n*\n* const values = await graph.invoke({ foo: \"bar\" });\n* if (isInterrupted<string>(values)) {\n*   const interrupt = values[INTERRUPT][0].value;\n* }\n* ```\n*\n* @param values - The values to check.\n* @returns `true` if the values contain an interrupt, `false` otherwise.\n*/\nfunction isInterrupted(values) {\n\tif (!values || typeof values !== \"object\") return false;\n\tif (!(INTERRUPT in values)) return false;\n\treturn Array.isArray(values[INTERRUPT]);\n}\n/**\n* One or more commands to update the graph's state and send messages to nodes.\n* Can be used to combine routing logic with state updates in lieu of conditional edges\n*\n* @example\n* ```ts\n* import { Annotation, Command } from \"@langchain/langgraph\";\n*\n* // Define graph state\n* const StateAnnotation = Annotation.Root({\n*   foo: Annotation<string>,\n* });\n*\n* // Define the nodes\n* const nodeA = async (_state: typeof StateAnnotation.State) => {\n*   console.log(\"Called A\");\n*   // this is a replacement for a real conditional edge function\n*   const goto = Math.random() > .5 ? \"nodeB\" : \"nodeC\";\n*   // note how Command allows you to BOTH update the graph state AND route to the next node\n*   return new Command({\n*     // this is the state update\n*     update: {\n*       foo: \"a\",\n*     },\n*     // this is a replacement for an edge\n*     goto,\n*   });\n* };\n*\n* // Nodes B and C are unchanged\n* const nodeB = async (state: typeof StateAnnotation.State) => {\n*   console.log(\"Called B\");\n*   return {\n*     foo: state.foo + \"|b\",\n*   };\n* }\n*\n* const nodeC = async (state: typeof StateAnnotation.State) => {\n*   console.log(\"Called C\");\n*   return {\n*     foo: state.foo + \"|c\",\n*   };\n* }\n* \n* import { StateGraph } from \"@langchain/langgraph\";\n\n* // NOTE: there are no edges between nodes A, B and C!\n* const graph = new StateGraph(StateAnnotation)\n*   .addNode(\"nodeA\", nodeA, {\n*     ends: [\"nodeB\", \"nodeC\"],\n*   })\n*   .addNode(\"nodeB\", nodeB)\n*   .addNode(\"nodeC\", nodeC)\n*   .addEdge(\"__start__\", \"nodeA\")\n*   .compile();\n* \n* await graph.invoke({ foo: \"\" });\n*\n* // Randomly oscillates between\n* // { foo: 'a|c' } and { foo: 'a|b' }\n* ```\n*/\nvar Command = class extends CommandInstance {\n\tlg_name = \"Command\";\n\tlc_direct_tool_output = true;\n\t/**\n\t* Graph to send the command to. Supported values are:\n\t*   - None: the current graph (default)\n\t*   - The specific name of the graph to send the command to\n\t*   - {@link Command.PARENT}: closest parent graph (only supported when returned from a node in a subgraph)\n\t*/\n\tgraph;\n\t/**\n\t* Update to apply to the graph's state as a result of executing the node that is returning the command.\n\t* Written to the state as if the node had simply returned this value instead of the Command object.\n\t*/\n\tupdate;\n\t/**\n\t* Value to resume execution with. To be used together with {@link interrupt}.\n\t*/\n\tresume;\n\t/**\n\t* Can be one of the following:\n\t*   - name of the node to navigate to next (any node that belongs to the specified `graph`)\n\t*   - sequence of node names to navigate to next\n\t*   - {@link Send} object (to execute a node with the exact input provided in the {@link Send} object)\n\t*   - sequence of {@link Send} objects\n\t*/\n\tgoto = [];\n\tstatic PARENT = \"__parent__\";\n\tconstructor(args) {\n\t\tsuper(args);\n\t\tthis.resume = args.resume;\n\t\tthis.graph = args.graph;\n\t\tthis.update = args.update;\n\t\tif (args.goto) this.goto = Array.isArray(args.goto) ? _deserializeCommandSendObjectGraph(args.goto) : [_deserializeCommandSendObjectGraph(args.goto)];\n\t}\n\t/**\n\t* Convert the update field to a list of {@link PendingWrite} tuples\n\t* @returns List of {@link PendingWrite} tuples of the form `[channelKey, value]`.\n\t* @internal\n\t*/\n\t_updateAsTuples() {\n\t\tif (this.update && typeof this.update === \"object\" && !Array.isArray(this.update)) return Object.entries(this.update);\n\t\telse if (Array.isArray(this.update) && this.update.every((t) => Array.isArray(t) && t.length === 2 && typeof t[0] === \"string\")) return this.update;\n\t\telse return [[\"__root__\", this.update]];\n\t}\n\ttoJSON() {\n\t\tlet serializedGoto;\n\t\tif (typeof this.goto === \"string\") serializedGoto = this.goto;\n\t\telse if (_isSend(this.goto)) serializedGoto = this.goto.toJSON();\n\t\telse serializedGoto = this.goto?.map((innerGoto) => {\n\t\t\tif (typeof innerGoto === \"string\") return innerGoto;\n\t\t\telse return innerGoto.toJSON();\n\t\t});\n\t\treturn {\n\t\t\tlg_name: this.lg_name,\n\t\t\tupdate: this.update,\n\t\t\tresume: this.resume,\n\t\t\tgoto: serializedGoto\n\t\t};\n\t}\n};\n/**\n* A type guard to check if the given value is a {@link Command}.\n*\n* Useful for type narrowing when working with the {@link Command} object.\n*\n* @param x - The value to check.\n* @returns `true` if the value is a {@link Command}, `false` otherwise.\n*/\nfunction isCommand(x) {\n\tif (typeof x !== \"object\") return false;\n\tif (x === null || x === void 0) return false;\n\tif (\"lg_name\" in x && x.lg_name === \"Command\") return true;\n\treturn false;\n}\n/**\n* Reconstructs Command and Send objects from a deeply nested tree of anonymous objects\n* matching their interfaces.\n*\n* This is only exported for testing purposes. It is NOT intended to be used outside of\n* the Command and Send classes.\n*\n* @internal\n*\n* @param x - The command send tree to convert.\n* @param seen - A map of seen objects to avoid infinite loops.\n* @returns The converted command send tree.\n*/\nfunction _deserializeCommandSendObjectGraph(x, seen = /* @__PURE__ */ new Map()) {\n\tif (x !== void 0 && x !== null && typeof x === \"object\") {\n\t\tif (seen.has(x)) return seen.get(x);\n\t\tlet result;\n\t\tif (Array.isArray(x)) {\n\t\t\tresult = [];\n\t\t\tseen.set(x, result);\n\t\t\tx.forEach((item, index) => {\n\t\t\t\tresult[index] = _deserializeCommandSendObjectGraph(item, seen);\n\t\t\t});\n\t\t} else if (isCommand(x) && !(x instanceof Command)) {\n\t\t\tresult = new Command(x);\n\t\t\tseen.set(x, result);\n\t\t} else if (_isSendInterface(x) && !(x instanceof Send)) {\n\t\t\tresult = new Send(x.node, x.args);\n\t\t\tseen.set(x, result);\n\t\t} else if (isCommand(x) || _isSend(x)) {\n\t\t\tresult = x;\n\t\t\tseen.set(x, result);\n\t\t} else if (\"lc_serializable\" in x && x.lc_serializable) {\n\t\t\tresult = x;\n\t\t\tseen.set(x, result);\n\t\t} else {\n\t\t\tresult = {};\n\t\t\tseen.set(x, result);\n\t\t\tfor (const [key, value] of Object.entries(x)) result[key] = _deserializeCommandSendObjectGraph(value, seen);\n\t\t}\n\t\treturn result;\n\t}\n\treturn x;\n}\n\n//#endregion\n\n//# sourceMappingURL=constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L2NvbnN0YW50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGVBQWU7QUFDaEM7QUFDQTtBQUNBLE1BQU0sZUFBZTtBQUNyQjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsK0JBQStCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxxQkFBcUI7QUFDOUQsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGVBQWU7QUFDM0MsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLDRCQUE0QjtBQUMvRDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsMkJBQTJCO0FBQ3RDO0FBQ0Esc0NBQXNDLFlBQVk7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHNCQUFzQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsYUFBYTs7QUFFeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixTQUFTO0FBQ2hDO0FBQ0E7QUFDQSxPQUFPLGFBQWEsTUFBTTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHFCQUFxQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELGdCQUFnQjtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLFlBQVksZ0VBQWdFLFlBQVk7QUFDaEcsb0JBQW9CLFlBQVk7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxvQkFBb0I7QUFDOUQscUJBQXFCLG9CQUFvQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxjQUFjO0FBQy9EO0FBQ0EsbURBQW1ELGVBQWU7QUFDbEU7QUFDQTtBQUNBLHFDQUFxQyxjQUFjO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNnckI7QUFDaHJCIiwic291cmNlcyI6WyIvVXNlcnMvam9iL0Rlc2t0b3AvcHJvamVjdF94L3Byb2plY3Qtc3FsLWFnZW50L3NlcnZpY2VzL2Zyb250ZW5kL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2xhbmdncmFwaEAxLjAuMV9AbGFuZ2NoYWluK2NvcmVAMS4wLjJfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEA0LjEuMTJfX19fZWZhNGU4Zjg2NTU4ZTVkMjllYmRlYzNkMmYwMDRlZDkvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vbGFuZ2dyYXBoL2Rpc3QvY29uc3RhbnRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vI3JlZ2lvbiBzcmMvY29uc3RhbnRzLnRzXG4vKiogU3BlY2lhbCByZXNlcnZlZCBub2RlIG5hbWUgZGVub3RpbmcgdGhlIHN0YXJ0IG9mIGEgZ3JhcGguICovXG5jb25zdCBTVEFSVCA9IFwiX19zdGFydF9fXCI7XG4vKiogU3BlY2lhbCByZXNlcnZlZCBub2RlIG5hbWUgZGVub3RpbmcgdGhlIGVuZCBvZiBhIGdyYXBoLiAqL1xuY29uc3QgRU5EID0gXCJfX2VuZF9fXCI7XG5jb25zdCBJTlBVVCA9IFwiX19pbnB1dF9fXCI7XG5jb25zdCBDT1BZID0gXCJfX2NvcHlfX1wiO1xuY29uc3QgRVJST1IgPSBcIl9fZXJyb3JfX1wiO1xuLyoqIFNwZWNpYWwgcmVzZXJ2ZWQgY2FjaGUgbmFtZXNwYWNlcyAqL1xuY29uc3QgQ0FDSEVfTlNfV1JJVEVTID0gXCJfX3ByZWdlbF9uc193cml0ZXNcIjtcbmNvbnN0IENPTkZJR19LRVlfU0VORCA9IFwiX19wcmVnZWxfc2VuZFwiO1xuLyoqIGNvbmZpZyBrZXkgY29udGFpbmluZyBmdW5jdGlvbiB1c2VkIHRvIGNhbGwgYSBub2RlIChwdXNoIHRhc2spICovXG5jb25zdCBDT05GSUdfS0VZX0NBTEwgPSBcIl9fcHJlZ2VsX2NhbGxcIjtcbmNvbnN0IENPTkZJR19LRVlfUkVBRCA9IFwiX19wcmVnZWxfcmVhZFwiO1xuY29uc3QgQ09ORklHX0tFWV9DSEVDS1BPSU5URVIgPSBcIl9fcHJlZ2VsX2NoZWNrcG9pbnRlclwiO1xuY29uc3QgQ09ORklHX0tFWV9SRVNVTUlORyA9IFwiX19wcmVnZWxfcmVzdW1pbmdcIjtcbmNvbnN0IENPTkZJR19LRVlfVEFTS19JRCA9IFwiX19wcmVnZWxfdGFza19pZFwiO1xuY29uc3QgQ09ORklHX0tFWV9TVFJFQU0gPSBcIl9fcHJlZ2VsX3N0cmVhbVwiO1xuY29uc3QgQ09ORklHX0tFWV9SRVNVTUVfVkFMVUUgPSBcIl9fcHJlZ2VsX3Jlc3VtZV92YWx1ZVwiO1xuY29uc3QgQ09ORklHX0tFWV9SRVNVTUVfTUFQID0gXCJfX3ByZWdlbF9yZXN1bWVfbWFwXCI7XG5jb25zdCBDT05GSUdfS0VZX1NDUkFUQ0hQQUQgPSBcIl9fcHJlZ2VsX3NjcmF0Y2hwYWRcIjtcbi8qKiBjb25maWcga2V5IGNvbnRhaW5pbmcgc3RhdGUgZnJvbSBwcmV2aW91cyBpbnZvY2F0aW9uIG9mIGdyYXBoIGZvciB0aGUgZ2l2ZW4gdGhyZWFkICovXG5jb25zdCBDT05GSUdfS0VZX1BSRVZJT1VTX1NUQVRFID0gXCJfX3ByZWdlbF9wcmV2aW91c1wiO1xuY29uc3QgQ09ORklHX0tFWV9EVVJBQklMSVRZID0gXCJfX3ByZWdlbF9kdXJhYmlsaXR5XCI7XG5jb25zdCBDT05GSUdfS0VZX0NIRUNLUE9JTlRfSUQgPSBcImNoZWNrcG9pbnRfaWRcIjtcbmNvbnN0IENPTkZJR19LRVlfQ0hFQ0tQT0lOVF9OUyA9IFwiY2hlY2twb2ludF9uc1wiO1xuY29uc3QgQ09ORklHX0tFWV9OT0RFX0ZJTklTSEVEID0gXCJfX3ByZWdlbF9ub2RlX2ZpbmlzaGVkXCI7XG5jb25zdCBDT05GSUdfS0VZX0NIRUNLUE9JTlRfTUFQID0gXCJjaGVja3BvaW50X21hcFwiO1xuY29uc3QgQ09ORklHX0tFWV9BQk9SVF9TSUdOQUxTID0gXCJfX3ByZWdlbF9hYm9ydF9zaWduYWxzXCI7XG4vKiogU3BlY2lhbCBjaGFubmVsIHJlc2VydmVkIGZvciBncmFwaCBpbnRlcnJ1cHRzICovXG5jb25zdCBJTlRFUlJVUFQgPSBcIl9faW50ZXJydXB0X19cIjtcbi8qKiBTcGVjaWFsIGNoYW5uZWwgcmVzZXJ2ZWQgZm9yIGdyYXBoIHJlc3VtZSAqL1xuY29uc3QgUkVTVU1FID0gXCJfX3Jlc3VtZV9fXCI7XG4vKiogU3BlY2lhbCBjaGFubmVsIHJlc2VydmVkIGZvciBjYXNlcyB3aGVuIGEgdGFzayBleGl0cyB3aXRob3V0IGFueSB3cml0ZXMgKi9cbmNvbnN0IE5PX1dSSVRFUyA9IFwiX19ub193cml0ZXNfX1wiO1xuLyoqIFNwZWNpYWwgY2hhbm5lbCByZXNlcnZlZCBmb3IgZ3JhcGggcmV0dXJuICovXG5jb25zdCBSRVRVUk4gPSBcIl9fcmV0dXJuX19cIjtcbi8qKiBTcGVjaWFsIGNoYW5uZWwgcmVzZXJ2ZWQgZm9yIGdyYXBoIHByZXZpb3VzIHN0YXRlICovXG5jb25zdCBQUkVWSU9VUyA9IFwiX19wcmV2aW91c19fXCI7XG5jb25zdCBUQUdfSElEREVOID0gXCJsYW5nc21pdGg6aGlkZGVuXCI7XG5jb25zdCBUQUdfTk9TVFJFQU0gPSBcImxhbmdzbWl0aDpub3N0cmVhbVwiO1xuY29uc3QgU0VMRiA9IFwiX19zZWxmX19cIjtcbmNvbnN0IFRBU0tTID0gXCJfX3ByZWdlbF90YXNrc1wiO1xuY29uc3QgUFVTSCA9IFwiX19wcmVnZWxfcHVzaFwiO1xuY29uc3QgUFVMTCA9IFwiX19wcmVnZWxfcHVsbFwiO1xuY29uc3QgTlVMTF9UQVNLX0lEID0gXCIwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDBcIjtcbmNvbnN0IFJFU0VSVkVEID0gW1xuXHRUQUdfSElEREVOLFxuXHRJTlBVVCxcblx0SU5URVJSVVBULFxuXHRSRVNVTUUsXG5cdEVSUk9SLFxuXHROT19XUklURVMsXG5cdENPTkZJR19LRVlfU0VORCxcblx0Q09ORklHX0tFWV9SRUFELFxuXHRDT05GSUdfS0VZX0NIRUNLUE9JTlRFUixcblx0Q09ORklHX0tFWV9EVVJBQklMSVRZLFxuXHRDT05GSUdfS0VZX1NUUkVBTSxcblx0Q09ORklHX0tFWV9SRVNVTUlORyxcblx0Q09ORklHX0tFWV9UQVNLX0lELFxuXHRDT05GSUdfS0VZX0NBTEwsXG5cdENPTkZJR19LRVlfUkVTVU1FX1ZBTFVFLFxuXHRDT05GSUdfS0VZX1NDUkFUQ0hQQUQsXG5cdENPTkZJR19LRVlfUFJFVklPVVNfU1RBVEUsXG5cdENPTkZJR19LRVlfQ0hFQ0tQT0lOVF9NQVAsXG5cdENPTkZJR19LRVlfQ0hFQ0tQT0lOVF9OUyxcblx0Q09ORklHX0tFWV9DSEVDS1BPSU5UX0lEXG5dO1xuY29uc3QgQ0hFQ0tQT0lOVF9OQU1FU1BBQ0VfU0VQQVJBVE9SID0gXCJ8XCI7XG5jb25zdCBDSEVDS1BPSU5UX05BTUVTUEFDRV9FTkQgPSBcIjpcIjtcbi8qKiBAaW50ZXJuYWwgKi9cbmNvbnN0IENPTU1BTkRfU1lNQk9MID0gU3ltYm9sLmZvcihcImxhbmdncmFwaC5jb21tYW5kXCIpO1xuLyoqXG4qIEluc3RhbmNlIG9mIGEge0BsaW5rIENvbW1hbmR9IGNsYXNzLlxuKlxuKiBUaGlzIGlzIHVzZWQgdG8gYXZvaWQgSW50ZWxsaVNlbnNlIHN1Z2dlc3RpbmcgcHVibGljIGZpZWxkc1xuKiBvZiB7QGxpbmsgQ29tbWFuZH0gY2xhc3Mgd2hlbiBhIHBsYWluIG9iamVjdCBpcyBleHBlY3RlZC5cbipcbiogQHNlZSB7QGxpbmsgQ29tbWFuZH1cbiogQGludGVybmFsXG4qL1xudmFyIENvbW1hbmRJbnN0YW5jZSA9IGNsYXNzIHtcblx0W0NPTU1BTkRfU1lNQk9MXTtcblx0Y29uc3RydWN0b3IoYXJncykge1xuXHRcdHRoaXNbQ09NTUFORF9TWU1CT0xdID0gYXJncztcblx0fVxufTtcbmZ1bmN0aW9uIF9pc1NlbmRJbnRlcmZhY2UoeCkge1xuXHRjb25zdCBvcGVyYXRpb24gPSB4O1xuXHRyZXR1cm4gb3BlcmF0aW9uICE9PSBudWxsICYmIG9wZXJhdGlvbiAhPT0gdm9pZCAwICYmIHR5cGVvZiBvcGVyYXRpb24ubm9kZSA9PT0gXCJzdHJpbmdcIiAmJiBvcGVyYXRpb24uYXJncyAhPT0gdm9pZCAwO1xufVxuLyoqXG4qXG4qIEEgbWVzc2FnZSBvciBwYWNrZXQgdG8gc2VuZCB0byBhIHNwZWNpZmljIG5vZGUgaW4gdGhlIGdyYXBoLlxuKlxuKiBUaGUgYFNlbmRgIGNsYXNzIGlzIHVzZWQgd2l0aGluIGEgYFN0YXRlR3JhcGhgJ3MgY29uZGl0aW9uYWwgZWRnZXMgdG9cbiogZHluYW1pY2FsbHkgaW52b2tlIGEgbm9kZSB3aXRoIGEgY3VzdG9tIHN0YXRlIGF0IHRoZSBuZXh0IHN0ZXAuXG4qXG4qIEltcG9ydGFudGx5LCB0aGUgc2VudCBzdGF0ZSBjYW4gZGlmZmVyIGZyb20gdGhlIGNvcmUgZ3JhcGgncyBzdGF0ZSxcbiogYWxsb3dpbmcgZm9yIGZsZXhpYmxlIGFuZCBkeW5hbWljIHdvcmtmbG93IG1hbmFnZW1lbnQuXG4qXG4qIE9uZSBzdWNoIGV4YW1wbGUgaXMgYSBcIm1hcC1yZWR1Y2VcIiB3b3JrZmxvdyB3aGVyZSB5b3VyIGdyYXBoIGludm9rZXNcbiogdGhlIHNhbWUgbm9kZSBtdWx0aXBsZSB0aW1lcyBpbiBwYXJhbGxlbCB3aXRoIGRpZmZlcmVudCBzdGF0ZXMsXG4qIGJlZm9yZSBhZ2dyZWdhdGluZyB0aGUgcmVzdWx0cyBiYWNrIGludG8gdGhlIG1haW4gZ3JhcGgncyBzdGF0ZS5cbipcbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiBpbXBvcnQgeyBBbm5vdGF0aW9uLCBTZW5kLCBTdGF0ZUdyYXBoIH0gZnJvbSBcIkBsYW5nY2hhaW4vbGFuZ2dyYXBoXCI7XG4qXG4qIGNvbnN0IENoYWluU3RhdGUgPSBBbm5vdGF0aW9uLlJvb3Qoe1xuKiAgIHN1YmplY3RzOiBBbm5vdGF0aW9uPHN0cmluZ1tdPixcbiogICBqb2tlczogQW5ub3RhdGlvbjxzdHJpbmdbXT4oe1xuKiAgICAgcmVkdWNlcjogKGEsIGIpID0+IGEuY29uY2F0KGIpLFxuKiAgIH0pLFxuKiB9KTtcbipcbiogY29uc3QgY29udGludWVUb0pva2VzID0gYXN5bmMgKHN0YXRlOiB0eXBlb2YgQ2hhaW5TdGF0ZS5TdGF0ZSkgPT4ge1xuKiAgIHJldHVybiBzdGF0ZS5zdWJqZWN0cy5tYXAoKHN1YmplY3QpID0+IHtcbiogICAgIHJldHVybiBuZXcgU2VuZChcImdlbmVyYXRlX2pva2VcIiwgeyBzdWJqZWN0czogW3N1YmplY3RdIH0pO1xuKiAgIH0pO1xuKiB9O1xuKlxuKiBjb25zdCBncmFwaCA9IG5ldyBTdGF0ZUdyYXBoKENoYWluU3RhdGUpXG4qICAgLmFkZE5vZGUoXCJnZW5lcmF0ZV9qb2tlXCIsIChzdGF0ZSkgPT4gKHtcbiogICAgIGpva2VzOiBbYEpva2UgYWJvdXQgJHtzdGF0ZS5zdWJqZWN0c31gXSxcbiogICB9KSlcbiogICAuYWRkQ29uZGl0aW9uYWxFZGdlcyhcIl9fc3RhcnRfX1wiLCBjb250aW51ZVRvSm9rZXMpXG4qICAgLmFkZEVkZ2UoXCJnZW5lcmF0ZV9qb2tlXCIsIFwiX19lbmRfX1wiKVxuKiAgIC5jb21waWxlKCk7XG4qXG4qIGNvbnN0IHJlcyA9IGF3YWl0IGdyYXBoLmludm9rZSh7IHN1YmplY3RzOiBbXCJjYXRzXCIsIFwiZG9nc1wiXSB9KTtcbiogY29uc29sZS5sb2cocmVzKTtcbipcbiogLy8gSW52b2tpbmcgd2l0aCB0d28gc3ViamVjdHMgcmVzdWx0cyBpbiBhIGdlbmVyYXRlZCBqb2tlIGZvciBlYWNoXG4qIC8vIHsgc3ViamVjdHM6IFtcImNhdHNcIiwgXCJkb2dzXCJdLCBqb2tlczogW2BKb2tlIGFib3V0IGNhdHNgLCBgSm9rZSBhYm91dCBkb2dzYF0gfVxuKiBgYGBcbiovXG52YXIgU2VuZCA9IGNsYXNzIHtcblx0bGdfbmFtZSA9IFwiU2VuZFwiO1xuXHRub2RlO1xuXHRhcmdzO1xuXHRjb25zdHJ1Y3Rvcihub2RlLCBhcmdzKSB7XG5cdFx0dGhpcy5ub2RlID0gbm9kZTtcblx0XHR0aGlzLmFyZ3MgPSBfZGVzZXJpYWxpemVDb21tYW5kU2VuZE9iamVjdEdyYXBoKGFyZ3MpO1xuXHR9XG5cdHRvSlNPTigpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0bGdfbmFtZTogdGhpcy5sZ19uYW1lLFxuXHRcdFx0bm9kZTogdGhpcy5ub2RlLFxuXHRcdFx0YXJnczogdGhpcy5hcmdzXG5cdFx0fTtcblx0fVxufTtcbmZ1bmN0aW9uIF9pc1NlbmQoeCkge1xuXHRyZXR1cm4geCBpbnN0YW5jZW9mIFNlbmQ7XG59XG4vKipcbiogQ2hlY2tzIGlmIHRoZSBnaXZlbiBncmFwaCBpbnZva2UgLyBzdHJlYW0gY2h1bmsgY29udGFpbnMgaW50ZXJydXB0LlxuKlxuKiBAZXhhbXBsZVxuKiBgYGB0c1xuKiBpbXBvcnQgeyBJTlRFUlJVUFQsIGlzSW50ZXJydXB0ZWQgfSBmcm9tIFwiQGxhbmdjaGFpbi9sYW5nZ3JhcGhcIjtcbipcbiogY29uc3QgdmFsdWVzID0gYXdhaXQgZ3JhcGguaW52b2tlKHsgZm9vOiBcImJhclwiIH0pO1xuKiBpZiAoaXNJbnRlcnJ1cHRlZDxzdHJpbmc+KHZhbHVlcykpIHtcbiogICBjb25zdCBpbnRlcnJ1cHQgPSB2YWx1ZXNbSU5URVJSVVBUXVswXS52YWx1ZTtcbiogfVxuKiBgYGBcbipcbiogQHBhcmFtIHZhbHVlcyAtIFRoZSB2YWx1ZXMgdG8gY2hlY2suXG4qIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGNvbnRhaW4gYW4gaW50ZXJydXB0LCBgZmFsc2VgIG90aGVyd2lzZS5cbiovXG5mdW5jdGlvbiBpc0ludGVycnVwdGVkKHZhbHVlcykge1xuXHRpZiAoIXZhbHVlcyB8fCB0eXBlb2YgdmFsdWVzICE9PSBcIm9iamVjdFwiKSByZXR1cm4gZmFsc2U7XG5cdGlmICghKElOVEVSUlVQVCBpbiB2YWx1ZXMpKSByZXR1cm4gZmFsc2U7XG5cdHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlc1tJTlRFUlJVUFRdKTtcbn1cbi8qKlxuKiBPbmUgb3IgbW9yZSBjb21tYW5kcyB0byB1cGRhdGUgdGhlIGdyYXBoJ3Mgc3RhdGUgYW5kIHNlbmQgbWVzc2FnZXMgdG8gbm9kZXMuXG4qIENhbiBiZSB1c2VkIHRvIGNvbWJpbmUgcm91dGluZyBsb2dpYyB3aXRoIHN0YXRlIHVwZGF0ZXMgaW4gbGlldSBvZiBjb25kaXRpb25hbCBlZGdlc1xuKlxuKiBAZXhhbXBsZVxuKiBgYGB0c1xuKiBpbXBvcnQgeyBBbm5vdGF0aW9uLCBDb21tYW5kIH0gZnJvbSBcIkBsYW5nY2hhaW4vbGFuZ2dyYXBoXCI7XG4qXG4qIC8vIERlZmluZSBncmFwaCBzdGF0ZVxuKiBjb25zdCBTdGF0ZUFubm90YXRpb24gPSBBbm5vdGF0aW9uLlJvb3Qoe1xuKiAgIGZvbzogQW5ub3RhdGlvbjxzdHJpbmc+LFxuKiB9KTtcbipcbiogLy8gRGVmaW5lIHRoZSBub2Rlc1xuKiBjb25zdCBub2RlQSA9IGFzeW5jIChfc3RhdGU6IHR5cGVvZiBTdGF0ZUFubm90YXRpb24uU3RhdGUpID0+IHtcbiogICBjb25zb2xlLmxvZyhcIkNhbGxlZCBBXCIpO1xuKiAgIC8vIHRoaXMgaXMgYSByZXBsYWNlbWVudCBmb3IgYSByZWFsIGNvbmRpdGlvbmFsIGVkZ2UgZnVuY3Rpb25cbiogICBjb25zdCBnb3RvID0gTWF0aC5yYW5kb20oKSA+IC41ID8gXCJub2RlQlwiIDogXCJub2RlQ1wiO1xuKiAgIC8vIG5vdGUgaG93IENvbW1hbmQgYWxsb3dzIHlvdSB0byBCT1RIIHVwZGF0ZSB0aGUgZ3JhcGggc3RhdGUgQU5EIHJvdXRlIHRvIHRoZSBuZXh0IG5vZGVcbiogICByZXR1cm4gbmV3IENvbW1hbmQoe1xuKiAgICAgLy8gdGhpcyBpcyB0aGUgc3RhdGUgdXBkYXRlXG4qICAgICB1cGRhdGU6IHtcbiogICAgICAgZm9vOiBcImFcIixcbiogICAgIH0sXG4qICAgICAvLyB0aGlzIGlzIGEgcmVwbGFjZW1lbnQgZm9yIGFuIGVkZ2VcbiogICAgIGdvdG8sXG4qICAgfSk7XG4qIH07XG4qXG4qIC8vIE5vZGVzIEIgYW5kIEMgYXJlIHVuY2hhbmdlZFxuKiBjb25zdCBub2RlQiA9IGFzeW5jIChzdGF0ZTogdHlwZW9mIFN0YXRlQW5ub3RhdGlvbi5TdGF0ZSkgPT4ge1xuKiAgIGNvbnNvbGUubG9nKFwiQ2FsbGVkIEJcIik7XG4qICAgcmV0dXJuIHtcbiogICAgIGZvbzogc3RhdGUuZm9vICsgXCJ8YlwiLFxuKiAgIH07XG4qIH1cbipcbiogY29uc3Qgbm9kZUMgPSBhc3luYyAoc3RhdGU6IHR5cGVvZiBTdGF0ZUFubm90YXRpb24uU3RhdGUpID0+IHtcbiogICBjb25zb2xlLmxvZyhcIkNhbGxlZCBDXCIpO1xuKiAgIHJldHVybiB7XG4qICAgICBmb286IHN0YXRlLmZvbyArIFwifGNcIixcbiogICB9O1xuKiB9XG4qIFxuKiBpbXBvcnQgeyBTdGF0ZUdyYXBoIH0gZnJvbSBcIkBsYW5nY2hhaW4vbGFuZ2dyYXBoXCI7XG5cbiogLy8gTk9URTogdGhlcmUgYXJlIG5vIGVkZ2VzIGJldHdlZW4gbm9kZXMgQSwgQiBhbmQgQyFcbiogY29uc3QgZ3JhcGggPSBuZXcgU3RhdGVHcmFwaChTdGF0ZUFubm90YXRpb24pXG4qICAgLmFkZE5vZGUoXCJub2RlQVwiLCBub2RlQSwge1xuKiAgICAgZW5kczogW1wibm9kZUJcIiwgXCJub2RlQ1wiXSxcbiogICB9KVxuKiAgIC5hZGROb2RlKFwibm9kZUJcIiwgbm9kZUIpXG4qICAgLmFkZE5vZGUoXCJub2RlQ1wiLCBub2RlQylcbiogICAuYWRkRWRnZShcIl9fc3RhcnRfX1wiLCBcIm5vZGVBXCIpXG4qICAgLmNvbXBpbGUoKTtcbiogXG4qIGF3YWl0IGdyYXBoLmludm9rZSh7IGZvbzogXCJcIiB9KTtcbipcbiogLy8gUmFuZG9tbHkgb3NjaWxsYXRlcyBiZXR3ZWVuXG4qIC8vIHsgZm9vOiAnYXxjJyB9IGFuZCB7IGZvbzogJ2F8YicgfVxuKiBgYGBcbiovXG52YXIgQ29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgQ29tbWFuZEluc3RhbmNlIHtcblx0bGdfbmFtZSA9IFwiQ29tbWFuZFwiO1xuXHRsY19kaXJlY3RfdG9vbF9vdXRwdXQgPSB0cnVlO1xuXHQvKipcblx0KiBHcmFwaCB0byBzZW5kIHRoZSBjb21tYW5kIHRvLiBTdXBwb3J0ZWQgdmFsdWVzIGFyZTpcblx0KiAgIC0gTm9uZTogdGhlIGN1cnJlbnQgZ3JhcGggKGRlZmF1bHQpXG5cdCogICAtIFRoZSBzcGVjaWZpYyBuYW1lIG9mIHRoZSBncmFwaCB0byBzZW5kIHRoZSBjb21tYW5kIHRvXG5cdCogICAtIHtAbGluayBDb21tYW5kLlBBUkVOVH06IGNsb3Nlc3QgcGFyZW50IGdyYXBoIChvbmx5IHN1cHBvcnRlZCB3aGVuIHJldHVybmVkIGZyb20gYSBub2RlIGluIGEgc3ViZ3JhcGgpXG5cdCovXG5cdGdyYXBoO1xuXHQvKipcblx0KiBVcGRhdGUgdG8gYXBwbHkgdG8gdGhlIGdyYXBoJ3Mgc3RhdGUgYXMgYSByZXN1bHQgb2YgZXhlY3V0aW5nIHRoZSBub2RlIHRoYXQgaXMgcmV0dXJuaW5nIHRoZSBjb21tYW5kLlxuXHQqIFdyaXR0ZW4gdG8gdGhlIHN0YXRlIGFzIGlmIHRoZSBub2RlIGhhZCBzaW1wbHkgcmV0dXJuZWQgdGhpcyB2YWx1ZSBpbnN0ZWFkIG9mIHRoZSBDb21tYW5kIG9iamVjdC5cblx0Ki9cblx0dXBkYXRlO1xuXHQvKipcblx0KiBWYWx1ZSB0byByZXN1bWUgZXhlY3V0aW9uIHdpdGguIFRvIGJlIHVzZWQgdG9nZXRoZXIgd2l0aCB7QGxpbmsgaW50ZXJydXB0fS5cblx0Ki9cblx0cmVzdW1lO1xuXHQvKipcblx0KiBDYW4gYmUgb25lIG9mIHRoZSBmb2xsb3dpbmc6XG5cdCogICAtIG5hbWUgb2YgdGhlIG5vZGUgdG8gbmF2aWdhdGUgdG8gbmV4dCAoYW55IG5vZGUgdGhhdCBiZWxvbmdzIHRvIHRoZSBzcGVjaWZpZWQgYGdyYXBoYClcblx0KiAgIC0gc2VxdWVuY2Ugb2Ygbm9kZSBuYW1lcyB0byBuYXZpZ2F0ZSB0byBuZXh0XG5cdCogICAtIHtAbGluayBTZW5kfSBvYmplY3QgKHRvIGV4ZWN1dGUgYSBub2RlIHdpdGggdGhlIGV4YWN0IGlucHV0IHByb3ZpZGVkIGluIHRoZSB7QGxpbmsgU2VuZH0gb2JqZWN0KVxuXHQqICAgLSBzZXF1ZW5jZSBvZiB7QGxpbmsgU2VuZH0gb2JqZWN0c1xuXHQqL1xuXHRnb3RvID0gW107XG5cdHN0YXRpYyBQQVJFTlQgPSBcIl9fcGFyZW50X19cIjtcblx0Y29uc3RydWN0b3IoYXJncykge1xuXHRcdHN1cGVyKGFyZ3MpO1xuXHRcdHRoaXMucmVzdW1lID0gYXJncy5yZXN1bWU7XG5cdFx0dGhpcy5ncmFwaCA9IGFyZ3MuZ3JhcGg7XG5cdFx0dGhpcy51cGRhdGUgPSBhcmdzLnVwZGF0ZTtcblx0XHRpZiAoYXJncy5nb3RvKSB0aGlzLmdvdG8gPSBBcnJheS5pc0FycmF5KGFyZ3MuZ290bykgPyBfZGVzZXJpYWxpemVDb21tYW5kU2VuZE9iamVjdEdyYXBoKGFyZ3MuZ290bykgOiBbX2Rlc2VyaWFsaXplQ29tbWFuZFNlbmRPYmplY3RHcmFwaChhcmdzLmdvdG8pXTtcblx0fVxuXHQvKipcblx0KiBDb252ZXJ0IHRoZSB1cGRhdGUgZmllbGQgdG8gYSBsaXN0IG9mIHtAbGluayBQZW5kaW5nV3JpdGV9IHR1cGxlc1xuXHQqIEByZXR1cm5zIExpc3Qgb2Yge0BsaW5rIFBlbmRpbmdXcml0ZX0gdHVwbGVzIG9mIHRoZSBmb3JtIGBbY2hhbm5lbEtleSwgdmFsdWVdYC5cblx0KiBAaW50ZXJuYWxcblx0Ki9cblx0X3VwZGF0ZUFzVHVwbGVzKCkge1xuXHRcdGlmICh0aGlzLnVwZGF0ZSAmJiB0eXBlb2YgdGhpcy51cGRhdGUgPT09IFwib2JqZWN0XCIgJiYgIUFycmF5LmlzQXJyYXkodGhpcy51cGRhdGUpKSByZXR1cm4gT2JqZWN0LmVudHJpZXModGhpcy51cGRhdGUpO1xuXHRcdGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodGhpcy51cGRhdGUpICYmIHRoaXMudXBkYXRlLmV2ZXJ5KCh0KSA9PiBBcnJheS5pc0FycmF5KHQpICYmIHQubGVuZ3RoID09PSAyICYmIHR5cGVvZiB0WzBdID09PSBcInN0cmluZ1wiKSkgcmV0dXJuIHRoaXMudXBkYXRlO1xuXHRcdGVsc2UgcmV0dXJuIFtbXCJfX3Jvb3RfX1wiLCB0aGlzLnVwZGF0ZV1dO1xuXHR9XG5cdHRvSlNPTigpIHtcblx0XHRsZXQgc2VyaWFsaXplZEdvdG87XG5cdFx0aWYgKHR5cGVvZiB0aGlzLmdvdG8gPT09IFwic3RyaW5nXCIpIHNlcmlhbGl6ZWRHb3RvID0gdGhpcy5nb3RvO1xuXHRcdGVsc2UgaWYgKF9pc1NlbmQodGhpcy5nb3RvKSkgc2VyaWFsaXplZEdvdG8gPSB0aGlzLmdvdG8udG9KU09OKCk7XG5cdFx0ZWxzZSBzZXJpYWxpemVkR290byA9IHRoaXMuZ290bz8ubWFwKChpbm5lckdvdG8pID0+IHtcblx0XHRcdGlmICh0eXBlb2YgaW5uZXJHb3RvID09PSBcInN0cmluZ1wiKSByZXR1cm4gaW5uZXJHb3RvO1xuXHRcdFx0ZWxzZSByZXR1cm4gaW5uZXJHb3RvLnRvSlNPTigpO1xuXHRcdH0pO1xuXHRcdHJldHVybiB7XG5cdFx0XHRsZ19uYW1lOiB0aGlzLmxnX25hbWUsXG5cdFx0XHR1cGRhdGU6IHRoaXMudXBkYXRlLFxuXHRcdFx0cmVzdW1lOiB0aGlzLnJlc3VtZSxcblx0XHRcdGdvdG86IHNlcmlhbGl6ZWRHb3RvXG5cdFx0fTtcblx0fVxufTtcbi8qKlxuKiBBIHR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIGEge0BsaW5rIENvbW1hbmR9LlxuKlxuKiBVc2VmdWwgZm9yIHR5cGUgbmFycm93aW5nIHdoZW4gd29ya2luZyB3aXRoIHRoZSB7QGxpbmsgQ29tbWFuZH0gb2JqZWN0LlxuKlxuKiBAcGFyYW0geCAtIFRoZSB2YWx1ZSB0byBjaGVjay5cbiogQHJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZSBpcyBhIHtAbGluayBDb21tYW5kfSwgYGZhbHNlYCBvdGhlcndpc2UuXG4qL1xuZnVuY3Rpb24gaXNDb21tYW5kKHgpIHtcblx0aWYgKHR5cGVvZiB4ICE9PSBcIm9iamVjdFwiKSByZXR1cm4gZmFsc2U7XG5cdGlmICh4ID09PSBudWxsIHx8IHggPT09IHZvaWQgMCkgcmV0dXJuIGZhbHNlO1xuXHRpZiAoXCJsZ19uYW1lXCIgaW4geCAmJiB4LmxnX25hbWUgPT09IFwiQ29tbWFuZFwiKSByZXR1cm4gdHJ1ZTtcblx0cmV0dXJuIGZhbHNlO1xufVxuLyoqXG4qIFJlY29uc3RydWN0cyBDb21tYW5kIGFuZCBTZW5kIG9iamVjdHMgZnJvbSBhIGRlZXBseSBuZXN0ZWQgdHJlZSBvZiBhbm9ueW1vdXMgb2JqZWN0c1xuKiBtYXRjaGluZyB0aGVpciBpbnRlcmZhY2VzLlxuKlxuKiBUaGlzIGlzIG9ubHkgZXhwb3J0ZWQgZm9yIHRlc3RpbmcgcHVycG9zZXMuIEl0IGlzIE5PVCBpbnRlbmRlZCB0byBiZSB1c2VkIG91dHNpZGUgb2ZcbiogdGhlIENvbW1hbmQgYW5kIFNlbmQgY2xhc3Nlcy5cbipcbiogQGludGVybmFsXG4qXG4qIEBwYXJhbSB4IC0gVGhlIGNvbW1hbmQgc2VuZCB0cmVlIHRvIGNvbnZlcnQuXG4qIEBwYXJhbSBzZWVuIC0gQSBtYXAgb2Ygc2VlbiBvYmplY3RzIHRvIGF2b2lkIGluZmluaXRlIGxvb3BzLlxuKiBAcmV0dXJucyBUaGUgY29udmVydGVkIGNvbW1hbmQgc2VuZCB0cmVlLlxuKi9cbmZ1bmN0aW9uIF9kZXNlcmlhbGl6ZUNvbW1hbmRTZW5kT2JqZWN0R3JhcGgoeCwgc2VlbiA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCkpIHtcblx0aWYgKHggIT09IHZvaWQgMCAmJiB4ICE9PSBudWxsICYmIHR5cGVvZiB4ID09PSBcIm9iamVjdFwiKSB7XG5cdFx0aWYgKHNlZW4uaGFzKHgpKSByZXR1cm4gc2Vlbi5nZXQoeCk7XG5cdFx0bGV0IHJlc3VsdDtcblx0XHRpZiAoQXJyYXkuaXNBcnJheSh4KSkge1xuXHRcdFx0cmVzdWx0ID0gW107XG5cdFx0XHRzZWVuLnNldCh4LCByZXN1bHQpO1xuXHRcdFx0eC5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuXHRcdFx0XHRyZXN1bHRbaW5kZXhdID0gX2Rlc2VyaWFsaXplQ29tbWFuZFNlbmRPYmplY3RHcmFwaChpdGVtLCBzZWVuKTtcblx0XHRcdH0pO1xuXHRcdH0gZWxzZSBpZiAoaXNDb21tYW5kKHgpICYmICEoeCBpbnN0YW5jZW9mIENvbW1hbmQpKSB7XG5cdFx0XHRyZXN1bHQgPSBuZXcgQ29tbWFuZCh4KTtcblx0XHRcdHNlZW4uc2V0KHgsIHJlc3VsdCk7XG5cdFx0fSBlbHNlIGlmIChfaXNTZW5kSW50ZXJmYWNlKHgpICYmICEoeCBpbnN0YW5jZW9mIFNlbmQpKSB7XG5cdFx0XHRyZXN1bHQgPSBuZXcgU2VuZCh4Lm5vZGUsIHguYXJncyk7XG5cdFx0XHRzZWVuLnNldCh4LCByZXN1bHQpO1xuXHRcdH0gZWxzZSBpZiAoaXNDb21tYW5kKHgpIHx8IF9pc1NlbmQoeCkpIHtcblx0XHRcdHJlc3VsdCA9IHg7XG5cdFx0XHRzZWVuLnNldCh4LCByZXN1bHQpO1xuXHRcdH0gZWxzZSBpZiAoXCJsY19zZXJpYWxpemFibGVcIiBpbiB4ICYmIHgubGNfc2VyaWFsaXphYmxlKSB7XG5cdFx0XHRyZXN1bHQgPSB4O1xuXHRcdFx0c2Vlbi5zZXQoeCwgcmVzdWx0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVzdWx0ID0ge307XG5cdFx0XHRzZWVuLnNldCh4LCByZXN1bHQpO1xuXHRcdFx0Zm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoeCkpIHJlc3VsdFtrZXldID0gX2Rlc2VyaWFsaXplQ29tbWFuZFNlbmRPYmplY3RHcmFwaCh2YWx1ZSwgc2Vlbik7XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cblx0cmV0dXJuIHg7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgQ0FDSEVfTlNfV1JJVEVTLCBDSEVDS1BPSU5UX05BTUVTUEFDRV9FTkQsIENIRUNLUE9JTlRfTkFNRVNQQUNFX1NFUEFSQVRPUiwgQ09ORklHX0tFWV9BQk9SVF9TSUdOQUxTLCBDT05GSUdfS0VZX0NBTEwsIENPTkZJR19LRVlfQ0hFQ0tQT0lOVEVSLCBDT05GSUdfS0VZX0NIRUNLUE9JTlRfSUQsIENPTkZJR19LRVlfQ0hFQ0tQT0lOVF9NQVAsIENPTkZJR19LRVlfQ0hFQ0tQT0lOVF9OUywgQ09ORklHX0tFWV9EVVJBQklMSVRZLCBDT05GSUdfS0VZX05PREVfRklOSVNIRUQsIENPTkZJR19LRVlfUFJFVklPVVNfU1RBVEUsIENPTkZJR19LRVlfUkVBRCwgQ09ORklHX0tFWV9SRVNVTUVfTUFQLCBDT05GSUdfS0VZX1JFU1VNSU5HLCBDT05GSUdfS0VZX1NDUkFUQ0hQQUQsIENPTkZJR19LRVlfU0VORCwgQ09ORklHX0tFWV9TVFJFQU0sIENPTkZJR19LRVlfVEFTS19JRCwgQ09QWSwgQ29tbWFuZCwgQ29tbWFuZEluc3RhbmNlLCBFTkQsIEVSUk9SLCBJTlBVVCwgSU5URVJSVVBULCBOT19XUklURVMsIE5VTExfVEFTS19JRCwgUFJFVklPVVMsIFBVTEwsIFBVU0gsIFJFU0VSVkVELCBSRVNVTUUsIFJFVFVSTiwgU0VMRiwgU1RBUlQsIFNlbmQsIFRBR19ISURERU4sIFRBR19OT1NUUkVBTSwgVEFTS1MsIF9pc1NlbmQsIF9pc1NlbmRJbnRlcmZhY2UsIGlzQ29tbWFuZCwgaXNJbnRlcnJ1cHRlZCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/errors.js":
/*!******************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/errors.js ***!
  \******************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseLangGraphError: () => (/* binding */ BaseLangGraphError),\n/* harmony export */   EmptyChannelError: () => (/* binding */ EmptyChannelError),\n/* harmony export */   EmptyInputError: () => (/* binding */ EmptyInputError),\n/* harmony export */   GraphBubbleUp: () => (/* binding */ GraphBubbleUp),\n/* harmony export */   GraphInterrupt: () => (/* binding */ GraphInterrupt),\n/* harmony export */   GraphRecursionError: () => (/* binding */ GraphRecursionError),\n/* harmony export */   GraphValueError: () => (/* binding */ GraphValueError),\n/* harmony export */   InvalidUpdateError: () => (/* binding */ InvalidUpdateError),\n/* harmony export */   MultipleSubgraphsError: () => (/* binding */ MultipleSubgraphsError),\n/* harmony export */   NodeInterrupt: () => (/* binding */ NodeInterrupt),\n/* harmony export */   ParentCommand: () => (/* binding */ ParentCommand),\n/* harmony export */   RemoteException: () => (/* binding */ RemoteException),\n/* harmony export */   UnreachableNodeError: () => (/* binding */ UnreachableNodeError),\n/* harmony export */   getSubgraphsSeenSet: () => (/* binding */ getSubgraphsSeenSet),\n/* harmony export */   isGraphBubbleUp: () => (/* binding */ isGraphBubbleUp),\n/* harmony export */   isGraphInterrupt: () => (/* binding */ isGraphInterrupt),\n/* harmony export */   isParentCommand: () => (/* binding */ isParentCommand)\n/* harmony export */ });\n//#region src/errors.ts\n/** @category Errors */\nvar BaseLangGraphError = class extends Error {\n\tlc_error_code;\n\tconstructor(message, fields) {\n\t\tlet finalMessage = message ?? \"\";\n\t\tif (fields?.lc_error_code) finalMessage = `${finalMessage}\\n\\nTroubleshooting URL: https://docs.langchain.com/oss/javascript/langgraph/${fields.lc_error_code}/\\n`;\n\t\tsuper(finalMessage);\n\t\tthis.lc_error_code = fields?.lc_error_code;\n\t}\n};\nvar GraphBubbleUp = class extends BaseLangGraphError {\n\tget is_bubble_up() {\n\t\treturn true;\n\t}\n};\nvar GraphRecursionError = class extends BaseLangGraphError {\n\tconstructor(message, fields) {\n\t\tsuper(message, fields);\n\t\tthis.name = \"GraphRecursionError\";\n\t}\n\tstatic get unminifiable_name() {\n\t\treturn \"GraphRecursionError\";\n\t}\n};\nvar GraphValueError = class extends BaseLangGraphError {\n\tconstructor(message, fields) {\n\t\tsuper(message, fields);\n\t\tthis.name = \"GraphValueError\";\n\t}\n\tstatic get unminifiable_name() {\n\t\treturn \"GraphValueError\";\n\t}\n};\nvar GraphInterrupt = class extends GraphBubbleUp {\n\tinterrupts;\n\tconstructor(interrupts, fields) {\n\t\tsuper(JSON.stringify(interrupts, null, 2), fields);\n\t\tthis.name = \"GraphInterrupt\";\n\t\tthis.interrupts = interrupts ?? [];\n\t}\n\tstatic get unminifiable_name() {\n\t\treturn \"GraphInterrupt\";\n\t}\n};\n/** Raised by a node to interrupt execution. */\nvar NodeInterrupt = class extends GraphInterrupt {\n\tconstructor(message, fields) {\n\t\tsuper([{ value: message }], fields);\n\t\tthis.name = \"NodeInterrupt\";\n\t}\n\tstatic get unminifiable_name() {\n\t\treturn \"NodeInterrupt\";\n\t}\n};\nvar ParentCommand = class extends GraphBubbleUp {\n\tcommand;\n\tconstructor(command) {\n\t\tsuper();\n\t\tthis.name = \"ParentCommand\";\n\t\tthis.command = command;\n\t}\n\tstatic get unminifiable_name() {\n\t\treturn \"ParentCommand\";\n\t}\n};\nfunction isParentCommand(e) {\n\treturn e !== void 0 && e.name === ParentCommand.unminifiable_name;\n}\nfunction isGraphBubbleUp(e) {\n\treturn e !== void 0 && e.is_bubble_up === true;\n}\nfunction isGraphInterrupt(e) {\n\treturn e !== void 0 && [GraphInterrupt.unminifiable_name, NodeInterrupt.unminifiable_name].includes(e.name);\n}\nvar EmptyInputError = class extends BaseLangGraphError {\n\tconstructor(message, fields) {\n\t\tsuper(message, fields);\n\t\tthis.name = \"EmptyInputError\";\n\t}\n\tstatic get unminifiable_name() {\n\t\treturn \"EmptyInputError\";\n\t}\n};\nvar EmptyChannelError = class extends BaseLangGraphError {\n\tconstructor(message, fields) {\n\t\tsuper(message, fields);\n\t\tthis.name = \"EmptyChannelError\";\n\t}\n\tstatic get unminifiable_name() {\n\t\treturn \"EmptyChannelError\";\n\t}\n};\nvar InvalidUpdateError = class extends BaseLangGraphError {\n\tconstructor(message, fields) {\n\t\tsuper(message, fields);\n\t\tthis.name = \"InvalidUpdateError\";\n\t}\n\tstatic get unminifiable_name() {\n\t\treturn \"InvalidUpdateError\";\n\t}\n};\n/**\n* @deprecated This exception type is no longer thrown.\n*/\nvar MultipleSubgraphsError = class extends BaseLangGraphError {\n\tconstructor(message, fields) {\n\t\tsuper(message, fields);\n\t\tthis.name = \"MultipleSubgraphError\";\n\t}\n\tstatic get unminifiable_name() {\n\t\treturn \"MultipleSubgraphError\";\n\t}\n};\nvar UnreachableNodeError = class extends BaseLangGraphError {\n\tconstructor(message, fields) {\n\t\tsuper(message, fields);\n\t\tthis.name = \"UnreachableNodeError\";\n\t}\n\tstatic get unminifiable_name() {\n\t\treturn \"UnreachableNodeError\";\n\t}\n};\n/**\n* Exception raised when an error occurs in the remote graph.\n*/\nvar RemoteException = class extends BaseLangGraphError {\n\tconstructor(message, fields) {\n\t\tsuper(message, fields);\n\t\tthis.name = \"RemoteException\";\n\t}\n\tstatic get unminifiable_name() {\n\t\treturn \"RemoteException\";\n\t}\n};\n/**\n* Used for subgraph detection.\n*/\nconst getSubgraphsSeenSet = () => {\n\tif (globalThis[Symbol.for(\"LG_CHECKPOINT_SEEN_NS_SET\")] === void 0) globalThis[Symbol.for(\"LG_CHECKPOINT_SEEN_NS_SET\")] = /* @__PURE__ */ new Set();\n\treturn globalThis[Symbol.for(\"LG_CHECKPOINT_SEEN_NS_SET\")];\n};\n\n//#endregion\n\n//# sourceMappingURL=errors.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L2Vycm9ycy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxhQUFhLCtFQUErRSxxQkFBcUI7QUFDaEs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0JBQWdCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNpVTtBQUNqVSIsInNvdXJjZXMiOlsiL1VzZXJzL2pvYi9EZXNrdG9wL3Byb2plY3RfeC9wcm9qZWN0LXNxbC1hZ2VudC9zZXJ2aWNlcy9mcm9udGVuZC9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L2Vycm9ycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyNyZWdpb24gc3JjL2Vycm9ycy50c1xuLyoqIEBjYXRlZ29yeSBFcnJvcnMgKi9cbnZhciBCYXNlTGFuZ0dyYXBoRXJyb3IgPSBjbGFzcyBleHRlbmRzIEVycm9yIHtcblx0bGNfZXJyb3JfY29kZTtcblx0Y29uc3RydWN0b3IobWVzc2FnZSwgZmllbGRzKSB7XG5cdFx0bGV0IGZpbmFsTWVzc2FnZSA9IG1lc3NhZ2UgPz8gXCJcIjtcblx0XHRpZiAoZmllbGRzPy5sY19lcnJvcl9jb2RlKSBmaW5hbE1lc3NhZ2UgPSBgJHtmaW5hbE1lc3NhZ2V9XFxuXFxuVHJvdWJsZXNob290aW5nIFVSTDogaHR0cHM6Ly9kb2NzLmxhbmdjaGFpbi5jb20vb3NzL2phdmFzY3JpcHQvbGFuZ2dyYXBoLyR7ZmllbGRzLmxjX2Vycm9yX2NvZGV9L1xcbmA7XG5cdFx0c3VwZXIoZmluYWxNZXNzYWdlKTtcblx0XHR0aGlzLmxjX2Vycm9yX2NvZGUgPSBmaWVsZHM/LmxjX2Vycm9yX2NvZGU7XG5cdH1cbn07XG52YXIgR3JhcGhCdWJibGVVcCA9IGNsYXNzIGV4dGVuZHMgQmFzZUxhbmdHcmFwaEVycm9yIHtcblx0Z2V0IGlzX2J1YmJsZV91cCgpIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxufTtcbnZhciBHcmFwaFJlY3Vyc2lvbkVycm9yID0gY2xhc3MgZXh0ZW5kcyBCYXNlTGFuZ0dyYXBoRXJyb3Ige1xuXHRjb25zdHJ1Y3RvcihtZXNzYWdlLCBmaWVsZHMpIHtcblx0XHRzdXBlcihtZXNzYWdlLCBmaWVsZHMpO1xuXHRcdHRoaXMubmFtZSA9IFwiR3JhcGhSZWN1cnNpb25FcnJvclwiO1xuXHR9XG5cdHN0YXRpYyBnZXQgdW5taW5pZmlhYmxlX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiR3JhcGhSZWN1cnNpb25FcnJvclwiO1xuXHR9XG59O1xudmFyIEdyYXBoVmFsdWVFcnJvciA9IGNsYXNzIGV4dGVuZHMgQmFzZUxhbmdHcmFwaEVycm9yIHtcblx0Y29uc3RydWN0b3IobWVzc2FnZSwgZmllbGRzKSB7XG5cdFx0c3VwZXIobWVzc2FnZSwgZmllbGRzKTtcblx0XHR0aGlzLm5hbWUgPSBcIkdyYXBoVmFsdWVFcnJvclwiO1xuXHR9XG5cdHN0YXRpYyBnZXQgdW5taW5pZmlhYmxlX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiR3JhcGhWYWx1ZUVycm9yXCI7XG5cdH1cbn07XG52YXIgR3JhcGhJbnRlcnJ1cHQgPSBjbGFzcyBleHRlbmRzIEdyYXBoQnViYmxlVXAge1xuXHRpbnRlcnJ1cHRzO1xuXHRjb25zdHJ1Y3RvcihpbnRlcnJ1cHRzLCBmaWVsZHMpIHtcblx0XHRzdXBlcihKU09OLnN0cmluZ2lmeShpbnRlcnJ1cHRzLCBudWxsLCAyKSwgZmllbGRzKTtcblx0XHR0aGlzLm5hbWUgPSBcIkdyYXBoSW50ZXJydXB0XCI7XG5cdFx0dGhpcy5pbnRlcnJ1cHRzID0gaW50ZXJydXB0cyA/PyBbXTtcblx0fVxuXHRzdGF0aWMgZ2V0IHVubWluaWZpYWJsZV9uYW1lKCkge1xuXHRcdHJldHVybiBcIkdyYXBoSW50ZXJydXB0XCI7XG5cdH1cbn07XG4vKiogUmFpc2VkIGJ5IGEgbm9kZSB0byBpbnRlcnJ1cHQgZXhlY3V0aW9uLiAqL1xudmFyIE5vZGVJbnRlcnJ1cHQgPSBjbGFzcyBleHRlbmRzIEdyYXBoSW50ZXJydXB0IHtcblx0Y29uc3RydWN0b3IobWVzc2FnZSwgZmllbGRzKSB7XG5cdFx0c3VwZXIoW3sgdmFsdWU6IG1lc3NhZ2UgfV0sIGZpZWxkcyk7XG5cdFx0dGhpcy5uYW1lID0gXCJOb2RlSW50ZXJydXB0XCI7XG5cdH1cblx0c3RhdGljIGdldCB1bm1pbmlmaWFibGVfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJOb2RlSW50ZXJydXB0XCI7XG5cdH1cbn07XG52YXIgUGFyZW50Q29tbWFuZCA9IGNsYXNzIGV4dGVuZHMgR3JhcGhCdWJibGVVcCB7XG5cdGNvbW1hbmQ7XG5cdGNvbnN0cnVjdG9yKGNvbW1hbmQpIHtcblx0XHRzdXBlcigpO1xuXHRcdHRoaXMubmFtZSA9IFwiUGFyZW50Q29tbWFuZFwiO1xuXHRcdHRoaXMuY29tbWFuZCA9IGNvbW1hbmQ7XG5cdH1cblx0c3RhdGljIGdldCB1bm1pbmlmaWFibGVfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJQYXJlbnRDb21tYW5kXCI7XG5cdH1cbn07XG5mdW5jdGlvbiBpc1BhcmVudENvbW1hbmQoZSkge1xuXHRyZXR1cm4gZSAhPT0gdm9pZCAwICYmIGUubmFtZSA9PT0gUGFyZW50Q29tbWFuZC51bm1pbmlmaWFibGVfbmFtZTtcbn1cbmZ1bmN0aW9uIGlzR3JhcGhCdWJibGVVcChlKSB7XG5cdHJldHVybiBlICE9PSB2b2lkIDAgJiYgZS5pc19idWJibGVfdXAgPT09IHRydWU7XG59XG5mdW5jdGlvbiBpc0dyYXBoSW50ZXJydXB0KGUpIHtcblx0cmV0dXJuIGUgIT09IHZvaWQgMCAmJiBbR3JhcGhJbnRlcnJ1cHQudW5taW5pZmlhYmxlX25hbWUsIE5vZGVJbnRlcnJ1cHQudW5taW5pZmlhYmxlX25hbWVdLmluY2x1ZGVzKGUubmFtZSk7XG59XG52YXIgRW1wdHlJbnB1dEVycm9yID0gY2xhc3MgZXh0ZW5kcyBCYXNlTGFuZ0dyYXBoRXJyb3Ige1xuXHRjb25zdHJ1Y3RvcihtZXNzYWdlLCBmaWVsZHMpIHtcblx0XHRzdXBlcihtZXNzYWdlLCBmaWVsZHMpO1xuXHRcdHRoaXMubmFtZSA9IFwiRW1wdHlJbnB1dEVycm9yXCI7XG5cdH1cblx0c3RhdGljIGdldCB1bm1pbmlmaWFibGVfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJFbXB0eUlucHV0RXJyb3JcIjtcblx0fVxufTtcbnZhciBFbXB0eUNoYW5uZWxFcnJvciA9IGNsYXNzIGV4dGVuZHMgQmFzZUxhbmdHcmFwaEVycm9yIHtcblx0Y29uc3RydWN0b3IobWVzc2FnZSwgZmllbGRzKSB7XG5cdFx0c3VwZXIobWVzc2FnZSwgZmllbGRzKTtcblx0XHR0aGlzLm5hbWUgPSBcIkVtcHR5Q2hhbm5lbEVycm9yXCI7XG5cdH1cblx0c3RhdGljIGdldCB1bm1pbmlmaWFibGVfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJFbXB0eUNoYW5uZWxFcnJvclwiO1xuXHR9XG59O1xudmFyIEludmFsaWRVcGRhdGVFcnJvciA9IGNsYXNzIGV4dGVuZHMgQmFzZUxhbmdHcmFwaEVycm9yIHtcblx0Y29uc3RydWN0b3IobWVzc2FnZSwgZmllbGRzKSB7XG5cdFx0c3VwZXIobWVzc2FnZSwgZmllbGRzKTtcblx0XHR0aGlzLm5hbWUgPSBcIkludmFsaWRVcGRhdGVFcnJvclwiO1xuXHR9XG5cdHN0YXRpYyBnZXQgdW5taW5pZmlhYmxlX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiSW52YWxpZFVwZGF0ZUVycm9yXCI7XG5cdH1cbn07XG4vKipcbiogQGRlcHJlY2F0ZWQgVGhpcyBleGNlcHRpb24gdHlwZSBpcyBubyBsb25nZXIgdGhyb3duLlxuKi9cbnZhciBNdWx0aXBsZVN1YmdyYXBoc0Vycm9yID0gY2xhc3MgZXh0ZW5kcyBCYXNlTGFuZ0dyYXBoRXJyb3Ige1xuXHRjb25zdHJ1Y3RvcihtZXNzYWdlLCBmaWVsZHMpIHtcblx0XHRzdXBlcihtZXNzYWdlLCBmaWVsZHMpO1xuXHRcdHRoaXMubmFtZSA9IFwiTXVsdGlwbGVTdWJncmFwaEVycm9yXCI7XG5cdH1cblx0c3RhdGljIGdldCB1bm1pbmlmaWFibGVfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJNdWx0aXBsZVN1YmdyYXBoRXJyb3JcIjtcblx0fVxufTtcbnZhciBVbnJlYWNoYWJsZU5vZGVFcnJvciA9IGNsYXNzIGV4dGVuZHMgQmFzZUxhbmdHcmFwaEVycm9yIHtcblx0Y29uc3RydWN0b3IobWVzc2FnZSwgZmllbGRzKSB7XG5cdFx0c3VwZXIobWVzc2FnZSwgZmllbGRzKTtcblx0XHR0aGlzLm5hbWUgPSBcIlVucmVhY2hhYmxlTm9kZUVycm9yXCI7XG5cdH1cblx0c3RhdGljIGdldCB1bm1pbmlmaWFibGVfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJVbnJlYWNoYWJsZU5vZGVFcnJvclwiO1xuXHR9XG59O1xuLyoqXG4qIEV4Y2VwdGlvbiByYWlzZWQgd2hlbiBhbiBlcnJvciBvY2N1cnMgaW4gdGhlIHJlbW90ZSBncmFwaC5cbiovXG52YXIgUmVtb3RlRXhjZXB0aW9uID0gY2xhc3MgZXh0ZW5kcyBCYXNlTGFuZ0dyYXBoRXJyb3Ige1xuXHRjb25zdHJ1Y3RvcihtZXNzYWdlLCBmaWVsZHMpIHtcblx0XHRzdXBlcihtZXNzYWdlLCBmaWVsZHMpO1xuXHRcdHRoaXMubmFtZSA9IFwiUmVtb3RlRXhjZXB0aW9uXCI7XG5cdH1cblx0c3RhdGljIGdldCB1bm1pbmlmaWFibGVfbmFtZSgpIHtcblx0XHRyZXR1cm4gXCJSZW1vdGVFeGNlcHRpb25cIjtcblx0fVxufTtcbi8qKlxuKiBVc2VkIGZvciBzdWJncmFwaCBkZXRlY3Rpb24uXG4qL1xuY29uc3QgZ2V0U3ViZ3JhcGhzU2VlblNldCA9ICgpID0+IHtcblx0aWYgKGdsb2JhbFRoaXNbU3ltYm9sLmZvcihcIkxHX0NIRUNLUE9JTlRfU0VFTl9OU19TRVRcIildID09PSB2b2lkIDApIGdsb2JhbFRoaXNbU3ltYm9sLmZvcihcIkxHX0NIRUNLUE9JTlRfU0VFTl9OU19TRVRcIildID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcblx0cmV0dXJuIGdsb2JhbFRoaXNbU3ltYm9sLmZvcihcIkxHX0NIRUNLUE9JTlRfU0VFTl9OU19TRVRcIildO1xufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBCYXNlTGFuZ0dyYXBoRXJyb3IsIEVtcHR5Q2hhbm5lbEVycm9yLCBFbXB0eUlucHV0RXJyb3IsIEdyYXBoQnViYmxlVXAsIEdyYXBoSW50ZXJydXB0LCBHcmFwaFJlY3Vyc2lvbkVycm9yLCBHcmFwaFZhbHVlRXJyb3IsIEludmFsaWRVcGRhdGVFcnJvciwgTXVsdGlwbGVTdWJncmFwaHNFcnJvciwgTm9kZUludGVycnVwdCwgUGFyZW50Q29tbWFuZCwgUmVtb3RlRXhjZXB0aW9uLCBVbnJlYWNoYWJsZU5vZGVFcnJvciwgZ2V0U3ViZ3JhcGhzU2VlblNldCwgaXNHcmFwaEJ1YmJsZVVwLCBpc0dyYXBoSW50ZXJydXB0LCBpc1BhcmVudENvbW1hbmQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9ycy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/errors.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/func/index.js":
/*!**********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/func/index.js ***!
  \**********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   entrypoint: () => (/* binding */ entrypoint),\n/* harmony export */   getPreviousState: () => (/* binding */ getPreviousState),\n/* harmony export */   task: () => (/* binding */ task)\n/* harmony export */ });\n/* harmony import */ var _channels_last_value_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../channels/last_value.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/last_value.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/constants.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/utils.js\");\n/* harmony import */ var _pregel_write_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../pregel/write.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/write.js\");\n/* harmony import */ var _pregel_read_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../pregel/read.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/read.js\");\n/* harmony import */ var _pregel_call_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../pregel/call.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/call.js\");\n/* harmony import */ var _pregel_index_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../pregel/index.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/index.js\");\n/* harmony import */ var _channels_ephemeral_value_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../channels/ephemeral_value.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/ephemeral_value.js\");\n/* harmony import */ var _langchain_core_singletons__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @langchain/core/singletons */ \"(ssr)/./node_modules/.pnpm/@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12_/node_modules/@langchain/core/dist/singletons/index.js\");\n\n\n\n\n\n\n\n\n\n\n//#region src/func/index.ts\n/**\n* Define a LangGraph task using the `task` function.\n*\n* Tasks can only be called from within an {@link entrypoint} or from within a StateGraph.\n* A task can be called like a regular function with the following differences:\n*\n* - When a checkpointer is enabled, the function inputs and outputs must be serializable.\n* - The wrapped function can only be called from within an entrypoint or StateGraph.\n* - Calling the function produces a promise. This makes it easy to parallelize tasks.\n*\n* @typeParam ArgsT - The type of arguments the task function accepts\n* @typeParam OutputT - The type of value the task function returns\n* @param optionsOrName - Either an {@link TaskOptions} object, or a string for the name of the task\n* @param func - The function that executes this task\n* @returns A proxy function that accepts the same arguments as the original and always returns the result as a Promise\n*\n* @example basic example\n* ```typescript\n* const addOne = task(\"add\", async (a: number) => a + 1);\n*\n* const workflow = entrypoint(\"example\", async (numbers: number[]) => {\n*   const promises = numbers.map(n => addOne(n));\n*   const results = await Promise.all(promises);\n*   return results;\n* });\n*\n* // Call the entrypoint\n* await workflow.invoke([1, 2, 3]); // Returns [2, 3, 4]\n* ```\n*\n* @example using a retry policy\n* ```typescript\n* const addOne = task({\n*     name: \"add\",\n*     retry: { maxAttempts: 3 }\n*   },\n*   async (a: number) => a + 1\n* );\n*\n* const workflow = entrypoint(\"example\", async (numbers: number[]) => {\n*   const promises = numbers.map(n => addOne(n));\n*   const results = await Promise.all(promises);\n*   return results;\n* });\n* ```\n* @category Functional API\n*/\nfunction task(optionsOrName, func) {\n\tconst options = typeof optionsOrName === \"string\" ? {\n\t\tname: optionsOrName,\n\t\tretry: void 0,\n\t\tcachePolicy: void 0\n\t} : optionsOrName;\n\tconst { name, retry } = options;\n\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isAsyncGeneratorFunction)(func) || (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isGeneratorFunction)(func)) throw new Error(\"Generators are disallowed as tasks. For streaming responses, use config.write.\");\n\tconst cachePolicy = options.cachePolicy ?? (\"cache\" in options ? options.cache : void 0);\n\tlet cache;\n\tif (typeof cachePolicy === \"boolean\") cache = cachePolicy ? {} : void 0;\n\telse cache = cachePolicy;\n\treturn (...args) => {\n\t\treturn (0,_pregel_call_js__WEBPACK_IMPORTED_MODULE_5__.call)({\n\t\t\tfunc,\n\t\t\tname,\n\t\t\tretry,\n\t\t\tcache\n\t\t}, ...args);\n\t};\n}\n/**\n* Define a LangGraph workflow using the `entrypoint` function.\n*\n* ### Function signature\n*\n* The wrapped function must accept at most **two parameters**. The first parameter\n* is the input to the function. The second (optional) parameter is a\n* {@link LangGraphRunnableConfig} object. If you wish to pass multiple parameters to\n* the function, you can pass them as an object.\n*\n* ### Helper functions\n*\n* #### Streaming\n* To write data to the \"custom\" stream, use the {@link getWriter} function, or the\n* {@link LangGraphRunnableConfig.writer} property.\n*\n* #### State management\n* The {@link getPreviousState} function can be used to access the previous state\n* that was returned from the last invocation of the entrypoint on the same thread id.\n*\n* If you wish to save state other than the return value, you can use the\n* {@link entrypoint.final} function.\n*\n* @typeParam InputT - The type of input the entrypoint accepts\n* @typeParam OutputT - The type of output the entrypoint produces\n* @param optionsOrName - Either an {@link EntrypointOptions} object, or a string for the name of the entrypoint\n* @param func - The function that executes this entrypoint\n* @returns A {@link Pregel} instance that can be run to execute the workflow\n*\n* @example Using entrypoint and tasks\n* ```typescript\n* import { task, entrypoint } from \"@langchain/langgraph\";\n* import { MemorySaver } from \"@langchain/langgraph-checkpoint\";\n* import { interrupt, Command } from \"@langchain/langgraph\";\n*\n* const composeEssay = task(\"compose\", async (topic: string) => {\n*   await new Promise(r => setTimeout(r, 1000)); // Simulate slow operation\n*   return `An essay about ${topic}`;\n* });\n*\n* const reviewWorkflow = entrypoint({\n*   name: \"review\",\n*   checkpointer: new MemorySaver()\n* }, async (topic: string) => {\n*   const essay = await composeEssay(topic);\n*   const humanReview = await interrupt({\n*     question: \"Please provide a review\",\n*     essay\n*   });\n*   return {\n*     essay,\n*     review: humanReview\n*   };\n* });\n*\n* // Example configuration for the workflow\n* const config = {\n*   configurable: {\n*     thread_id: \"some_thread\"\n*   }\n* };\n*\n* // Topic for the essay\n* const topic = \"cats\";\n*\n* // Stream the workflow to generate the essay and await human review\n* for await (const result of reviewWorkflow.stream(topic, config)) {\n*   console.log(result);\n* }\n*\n* // Example human review provided after the interrupt\n* const humanReview = \"This essay is great.\";\n*\n* // Resume the workflow with the provided human review\n* for await (const result of reviewWorkflow.stream(new Command({ resume: humanReview }), config)) {\n*   console.log(result);\n* }\n* ```\n*\n* @example Accessing the previous return value\n* ```typescript\n* import { entrypoint, getPreviousState } from \"@langchain/langgraph\";\n* import { MemorySaver } from \"@langchain/langgraph-checkpoint\";\n*\n* const accumulator = entrypoint({\n*   name: \"accumulator\",\n*   checkpointer: new MemorySaver()\n* }, async (input: string) => {\n*   const previous = getPreviousState<number>();\n*   return previous !== undefined ? `${previous } ${input}` : input;\n* });\n*\n* const config = {\n*   configurable: {\n*     thread_id: \"some_thread\"\n*   }\n* };\n* await accumulator.invoke(\"hello\", config); // returns \"hello\"\n* await accumulator.invoke(\"world\", config); // returns \"hello world\"\n* ```\n*\n* @example Using entrypoint.final to save a value\n* ```typescript\n* import { entrypoint, getPreviousState } from \"@langchain/langgraph\";\n* import { MemorySaver } from \"@langchain/langgraph-checkpoint\";\n*\n* const myWorkflow = entrypoint({\n*   name: \"accumulator\",\n*   checkpointer: new MemorySaver()\n* }, async (num: number) => {\n*   const previous = getPreviousState<number>();\n*\n*   // This will return the previous value to the caller, saving\n*   // 2 * num to the checkpoint, which will be used in the next invocation\n*   // for the `previous` parameter.\n*   return entrypoint.final({\n*     value: previous ?? 0,\n*     save: 2 * num\n*   });\n* });\n*\n* const config = {\n*   configurable: {\n*     thread_id: \"some_thread\"\n*   }\n* };\n*\n* await myWorkflow.invoke(3, config); // 0 (previous was undefined)\n* await myWorkflow.invoke(1, config); // 6 (previous was 3 * 2 from the previous invocation)\n* ```\n* @category Functional API\n*/\nconst entrypoint = function entrypoint$1(optionsOrName, func) {\n\tconst { name, checkpointer, store, cache } = typeof optionsOrName === \"string\" ? {\n\t\tname: optionsOrName,\n\t\tcheckpointer: void 0,\n\t\tstore: void 0\n\t} : optionsOrName;\n\tif ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isAsyncGeneratorFunction)(func) || (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isGeneratorFunction)(func)) throw new Error(\"Generators are disallowed as entrypoints. For streaming responses, use config.write.\");\n\tconst streamMode = \"updates\";\n\tconst bound = (0,_pregel_call_js__WEBPACK_IMPORTED_MODULE_5__.getRunnableForEntrypoint)(name, func);\n\tfunction isEntrypointFinal(value) {\n\t\treturn typeof value === \"object\" && value !== null && \"__lg_type\" in value && value.__lg_type === \"__pregel_final\";\n\t}\n\tconst pluckReturnValue = new _utils_js__WEBPACK_IMPORTED_MODULE_2__.RunnableCallable({\n\t\tname: \"pluckReturnValue\",\n\t\tfunc: (value) => {\n\t\t\treturn isEntrypointFinal(value) ? value.value : value;\n\t\t}\n\t});\n\tconst pluckSaveValue = new _utils_js__WEBPACK_IMPORTED_MODULE_2__.RunnableCallable({\n\t\tname: \"pluckSaveValue\",\n\t\tfunc: (value) => {\n\t\t\treturn isEntrypointFinal(value) ? value.save : value;\n\t\t}\n\t});\n\tconst entrypointNode = new _pregel_read_js__WEBPACK_IMPORTED_MODULE_4__.PregelNode({\n\t\tbound,\n\t\ttriggers: [_constants_js__WEBPACK_IMPORTED_MODULE_1__.START],\n\t\tchannels: [_constants_js__WEBPACK_IMPORTED_MODULE_1__.START],\n\t\twriters: [new _pregel_write_js__WEBPACK_IMPORTED_MODULE_3__.ChannelWrite([{\n\t\t\tchannel: _constants_js__WEBPACK_IMPORTED_MODULE_1__.END,\n\t\t\tvalue: _pregel_write_js__WEBPACK_IMPORTED_MODULE_3__.PASSTHROUGH,\n\t\t\tmapper: pluckReturnValue\n\t\t}, {\n\t\t\tchannel: _constants_js__WEBPACK_IMPORTED_MODULE_1__.PREVIOUS,\n\t\t\tvalue: _pregel_write_js__WEBPACK_IMPORTED_MODULE_3__.PASSTHROUGH,\n\t\t\tmapper: pluckSaveValue\n\t\t}], [_constants_js__WEBPACK_IMPORTED_MODULE_1__.TAG_HIDDEN])]\n\t});\n\treturn new _pregel_index_js__WEBPACK_IMPORTED_MODULE_6__.Pregel({\n\t\tname,\n\t\tcheckpointer,\n\t\tnodes: { [name]: entrypointNode },\n\t\tchannels: {\n\t\t\t[_constants_js__WEBPACK_IMPORTED_MODULE_1__.START]: new _channels_ephemeral_value_js__WEBPACK_IMPORTED_MODULE_7__.EphemeralValue(),\n\t\t\t[_constants_js__WEBPACK_IMPORTED_MODULE_1__.END]: new _channels_last_value_js__WEBPACK_IMPORTED_MODULE_0__.LastValue(),\n\t\t\t[_constants_js__WEBPACK_IMPORTED_MODULE_1__.PREVIOUS]: new _channels_last_value_js__WEBPACK_IMPORTED_MODULE_0__.LastValue()\n\t\t},\n\t\tinputChannels: _constants_js__WEBPACK_IMPORTED_MODULE_1__.START,\n\t\toutputChannels: _constants_js__WEBPACK_IMPORTED_MODULE_1__.END,\n\t\tstreamChannels: _constants_js__WEBPACK_IMPORTED_MODULE_1__.END,\n\t\tstreamMode,\n\t\tstore,\n\t\tcache\n\t});\n};\nentrypoint.final = function final({ value, save }) {\n\treturn {\n\t\tvalue,\n\t\tsave,\n\t\t__lg_type: \"__pregel_final\"\n\t};\n};\n/**\n* A helper utility function for use with the functional API that returns the previous\n* state from the checkpoint from the last invocation of the current thread.\n*\n* This function allows workflows to access state that was saved in previous runs\n* using {@link entrypoint.final}.\n*\n* @typeParam StateT - The type of the state that was previously saved\n* @returns The previous saved state from the last invocation of the current thread\n*\n* @example\n* ```typescript\n* const previousState = getPreviousState<{ counter: number }>();\n* const newCount = (previousState?.counter ?? 0) + 1;\n* ```\n* @category Functional API\n*/\nfunction getPreviousState() {\n\tconst config = _langchain_core_singletons__WEBPACK_IMPORTED_MODULE_8__.AsyncLocalStorageProviderSingleton.getRunnableConfig();\n\treturn config.configurable?.[_constants_js__WEBPACK_IMPORTED_MODULE_1__.CONFIG_KEY_PREVIOUS_STATE];\n}\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L2Z1bmMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNEO0FBQ3dDO0FBQ0E7QUFDL0I7QUFDaEI7QUFDb0I7QUFDdkI7QUFDb0I7QUFDZ0I7O0FBRWhGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLGtCQUFrQjtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLG1CQUFtQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILFNBQVMsY0FBYztBQUN2QixLQUFLLG1FQUF3QixVQUFVLDhEQUFtQjtBQUMxRDtBQUNBO0FBQ0EsZ0VBQWdFO0FBQ2hFO0FBQ0E7QUFDQSxTQUFTLHFEQUFJO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRywrQkFBK0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxpQkFBaUI7QUFDbEUsR0FBRyxzQ0FBc0M7QUFDekM7QUFDQTtBQUNBLE9BQU8sd0JBQXdCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBLEdBQUcsd0JBQXdCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyx5QkFBeUI7QUFDN0Q7QUFDQSxjQUFjLGNBQWM7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsV0FBVyxtQkFBbUI7QUFDOUIsV0FBVyxjQUFjO0FBQ3pCLFdBQVcscUJBQXFCO0FBQ2hDO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQsNkJBQTZCLE1BQU07QUFDbkMsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUscUJBQXFCO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsK0JBQStCO0FBQzFDLFdBQVcsY0FBYztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLHVDQUF1QyxXQUFXLEVBQUUsTUFBTTtBQUMxRCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsK0JBQStCO0FBQzFDLFdBQVcsY0FBYztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QyxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLG1DQUFtQztBQUM1QztBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsS0FBSyxtRUFBd0IsVUFBVSw4REFBbUI7QUFDMUQ7QUFDQSxlQUFlLHlFQUF3QjtBQUN2QztBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsdURBQWdCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGLDRCQUE0Qix1REFBZ0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0YsNEJBQTRCLHVEQUFVO0FBQ3RDO0FBQ0EsYUFBYSxnREFBSztBQUNsQixhQUFhLGdEQUFLO0FBQ2xCLGdCQUFnQiwwREFBWTtBQUM1QixZQUFZLDhDQUFHO0FBQ2YsVUFBVSx5REFBVztBQUNyQjtBQUNBLEdBQUc7QUFDSCxZQUFZLG1EQUFRO0FBQ3BCLFVBQVUseURBQVc7QUFDckI7QUFDQSxHQUFHLElBQUkscURBQVU7QUFDakIsRUFBRTtBQUNGLFlBQVksb0RBQU07QUFDbEI7QUFDQTtBQUNBLFdBQVcsd0JBQXdCO0FBQ25DO0FBQ0EsSUFBSSxnREFBSyxPQUFPLHdFQUFjO0FBQzlCLElBQUksOENBQUcsT0FBTyw4REFBUztBQUN2QixJQUFJLG1EQUFRLE9BQU8sOERBQVM7QUFDNUIsR0FBRztBQUNILGlCQUFpQixnREFBSztBQUN0QixrQkFBa0IsOENBQUc7QUFDckIsa0JBQWtCLDhDQUFHO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBLG9DQUFvQyxhQUFhO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHVCQUF1QjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsaUJBQWlCO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsMEZBQWtDO0FBQ2xELDhCQUE4QixvRUFBeUI7QUFDdkQ7O0FBRUE7QUFDOEM7QUFDOUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2IvRGVza3RvcC9wcm9qZWN0X3gvcHJvamVjdC1zcWwtYWdlbnQvc2VydmljZXMvZnJvbnRlbmQvbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rbGFuZ2dyYXBoQDEuMC4xX0BsYW5nY2hhaW4rY29yZUAxLjAuMl9vcGVuYWlANC4xMDAuMF93c0A4LjE4LjJfem9kQDQuMS4xMl9fX19lZmE0ZThmODY1NThlNWQyOWViZGVjM2QyZjAwNGVkOS9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9sYW5nZ3JhcGgvZGlzdC9mdW5jL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExhc3RWYWx1ZSB9IGZyb20gXCIuLi9jaGFubmVscy9sYXN0X3ZhbHVlLmpzXCI7XG5pbXBvcnQgeyBDT05GSUdfS0VZX1BSRVZJT1VTX1NUQVRFLCBFTkQsIFBSRVZJT1VTLCBTVEFSVCwgVEFHX0hJRERFTiB9IGZyb20gXCIuLi9jb25zdGFudHMuanNcIjtcbmltcG9ydCB7IFJ1bm5hYmxlQ2FsbGFibGUsIGlzQXN5bmNHZW5lcmF0b3JGdW5jdGlvbiwgaXNHZW5lcmF0b3JGdW5jdGlvbiB9IGZyb20gXCIuLi91dGlscy5qc1wiO1xuaW1wb3J0IHsgQ2hhbm5lbFdyaXRlLCBQQVNTVEhST1VHSCB9IGZyb20gXCIuLi9wcmVnZWwvd3JpdGUuanNcIjtcbmltcG9ydCB7IFByZWdlbE5vZGUgfSBmcm9tIFwiLi4vcHJlZ2VsL3JlYWQuanNcIjtcbmltcG9ydCB7IGNhbGwsIGdldFJ1bm5hYmxlRm9yRW50cnlwb2ludCB9IGZyb20gXCIuLi9wcmVnZWwvY2FsbC5qc1wiO1xuaW1wb3J0IHsgUHJlZ2VsIH0gZnJvbSBcIi4uL3ByZWdlbC9pbmRleC5qc1wiO1xuaW1wb3J0IHsgRXBoZW1lcmFsVmFsdWUgfSBmcm9tIFwiLi4vY2hhbm5lbHMvZXBoZW1lcmFsX3ZhbHVlLmpzXCI7XG5pbXBvcnQgeyBBc3luY0xvY2FsU3RvcmFnZVByb3ZpZGVyU2luZ2xldG9uIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9zaW5nbGV0b25zXCI7XG5cbi8vI3JlZ2lvbiBzcmMvZnVuYy9pbmRleC50c1xuLyoqXG4qIERlZmluZSBhIExhbmdHcmFwaCB0YXNrIHVzaW5nIHRoZSBgdGFza2AgZnVuY3Rpb24uXG4qXG4qIFRhc2tzIGNhbiBvbmx5IGJlIGNhbGxlZCBmcm9tIHdpdGhpbiBhbiB7QGxpbmsgZW50cnlwb2ludH0gb3IgZnJvbSB3aXRoaW4gYSBTdGF0ZUdyYXBoLlxuKiBBIHRhc2sgY2FuIGJlIGNhbGxlZCBsaWtlIGEgcmVndWxhciBmdW5jdGlvbiB3aXRoIHRoZSBmb2xsb3dpbmcgZGlmZmVyZW5jZXM6XG4qXG4qIC0gV2hlbiBhIGNoZWNrcG9pbnRlciBpcyBlbmFibGVkLCB0aGUgZnVuY3Rpb24gaW5wdXRzIGFuZCBvdXRwdXRzIG11c3QgYmUgc2VyaWFsaXphYmxlLlxuKiAtIFRoZSB3cmFwcGVkIGZ1bmN0aW9uIGNhbiBvbmx5IGJlIGNhbGxlZCBmcm9tIHdpdGhpbiBhbiBlbnRyeXBvaW50IG9yIFN0YXRlR3JhcGguXG4qIC0gQ2FsbGluZyB0aGUgZnVuY3Rpb24gcHJvZHVjZXMgYSBwcm9taXNlLiBUaGlzIG1ha2VzIGl0IGVhc3kgdG8gcGFyYWxsZWxpemUgdGFza3MuXG4qXG4qIEB0eXBlUGFyYW0gQXJnc1QgLSBUaGUgdHlwZSBvZiBhcmd1bWVudHMgdGhlIHRhc2sgZnVuY3Rpb24gYWNjZXB0c1xuKiBAdHlwZVBhcmFtIE91dHB1dFQgLSBUaGUgdHlwZSBvZiB2YWx1ZSB0aGUgdGFzayBmdW5jdGlvbiByZXR1cm5zXG4qIEBwYXJhbSBvcHRpb25zT3JOYW1lIC0gRWl0aGVyIGFuIHtAbGluayBUYXNrT3B0aW9uc30gb2JqZWN0LCBvciBhIHN0cmluZyBmb3IgdGhlIG5hbWUgb2YgdGhlIHRhc2tcbiogQHBhcmFtIGZ1bmMgLSBUaGUgZnVuY3Rpb24gdGhhdCBleGVjdXRlcyB0aGlzIHRhc2tcbiogQHJldHVybnMgQSBwcm94eSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgdGhlIHNhbWUgYXJndW1lbnRzIGFzIHRoZSBvcmlnaW5hbCBhbmQgYWx3YXlzIHJldHVybnMgdGhlIHJlc3VsdCBhcyBhIFByb21pc2VcbipcbiogQGV4YW1wbGUgYmFzaWMgZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIGNvbnN0IGFkZE9uZSA9IHRhc2soXCJhZGRcIiwgYXN5bmMgKGE6IG51bWJlcikgPT4gYSArIDEpO1xuKlxuKiBjb25zdCB3b3JrZmxvdyA9IGVudHJ5cG9pbnQoXCJleGFtcGxlXCIsIGFzeW5jIChudW1iZXJzOiBudW1iZXJbXSkgPT4ge1xuKiAgIGNvbnN0IHByb21pc2VzID0gbnVtYmVycy5tYXAobiA9PiBhZGRPbmUobikpO1xuKiAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4qICAgcmV0dXJuIHJlc3VsdHM7XG4qIH0pO1xuKlxuKiAvLyBDYWxsIHRoZSBlbnRyeXBvaW50XG4qIGF3YWl0IHdvcmtmbG93Lmludm9rZShbMSwgMiwgM10pOyAvLyBSZXR1cm5zIFsyLCAzLCA0XVxuKiBgYGBcbipcbiogQGV4YW1wbGUgdXNpbmcgYSByZXRyeSBwb2xpY3lcbiogYGBgdHlwZXNjcmlwdFxuKiBjb25zdCBhZGRPbmUgPSB0YXNrKHtcbiogICAgIG5hbWU6IFwiYWRkXCIsXG4qICAgICByZXRyeTogeyBtYXhBdHRlbXB0czogMyB9XG4qICAgfSxcbiogICBhc3luYyAoYTogbnVtYmVyKSA9PiBhICsgMVxuKiApO1xuKlxuKiBjb25zdCB3b3JrZmxvdyA9IGVudHJ5cG9pbnQoXCJleGFtcGxlXCIsIGFzeW5jIChudW1iZXJzOiBudW1iZXJbXSkgPT4ge1xuKiAgIGNvbnN0IHByb21pc2VzID0gbnVtYmVycy5tYXAobiA9PiBhZGRPbmUobikpO1xuKiAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4qICAgcmV0dXJuIHJlc3VsdHM7XG4qIH0pO1xuKiBgYGBcbiogQGNhdGVnb3J5IEZ1bmN0aW9uYWwgQVBJXG4qL1xuZnVuY3Rpb24gdGFzayhvcHRpb25zT3JOYW1lLCBmdW5jKSB7XG5cdGNvbnN0IG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9uc09yTmFtZSA9PT0gXCJzdHJpbmdcIiA/IHtcblx0XHRuYW1lOiBvcHRpb25zT3JOYW1lLFxuXHRcdHJldHJ5OiB2b2lkIDAsXG5cdFx0Y2FjaGVQb2xpY3k6IHZvaWQgMFxuXHR9IDogb3B0aW9uc09yTmFtZTtcblx0Y29uc3QgeyBuYW1lLCByZXRyeSB9ID0gb3B0aW9ucztcblx0aWYgKGlzQXN5bmNHZW5lcmF0b3JGdW5jdGlvbihmdW5jKSB8fCBpc0dlbmVyYXRvckZ1bmN0aW9uKGZ1bmMpKSB0aHJvdyBuZXcgRXJyb3IoXCJHZW5lcmF0b3JzIGFyZSBkaXNhbGxvd2VkIGFzIHRhc2tzLiBGb3Igc3RyZWFtaW5nIHJlc3BvbnNlcywgdXNlIGNvbmZpZy53cml0ZS5cIik7XG5cdGNvbnN0IGNhY2hlUG9saWN5ID0gb3B0aW9ucy5jYWNoZVBvbGljeSA/PyAoXCJjYWNoZVwiIGluIG9wdGlvbnMgPyBvcHRpb25zLmNhY2hlIDogdm9pZCAwKTtcblx0bGV0IGNhY2hlO1xuXHRpZiAodHlwZW9mIGNhY2hlUG9saWN5ID09PSBcImJvb2xlYW5cIikgY2FjaGUgPSBjYWNoZVBvbGljeSA/IHt9IDogdm9pZCAwO1xuXHRlbHNlIGNhY2hlID0gY2FjaGVQb2xpY3k7XG5cdHJldHVybiAoLi4uYXJncykgPT4ge1xuXHRcdHJldHVybiBjYWxsKHtcblx0XHRcdGZ1bmMsXG5cdFx0XHRuYW1lLFxuXHRcdFx0cmV0cnksXG5cdFx0XHRjYWNoZVxuXHRcdH0sIC4uLmFyZ3MpO1xuXHR9O1xufVxuLyoqXG4qIERlZmluZSBhIExhbmdHcmFwaCB3b3JrZmxvdyB1c2luZyB0aGUgYGVudHJ5cG9pbnRgIGZ1bmN0aW9uLlxuKlxuKiAjIyMgRnVuY3Rpb24gc2lnbmF0dXJlXG4qXG4qIFRoZSB3cmFwcGVkIGZ1bmN0aW9uIG11c3QgYWNjZXB0IGF0IG1vc3QgKip0d28gcGFyYW1ldGVycyoqLiBUaGUgZmlyc3QgcGFyYW1ldGVyXG4qIGlzIHRoZSBpbnB1dCB0byB0aGUgZnVuY3Rpb24uIFRoZSBzZWNvbmQgKG9wdGlvbmFsKSBwYXJhbWV0ZXIgaXMgYVxuKiB7QGxpbmsgTGFuZ0dyYXBoUnVubmFibGVDb25maWd9IG9iamVjdC4gSWYgeW91IHdpc2ggdG8gcGFzcyBtdWx0aXBsZSBwYXJhbWV0ZXJzIHRvXG4qIHRoZSBmdW5jdGlvbiwgeW91IGNhbiBwYXNzIHRoZW0gYXMgYW4gb2JqZWN0LlxuKlxuKiAjIyMgSGVscGVyIGZ1bmN0aW9uc1xuKlxuKiAjIyMjIFN0cmVhbWluZ1xuKiBUbyB3cml0ZSBkYXRhIHRvIHRoZSBcImN1c3RvbVwiIHN0cmVhbSwgdXNlIHRoZSB7QGxpbmsgZ2V0V3JpdGVyfSBmdW5jdGlvbiwgb3IgdGhlXG4qIHtAbGluayBMYW5nR3JhcGhSdW5uYWJsZUNvbmZpZy53cml0ZXJ9IHByb3BlcnR5LlxuKlxuKiAjIyMjIFN0YXRlIG1hbmFnZW1lbnRcbiogVGhlIHtAbGluayBnZXRQcmV2aW91c1N0YXRlfSBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byBhY2Nlc3MgdGhlIHByZXZpb3VzIHN0YXRlXG4qIHRoYXQgd2FzIHJldHVybmVkIGZyb20gdGhlIGxhc3QgaW52b2NhdGlvbiBvZiB0aGUgZW50cnlwb2ludCBvbiB0aGUgc2FtZSB0aHJlYWQgaWQuXG4qXG4qIElmIHlvdSB3aXNoIHRvIHNhdmUgc3RhdGUgb3RoZXIgdGhhbiB0aGUgcmV0dXJuIHZhbHVlLCB5b3UgY2FuIHVzZSB0aGVcbioge0BsaW5rIGVudHJ5cG9pbnQuZmluYWx9IGZ1bmN0aW9uLlxuKlxuKiBAdHlwZVBhcmFtIElucHV0VCAtIFRoZSB0eXBlIG9mIGlucHV0IHRoZSBlbnRyeXBvaW50IGFjY2VwdHNcbiogQHR5cGVQYXJhbSBPdXRwdXRUIC0gVGhlIHR5cGUgb2Ygb3V0cHV0IHRoZSBlbnRyeXBvaW50IHByb2R1Y2VzXG4qIEBwYXJhbSBvcHRpb25zT3JOYW1lIC0gRWl0aGVyIGFuIHtAbGluayBFbnRyeXBvaW50T3B0aW9uc30gb2JqZWN0LCBvciBhIHN0cmluZyBmb3IgdGhlIG5hbWUgb2YgdGhlIGVudHJ5cG9pbnRcbiogQHBhcmFtIGZ1bmMgLSBUaGUgZnVuY3Rpb24gdGhhdCBleGVjdXRlcyB0aGlzIGVudHJ5cG9pbnRcbiogQHJldHVybnMgQSB7QGxpbmsgUHJlZ2VsfSBpbnN0YW5jZSB0aGF0IGNhbiBiZSBydW4gdG8gZXhlY3V0ZSB0aGUgd29ya2Zsb3dcbipcbiogQGV4YW1wbGUgVXNpbmcgZW50cnlwb2ludCBhbmQgdGFza3NcbiogYGBgdHlwZXNjcmlwdFxuKiBpbXBvcnQgeyB0YXNrLCBlbnRyeXBvaW50IH0gZnJvbSBcIkBsYW5nY2hhaW4vbGFuZ2dyYXBoXCI7XG4qIGltcG9ydCB7IE1lbW9yeVNhdmVyIH0gZnJvbSBcIkBsYW5nY2hhaW4vbGFuZ2dyYXBoLWNoZWNrcG9pbnRcIjtcbiogaW1wb3J0IHsgaW50ZXJydXB0LCBDb21tYW5kIH0gZnJvbSBcIkBsYW5nY2hhaW4vbGFuZ2dyYXBoXCI7XG4qXG4qIGNvbnN0IGNvbXBvc2VFc3NheSA9IHRhc2soXCJjb21wb3NlXCIsIGFzeW5jICh0b3BpYzogc3RyaW5nKSA9PiB7XG4qICAgYXdhaXQgbmV3IFByb21pc2UociA9PiBzZXRUaW1lb3V0KHIsIDEwMDApKTsgLy8gU2ltdWxhdGUgc2xvdyBvcGVyYXRpb25cbiogICByZXR1cm4gYEFuIGVzc2F5IGFib3V0ICR7dG9waWN9YDtcbiogfSk7XG4qXG4qIGNvbnN0IHJldmlld1dvcmtmbG93ID0gZW50cnlwb2ludCh7XG4qICAgbmFtZTogXCJyZXZpZXdcIixcbiogICBjaGVja3BvaW50ZXI6IG5ldyBNZW1vcnlTYXZlcigpXG4qIH0sIGFzeW5jICh0b3BpYzogc3RyaW5nKSA9PiB7XG4qICAgY29uc3QgZXNzYXkgPSBhd2FpdCBjb21wb3NlRXNzYXkodG9waWMpO1xuKiAgIGNvbnN0IGh1bWFuUmV2aWV3ID0gYXdhaXQgaW50ZXJydXB0KHtcbiogICAgIHF1ZXN0aW9uOiBcIlBsZWFzZSBwcm92aWRlIGEgcmV2aWV3XCIsXG4qICAgICBlc3NheVxuKiAgIH0pO1xuKiAgIHJldHVybiB7XG4qICAgICBlc3NheSxcbiogICAgIHJldmlldzogaHVtYW5SZXZpZXdcbiogICB9O1xuKiB9KTtcbipcbiogLy8gRXhhbXBsZSBjb25maWd1cmF0aW9uIGZvciB0aGUgd29ya2Zsb3dcbiogY29uc3QgY29uZmlnID0ge1xuKiAgIGNvbmZpZ3VyYWJsZToge1xuKiAgICAgdGhyZWFkX2lkOiBcInNvbWVfdGhyZWFkXCJcbiogICB9XG4qIH07XG4qXG4qIC8vIFRvcGljIGZvciB0aGUgZXNzYXlcbiogY29uc3QgdG9waWMgPSBcImNhdHNcIjtcbipcbiogLy8gU3RyZWFtIHRoZSB3b3JrZmxvdyB0byBnZW5lcmF0ZSB0aGUgZXNzYXkgYW5kIGF3YWl0IGh1bWFuIHJldmlld1xuKiBmb3IgYXdhaXQgKGNvbnN0IHJlc3VsdCBvZiByZXZpZXdXb3JrZmxvdy5zdHJlYW0odG9waWMsIGNvbmZpZykpIHtcbiogICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuKiB9XG4qXG4qIC8vIEV4YW1wbGUgaHVtYW4gcmV2aWV3IHByb3ZpZGVkIGFmdGVyIHRoZSBpbnRlcnJ1cHRcbiogY29uc3QgaHVtYW5SZXZpZXcgPSBcIlRoaXMgZXNzYXkgaXMgZ3JlYXQuXCI7XG4qXG4qIC8vIFJlc3VtZSB0aGUgd29ya2Zsb3cgd2l0aCB0aGUgcHJvdmlkZWQgaHVtYW4gcmV2aWV3XG4qIGZvciBhd2FpdCAoY29uc3QgcmVzdWx0IG9mIHJldmlld1dvcmtmbG93LnN0cmVhbShuZXcgQ29tbWFuZCh7IHJlc3VtZTogaHVtYW5SZXZpZXcgfSksIGNvbmZpZykpIHtcbiogICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuKiB9XG4qIGBgYFxuKlxuKiBAZXhhbXBsZSBBY2Nlc3NpbmcgdGhlIHByZXZpb3VzIHJldHVybiB2YWx1ZVxuKiBgYGB0eXBlc2NyaXB0XG4qIGltcG9ydCB7IGVudHJ5cG9pbnQsIGdldFByZXZpb3VzU3RhdGUgfSBmcm9tIFwiQGxhbmdjaGFpbi9sYW5nZ3JhcGhcIjtcbiogaW1wb3J0IHsgTWVtb3J5U2F2ZXIgfSBmcm9tIFwiQGxhbmdjaGFpbi9sYW5nZ3JhcGgtY2hlY2twb2ludFwiO1xuKlxuKiBjb25zdCBhY2N1bXVsYXRvciA9IGVudHJ5cG9pbnQoe1xuKiAgIG5hbWU6IFwiYWNjdW11bGF0b3JcIixcbiogICBjaGVja3BvaW50ZXI6IG5ldyBNZW1vcnlTYXZlcigpXG4qIH0sIGFzeW5jIChpbnB1dDogc3RyaW5nKSA9PiB7XG4qICAgY29uc3QgcHJldmlvdXMgPSBnZXRQcmV2aW91c1N0YXRlPG51bWJlcj4oKTtcbiogICByZXR1cm4gcHJldmlvdXMgIT09IHVuZGVmaW5lZCA/IGAke3ByZXZpb3VzIH0gJHtpbnB1dH1gIDogaW5wdXQ7XG4qIH0pO1xuKlxuKiBjb25zdCBjb25maWcgPSB7XG4qICAgY29uZmlndXJhYmxlOiB7XG4qICAgICB0aHJlYWRfaWQ6IFwic29tZV90aHJlYWRcIlxuKiAgIH1cbiogfTtcbiogYXdhaXQgYWNjdW11bGF0b3IuaW52b2tlKFwiaGVsbG9cIiwgY29uZmlnKTsgLy8gcmV0dXJucyBcImhlbGxvXCJcbiogYXdhaXQgYWNjdW11bGF0b3IuaW52b2tlKFwid29ybGRcIiwgY29uZmlnKTsgLy8gcmV0dXJucyBcImhlbGxvIHdvcmxkXCJcbiogYGBgXG4qXG4qIEBleGFtcGxlIFVzaW5nIGVudHJ5cG9pbnQuZmluYWwgdG8gc2F2ZSBhIHZhbHVlXG4qIGBgYHR5cGVzY3JpcHRcbiogaW1wb3J0IHsgZW50cnlwb2ludCwgZ2V0UHJldmlvdXNTdGF0ZSB9IGZyb20gXCJAbGFuZ2NoYWluL2xhbmdncmFwaFwiO1xuKiBpbXBvcnQgeyBNZW1vcnlTYXZlciB9IGZyb20gXCJAbGFuZ2NoYWluL2xhbmdncmFwaC1jaGVja3BvaW50XCI7XG4qXG4qIGNvbnN0IG15V29ya2Zsb3cgPSBlbnRyeXBvaW50KHtcbiogICBuYW1lOiBcImFjY3VtdWxhdG9yXCIsXG4qICAgY2hlY2twb2ludGVyOiBuZXcgTWVtb3J5U2F2ZXIoKVxuKiB9LCBhc3luYyAobnVtOiBudW1iZXIpID0+IHtcbiogICBjb25zdCBwcmV2aW91cyA9IGdldFByZXZpb3VzU3RhdGU8bnVtYmVyPigpO1xuKlxuKiAgIC8vIFRoaXMgd2lsbCByZXR1cm4gdGhlIHByZXZpb3VzIHZhbHVlIHRvIHRoZSBjYWxsZXIsIHNhdmluZ1xuKiAgIC8vIDIgKiBudW0gdG8gdGhlIGNoZWNrcG9pbnQsIHdoaWNoIHdpbGwgYmUgdXNlZCBpbiB0aGUgbmV4dCBpbnZvY2F0aW9uXG4qICAgLy8gZm9yIHRoZSBgcHJldmlvdXNgIHBhcmFtZXRlci5cbiogICByZXR1cm4gZW50cnlwb2ludC5maW5hbCh7XG4qICAgICB2YWx1ZTogcHJldmlvdXMgPz8gMCxcbiogICAgIHNhdmU6IDIgKiBudW1cbiogICB9KTtcbiogfSk7XG4qXG4qIGNvbnN0IGNvbmZpZyA9IHtcbiogICBjb25maWd1cmFibGU6IHtcbiogICAgIHRocmVhZF9pZDogXCJzb21lX3RocmVhZFwiXG4qICAgfVxuKiB9O1xuKlxuKiBhd2FpdCBteVdvcmtmbG93Lmludm9rZSgzLCBjb25maWcpOyAvLyAwIChwcmV2aW91cyB3YXMgdW5kZWZpbmVkKVxuKiBhd2FpdCBteVdvcmtmbG93Lmludm9rZSgxLCBjb25maWcpOyAvLyA2IChwcmV2aW91cyB3YXMgMyAqIDIgZnJvbSB0aGUgcHJldmlvdXMgaW52b2NhdGlvbilcbiogYGBgXG4qIEBjYXRlZ29yeSBGdW5jdGlvbmFsIEFQSVxuKi9cbmNvbnN0IGVudHJ5cG9pbnQgPSBmdW5jdGlvbiBlbnRyeXBvaW50JDEob3B0aW9uc09yTmFtZSwgZnVuYykge1xuXHRjb25zdCB7IG5hbWUsIGNoZWNrcG9pbnRlciwgc3RvcmUsIGNhY2hlIH0gPSB0eXBlb2Ygb3B0aW9uc09yTmFtZSA9PT0gXCJzdHJpbmdcIiA/IHtcblx0XHRuYW1lOiBvcHRpb25zT3JOYW1lLFxuXHRcdGNoZWNrcG9pbnRlcjogdm9pZCAwLFxuXHRcdHN0b3JlOiB2b2lkIDBcblx0fSA6IG9wdGlvbnNPck5hbWU7XG5cdGlmIChpc0FzeW5jR2VuZXJhdG9yRnVuY3Rpb24oZnVuYykgfHwgaXNHZW5lcmF0b3JGdW5jdGlvbihmdW5jKSkgdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9ycyBhcmUgZGlzYWxsb3dlZCBhcyBlbnRyeXBvaW50cy4gRm9yIHN0cmVhbWluZyByZXNwb25zZXMsIHVzZSBjb25maWcud3JpdGUuXCIpO1xuXHRjb25zdCBzdHJlYW1Nb2RlID0gXCJ1cGRhdGVzXCI7XG5cdGNvbnN0IGJvdW5kID0gZ2V0UnVubmFibGVGb3JFbnRyeXBvaW50KG5hbWUsIGZ1bmMpO1xuXHRmdW5jdGlvbiBpc0VudHJ5cG9pbnRGaW5hbCh2YWx1ZSkge1xuXHRcdHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUgIT09IG51bGwgJiYgXCJfX2xnX3R5cGVcIiBpbiB2YWx1ZSAmJiB2YWx1ZS5fX2xnX3R5cGUgPT09IFwiX19wcmVnZWxfZmluYWxcIjtcblx0fVxuXHRjb25zdCBwbHVja1JldHVyblZhbHVlID0gbmV3IFJ1bm5hYmxlQ2FsbGFibGUoe1xuXHRcdG5hbWU6IFwicGx1Y2tSZXR1cm5WYWx1ZVwiLFxuXHRcdGZ1bmM6ICh2YWx1ZSkgPT4ge1xuXHRcdFx0cmV0dXJuIGlzRW50cnlwb2ludEZpbmFsKHZhbHVlKSA/IHZhbHVlLnZhbHVlIDogdmFsdWU7XG5cdFx0fVxuXHR9KTtcblx0Y29uc3QgcGx1Y2tTYXZlVmFsdWUgPSBuZXcgUnVubmFibGVDYWxsYWJsZSh7XG5cdFx0bmFtZTogXCJwbHVja1NhdmVWYWx1ZVwiLFxuXHRcdGZ1bmM6ICh2YWx1ZSkgPT4ge1xuXHRcdFx0cmV0dXJuIGlzRW50cnlwb2ludEZpbmFsKHZhbHVlKSA/IHZhbHVlLnNhdmUgOiB2YWx1ZTtcblx0XHR9XG5cdH0pO1xuXHRjb25zdCBlbnRyeXBvaW50Tm9kZSA9IG5ldyBQcmVnZWxOb2RlKHtcblx0XHRib3VuZCxcblx0XHR0cmlnZ2VyczogW1NUQVJUXSxcblx0XHRjaGFubmVsczogW1NUQVJUXSxcblx0XHR3cml0ZXJzOiBbbmV3IENoYW5uZWxXcml0ZShbe1xuXHRcdFx0Y2hhbm5lbDogRU5ELFxuXHRcdFx0dmFsdWU6IFBBU1NUSFJPVUdILFxuXHRcdFx0bWFwcGVyOiBwbHVja1JldHVyblZhbHVlXG5cdFx0fSwge1xuXHRcdFx0Y2hhbm5lbDogUFJFVklPVVMsXG5cdFx0XHR2YWx1ZTogUEFTU1RIUk9VR0gsXG5cdFx0XHRtYXBwZXI6IHBsdWNrU2F2ZVZhbHVlXG5cdFx0fV0sIFtUQUdfSElEREVOXSldXG5cdH0pO1xuXHRyZXR1cm4gbmV3IFByZWdlbCh7XG5cdFx0bmFtZSxcblx0XHRjaGVja3BvaW50ZXIsXG5cdFx0bm9kZXM6IHsgW25hbWVdOiBlbnRyeXBvaW50Tm9kZSB9LFxuXHRcdGNoYW5uZWxzOiB7XG5cdFx0XHRbU1RBUlRdOiBuZXcgRXBoZW1lcmFsVmFsdWUoKSxcblx0XHRcdFtFTkRdOiBuZXcgTGFzdFZhbHVlKCksXG5cdFx0XHRbUFJFVklPVVNdOiBuZXcgTGFzdFZhbHVlKClcblx0XHR9LFxuXHRcdGlucHV0Q2hhbm5lbHM6IFNUQVJULFxuXHRcdG91dHB1dENoYW5uZWxzOiBFTkQsXG5cdFx0c3RyZWFtQ2hhbm5lbHM6IEVORCxcblx0XHRzdHJlYW1Nb2RlLFxuXHRcdHN0b3JlLFxuXHRcdGNhY2hlXG5cdH0pO1xufTtcbmVudHJ5cG9pbnQuZmluYWwgPSBmdW5jdGlvbiBmaW5hbCh7IHZhbHVlLCBzYXZlIH0pIHtcblx0cmV0dXJuIHtcblx0XHR2YWx1ZSxcblx0XHRzYXZlLFxuXHRcdF9fbGdfdHlwZTogXCJfX3ByZWdlbF9maW5hbFwiXG5cdH07XG59O1xuLyoqXG4qIEEgaGVscGVyIHV0aWxpdHkgZnVuY3Rpb24gZm9yIHVzZSB3aXRoIHRoZSBmdW5jdGlvbmFsIEFQSSB0aGF0IHJldHVybnMgdGhlIHByZXZpb3VzXG4qIHN0YXRlIGZyb20gdGhlIGNoZWNrcG9pbnQgZnJvbSB0aGUgbGFzdCBpbnZvY2F0aW9uIG9mIHRoZSBjdXJyZW50IHRocmVhZC5cbipcbiogVGhpcyBmdW5jdGlvbiBhbGxvd3Mgd29ya2Zsb3dzIHRvIGFjY2VzcyBzdGF0ZSB0aGF0IHdhcyBzYXZlZCBpbiBwcmV2aW91cyBydW5zXG4qIHVzaW5nIHtAbGluayBlbnRyeXBvaW50LmZpbmFsfS5cbipcbiogQHR5cGVQYXJhbSBTdGF0ZVQgLSBUaGUgdHlwZSBvZiB0aGUgc3RhdGUgdGhhdCB3YXMgcHJldmlvdXNseSBzYXZlZFxuKiBAcmV0dXJucyBUaGUgcHJldmlvdXMgc2F2ZWQgc3RhdGUgZnJvbSB0aGUgbGFzdCBpbnZvY2F0aW9uIG9mIHRoZSBjdXJyZW50IHRocmVhZFxuKlxuKiBAZXhhbXBsZVxuKiBgYGB0eXBlc2NyaXB0XG4qIGNvbnN0IHByZXZpb3VzU3RhdGUgPSBnZXRQcmV2aW91c1N0YXRlPHsgY291bnRlcjogbnVtYmVyIH0+KCk7XG4qIGNvbnN0IG5ld0NvdW50ID0gKHByZXZpb3VzU3RhdGU/LmNvdW50ZXIgPz8gMCkgKyAxO1xuKiBgYGBcbiogQGNhdGVnb3J5IEZ1bmN0aW9uYWwgQVBJXG4qL1xuZnVuY3Rpb24gZ2V0UHJldmlvdXNTdGF0ZSgpIHtcblx0Y29uc3QgY29uZmlnID0gQXN5bmNMb2NhbFN0b3JhZ2VQcm92aWRlclNpbmdsZXRvbi5nZXRSdW5uYWJsZUNvbmZpZygpO1xuXHRyZXR1cm4gY29uZmlnLmNvbmZpZ3VyYWJsZT8uW0NPTkZJR19LRVlfUFJFVklPVVNfU1RBVEVdO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IGVudHJ5cG9pbnQsIGdldFByZXZpb3VzU3RhdGUsIHRhc2sgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/func/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/graph/annotation.js":
/*!****************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/graph/annotation.js ***!
  \****************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Annotation: () => (/* binding */ Annotation),\n/* harmony export */   AnnotationRoot: () => (/* binding */ AnnotationRoot),\n/* harmony export */   getChannel: () => (/* binding */ getChannel)\n/* harmony export */ });\n/* harmony import */ var _channels_binop_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../channels/binop.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/binop.js\");\n/* harmony import */ var _channels_last_value_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../channels/last_value.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/last_value.js\");\n\n\n\n//#region src/graph/annotation.ts\n/**\n* Should not be instantiated directly. See {@link Annotation}.\n*/\nvar AnnotationRoot = class {\n\tlc_graph_name = \"AnnotationRoot\";\n\tspec;\n\tconstructor(s) {\n\t\tthis.spec = s;\n\t}\n};\n/**\n* Helper that instantiates channels within a StateGraph state.\n*\n* Can be used as a field in an {@link Annotation.Root} wrapper in one of two ways:\n* 1. **Directly**: Creates a channel that stores the most recent value returned from a node.\n* 2. **With a reducer**: Creates a channel that applies the reducer on a node's return value.\n*\n* @example\n* ```ts\n* import { StateGraph, Annotation } from \"@langchain/langgraph\";\n*\n* // Define a state with a single string key named \"currentOutput\"\n* const SimpleAnnotation = Annotation.Root({\n*   currentOutput: Annotation<string>,\n* });\n*\n* const graphBuilder = new StateGraph(SimpleAnnotation);\n*\n* // A node in the graph that returns an object with a \"currentOutput\" key\n* // replaces the value in the state. You can get the state type as shown below:\n* const myNode = (state: typeof SimpleAnnotation.State) => {\n*   return {\n*     currentOutput: \"some_new_value\",\n*   };\n* }\n*\n* const graph = graphBuilder\n*   .addNode(\"myNode\", myNode)\n*   ...\n*   .compile();\n* ```\n*\n* @example\n* ```ts\n* import { type BaseMessage, AIMessage } from \"@langchain/core/messages\";\n* import { StateGraph, Annotation } from \"@langchain/langgraph\";\n*\n* // Define a state with a single key named \"messages\" that will\n* // combine a returned BaseMessage or arrays of BaseMessages\n* const AnnotationWithReducer = Annotation.Root({\n*   messages: Annotation<BaseMessage[]>({\n*     // Different types are allowed for updates\n*     reducer: (left: BaseMessage[], right: BaseMessage | BaseMessage[]) => {\n*       if (Array.isArray(right)) {\n*         return left.concat(right);\n*       }\n*       return left.concat([right]);\n*     },\n*     default: () => [],\n*   }),\n* });\n*\n* const graphBuilder = new StateGraph(AnnotationWithReducer);\n*\n* // A node in the graph that returns an object with a \"messages\" key\n* // will update the state by combining the existing value with the returned one.\n* const myNode = (state: typeof AnnotationWithReducer.State) => {\n*   return {\n*     messages: [new AIMessage(\"Some new response\")],\n*   };\n* };\n*\n* const graph = graphBuilder\n*   .addNode(\"myNode\", myNode)\n*   ...\n*   .compile();\n* ```\n* @namespace\n* @property Root\n* Helper function that instantiates a StateGraph state. See {@link Annotation} for usage.\n*/\nconst Annotation = function(annotation) {\n\tif (annotation) return getChannel(annotation);\n\telse return new _channels_last_value_js__WEBPACK_IMPORTED_MODULE_1__.LastValue();\n};\nAnnotation.Root = (sd) => new AnnotationRoot(sd);\nfunction getChannel(reducer) {\n\tif (typeof reducer === \"object\" && reducer && \"reducer\" in reducer && reducer.reducer) return new _channels_binop_js__WEBPACK_IMPORTED_MODULE_0__.BinaryOperatorAggregate(reducer.reducer, reducer.default);\n\tif (typeof reducer === \"object\" && reducer && \"value\" in reducer && reducer.value) return new _channels_binop_js__WEBPACK_IMPORTED_MODULE_0__.BinaryOperatorAggregate(reducer.value, reducer.default);\n\treturn new _channels_last_value_js__WEBPACK_IMPORTED_MODULE_1__.LastValue();\n}\n\n//#endregion\n\n//# sourceMappingURL=annotation.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L2dyYXBoL2Fubm90YXRpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBK0Q7QUFDVDs7QUFFdEQ7QUFDQTtBQUNBLDRDQUE0QyxpQkFBaUI7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyx1QkFBdUI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcseUJBQXlCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyw4QkFBOEI7QUFDekMsV0FBVyx5QkFBeUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELGtCQUFrQjtBQUMvRTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsOERBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsbUdBQW1HLHVFQUF1QjtBQUMxSCwrRkFBK0YsdUVBQXVCO0FBQ3RILFlBQVksOERBQVM7QUFDckI7O0FBRUE7QUFDa0Q7QUFDbEQiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2IvRGVza3RvcC9wcm9qZWN0X3gvcHJvamVjdC1zcWwtYWdlbnQvc2VydmljZXMvZnJvbnRlbmQvbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rbGFuZ2dyYXBoQDEuMC4xX0BsYW5nY2hhaW4rY29yZUAxLjAuMl9vcGVuYWlANC4xMDAuMF93c0A4LjE4LjJfem9kQDQuMS4xMl9fX19lZmE0ZThmODY1NThlNWQyOWViZGVjM2QyZjAwNGVkOS9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9sYW5nZ3JhcGgvZGlzdC9ncmFwaC9hbm5vdGF0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJpbmFyeU9wZXJhdG9yQWdncmVnYXRlIH0gZnJvbSBcIi4uL2NoYW5uZWxzL2Jpbm9wLmpzXCI7XG5pbXBvcnQgeyBMYXN0VmFsdWUgfSBmcm9tIFwiLi4vY2hhbm5lbHMvbGFzdF92YWx1ZS5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL2dyYXBoL2Fubm90YXRpb24udHNcbi8qKlxuKiBTaG91bGQgbm90IGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS4gU2VlIHtAbGluayBBbm5vdGF0aW9ufS5cbiovXG52YXIgQW5ub3RhdGlvblJvb3QgPSBjbGFzcyB7XG5cdGxjX2dyYXBoX25hbWUgPSBcIkFubm90YXRpb25Sb290XCI7XG5cdHNwZWM7XG5cdGNvbnN0cnVjdG9yKHMpIHtcblx0XHR0aGlzLnNwZWMgPSBzO1xuXHR9XG59O1xuLyoqXG4qIEhlbHBlciB0aGF0IGluc3RhbnRpYXRlcyBjaGFubmVscyB3aXRoaW4gYSBTdGF0ZUdyYXBoIHN0YXRlLlxuKlxuKiBDYW4gYmUgdXNlZCBhcyBhIGZpZWxkIGluIGFuIHtAbGluayBBbm5vdGF0aW9uLlJvb3R9IHdyYXBwZXIgaW4gb25lIG9mIHR3byB3YXlzOlxuKiAxLiAqKkRpcmVjdGx5Kio6IENyZWF0ZXMgYSBjaGFubmVsIHRoYXQgc3RvcmVzIHRoZSBtb3N0IHJlY2VudCB2YWx1ZSByZXR1cm5lZCBmcm9tIGEgbm9kZS5cbiogMi4gKipXaXRoIGEgcmVkdWNlcioqOiBDcmVhdGVzIGEgY2hhbm5lbCB0aGF0IGFwcGxpZXMgdGhlIHJlZHVjZXIgb24gYSBub2RlJ3MgcmV0dXJuIHZhbHVlLlxuKlxuKiBAZXhhbXBsZVxuKiBgYGB0c1xuKiBpbXBvcnQgeyBTdGF0ZUdyYXBoLCBBbm5vdGF0aW9uIH0gZnJvbSBcIkBsYW5nY2hhaW4vbGFuZ2dyYXBoXCI7XG4qXG4qIC8vIERlZmluZSBhIHN0YXRlIHdpdGggYSBzaW5nbGUgc3RyaW5nIGtleSBuYW1lZCBcImN1cnJlbnRPdXRwdXRcIlxuKiBjb25zdCBTaW1wbGVBbm5vdGF0aW9uID0gQW5ub3RhdGlvbi5Sb290KHtcbiogICBjdXJyZW50T3V0cHV0OiBBbm5vdGF0aW9uPHN0cmluZz4sXG4qIH0pO1xuKlxuKiBjb25zdCBncmFwaEJ1aWxkZXIgPSBuZXcgU3RhdGVHcmFwaChTaW1wbGVBbm5vdGF0aW9uKTtcbipcbiogLy8gQSBub2RlIGluIHRoZSBncmFwaCB0aGF0IHJldHVybnMgYW4gb2JqZWN0IHdpdGggYSBcImN1cnJlbnRPdXRwdXRcIiBrZXlcbiogLy8gcmVwbGFjZXMgdGhlIHZhbHVlIGluIHRoZSBzdGF0ZS4gWW91IGNhbiBnZXQgdGhlIHN0YXRlIHR5cGUgYXMgc2hvd24gYmVsb3c6XG4qIGNvbnN0IG15Tm9kZSA9IChzdGF0ZTogdHlwZW9mIFNpbXBsZUFubm90YXRpb24uU3RhdGUpID0+IHtcbiogICByZXR1cm4ge1xuKiAgICAgY3VycmVudE91dHB1dDogXCJzb21lX25ld192YWx1ZVwiLFxuKiAgIH07XG4qIH1cbipcbiogY29uc3QgZ3JhcGggPSBncmFwaEJ1aWxkZXJcbiogICAuYWRkTm9kZShcIm15Tm9kZVwiLCBteU5vZGUpXG4qICAgLi4uXG4qICAgLmNvbXBpbGUoKTtcbiogYGBgXG4qXG4qIEBleGFtcGxlXG4qIGBgYHRzXG4qIGltcG9ydCB7IHR5cGUgQmFzZU1lc3NhZ2UsIEFJTWVzc2FnZSB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvbWVzc2FnZXNcIjtcbiogaW1wb3J0IHsgU3RhdGVHcmFwaCwgQW5ub3RhdGlvbiB9IGZyb20gXCJAbGFuZ2NoYWluL2xhbmdncmFwaFwiO1xuKlxuKiAvLyBEZWZpbmUgYSBzdGF0ZSB3aXRoIGEgc2luZ2xlIGtleSBuYW1lZCBcIm1lc3NhZ2VzXCIgdGhhdCB3aWxsXG4qIC8vIGNvbWJpbmUgYSByZXR1cm5lZCBCYXNlTWVzc2FnZSBvciBhcnJheXMgb2YgQmFzZU1lc3NhZ2VzXG4qIGNvbnN0IEFubm90YXRpb25XaXRoUmVkdWNlciA9IEFubm90YXRpb24uUm9vdCh7XG4qICAgbWVzc2FnZXM6IEFubm90YXRpb248QmFzZU1lc3NhZ2VbXT4oe1xuKiAgICAgLy8gRGlmZmVyZW50IHR5cGVzIGFyZSBhbGxvd2VkIGZvciB1cGRhdGVzXG4qICAgICByZWR1Y2VyOiAobGVmdDogQmFzZU1lc3NhZ2VbXSwgcmlnaHQ6IEJhc2VNZXNzYWdlIHwgQmFzZU1lc3NhZ2VbXSkgPT4ge1xuKiAgICAgICBpZiAoQXJyYXkuaXNBcnJheShyaWdodCkpIHtcbiogICAgICAgICByZXR1cm4gbGVmdC5jb25jYXQocmlnaHQpO1xuKiAgICAgICB9XG4qICAgICAgIHJldHVybiBsZWZ0LmNvbmNhdChbcmlnaHRdKTtcbiogICAgIH0sXG4qICAgICBkZWZhdWx0OiAoKSA9PiBbXSxcbiogICB9KSxcbiogfSk7XG4qXG4qIGNvbnN0IGdyYXBoQnVpbGRlciA9IG5ldyBTdGF0ZUdyYXBoKEFubm90YXRpb25XaXRoUmVkdWNlcik7XG4qXG4qIC8vIEEgbm9kZSBpbiB0aGUgZ3JhcGggdGhhdCByZXR1cm5zIGFuIG9iamVjdCB3aXRoIGEgXCJtZXNzYWdlc1wiIGtleVxuKiAvLyB3aWxsIHVwZGF0ZSB0aGUgc3RhdGUgYnkgY29tYmluaW5nIHRoZSBleGlzdGluZyB2YWx1ZSB3aXRoIHRoZSByZXR1cm5lZCBvbmUuXG4qIGNvbnN0IG15Tm9kZSA9IChzdGF0ZTogdHlwZW9mIEFubm90YXRpb25XaXRoUmVkdWNlci5TdGF0ZSkgPT4ge1xuKiAgIHJldHVybiB7XG4qICAgICBtZXNzYWdlczogW25ldyBBSU1lc3NhZ2UoXCJTb21lIG5ldyByZXNwb25zZVwiKV0sXG4qICAgfTtcbiogfTtcbipcbiogY29uc3QgZ3JhcGggPSBncmFwaEJ1aWxkZXJcbiogICAuYWRkTm9kZShcIm15Tm9kZVwiLCBteU5vZGUpXG4qICAgLi4uXG4qICAgLmNvbXBpbGUoKTtcbiogYGBgXG4qIEBuYW1lc3BhY2VcbiogQHByb3BlcnR5IFJvb3RcbiogSGVscGVyIGZ1bmN0aW9uIHRoYXQgaW5zdGFudGlhdGVzIGEgU3RhdGVHcmFwaCBzdGF0ZS4gU2VlIHtAbGluayBBbm5vdGF0aW9ufSBmb3IgdXNhZ2UuXG4qL1xuY29uc3QgQW5ub3RhdGlvbiA9IGZ1bmN0aW9uKGFubm90YXRpb24pIHtcblx0aWYgKGFubm90YXRpb24pIHJldHVybiBnZXRDaGFubmVsKGFubm90YXRpb24pO1xuXHRlbHNlIHJldHVybiBuZXcgTGFzdFZhbHVlKCk7XG59O1xuQW5ub3RhdGlvbi5Sb290ID0gKHNkKSA9PiBuZXcgQW5ub3RhdGlvblJvb3Qoc2QpO1xuZnVuY3Rpb24gZ2V0Q2hhbm5lbChyZWR1Y2VyKSB7XG5cdGlmICh0eXBlb2YgcmVkdWNlciA9PT0gXCJvYmplY3RcIiAmJiByZWR1Y2VyICYmIFwicmVkdWNlclwiIGluIHJlZHVjZXIgJiYgcmVkdWNlci5yZWR1Y2VyKSByZXR1cm4gbmV3IEJpbmFyeU9wZXJhdG9yQWdncmVnYXRlKHJlZHVjZXIucmVkdWNlciwgcmVkdWNlci5kZWZhdWx0KTtcblx0aWYgKHR5cGVvZiByZWR1Y2VyID09PSBcIm9iamVjdFwiICYmIHJlZHVjZXIgJiYgXCJ2YWx1ZVwiIGluIHJlZHVjZXIgJiYgcmVkdWNlci52YWx1ZSkgcmV0dXJuIG5ldyBCaW5hcnlPcGVyYXRvckFnZ3JlZ2F0ZShyZWR1Y2VyLnZhbHVlLCByZWR1Y2VyLmRlZmF1bHQpO1xuXHRyZXR1cm4gbmV3IExhc3RWYWx1ZSgpO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IEFubm90YXRpb24sIEFubm90YXRpb25Sb290LCBnZXRDaGFubmVsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hbm5vdGF0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/graph/annotation.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/graph/graph.js":
/*!***********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/graph/graph.js ***!
  \***********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Branch: () => (/* binding */ Branch),\n/* harmony export */   CompiledGraph: () => (/* binding */ CompiledGraph),\n/* harmony export */   Graph: () => (/* binding */ Graph$1)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errors.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/errors.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/constants.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/utils.js\");\n/* harmony import */ var _pregel_write_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../pregel/write.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/write.js\");\n/* harmony import */ var _pregel_read_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../pregel/read.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/read.js\");\n/* harmony import */ var _pregel_utils_subgraph_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../pregel/utils/subgraph.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/utils/subgraph.js\");\n/* harmony import */ var _pregel_index_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../pregel/index.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/index.js\");\n/* harmony import */ var _channels_ephemeral_value_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../channels/ephemeral_value.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/ephemeral_value.js\");\n/* harmony import */ var _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @langchain/core/runnables */ \"(ssr)/./node_modules/.pnpm/@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12_/node_modules/@langchain/core/dist/runnables/index.js\");\n/* harmony import */ var _langchain_core_runnables_graph__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @langchain/core/runnables/graph */ \"(ssr)/./node_modules/.pnpm/@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12_/node_modules/@langchain/core/dist/runnables/graph.js\");\n/* harmony import */ var zod_v4__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! zod/v4 */ \"(ssr)/./node_modules/.pnpm/zod@4.1.12/node_modules/zod/v4/index.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! uuid */ \"(ssr)/./node_modules/.pnpm/uuid@10.0.0/node_modules/uuid/dist/esm-node/validate.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n//#region src/graph/graph.ts\nvar Branch = class {\n\tpath;\n\tends;\n\tconstructor(options) {\n\t\tif (_langchain_core_runnables__WEBPACK_IMPORTED_MODULE_8__.Runnable.isRunnable(options.path)) this.path = options.path;\n\t\telse this.path = (0,_langchain_core_runnables__WEBPACK_IMPORTED_MODULE_8__._coerceToRunnable)(options.path).withConfig({ runName: `Branch` });\n\t\tthis.ends = Array.isArray(options.pathMap) ? options.pathMap.reduce((acc, n) => {\n\t\t\tacc[n] = n;\n\t\t\treturn acc;\n\t\t}, {}) : options.pathMap;\n\t}\n\trun(writer, reader) {\n\t\treturn _pregel_write_js__WEBPACK_IMPORTED_MODULE_3__.ChannelWrite.registerWriter(new _utils_js__WEBPACK_IMPORTED_MODULE_2__.RunnableCallable({\n\t\t\tname: \"<branch_run>\",\n\t\t\ttrace: false,\n\t\t\tfunc: async (input, config) => {\n\t\t\t\ttry {\n\t\t\t\t\treturn await this._route(input, config, writer, reader);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tif (e.name === _errors_js__WEBPACK_IMPORTED_MODULE_0__.NodeInterrupt.unminifiable_name) console.warn(\"[WARN]: 'NodeInterrupt' thrown in conditional edge. This is likely a bug in your graph implementation.\\nNodeInterrupt should only be thrown inside a node, not in edge conditions.\");\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t}\n\tasync _route(input, config, writer, reader) {\n\t\tlet result = await this.path.invoke(reader ? reader(config) : input, config);\n\t\tif (!Array.isArray(result)) result = [result];\n\t\tlet destinations;\n\t\tif (this.ends) destinations = result.map((r) => (0,_constants_js__WEBPACK_IMPORTED_MODULE_1__._isSend)(r) ? r : this.ends[r]);\n\t\telse destinations = result;\n\t\tif (destinations.some((dest) => !dest)) throw new Error(\"Branch condition returned unknown or null destination\");\n\t\tif (destinations.filter(_constants_js__WEBPACK_IMPORTED_MODULE_1__._isSend).some((packet) => packet.node === _constants_js__WEBPACK_IMPORTED_MODULE_1__.END)) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.InvalidUpdateError(\"Cannot send a packet to the END node\");\n\t\tconst writeResult = await writer(destinations, config);\n\t\treturn writeResult ?? input;\n\t}\n};\nvar Graph$1 = class {\n\tnodes;\n\tedges;\n\tbranches;\n\tentryPoint;\n\tcompiled = false;\n\tconstructor() {\n\t\tthis.nodes = {};\n\t\tthis.edges = /* @__PURE__ */ new Set();\n\t\tthis.branches = {};\n\t}\n\twarnIfCompiled(message) {\n\t\tif (this.compiled) console.warn(message);\n\t}\n\tget allEdges() {\n\t\treturn this.edges;\n\t}\n\taddNode(...args) {\n\t\tfunction isMutlipleNodes(args$1) {\n\t\t\treturn args$1.length >= 1 && typeof args$1[0] !== \"string\";\n\t\t}\n\t\tconst nodes = isMutlipleNodes(args) ? Array.isArray(args[0]) ? args[0] : Object.entries(args[0]) : [[\n\t\t\targs[0],\n\t\t\targs[1],\n\t\t\targs[2]\n\t\t]];\n\t\tif (nodes.length === 0) throw new Error(\"No nodes provided in `addNode`\");\n\t\tfor (const [key, action, options] of nodes) {\n\t\t\tfor (const reservedChar of [_constants_js__WEBPACK_IMPORTED_MODULE_1__.CHECKPOINT_NAMESPACE_SEPARATOR, _constants_js__WEBPACK_IMPORTED_MODULE_1__.CHECKPOINT_NAMESPACE_END]) if (key.includes(reservedChar)) throw new Error(`\"${reservedChar}\" is a reserved character and is not allowed in node names.`);\n\t\t\tthis.warnIfCompiled(`Adding a node to a graph that has already been compiled. This will not be reflected in the compiled graph.`);\n\t\t\tif (key in this.nodes) throw new Error(`Node \\`${key}\\` already present.`);\n\t\t\tif (key === _constants_js__WEBPACK_IMPORTED_MODULE_1__.END) throw new Error(`Node \\`${key}\\` is reserved.`);\n\t\t\tconst runnable = (0,_langchain_core_runnables__WEBPACK_IMPORTED_MODULE_8__._coerceToRunnable)(action);\n\t\t\tthis.nodes[key] = {\n\t\t\t\trunnable,\n\t\t\t\tmetadata: options?.metadata,\n\t\t\t\tsubgraphs: (0,_pregel_utils_subgraph_js__WEBPACK_IMPORTED_MODULE_5__.isPregelLike)(runnable) ? [runnable] : options?.subgraphs,\n\t\t\t\tends: options?.ends\n\t\t\t};\n\t\t}\n\t\treturn this;\n\t}\n\taddEdge(startKey, endKey) {\n\t\tthis.warnIfCompiled(`Adding an edge to a graph that has already been compiled. This will not be reflected in the compiled graph.`);\n\t\tif (startKey === _constants_js__WEBPACK_IMPORTED_MODULE_1__.END) throw new Error(\"END cannot be a start node\");\n\t\tif (endKey === _constants_js__WEBPACK_IMPORTED_MODULE_1__.START) throw new Error(\"START cannot be an end node\");\n\t\tif (Array.from(this.edges).some(([start]) => start === startKey) && !(\"channels\" in this)) throw new Error(`Already found path for ${startKey}. For multiple edges, use StateGraph.`);\n\t\tthis.edges.add([startKey, endKey]);\n\t\treturn this;\n\t}\n\taddConditionalEdges(source, path, pathMap) {\n\t\tconst options = typeof source === \"object\" ? source : {\n\t\t\tsource,\n\t\t\tpath,\n\t\t\tpathMap\n\t\t};\n\t\tthis.warnIfCompiled(\"Adding an edge to a graph that has already been compiled. This will not be reflected in the compiled graph.\");\n\t\tif (!_langchain_core_runnables__WEBPACK_IMPORTED_MODULE_8__.Runnable.isRunnable(options.path)) {\n\t\t\tconst pathDisplayValues = Array.isArray(options.pathMap) ? options.pathMap.join(\",\") : Object.keys(options.pathMap ?? {}).join(\",\");\n\t\t\toptions.path = (0,_langchain_core_runnables__WEBPACK_IMPORTED_MODULE_8__._coerceToRunnable)(options.path).withConfig({ runName: `Branch<${options.source}${pathDisplayValues !== \"\" ? `,${pathDisplayValues}` : \"\"}>`.slice(0, 63) });\n\t\t}\n\t\tconst name = options.path.getName() === \"RunnableLambda\" ? \"condition\" : options.path.getName();\n\t\tif (this.branches[options.source] && this.branches[options.source][name]) throw new Error(`Condition \\`${name}\\` already present for node \\`${source}\\``);\n\t\tthis.branches[options.source] ??= {};\n\t\tthis.branches[options.source][name] = new Branch(options);\n\t\treturn this;\n\t}\n\t/**\n\t* @deprecated use `addEdge(START, key)` instead\n\t*/\n\tsetEntryPoint(key) {\n\t\tthis.warnIfCompiled(\"Setting the entry point of a graph that has already been compiled. This will not be reflected in the compiled graph.\");\n\t\treturn this.addEdge(_constants_js__WEBPACK_IMPORTED_MODULE_1__.START, key);\n\t}\n\t/**\n\t* @deprecated use `addEdge(key, END)` instead\n\t*/\n\tsetFinishPoint(key) {\n\t\tthis.warnIfCompiled(\"Setting a finish point of a graph that has already been compiled. This will not be reflected in the compiled graph.\");\n\t\treturn this.addEdge(key, _constants_js__WEBPACK_IMPORTED_MODULE_1__.END);\n\t}\n\tcompile({ checkpointer, interruptBefore, interruptAfter, name } = {}) {\n\t\tthis.validate([...Array.isArray(interruptBefore) ? interruptBefore : [], ...Array.isArray(interruptAfter) ? interruptAfter : []]);\n\t\tconst compiled = new CompiledGraph({\n\t\t\tbuilder: this,\n\t\t\tcheckpointer,\n\t\t\tinterruptAfter,\n\t\t\tinterruptBefore,\n\t\t\tautoValidate: false,\n\t\t\tnodes: {},\n\t\t\tchannels: {\n\t\t\t\t[_constants_js__WEBPACK_IMPORTED_MODULE_1__.START]: new _channels_ephemeral_value_js__WEBPACK_IMPORTED_MODULE_7__.EphemeralValue(),\n\t\t\t\t[_constants_js__WEBPACK_IMPORTED_MODULE_1__.END]: new _channels_ephemeral_value_js__WEBPACK_IMPORTED_MODULE_7__.EphemeralValue()\n\t\t\t},\n\t\t\tinputChannels: _constants_js__WEBPACK_IMPORTED_MODULE_1__.START,\n\t\t\toutputChannels: _constants_js__WEBPACK_IMPORTED_MODULE_1__.END,\n\t\t\tstreamChannels: [],\n\t\t\tstreamMode: \"values\",\n\t\t\tname\n\t\t});\n\t\tfor (const [key, node] of Object.entries(this.nodes)) compiled.attachNode(key, node);\n\t\tfor (const [start, end] of this.edges) compiled.attachEdge(start, end);\n\t\tfor (const [start, branches] of Object.entries(this.branches)) for (const [name$1, branch] of Object.entries(branches)) compiled.attachBranch(start, name$1, branch);\n\t\treturn compiled.validate();\n\t}\n\tvalidate(interrupt) {\n\t\tconst allSources = new Set([...this.allEdges].map(([src, _]) => src));\n\t\tfor (const [start] of Object.entries(this.branches)) allSources.add(start);\n\t\tfor (const source of allSources) if (source !== _constants_js__WEBPACK_IMPORTED_MODULE_1__.START && !(source in this.nodes)) throw new Error(`Found edge starting at unknown node \\`${source}\\``);\n\t\tconst allTargets = new Set([...this.allEdges].map(([_, target]) => target));\n\t\tfor (const [start, branches] of Object.entries(this.branches)) for (const branch of Object.values(branches)) if (branch.ends != null) for (const end of Object.values(branch.ends)) allTargets.add(end);\n\t\telse {\n\t\t\tallTargets.add(_constants_js__WEBPACK_IMPORTED_MODULE_1__.END);\n\t\t\tfor (const node of Object.keys(this.nodes)) if (node !== start) allTargets.add(node);\n\t\t}\n\t\tfor (const node of Object.values(this.nodes)) for (const target of node.ends ?? []) allTargets.add(target);\n\t\tfor (const node of Object.keys(this.nodes)) if (!allTargets.has(node)) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.UnreachableNodeError([\n\t\t\t`Node \\`${node}\\` is not reachable.`,\n\t\t\t\"\",\n\t\t\t\"If you are returning Command objects from your node,\",\n\t\t\t\"make sure you are passing names of potential destination nodes as an \\\"ends\\\" array\",\n\t\t\t\"into \\\".addNode(..., { ends: [\\\"node1\\\", \\\"node2\\\"] })\\\".\"\n\t\t].join(\"\\n\"), { lc_error_code: \"UNREACHABLE_NODE\" });\n\t\tfor (const target of allTargets) if (target !== _constants_js__WEBPACK_IMPORTED_MODULE_1__.END && !(target in this.nodes)) throw new Error(`Found edge ending at unknown node \\`${target}\\``);\n\t\tif (interrupt) {\n\t\t\tfor (const node of interrupt) if (!(node in this.nodes)) throw new Error(`Interrupt node \\`${node}\\` is not present`);\n\t\t}\n\t\tthis.compiled = true;\n\t}\n};\nvar CompiledGraph = class extends _pregel_index_js__WEBPACK_IMPORTED_MODULE_6__.Pregel {\n\tbuilder;\n\tconstructor({ builder,...rest }) {\n\t\tsuper(rest);\n\t\tthis.builder = builder;\n\t}\n\tattachNode(key, node) {\n\t\tthis.channels[key] = new _channels_ephemeral_value_js__WEBPACK_IMPORTED_MODULE_7__.EphemeralValue();\n\t\tthis.nodes[key] = new _pregel_read_js__WEBPACK_IMPORTED_MODULE_4__.PregelNode({\n\t\t\tchannels: [],\n\t\t\ttriggers: [],\n\t\t\tmetadata: node.metadata,\n\t\t\tsubgraphs: node.subgraphs,\n\t\t\tends: node.ends\n\t\t}).pipe(node.runnable).pipe(new _pregel_write_js__WEBPACK_IMPORTED_MODULE_3__.ChannelWrite([{\n\t\t\tchannel: key,\n\t\t\tvalue: _pregel_write_js__WEBPACK_IMPORTED_MODULE_3__.PASSTHROUGH\n\t\t}], [_constants_js__WEBPACK_IMPORTED_MODULE_1__.TAG_HIDDEN]));\n\t\tthis.streamChannels.push(key);\n\t}\n\tattachEdge(start, end) {\n\t\tif (end === _constants_js__WEBPACK_IMPORTED_MODULE_1__.END) {\n\t\t\tif (start === _constants_js__WEBPACK_IMPORTED_MODULE_1__.START) throw new Error(\"Cannot have an edge from START to END\");\n\t\t\tthis.nodes[start].writers.push(new _pregel_write_js__WEBPACK_IMPORTED_MODULE_3__.ChannelWrite([{\n\t\t\t\tchannel: _constants_js__WEBPACK_IMPORTED_MODULE_1__.END,\n\t\t\t\tvalue: _pregel_write_js__WEBPACK_IMPORTED_MODULE_3__.PASSTHROUGH\n\t\t\t}], [_constants_js__WEBPACK_IMPORTED_MODULE_1__.TAG_HIDDEN]));\n\t\t} else {\n\t\t\tthis.nodes[end].triggers.push(start);\n\t\t\tthis.nodes[end].channels.push(start);\n\t\t}\n\t}\n\tattachBranch(start, name, branch) {\n\t\tif (start === _constants_js__WEBPACK_IMPORTED_MODULE_1__.START && !this.nodes[_constants_js__WEBPACK_IMPORTED_MODULE_1__.START]) this.nodes[_constants_js__WEBPACK_IMPORTED_MODULE_1__.START] = _pregel_index_js__WEBPACK_IMPORTED_MODULE_6__.Channel.subscribeTo(_constants_js__WEBPACK_IMPORTED_MODULE_1__.START, { tags: [_constants_js__WEBPACK_IMPORTED_MODULE_1__.TAG_HIDDEN] });\n\t\tthis.nodes[start].pipe(branch.run((dests) => {\n\t\t\tconst writes = dests.map((dest) => {\n\t\t\t\tif ((0,_constants_js__WEBPACK_IMPORTED_MODULE_1__._isSend)(dest)) return dest;\n\t\t\t\treturn {\n\t\t\t\t\tchannel: dest === _constants_js__WEBPACK_IMPORTED_MODULE_1__.END ? _constants_js__WEBPACK_IMPORTED_MODULE_1__.END : `branch:${start}:${name}:${dest}`,\n\t\t\t\t\tvalue: _pregel_write_js__WEBPACK_IMPORTED_MODULE_3__.PASSTHROUGH\n\t\t\t\t};\n\t\t\t});\n\t\t\treturn new _pregel_write_js__WEBPACK_IMPORTED_MODULE_3__.ChannelWrite(writes, [_constants_js__WEBPACK_IMPORTED_MODULE_1__.TAG_HIDDEN]);\n\t\t}));\n\t\tconst ends = branch.ends ? Object.values(branch.ends) : Object.keys(this.nodes);\n\t\tfor (const end of ends) if (end !== _constants_js__WEBPACK_IMPORTED_MODULE_1__.END) {\n\t\t\tconst channelName = `branch:${start}:${name}:${end}`;\n\t\t\tthis.channels[channelName] = new _channels_ephemeral_value_js__WEBPACK_IMPORTED_MODULE_7__.EphemeralValue();\n\t\t\tthis.nodes[end].triggers.push(channelName);\n\t\t\tthis.nodes[end].channels.push(channelName);\n\t\t}\n\t}\n\t/**\n\t* Returns a drawable representation of the computation graph.\n\t*/\n\tasync getGraphAsync(config) {\n\t\tconst xray = config?.xray;\n\t\tconst graph = new _langchain_core_runnables_graph__WEBPACK_IMPORTED_MODULE_9__.Graph();\n\t\tconst startNodes = { [_constants_js__WEBPACK_IMPORTED_MODULE_1__.START]: graph.addNode({ schema: zod_v4__WEBPACK_IMPORTED_MODULE_10__.z.any() }, _constants_js__WEBPACK_IMPORTED_MODULE_1__.START) };\n\t\tconst endNodes = {};\n\t\tlet subgraphs = {};\n\t\tif (xray) subgraphs = Object.fromEntries((await (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.gatherIterator)(this.getSubgraphsAsync())).filter((x) => isCompiledGraph(x[1])));\n\t\tfunction addEdge(start, end, label, conditional = false) {\n\t\t\tif (end === _constants_js__WEBPACK_IMPORTED_MODULE_1__.END && endNodes[_constants_js__WEBPACK_IMPORTED_MODULE_1__.END] === void 0) endNodes[_constants_js__WEBPACK_IMPORTED_MODULE_1__.END] = graph.addNode({ schema: zod_v4__WEBPACK_IMPORTED_MODULE_10__.z.any() }, _constants_js__WEBPACK_IMPORTED_MODULE_1__.END);\n\t\t\tif (startNodes[start] === void 0) return;\n\t\t\tif (endNodes[end] === void 0) throw new Error(`End node ${end} not found!`);\n\t\t\treturn graph.addEdge(startNodes[start], endNodes[end], label !== end ? label : void 0, conditional);\n\t\t}\n\t\tfor (const [key, nodeSpec] of Object.entries(this.builder.nodes)) {\n\t\t\tconst displayKey = _escapeMermaidKeywords(key);\n\t\t\tconst node = nodeSpec.runnable;\n\t\t\tconst metadata = nodeSpec.metadata ?? {};\n\t\t\tif (this.interruptBefore?.includes(key) && this.interruptAfter?.includes(key)) metadata.__interrupt = \"before,after\";\n\t\t\telse if (this.interruptBefore?.includes(key)) metadata.__interrupt = \"before\";\n\t\t\telse if (this.interruptAfter?.includes(key)) metadata.__interrupt = \"after\";\n\t\t\tif (xray) {\n\t\t\t\tconst newXrayValue = typeof xray === \"number\" ? xray - 1 : xray;\n\t\t\t\tconst drawableSubgraph = subgraphs[key] !== void 0 ? await subgraphs[key].getGraphAsync({\n\t\t\t\t\t...config,\n\t\t\t\t\txray: newXrayValue\n\t\t\t\t}) : node.getGraph(config);\n\t\t\t\tdrawableSubgraph.trimFirstNode();\n\t\t\t\tdrawableSubgraph.trimLastNode();\n\t\t\t\tif (Object.keys(drawableSubgraph.nodes).length > 1) {\n\t\t\t\t\tconst [e, s] = graph.extend(drawableSubgraph, displayKey);\n\t\t\t\t\tif (e === void 0) throw new Error(`Could not extend subgraph \"${key}\" due to missing entrypoint.`);\n\t\t\t\t\tfunction _isRunnableInterface(thing) {\n\t\t\t\t\t\treturn thing ? thing.lc_runnable : false;\n\t\t\t\t\t}\n\t\t\t\t\tfunction _nodeDataStr(id, data) {\n\t\t\t\t\t\tif (id !== void 0 && !(0,uuid__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(id)) return id;\n\t\t\t\t\t\telse if (_isRunnableInterface(data)) try {\n\t\t\t\t\t\t\tlet dataStr = data.getName();\n\t\t\t\t\t\t\tdataStr = dataStr.startsWith(\"Runnable\") ? dataStr.slice(8) : dataStr;\n\t\t\t\t\t\t\treturn dataStr;\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\treturn data.getName();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse return data.name ?? \"UnknownSchema\";\n\t\t\t\t\t}\n\t\t\t\t\tif (s !== void 0) startNodes[displayKey] = {\n\t\t\t\t\t\tname: _nodeDataStr(s.id, s.data),\n\t\t\t\t\t\t...s\n\t\t\t\t\t};\n\t\t\t\t\tendNodes[displayKey] = {\n\t\t\t\t\t\tname: _nodeDataStr(e.id, e.data),\n\t\t\t\t\t\t...e\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tconst newNode = graph.addNode(node, displayKey, metadata);\n\t\t\t\t\tstartNodes[displayKey] = newNode;\n\t\t\t\t\tendNodes[displayKey] = newNode;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst newNode = graph.addNode(node, displayKey, metadata);\n\t\t\t\tstartNodes[displayKey] = newNode;\n\t\t\t\tendNodes[displayKey] = newNode;\n\t\t\t}\n\t\t}\n\t\tconst sortedEdges = [...this.builder.allEdges].sort(([a], [b]) => {\n\t\t\tif (a < b) return -1;\n\t\t\telse if (b > a) return 1;\n\t\t\telse return 0;\n\t\t});\n\t\tfor (const [start, end] of sortedEdges) addEdge(_escapeMermaidKeywords(start), _escapeMermaidKeywords(end));\n\t\tfor (const [start, branches] of Object.entries(this.builder.branches)) {\n\t\t\tconst defaultEnds = {\n\t\t\t\t...Object.fromEntries(Object.keys(this.builder.nodes).filter((k) => k !== start).map((k) => [_escapeMermaidKeywords(k), _escapeMermaidKeywords(k)])),\n\t\t\t\t[_constants_js__WEBPACK_IMPORTED_MODULE_1__.END]: _constants_js__WEBPACK_IMPORTED_MODULE_1__.END\n\t\t\t};\n\t\t\tfor (const branch of Object.values(branches)) {\n\t\t\t\tlet ends;\n\t\t\t\tif (branch.ends !== void 0) ends = branch.ends;\n\t\t\t\telse ends = defaultEnds;\n\t\t\t\tfor (const [label, end] of Object.entries(ends)) addEdge(_escapeMermaidKeywords(start), _escapeMermaidKeywords(end), label, true);\n\t\t\t}\n\t\t}\n\t\tfor (const [key, node] of Object.entries(this.builder.nodes)) if (node.ends !== void 0) for (const end of node.ends) addEdge(_escapeMermaidKeywords(key), _escapeMermaidKeywords(end), void 0, true);\n\t\treturn graph;\n\t}\n\t/**\n\t* Returns a drawable representation of the computation graph.\n\t*\n\t* @deprecated Use getGraphAsync instead. The async method will be the default in the next minor core release.\n\t*/\n\tgetGraph(config) {\n\t\tconst xray = config?.xray;\n\t\tconst graph = new _langchain_core_runnables_graph__WEBPACK_IMPORTED_MODULE_9__.Graph();\n\t\tconst startNodes = { [_constants_js__WEBPACK_IMPORTED_MODULE_1__.START]: graph.addNode({ schema: zod_v4__WEBPACK_IMPORTED_MODULE_10__.z.any() }, _constants_js__WEBPACK_IMPORTED_MODULE_1__.START) };\n\t\tconst endNodes = {};\n\t\tlet subgraphs = {};\n\t\tif (xray) subgraphs = Object.fromEntries((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.gatherIteratorSync)(this.getSubgraphs()).filter((x) => isCompiledGraph(x[1])));\n\t\tfunction addEdge(start, end, label, conditional = false) {\n\t\t\tif (end === _constants_js__WEBPACK_IMPORTED_MODULE_1__.END && endNodes[_constants_js__WEBPACK_IMPORTED_MODULE_1__.END] === void 0) endNodes[_constants_js__WEBPACK_IMPORTED_MODULE_1__.END] = graph.addNode({ schema: zod_v4__WEBPACK_IMPORTED_MODULE_10__.z.any() }, _constants_js__WEBPACK_IMPORTED_MODULE_1__.END);\n\t\t\treturn graph.addEdge(startNodes[start], endNodes[end], label !== end ? label : void 0, conditional);\n\t\t}\n\t\tfor (const [key, nodeSpec] of Object.entries(this.builder.nodes)) {\n\t\t\tconst displayKey = _escapeMermaidKeywords(key);\n\t\t\tconst node = nodeSpec.runnable;\n\t\t\tconst metadata = nodeSpec.metadata ?? {};\n\t\t\tif (this.interruptBefore?.includes(key) && this.interruptAfter?.includes(key)) metadata.__interrupt = \"before,after\";\n\t\t\telse if (this.interruptBefore?.includes(key)) metadata.__interrupt = \"before\";\n\t\t\telse if (this.interruptAfter?.includes(key)) metadata.__interrupt = \"after\";\n\t\t\tif (xray) {\n\t\t\t\tconst newXrayValue = typeof xray === \"number\" ? xray - 1 : xray;\n\t\t\t\tconst drawableSubgraph = subgraphs[key] !== void 0 ? subgraphs[key].getGraph({\n\t\t\t\t\t...config,\n\t\t\t\t\txray: newXrayValue\n\t\t\t\t}) : node.getGraph(config);\n\t\t\t\tdrawableSubgraph.trimFirstNode();\n\t\t\t\tdrawableSubgraph.trimLastNode();\n\t\t\t\tif (Object.keys(drawableSubgraph.nodes).length > 1) {\n\t\t\t\t\tconst [e, s] = graph.extend(drawableSubgraph, displayKey);\n\t\t\t\t\tif (e === void 0) throw new Error(`Could not extend subgraph \"${key}\" due to missing entrypoint.`);\n\t\t\t\t\tfunction _isRunnableInterface(thing) {\n\t\t\t\t\t\treturn thing ? thing.lc_runnable : false;\n\t\t\t\t\t}\n\t\t\t\t\tfunction _nodeDataStr(id, data) {\n\t\t\t\t\t\tif (id !== void 0 && !(0,uuid__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(id)) return id;\n\t\t\t\t\t\telse if (_isRunnableInterface(data)) try {\n\t\t\t\t\t\t\tlet dataStr = data.getName();\n\t\t\t\t\t\t\tdataStr = dataStr.startsWith(\"Runnable\") ? dataStr.slice(8) : dataStr;\n\t\t\t\t\t\t\treturn dataStr;\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\treturn data.getName();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse return data.name ?? \"UnknownSchema\";\n\t\t\t\t\t}\n\t\t\t\t\tif (s !== void 0) startNodes[displayKey] = {\n\t\t\t\t\t\tname: _nodeDataStr(s.id, s.data),\n\t\t\t\t\t\t...s\n\t\t\t\t\t};\n\t\t\t\t\tendNodes[displayKey] = {\n\t\t\t\t\t\tname: _nodeDataStr(e.id, e.data),\n\t\t\t\t\t\t...e\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tconst newNode = graph.addNode(node, displayKey, metadata);\n\t\t\t\t\tstartNodes[displayKey] = newNode;\n\t\t\t\t\tendNodes[displayKey] = newNode;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst newNode = graph.addNode(node, displayKey, metadata);\n\t\t\t\tstartNodes[displayKey] = newNode;\n\t\t\t\tendNodes[displayKey] = newNode;\n\t\t\t}\n\t\t}\n\t\tconst sortedEdges = [...this.builder.allEdges].sort(([a], [b]) => {\n\t\t\tif (a < b) return -1;\n\t\t\telse if (b > a) return 1;\n\t\t\telse return 0;\n\t\t});\n\t\tfor (const [start, end] of sortedEdges) addEdge(_escapeMermaidKeywords(start), _escapeMermaidKeywords(end));\n\t\tfor (const [start, branches] of Object.entries(this.builder.branches)) {\n\t\t\tconst defaultEnds = {\n\t\t\t\t...Object.fromEntries(Object.keys(this.builder.nodes).filter((k) => k !== start).map((k) => [_escapeMermaidKeywords(k), _escapeMermaidKeywords(k)])),\n\t\t\t\t[_constants_js__WEBPACK_IMPORTED_MODULE_1__.END]: _constants_js__WEBPACK_IMPORTED_MODULE_1__.END\n\t\t\t};\n\t\t\tfor (const branch of Object.values(branches)) {\n\t\t\t\tlet ends;\n\t\t\t\tif (branch.ends !== void 0) ends = branch.ends;\n\t\t\t\telse ends = defaultEnds;\n\t\t\t\tfor (const [label, end] of Object.entries(ends)) addEdge(_escapeMermaidKeywords(start), _escapeMermaidKeywords(end), label, true);\n\t\t\t}\n\t\t}\n\t\treturn graph;\n\t}\n};\nfunction isCompiledGraph(x) {\n\treturn typeof x.attachNode === \"function\" && typeof x.attachEdge === \"function\";\n}\nfunction _escapeMermaidKeywords(key) {\n\tif (key === \"subgraph\") return `\"${key}\"`;\n\treturn key;\n}\n\n//#endregion\n\n//# sourceMappingURL=graph.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L2dyYXBoL2dyYXBoLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF1RjtBQUNxQztBQUN6QztBQUNwQjtBQUNoQjtBQUNZO0FBQ047QUFDVztBQUNRO0FBQ2hCO0FBQzdCO0FBQ0s7O0FBRWhDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLCtEQUFRO0FBQ2QsbUJBQW1CLDRFQUFpQiw0QkFBNEIsbUJBQW1CO0FBQ25GO0FBQ0E7QUFDQTtBQUNBLEdBQUcsSUFBSTtBQUNQO0FBQ0E7QUFDQSxTQUFTLDBEQUFZLG9CQUFvQix1REFBZ0I7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixvQkFBb0IscURBQWE7QUFDakM7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Qsc0RBQU87QUFDekQ7QUFDQTtBQUNBLDBCQUEwQixrREFBTyxtQ0FBbUMsOENBQUcsYUFBYSwwREFBa0I7QUFDdEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQix5RUFBOEIsRUFBRSxtRUFBd0IsdURBQXVELGFBQWE7QUFDM0o7QUFDQSxvREFBb0QsSUFBSTtBQUN4RCxlQUFlLDhDQUFHLDRCQUE0QixJQUFJO0FBQ2xELG9CQUFvQiw0RUFBaUI7QUFDckM7QUFDQTtBQUNBO0FBQ0EsZUFBZSx1RUFBWTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw4Q0FBRztBQUN0QixpQkFBaUIsZ0RBQUs7QUFDdEIsdUlBQXVJLFNBQVM7QUFDaEo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLCtEQUFRO0FBQ2YsMkhBQTJIO0FBQzNILGtCQUFrQiw0RUFBaUIsNEJBQTRCLG1CQUFtQixlQUFlLEVBQUUsK0JBQStCLGtCQUFrQixPQUFPLGlCQUFpQjtBQUM1SztBQUNBO0FBQ0EsMkdBQTJHLEtBQUssZ0NBQWdDLE9BQU87QUFDdko7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGdEQUFLO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiw4Q0FBRztBQUM5QjtBQUNBLFdBQVcsc0RBQXNELElBQUk7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQSxLQUFLLGdEQUFLLE9BQU8sd0VBQWM7QUFDL0IsS0FBSyw4Q0FBRyxPQUFPLHdFQUFjO0FBQzdCLElBQUk7QUFDSixrQkFBa0IsZ0RBQUs7QUFDdkIsbUJBQW1CLDhDQUFHO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELGdEQUFLLHNGQUFzRixPQUFPO0FBQ3BKO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiw4Q0FBRztBQUNyQjtBQUNBO0FBQ0E7QUFDQSxtRkFBbUYsNERBQW9CO0FBQ3ZHLGFBQWEsS0FBSztBQUNsQjtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsOEJBQThCO0FBQ3pELGtCQUFrQixtQ0FBbUM7QUFDckQsa0RBQWtELDhDQUFHLG9GQUFvRixPQUFPO0FBQ2hKO0FBQ0EsZ0dBQWdHLEtBQUs7QUFDckc7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0Msb0RBQU07QUFDeEM7QUFDQSxlQUFlLGlCQUFpQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix3RUFBYztBQUN6Qyx3QkFBd0IsdURBQVU7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsK0JBQStCLDBEQUFZO0FBQzlDO0FBQ0EsVUFBVSx5REFBVztBQUNyQixHQUFHLElBQUkscURBQVU7QUFDakI7QUFDQTtBQUNBO0FBQ0EsY0FBYyw4Q0FBRztBQUNqQixpQkFBaUIsZ0RBQUs7QUFDdEIsc0NBQXNDLDBEQUFZO0FBQ2xELGFBQWEsOENBQUc7QUFDaEIsV0FBVyx5REFBVztBQUN0QixJQUFJLElBQUkscURBQVU7QUFDbEIsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZ0RBQUssZ0JBQWdCLGdEQUFLLGNBQWMsZ0RBQUssSUFBSSxxREFBTyxhQUFhLGdEQUFLLElBQUksT0FBTyxxREFBVSxHQUFHO0FBQ2xIO0FBQ0E7QUFDQSxRQUFRLHNEQUFPO0FBQ2Y7QUFDQSx1QkFBdUIsOENBQUcsR0FBRyw4Q0FBRyxhQUFhLE1BQU0sR0FBRyxLQUFLLEdBQUcsS0FBSztBQUNuRSxZQUFZLHlEQUFXO0FBQ3ZCO0FBQ0EsSUFBSTtBQUNKLGNBQWMsMERBQVksVUFBVSxxREFBVTtBQUM5QyxHQUFHO0FBQ0g7QUFDQSxzQ0FBc0MsOENBQUc7QUFDekMsaUNBQWlDLE1BQU0sR0FBRyxLQUFLLEdBQUcsSUFBSTtBQUN0RCxvQ0FBb0Msd0VBQWM7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGtFQUFLO0FBQ3pCLHVCQUF1QixDQUFDLGdEQUFLLG1CQUFtQixRQUFRLDBDQUFLLElBQUksRUFBRSxnREFBSztBQUN4RTtBQUNBO0FBQ0Esa0RBQWtELHlEQUFjO0FBQ2hFO0FBQ0EsZUFBZSw4Q0FBRyxhQUFhLDhDQUFHLHVCQUF1Qiw4Q0FBRyxvQkFBb0IsUUFBUSwwQ0FBSyxJQUFJLEVBQUUsOENBQUc7QUFDdEc7QUFDQSw2REFBNkQsS0FBSztBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFLElBQUk7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsaURBQVE7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssOENBQUcsR0FBRyw4Q0FBRztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixrRUFBSztBQUN6Qix1QkFBdUIsQ0FBQyxnREFBSyxtQkFBbUIsUUFBUSwwQ0FBSyxJQUFJLEVBQUUsZ0RBQUs7QUFDeEU7QUFDQTtBQUNBLDJDQUEyQyw2REFBa0I7QUFDN0Q7QUFDQSxlQUFlLDhDQUFHLGFBQWEsOENBQUcsdUJBQXVCLDhDQUFHLG9CQUFvQixRQUFRLDBDQUFLLElBQUksRUFBRSw4Q0FBRztBQUN0RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFLElBQUk7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsaURBQVE7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssOENBQUcsR0FBRyw4Q0FBRztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxJQUFJO0FBQ3hDO0FBQ0E7O0FBRUE7QUFDbUQ7QUFDbkQiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2IvRGVza3RvcC9wcm9qZWN0X3gvcHJvamVjdC1zcWwtYWdlbnQvc2VydmljZXMvZnJvbnRlbmQvbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rbGFuZ2dyYXBoQDEuMC4xX0BsYW5nY2hhaW4rY29yZUAxLjAuMl9vcGVuYWlANC4xMDAuMF93c0A4LjE4LjJfem9kQDQuMS4xMl9fX19lZmE0ZThmODY1NThlNWQyOWViZGVjM2QyZjAwNGVkOS9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9sYW5nZ3JhcGgvZGlzdC9ncmFwaC9ncmFwaC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbnZhbGlkVXBkYXRlRXJyb3IsIE5vZGVJbnRlcnJ1cHQsIFVucmVhY2hhYmxlTm9kZUVycm9yIH0gZnJvbSBcIi4uL2Vycm9ycy5qc1wiO1xuaW1wb3J0IHsgQ0hFQ0tQT0lOVF9OQU1FU1BBQ0VfRU5ELCBDSEVDS1BPSU5UX05BTUVTUEFDRV9TRVBBUkFUT1IsIEVORCwgU1RBUlQsIFRBR19ISURERU4sIF9pc1NlbmQgfSBmcm9tIFwiLi4vY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgeyBSdW5uYWJsZUNhbGxhYmxlLCBnYXRoZXJJdGVyYXRvciwgZ2F0aGVySXRlcmF0b3JTeW5jIH0gZnJvbSBcIi4uL3V0aWxzLmpzXCI7XG5pbXBvcnQgeyBDaGFubmVsV3JpdGUsIFBBU1NUSFJPVUdIIH0gZnJvbSBcIi4uL3ByZWdlbC93cml0ZS5qc1wiO1xuaW1wb3J0IHsgUHJlZ2VsTm9kZSB9IGZyb20gXCIuLi9wcmVnZWwvcmVhZC5qc1wiO1xuaW1wb3J0IHsgaXNQcmVnZWxMaWtlIH0gZnJvbSBcIi4uL3ByZWdlbC91dGlscy9zdWJncmFwaC5qc1wiO1xuaW1wb3J0IHsgQ2hhbm5lbCwgUHJlZ2VsIH0gZnJvbSBcIi4uL3ByZWdlbC9pbmRleC5qc1wiO1xuaW1wb3J0IHsgRXBoZW1lcmFsVmFsdWUgfSBmcm9tIFwiLi4vY2hhbm5lbHMvZXBoZW1lcmFsX3ZhbHVlLmpzXCI7XG5pbXBvcnQgeyBSdW5uYWJsZSwgX2NvZXJjZVRvUnVubmFibGUgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3J1bm5hYmxlc1wiO1xuaW1wb3J0IHsgR3JhcGggfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3J1bm5hYmxlcy9ncmFwaFwiO1xuaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2QvdjRcIjtcbmltcG9ydCB7IHZhbGlkYXRlIH0gZnJvbSBcInV1aWRcIjtcblxuLy8jcmVnaW9uIHNyYy9ncmFwaC9ncmFwaC50c1xudmFyIEJyYW5jaCA9IGNsYXNzIHtcblx0cGF0aDtcblx0ZW5kcztcblx0Y29uc3RydWN0b3Iob3B0aW9ucykge1xuXHRcdGlmIChSdW5uYWJsZS5pc1J1bm5hYmxlKG9wdGlvbnMucGF0aCkpIHRoaXMucGF0aCA9IG9wdGlvbnMucGF0aDtcblx0XHRlbHNlIHRoaXMucGF0aCA9IF9jb2VyY2VUb1J1bm5hYmxlKG9wdGlvbnMucGF0aCkud2l0aENvbmZpZyh7IHJ1bk5hbWU6IGBCcmFuY2hgIH0pO1xuXHRcdHRoaXMuZW5kcyA9IEFycmF5LmlzQXJyYXkob3B0aW9ucy5wYXRoTWFwKSA/IG9wdGlvbnMucGF0aE1hcC5yZWR1Y2UoKGFjYywgbikgPT4ge1xuXHRcdFx0YWNjW25dID0gbjtcblx0XHRcdHJldHVybiBhY2M7XG5cdFx0fSwge30pIDogb3B0aW9ucy5wYXRoTWFwO1xuXHR9XG5cdHJ1bih3cml0ZXIsIHJlYWRlcikge1xuXHRcdHJldHVybiBDaGFubmVsV3JpdGUucmVnaXN0ZXJXcml0ZXIobmV3IFJ1bm5hYmxlQ2FsbGFibGUoe1xuXHRcdFx0bmFtZTogXCI8YnJhbmNoX3J1bj5cIixcblx0XHRcdHRyYWNlOiBmYWxzZSxcblx0XHRcdGZ1bmM6IGFzeW5jIChpbnB1dCwgY29uZmlnKSA9PiB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0cmV0dXJuIGF3YWl0IHRoaXMuX3JvdXRlKGlucHV0LCBjb25maWcsIHdyaXRlciwgcmVhZGVyKTtcblx0XHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRcdGlmIChlLm5hbWUgPT09IE5vZGVJbnRlcnJ1cHQudW5taW5pZmlhYmxlX25hbWUpIGNvbnNvbGUud2FybihcIltXQVJOXTogJ05vZGVJbnRlcnJ1cHQnIHRocm93biBpbiBjb25kaXRpb25hbCBlZGdlLiBUaGlzIGlzIGxpa2VseSBhIGJ1ZyBpbiB5b3VyIGdyYXBoIGltcGxlbWVudGF0aW9uLlxcbk5vZGVJbnRlcnJ1cHQgc2hvdWxkIG9ubHkgYmUgdGhyb3duIGluc2lkZSBhIG5vZGUsIG5vdCBpbiBlZGdlIGNvbmRpdGlvbnMuXCIpO1xuXHRcdFx0XHRcdHRocm93IGU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KSk7XG5cdH1cblx0YXN5bmMgX3JvdXRlKGlucHV0LCBjb25maWcsIHdyaXRlciwgcmVhZGVyKSB7XG5cdFx0bGV0IHJlc3VsdCA9IGF3YWl0IHRoaXMucGF0aC5pbnZva2UocmVhZGVyID8gcmVhZGVyKGNvbmZpZykgOiBpbnB1dCwgY29uZmlnKTtcblx0XHRpZiAoIUFycmF5LmlzQXJyYXkocmVzdWx0KSkgcmVzdWx0ID0gW3Jlc3VsdF07XG5cdFx0bGV0IGRlc3RpbmF0aW9ucztcblx0XHRpZiAodGhpcy5lbmRzKSBkZXN0aW5hdGlvbnMgPSByZXN1bHQubWFwKChyKSA9PiBfaXNTZW5kKHIpID8gciA6IHRoaXMuZW5kc1tyXSk7XG5cdFx0ZWxzZSBkZXN0aW5hdGlvbnMgPSByZXN1bHQ7XG5cdFx0aWYgKGRlc3RpbmF0aW9ucy5zb21lKChkZXN0KSA9PiAhZGVzdCkpIHRocm93IG5ldyBFcnJvcihcIkJyYW5jaCBjb25kaXRpb24gcmV0dXJuZWQgdW5rbm93biBvciBudWxsIGRlc3RpbmF0aW9uXCIpO1xuXHRcdGlmIChkZXN0aW5hdGlvbnMuZmlsdGVyKF9pc1NlbmQpLnNvbWUoKHBhY2tldCkgPT4gcGFja2V0Lm5vZGUgPT09IEVORCkpIHRocm93IG5ldyBJbnZhbGlkVXBkYXRlRXJyb3IoXCJDYW5ub3Qgc2VuZCBhIHBhY2tldCB0byB0aGUgRU5EIG5vZGVcIik7XG5cdFx0Y29uc3Qgd3JpdGVSZXN1bHQgPSBhd2FpdCB3cml0ZXIoZGVzdGluYXRpb25zLCBjb25maWcpO1xuXHRcdHJldHVybiB3cml0ZVJlc3VsdCA/PyBpbnB1dDtcblx0fVxufTtcbnZhciBHcmFwaCQxID0gY2xhc3Mge1xuXHRub2Rlcztcblx0ZWRnZXM7XG5cdGJyYW5jaGVzO1xuXHRlbnRyeVBvaW50O1xuXHRjb21waWxlZCA9IGZhbHNlO1xuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHR0aGlzLm5vZGVzID0ge307XG5cdFx0dGhpcy5lZGdlcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG5cdFx0dGhpcy5icmFuY2hlcyA9IHt9O1xuXHR9XG5cdHdhcm5JZkNvbXBpbGVkKG1lc3NhZ2UpIHtcblx0XHRpZiAodGhpcy5jb21waWxlZCkgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xuXHR9XG5cdGdldCBhbGxFZGdlcygpIHtcblx0XHRyZXR1cm4gdGhpcy5lZGdlcztcblx0fVxuXHRhZGROb2RlKC4uLmFyZ3MpIHtcblx0XHRmdW5jdGlvbiBpc011dGxpcGxlTm9kZXMoYXJncyQxKSB7XG5cdFx0XHRyZXR1cm4gYXJncyQxLmxlbmd0aCA+PSAxICYmIHR5cGVvZiBhcmdzJDFbMF0gIT09IFwic3RyaW5nXCI7XG5cdFx0fVxuXHRcdGNvbnN0IG5vZGVzID0gaXNNdXRsaXBsZU5vZGVzKGFyZ3MpID8gQXJyYXkuaXNBcnJheShhcmdzWzBdKSA/IGFyZ3NbMF0gOiBPYmplY3QuZW50cmllcyhhcmdzWzBdKSA6IFtbXG5cdFx0XHRhcmdzWzBdLFxuXHRcdFx0YXJnc1sxXSxcblx0XHRcdGFyZ3NbMl1cblx0XHRdXTtcblx0XHRpZiAobm9kZXMubGVuZ3RoID09PSAwKSB0aHJvdyBuZXcgRXJyb3IoXCJObyBub2RlcyBwcm92aWRlZCBpbiBgYWRkTm9kZWBcIik7XG5cdFx0Zm9yIChjb25zdCBba2V5LCBhY3Rpb24sIG9wdGlvbnNdIG9mIG5vZGVzKSB7XG5cdFx0XHRmb3IgKGNvbnN0IHJlc2VydmVkQ2hhciBvZiBbQ0hFQ0tQT0lOVF9OQU1FU1BBQ0VfU0VQQVJBVE9SLCBDSEVDS1BPSU5UX05BTUVTUEFDRV9FTkRdKSBpZiAoa2V5LmluY2x1ZGVzKHJlc2VydmVkQ2hhcikpIHRocm93IG5ldyBFcnJvcihgXCIke3Jlc2VydmVkQ2hhcn1cIiBpcyBhIHJlc2VydmVkIGNoYXJhY3RlciBhbmQgaXMgbm90IGFsbG93ZWQgaW4gbm9kZSBuYW1lcy5gKTtcblx0XHRcdHRoaXMud2FybklmQ29tcGlsZWQoYEFkZGluZyBhIG5vZGUgdG8gYSBncmFwaCB0aGF0IGhhcyBhbHJlYWR5IGJlZW4gY29tcGlsZWQuIFRoaXMgd2lsbCBub3QgYmUgcmVmbGVjdGVkIGluIHRoZSBjb21waWxlZCBncmFwaC5gKTtcblx0XHRcdGlmIChrZXkgaW4gdGhpcy5ub2RlcykgdGhyb3cgbmV3IEVycm9yKGBOb2RlIFxcYCR7a2V5fVxcYCBhbHJlYWR5IHByZXNlbnQuYCk7XG5cdFx0XHRpZiAoa2V5ID09PSBFTkQpIHRocm93IG5ldyBFcnJvcihgTm9kZSBcXGAke2tleX1cXGAgaXMgcmVzZXJ2ZWQuYCk7XG5cdFx0XHRjb25zdCBydW5uYWJsZSA9IF9jb2VyY2VUb1J1bm5hYmxlKGFjdGlvbik7XG5cdFx0XHR0aGlzLm5vZGVzW2tleV0gPSB7XG5cdFx0XHRcdHJ1bm5hYmxlLFxuXHRcdFx0XHRtZXRhZGF0YTogb3B0aW9ucz8ubWV0YWRhdGEsXG5cdFx0XHRcdHN1YmdyYXBoczogaXNQcmVnZWxMaWtlKHJ1bm5hYmxlKSA/IFtydW5uYWJsZV0gOiBvcHRpb25zPy5zdWJncmFwaHMsXG5cdFx0XHRcdGVuZHM6IG9wdGlvbnM/LmVuZHNcblx0XHRcdH07XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cdGFkZEVkZ2Uoc3RhcnRLZXksIGVuZEtleSkge1xuXHRcdHRoaXMud2FybklmQ29tcGlsZWQoYEFkZGluZyBhbiBlZGdlIHRvIGEgZ3JhcGggdGhhdCBoYXMgYWxyZWFkeSBiZWVuIGNvbXBpbGVkLiBUaGlzIHdpbGwgbm90IGJlIHJlZmxlY3RlZCBpbiB0aGUgY29tcGlsZWQgZ3JhcGguYCk7XG5cdFx0aWYgKHN0YXJ0S2V5ID09PSBFTkQpIHRocm93IG5ldyBFcnJvcihcIkVORCBjYW5ub3QgYmUgYSBzdGFydCBub2RlXCIpO1xuXHRcdGlmIChlbmRLZXkgPT09IFNUQVJUKSB0aHJvdyBuZXcgRXJyb3IoXCJTVEFSVCBjYW5ub3QgYmUgYW4gZW5kIG5vZGVcIik7XG5cdFx0aWYgKEFycmF5LmZyb20odGhpcy5lZGdlcykuc29tZSgoW3N0YXJ0XSkgPT4gc3RhcnQgPT09IHN0YXJ0S2V5KSAmJiAhKFwiY2hhbm5lbHNcIiBpbiB0aGlzKSkgdGhyb3cgbmV3IEVycm9yKGBBbHJlYWR5IGZvdW5kIHBhdGggZm9yICR7c3RhcnRLZXl9LiBGb3IgbXVsdGlwbGUgZWRnZXMsIHVzZSBTdGF0ZUdyYXBoLmApO1xuXHRcdHRoaXMuZWRnZXMuYWRkKFtzdGFydEtleSwgZW5kS2V5XSk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblx0YWRkQ29uZGl0aW9uYWxFZGdlcyhzb3VyY2UsIHBhdGgsIHBhdGhNYXApIHtcblx0XHRjb25zdCBvcHRpb25zID0gdHlwZW9mIHNvdXJjZSA9PT0gXCJvYmplY3RcIiA/IHNvdXJjZSA6IHtcblx0XHRcdHNvdXJjZSxcblx0XHRcdHBhdGgsXG5cdFx0XHRwYXRoTWFwXG5cdFx0fTtcblx0XHR0aGlzLndhcm5JZkNvbXBpbGVkKFwiQWRkaW5nIGFuIGVkZ2UgdG8gYSBncmFwaCB0aGF0IGhhcyBhbHJlYWR5IGJlZW4gY29tcGlsZWQuIFRoaXMgd2lsbCBub3QgYmUgcmVmbGVjdGVkIGluIHRoZSBjb21waWxlZCBncmFwaC5cIik7XG5cdFx0aWYgKCFSdW5uYWJsZS5pc1J1bm5hYmxlKG9wdGlvbnMucGF0aCkpIHtcblx0XHRcdGNvbnN0IHBhdGhEaXNwbGF5VmFsdWVzID0gQXJyYXkuaXNBcnJheShvcHRpb25zLnBhdGhNYXApID8gb3B0aW9ucy5wYXRoTWFwLmpvaW4oXCIsXCIpIDogT2JqZWN0LmtleXMob3B0aW9ucy5wYXRoTWFwID8/IHt9KS5qb2luKFwiLFwiKTtcblx0XHRcdG9wdGlvbnMucGF0aCA9IF9jb2VyY2VUb1J1bm5hYmxlKG9wdGlvbnMucGF0aCkud2l0aENvbmZpZyh7IHJ1bk5hbWU6IGBCcmFuY2g8JHtvcHRpb25zLnNvdXJjZX0ke3BhdGhEaXNwbGF5VmFsdWVzICE9PSBcIlwiID8gYCwke3BhdGhEaXNwbGF5VmFsdWVzfWAgOiBcIlwifT5gLnNsaWNlKDAsIDYzKSB9KTtcblx0XHR9XG5cdFx0Y29uc3QgbmFtZSA9IG9wdGlvbnMucGF0aC5nZXROYW1lKCkgPT09IFwiUnVubmFibGVMYW1iZGFcIiA/IFwiY29uZGl0aW9uXCIgOiBvcHRpb25zLnBhdGguZ2V0TmFtZSgpO1xuXHRcdGlmICh0aGlzLmJyYW5jaGVzW29wdGlvbnMuc291cmNlXSAmJiB0aGlzLmJyYW5jaGVzW29wdGlvbnMuc291cmNlXVtuYW1lXSkgdGhyb3cgbmV3IEVycm9yKGBDb25kaXRpb24gXFxgJHtuYW1lfVxcYCBhbHJlYWR5IHByZXNlbnQgZm9yIG5vZGUgXFxgJHtzb3VyY2V9XFxgYCk7XG5cdFx0dGhpcy5icmFuY2hlc1tvcHRpb25zLnNvdXJjZV0gPz89IHt9O1xuXHRcdHRoaXMuYnJhbmNoZXNbb3B0aW9ucy5zb3VyY2VdW25hbWVdID0gbmV3IEJyYW5jaChvcHRpb25zKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXHQvKipcblx0KiBAZGVwcmVjYXRlZCB1c2UgYGFkZEVkZ2UoU1RBUlQsIGtleSlgIGluc3RlYWRcblx0Ki9cblx0c2V0RW50cnlQb2ludChrZXkpIHtcblx0XHR0aGlzLndhcm5JZkNvbXBpbGVkKFwiU2V0dGluZyB0aGUgZW50cnkgcG9pbnQgb2YgYSBncmFwaCB0aGF0IGhhcyBhbHJlYWR5IGJlZW4gY29tcGlsZWQuIFRoaXMgd2lsbCBub3QgYmUgcmVmbGVjdGVkIGluIHRoZSBjb21waWxlZCBncmFwaC5cIik7XG5cdFx0cmV0dXJuIHRoaXMuYWRkRWRnZShTVEFSVCwga2V5KTtcblx0fVxuXHQvKipcblx0KiBAZGVwcmVjYXRlZCB1c2UgYGFkZEVkZ2Uoa2V5LCBFTkQpYCBpbnN0ZWFkXG5cdCovXG5cdHNldEZpbmlzaFBvaW50KGtleSkge1xuXHRcdHRoaXMud2FybklmQ29tcGlsZWQoXCJTZXR0aW5nIGEgZmluaXNoIHBvaW50IG9mIGEgZ3JhcGggdGhhdCBoYXMgYWxyZWFkeSBiZWVuIGNvbXBpbGVkLiBUaGlzIHdpbGwgbm90IGJlIHJlZmxlY3RlZCBpbiB0aGUgY29tcGlsZWQgZ3JhcGguXCIpO1xuXHRcdHJldHVybiB0aGlzLmFkZEVkZ2Uoa2V5LCBFTkQpO1xuXHR9XG5cdGNvbXBpbGUoeyBjaGVja3BvaW50ZXIsIGludGVycnVwdEJlZm9yZSwgaW50ZXJydXB0QWZ0ZXIsIG5hbWUgfSA9IHt9KSB7XG5cdFx0dGhpcy52YWxpZGF0ZShbLi4uQXJyYXkuaXNBcnJheShpbnRlcnJ1cHRCZWZvcmUpID8gaW50ZXJydXB0QmVmb3JlIDogW10sIC4uLkFycmF5LmlzQXJyYXkoaW50ZXJydXB0QWZ0ZXIpID8gaW50ZXJydXB0QWZ0ZXIgOiBbXV0pO1xuXHRcdGNvbnN0IGNvbXBpbGVkID0gbmV3IENvbXBpbGVkR3JhcGgoe1xuXHRcdFx0YnVpbGRlcjogdGhpcyxcblx0XHRcdGNoZWNrcG9pbnRlcixcblx0XHRcdGludGVycnVwdEFmdGVyLFxuXHRcdFx0aW50ZXJydXB0QmVmb3JlLFxuXHRcdFx0YXV0b1ZhbGlkYXRlOiBmYWxzZSxcblx0XHRcdG5vZGVzOiB7fSxcblx0XHRcdGNoYW5uZWxzOiB7XG5cdFx0XHRcdFtTVEFSVF06IG5ldyBFcGhlbWVyYWxWYWx1ZSgpLFxuXHRcdFx0XHRbRU5EXTogbmV3IEVwaGVtZXJhbFZhbHVlKClcblx0XHRcdH0sXG5cdFx0XHRpbnB1dENoYW5uZWxzOiBTVEFSVCxcblx0XHRcdG91dHB1dENoYW5uZWxzOiBFTkQsXG5cdFx0XHRzdHJlYW1DaGFubmVsczogW10sXG5cdFx0XHRzdHJlYW1Nb2RlOiBcInZhbHVlc1wiLFxuXHRcdFx0bmFtZVxuXHRcdH0pO1xuXHRcdGZvciAoY29uc3QgW2tleSwgbm9kZV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5ub2RlcykpIGNvbXBpbGVkLmF0dGFjaE5vZGUoa2V5LCBub2RlKTtcblx0XHRmb3IgKGNvbnN0IFtzdGFydCwgZW5kXSBvZiB0aGlzLmVkZ2VzKSBjb21waWxlZC5hdHRhY2hFZGdlKHN0YXJ0LCBlbmQpO1xuXHRcdGZvciAoY29uc3QgW3N0YXJ0LCBicmFuY2hlc10gb2YgT2JqZWN0LmVudHJpZXModGhpcy5icmFuY2hlcykpIGZvciAoY29uc3QgW25hbWUkMSwgYnJhbmNoXSBvZiBPYmplY3QuZW50cmllcyhicmFuY2hlcykpIGNvbXBpbGVkLmF0dGFjaEJyYW5jaChzdGFydCwgbmFtZSQxLCBicmFuY2gpO1xuXHRcdHJldHVybiBjb21waWxlZC52YWxpZGF0ZSgpO1xuXHR9XG5cdHZhbGlkYXRlKGludGVycnVwdCkge1xuXHRcdGNvbnN0IGFsbFNvdXJjZXMgPSBuZXcgU2V0KFsuLi50aGlzLmFsbEVkZ2VzXS5tYXAoKFtzcmMsIF9dKSA9PiBzcmMpKTtcblx0XHRmb3IgKGNvbnN0IFtzdGFydF0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5icmFuY2hlcykpIGFsbFNvdXJjZXMuYWRkKHN0YXJ0KTtcblx0XHRmb3IgKGNvbnN0IHNvdXJjZSBvZiBhbGxTb3VyY2VzKSBpZiAoc291cmNlICE9PSBTVEFSVCAmJiAhKHNvdXJjZSBpbiB0aGlzLm5vZGVzKSkgdGhyb3cgbmV3IEVycm9yKGBGb3VuZCBlZGdlIHN0YXJ0aW5nIGF0IHVua25vd24gbm9kZSBcXGAke3NvdXJjZX1cXGBgKTtcblx0XHRjb25zdCBhbGxUYXJnZXRzID0gbmV3IFNldChbLi4udGhpcy5hbGxFZGdlc10ubWFwKChbXywgdGFyZ2V0XSkgPT4gdGFyZ2V0KSk7XG5cdFx0Zm9yIChjb25zdCBbc3RhcnQsIGJyYW5jaGVzXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLmJyYW5jaGVzKSkgZm9yIChjb25zdCBicmFuY2ggb2YgT2JqZWN0LnZhbHVlcyhicmFuY2hlcykpIGlmIChicmFuY2guZW5kcyAhPSBudWxsKSBmb3IgKGNvbnN0IGVuZCBvZiBPYmplY3QudmFsdWVzKGJyYW5jaC5lbmRzKSkgYWxsVGFyZ2V0cy5hZGQoZW5kKTtcblx0XHRlbHNlIHtcblx0XHRcdGFsbFRhcmdldHMuYWRkKEVORCk7XG5cdFx0XHRmb3IgKGNvbnN0IG5vZGUgb2YgT2JqZWN0LmtleXModGhpcy5ub2RlcykpIGlmIChub2RlICE9PSBzdGFydCkgYWxsVGFyZ2V0cy5hZGQobm9kZSk7XG5cdFx0fVxuXHRcdGZvciAoY29uc3Qgbm9kZSBvZiBPYmplY3QudmFsdWVzKHRoaXMubm9kZXMpKSBmb3IgKGNvbnN0IHRhcmdldCBvZiBub2RlLmVuZHMgPz8gW10pIGFsbFRhcmdldHMuYWRkKHRhcmdldCk7XG5cdFx0Zm9yIChjb25zdCBub2RlIG9mIE9iamVjdC5rZXlzKHRoaXMubm9kZXMpKSBpZiAoIWFsbFRhcmdldHMuaGFzKG5vZGUpKSB0aHJvdyBuZXcgVW5yZWFjaGFibGVOb2RlRXJyb3IoW1xuXHRcdFx0YE5vZGUgXFxgJHtub2RlfVxcYCBpcyBub3QgcmVhY2hhYmxlLmAsXG5cdFx0XHRcIlwiLFxuXHRcdFx0XCJJZiB5b3UgYXJlIHJldHVybmluZyBDb21tYW5kIG9iamVjdHMgZnJvbSB5b3VyIG5vZGUsXCIsXG5cdFx0XHRcIm1ha2Ugc3VyZSB5b3UgYXJlIHBhc3NpbmcgbmFtZXMgb2YgcG90ZW50aWFsIGRlc3RpbmF0aW9uIG5vZGVzIGFzIGFuIFxcXCJlbmRzXFxcIiBhcnJheVwiLFxuXHRcdFx0XCJpbnRvIFxcXCIuYWRkTm9kZSguLi4sIHsgZW5kczogW1xcXCJub2RlMVxcXCIsIFxcXCJub2RlMlxcXCJdIH0pXFxcIi5cIlxuXHRcdF0uam9pbihcIlxcblwiKSwgeyBsY19lcnJvcl9jb2RlOiBcIlVOUkVBQ0hBQkxFX05PREVcIiB9KTtcblx0XHRmb3IgKGNvbnN0IHRhcmdldCBvZiBhbGxUYXJnZXRzKSBpZiAodGFyZ2V0ICE9PSBFTkQgJiYgISh0YXJnZXQgaW4gdGhpcy5ub2RlcykpIHRocm93IG5ldyBFcnJvcihgRm91bmQgZWRnZSBlbmRpbmcgYXQgdW5rbm93biBub2RlIFxcYCR7dGFyZ2V0fVxcYGApO1xuXHRcdGlmIChpbnRlcnJ1cHQpIHtcblx0XHRcdGZvciAoY29uc3Qgbm9kZSBvZiBpbnRlcnJ1cHQpIGlmICghKG5vZGUgaW4gdGhpcy5ub2RlcykpIHRocm93IG5ldyBFcnJvcihgSW50ZXJydXB0IG5vZGUgXFxgJHtub2RlfVxcYCBpcyBub3QgcHJlc2VudGApO1xuXHRcdH1cblx0XHR0aGlzLmNvbXBpbGVkID0gdHJ1ZTtcblx0fVxufTtcbnZhciBDb21waWxlZEdyYXBoID0gY2xhc3MgZXh0ZW5kcyBQcmVnZWwge1xuXHRidWlsZGVyO1xuXHRjb25zdHJ1Y3Rvcih7IGJ1aWxkZXIsLi4ucmVzdCB9KSB7XG5cdFx0c3VwZXIocmVzdCk7XG5cdFx0dGhpcy5idWlsZGVyID0gYnVpbGRlcjtcblx0fVxuXHRhdHRhY2hOb2RlKGtleSwgbm9kZSkge1xuXHRcdHRoaXMuY2hhbm5lbHNba2V5XSA9IG5ldyBFcGhlbWVyYWxWYWx1ZSgpO1xuXHRcdHRoaXMubm9kZXNba2V5XSA9IG5ldyBQcmVnZWxOb2RlKHtcblx0XHRcdGNoYW5uZWxzOiBbXSxcblx0XHRcdHRyaWdnZXJzOiBbXSxcblx0XHRcdG1ldGFkYXRhOiBub2RlLm1ldGFkYXRhLFxuXHRcdFx0c3ViZ3JhcGhzOiBub2RlLnN1YmdyYXBocyxcblx0XHRcdGVuZHM6IG5vZGUuZW5kc1xuXHRcdH0pLnBpcGUobm9kZS5ydW5uYWJsZSkucGlwZShuZXcgQ2hhbm5lbFdyaXRlKFt7XG5cdFx0XHRjaGFubmVsOiBrZXksXG5cdFx0XHR2YWx1ZTogUEFTU1RIUk9VR0hcblx0XHR9XSwgW1RBR19ISURERU5dKSk7XG5cdFx0dGhpcy5zdHJlYW1DaGFubmVscy5wdXNoKGtleSk7XG5cdH1cblx0YXR0YWNoRWRnZShzdGFydCwgZW5kKSB7XG5cdFx0aWYgKGVuZCA9PT0gRU5EKSB7XG5cdFx0XHRpZiAoc3RhcnQgPT09IFNUQVJUKSB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgaGF2ZSBhbiBlZGdlIGZyb20gU1RBUlQgdG8gRU5EXCIpO1xuXHRcdFx0dGhpcy5ub2Rlc1tzdGFydF0ud3JpdGVycy5wdXNoKG5ldyBDaGFubmVsV3JpdGUoW3tcblx0XHRcdFx0Y2hhbm5lbDogRU5ELFxuXHRcdFx0XHR2YWx1ZTogUEFTU1RIUk9VR0hcblx0XHRcdH1dLCBbVEFHX0hJRERFTl0pKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5ub2Rlc1tlbmRdLnRyaWdnZXJzLnB1c2goc3RhcnQpO1xuXHRcdFx0dGhpcy5ub2Rlc1tlbmRdLmNoYW5uZWxzLnB1c2goc3RhcnQpO1xuXHRcdH1cblx0fVxuXHRhdHRhY2hCcmFuY2goc3RhcnQsIG5hbWUsIGJyYW5jaCkge1xuXHRcdGlmIChzdGFydCA9PT0gU1RBUlQgJiYgIXRoaXMubm9kZXNbU1RBUlRdKSB0aGlzLm5vZGVzW1NUQVJUXSA9IENoYW5uZWwuc3Vic2NyaWJlVG8oU1RBUlQsIHsgdGFnczogW1RBR19ISURERU5dIH0pO1xuXHRcdHRoaXMubm9kZXNbc3RhcnRdLnBpcGUoYnJhbmNoLnJ1bigoZGVzdHMpID0+IHtcblx0XHRcdGNvbnN0IHdyaXRlcyA9IGRlc3RzLm1hcCgoZGVzdCkgPT4ge1xuXHRcdFx0XHRpZiAoX2lzU2VuZChkZXN0KSkgcmV0dXJuIGRlc3Q7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0Y2hhbm5lbDogZGVzdCA9PT0gRU5EID8gRU5EIDogYGJyYW5jaDoke3N0YXJ0fToke25hbWV9OiR7ZGVzdH1gLFxuXHRcdFx0XHRcdHZhbHVlOiBQQVNTVEhST1VHSFxuXHRcdFx0XHR9O1xuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gbmV3IENoYW5uZWxXcml0ZSh3cml0ZXMsIFtUQUdfSElEREVOXSk7XG5cdFx0fSkpO1xuXHRcdGNvbnN0IGVuZHMgPSBicmFuY2guZW5kcyA/IE9iamVjdC52YWx1ZXMoYnJhbmNoLmVuZHMpIDogT2JqZWN0LmtleXModGhpcy5ub2Rlcyk7XG5cdFx0Zm9yIChjb25zdCBlbmQgb2YgZW5kcykgaWYgKGVuZCAhPT0gRU5EKSB7XG5cdFx0XHRjb25zdCBjaGFubmVsTmFtZSA9IGBicmFuY2g6JHtzdGFydH06JHtuYW1lfToke2VuZH1gO1xuXHRcdFx0dGhpcy5jaGFubmVsc1tjaGFubmVsTmFtZV0gPSBuZXcgRXBoZW1lcmFsVmFsdWUoKTtcblx0XHRcdHRoaXMubm9kZXNbZW5kXS50cmlnZ2Vycy5wdXNoKGNoYW5uZWxOYW1lKTtcblx0XHRcdHRoaXMubm9kZXNbZW5kXS5jaGFubmVscy5wdXNoKGNoYW5uZWxOYW1lKTtcblx0XHR9XG5cdH1cblx0LyoqXG5cdCogUmV0dXJucyBhIGRyYXdhYmxlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBjb21wdXRhdGlvbiBncmFwaC5cblx0Ki9cblx0YXN5bmMgZ2V0R3JhcGhBc3luYyhjb25maWcpIHtcblx0XHRjb25zdCB4cmF5ID0gY29uZmlnPy54cmF5O1xuXHRcdGNvbnN0IGdyYXBoID0gbmV3IEdyYXBoKCk7XG5cdFx0Y29uc3Qgc3RhcnROb2RlcyA9IHsgW1NUQVJUXTogZ3JhcGguYWRkTm9kZSh7IHNjaGVtYTogei5hbnkoKSB9LCBTVEFSVCkgfTtcblx0XHRjb25zdCBlbmROb2RlcyA9IHt9O1xuXHRcdGxldCBzdWJncmFwaHMgPSB7fTtcblx0XHRpZiAoeHJheSkgc3ViZ3JhcGhzID0gT2JqZWN0LmZyb21FbnRyaWVzKChhd2FpdCBnYXRoZXJJdGVyYXRvcih0aGlzLmdldFN1YmdyYXBoc0FzeW5jKCkpKS5maWx0ZXIoKHgpID0+IGlzQ29tcGlsZWRHcmFwaCh4WzFdKSkpO1xuXHRcdGZ1bmN0aW9uIGFkZEVkZ2Uoc3RhcnQsIGVuZCwgbGFiZWwsIGNvbmRpdGlvbmFsID0gZmFsc2UpIHtcblx0XHRcdGlmIChlbmQgPT09IEVORCAmJiBlbmROb2Rlc1tFTkRdID09PSB2b2lkIDApIGVuZE5vZGVzW0VORF0gPSBncmFwaC5hZGROb2RlKHsgc2NoZW1hOiB6LmFueSgpIH0sIEVORCk7XG5cdFx0XHRpZiAoc3RhcnROb2Rlc1tzdGFydF0gPT09IHZvaWQgMCkgcmV0dXJuO1xuXHRcdFx0aWYgKGVuZE5vZGVzW2VuZF0gPT09IHZvaWQgMCkgdGhyb3cgbmV3IEVycm9yKGBFbmQgbm9kZSAke2VuZH0gbm90IGZvdW5kIWApO1xuXHRcdFx0cmV0dXJuIGdyYXBoLmFkZEVkZ2Uoc3RhcnROb2Rlc1tzdGFydF0sIGVuZE5vZGVzW2VuZF0sIGxhYmVsICE9PSBlbmQgPyBsYWJlbCA6IHZvaWQgMCwgY29uZGl0aW9uYWwpO1xuXHRcdH1cblx0XHRmb3IgKGNvbnN0IFtrZXksIG5vZGVTcGVjXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLmJ1aWxkZXIubm9kZXMpKSB7XG5cdFx0XHRjb25zdCBkaXNwbGF5S2V5ID0gX2VzY2FwZU1lcm1haWRLZXl3b3JkcyhrZXkpO1xuXHRcdFx0Y29uc3Qgbm9kZSA9IG5vZGVTcGVjLnJ1bm5hYmxlO1xuXHRcdFx0Y29uc3QgbWV0YWRhdGEgPSBub2RlU3BlYy5tZXRhZGF0YSA/PyB7fTtcblx0XHRcdGlmICh0aGlzLmludGVycnVwdEJlZm9yZT8uaW5jbHVkZXMoa2V5KSAmJiB0aGlzLmludGVycnVwdEFmdGVyPy5pbmNsdWRlcyhrZXkpKSBtZXRhZGF0YS5fX2ludGVycnVwdCA9IFwiYmVmb3JlLGFmdGVyXCI7XG5cdFx0XHRlbHNlIGlmICh0aGlzLmludGVycnVwdEJlZm9yZT8uaW5jbHVkZXMoa2V5KSkgbWV0YWRhdGEuX19pbnRlcnJ1cHQgPSBcImJlZm9yZVwiO1xuXHRcdFx0ZWxzZSBpZiAodGhpcy5pbnRlcnJ1cHRBZnRlcj8uaW5jbHVkZXMoa2V5KSkgbWV0YWRhdGEuX19pbnRlcnJ1cHQgPSBcImFmdGVyXCI7XG5cdFx0XHRpZiAoeHJheSkge1xuXHRcdFx0XHRjb25zdCBuZXdYcmF5VmFsdWUgPSB0eXBlb2YgeHJheSA9PT0gXCJudW1iZXJcIiA/IHhyYXkgLSAxIDogeHJheTtcblx0XHRcdFx0Y29uc3QgZHJhd2FibGVTdWJncmFwaCA9IHN1YmdyYXBoc1trZXldICE9PSB2b2lkIDAgPyBhd2FpdCBzdWJncmFwaHNba2V5XS5nZXRHcmFwaEFzeW5jKHtcblx0XHRcdFx0XHQuLi5jb25maWcsXG5cdFx0XHRcdFx0eHJheTogbmV3WHJheVZhbHVlXG5cdFx0XHRcdH0pIDogbm9kZS5nZXRHcmFwaChjb25maWcpO1xuXHRcdFx0XHRkcmF3YWJsZVN1YmdyYXBoLnRyaW1GaXJzdE5vZGUoKTtcblx0XHRcdFx0ZHJhd2FibGVTdWJncmFwaC50cmltTGFzdE5vZGUoKTtcblx0XHRcdFx0aWYgKE9iamVjdC5rZXlzKGRyYXdhYmxlU3ViZ3JhcGgubm9kZXMpLmxlbmd0aCA+IDEpIHtcblx0XHRcdFx0XHRjb25zdCBbZSwgc10gPSBncmFwaC5leHRlbmQoZHJhd2FibGVTdWJncmFwaCwgZGlzcGxheUtleSk7XG5cdFx0XHRcdFx0aWYgKGUgPT09IHZvaWQgMCkgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgZXh0ZW5kIHN1YmdyYXBoIFwiJHtrZXl9XCIgZHVlIHRvIG1pc3NpbmcgZW50cnlwb2ludC5gKTtcblx0XHRcdFx0XHRmdW5jdGlvbiBfaXNSdW5uYWJsZUludGVyZmFjZSh0aGluZykge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaW5nID8gdGhpbmcubGNfcnVubmFibGUgOiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZnVuY3Rpb24gX25vZGVEYXRhU3RyKGlkLCBkYXRhKSB7XG5cdFx0XHRcdFx0XHRpZiAoaWQgIT09IHZvaWQgMCAmJiAhdmFsaWRhdGUoaWQpKSByZXR1cm4gaWQ7XG5cdFx0XHRcdFx0XHRlbHNlIGlmIChfaXNSdW5uYWJsZUludGVyZmFjZShkYXRhKSkgdHJ5IHtcblx0XHRcdFx0XHRcdFx0bGV0IGRhdGFTdHIgPSBkYXRhLmdldE5hbWUoKTtcblx0XHRcdFx0XHRcdFx0ZGF0YVN0ciA9IGRhdGFTdHIuc3RhcnRzV2l0aChcIlJ1bm5hYmxlXCIpID8gZGF0YVN0ci5zbGljZSg4KSA6IGRhdGFTdHI7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBkYXRhU3RyO1xuXHRcdFx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGRhdGEuZ2V0TmFtZSgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0ZWxzZSByZXR1cm4gZGF0YS5uYW1lID8/IFwiVW5rbm93blNjaGVtYVwiO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAocyAhPT0gdm9pZCAwKSBzdGFydE5vZGVzW2Rpc3BsYXlLZXldID0ge1xuXHRcdFx0XHRcdFx0bmFtZTogX25vZGVEYXRhU3RyKHMuaWQsIHMuZGF0YSksXG5cdFx0XHRcdFx0XHQuLi5zXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRlbmROb2Rlc1tkaXNwbGF5S2V5XSA9IHtcblx0XHRcdFx0XHRcdG5hbWU6IF9ub2RlRGF0YVN0cihlLmlkLCBlLmRhdGEpLFxuXHRcdFx0XHRcdFx0Li4uZVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29uc3QgbmV3Tm9kZSA9IGdyYXBoLmFkZE5vZGUobm9kZSwgZGlzcGxheUtleSwgbWV0YWRhdGEpO1xuXHRcdFx0XHRcdHN0YXJ0Tm9kZXNbZGlzcGxheUtleV0gPSBuZXdOb2RlO1xuXHRcdFx0XHRcdGVuZE5vZGVzW2Rpc3BsYXlLZXldID0gbmV3Tm9kZTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc3QgbmV3Tm9kZSA9IGdyYXBoLmFkZE5vZGUobm9kZSwgZGlzcGxheUtleSwgbWV0YWRhdGEpO1xuXHRcdFx0XHRzdGFydE5vZGVzW2Rpc3BsYXlLZXldID0gbmV3Tm9kZTtcblx0XHRcdFx0ZW5kTm9kZXNbZGlzcGxheUtleV0gPSBuZXdOb2RlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRjb25zdCBzb3J0ZWRFZGdlcyA9IFsuLi50aGlzLmJ1aWxkZXIuYWxsRWRnZXNdLnNvcnQoKFthXSwgW2JdKSA9PiB7XG5cdFx0XHRpZiAoYSA8IGIpIHJldHVybiAtMTtcblx0XHRcdGVsc2UgaWYgKGIgPiBhKSByZXR1cm4gMTtcblx0XHRcdGVsc2UgcmV0dXJuIDA7XG5cdFx0fSk7XG5cdFx0Zm9yIChjb25zdCBbc3RhcnQsIGVuZF0gb2Ygc29ydGVkRWRnZXMpIGFkZEVkZ2UoX2VzY2FwZU1lcm1haWRLZXl3b3JkcyhzdGFydCksIF9lc2NhcGVNZXJtYWlkS2V5d29yZHMoZW5kKSk7XG5cdFx0Zm9yIChjb25zdCBbc3RhcnQsIGJyYW5jaGVzXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLmJ1aWxkZXIuYnJhbmNoZXMpKSB7XG5cdFx0XHRjb25zdCBkZWZhdWx0RW5kcyA9IHtcblx0XHRcdFx0Li4uT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5rZXlzKHRoaXMuYnVpbGRlci5ub2RlcykuZmlsdGVyKChrKSA9PiBrICE9PSBzdGFydCkubWFwKChrKSA9PiBbX2VzY2FwZU1lcm1haWRLZXl3b3JkcyhrKSwgX2VzY2FwZU1lcm1haWRLZXl3b3JkcyhrKV0pKSxcblx0XHRcdFx0W0VORF06IEVORFxuXHRcdFx0fTtcblx0XHRcdGZvciAoY29uc3QgYnJhbmNoIG9mIE9iamVjdC52YWx1ZXMoYnJhbmNoZXMpKSB7XG5cdFx0XHRcdGxldCBlbmRzO1xuXHRcdFx0XHRpZiAoYnJhbmNoLmVuZHMgIT09IHZvaWQgMCkgZW5kcyA9IGJyYW5jaC5lbmRzO1xuXHRcdFx0XHRlbHNlIGVuZHMgPSBkZWZhdWx0RW5kcztcblx0XHRcdFx0Zm9yIChjb25zdCBbbGFiZWwsIGVuZF0gb2YgT2JqZWN0LmVudHJpZXMoZW5kcykpIGFkZEVkZ2UoX2VzY2FwZU1lcm1haWRLZXl3b3JkcyhzdGFydCksIF9lc2NhcGVNZXJtYWlkS2V5d29yZHMoZW5kKSwgbGFiZWwsIHRydWUpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRmb3IgKGNvbnN0IFtrZXksIG5vZGVdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuYnVpbGRlci5ub2RlcykpIGlmIChub2RlLmVuZHMgIT09IHZvaWQgMCkgZm9yIChjb25zdCBlbmQgb2Ygbm9kZS5lbmRzKSBhZGRFZGdlKF9lc2NhcGVNZXJtYWlkS2V5d29yZHMoa2V5KSwgX2VzY2FwZU1lcm1haWRLZXl3b3JkcyhlbmQpLCB2b2lkIDAsIHRydWUpO1xuXHRcdHJldHVybiBncmFwaDtcblx0fVxuXHQvKipcblx0KiBSZXR1cm5zIGEgZHJhd2FibGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGNvbXB1dGF0aW9uIGdyYXBoLlxuXHQqXG5cdCogQGRlcHJlY2F0ZWQgVXNlIGdldEdyYXBoQXN5bmMgaW5zdGVhZC4gVGhlIGFzeW5jIG1ldGhvZCB3aWxsIGJlIHRoZSBkZWZhdWx0IGluIHRoZSBuZXh0IG1pbm9yIGNvcmUgcmVsZWFzZS5cblx0Ki9cblx0Z2V0R3JhcGgoY29uZmlnKSB7XG5cdFx0Y29uc3QgeHJheSA9IGNvbmZpZz8ueHJheTtcblx0XHRjb25zdCBncmFwaCA9IG5ldyBHcmFwaCgpO1xuXHRcdGNvbnN0IHN0YXJ0Tm9kZXMgPSB7IFtTVEFSVF06IGdyYXBoLmFkZE5vZGUoeyBzY2hlbWE6IHouYW55KCkgfSwgU1RBUlQpIH07XG5cdFx0Y29uc3QgZW5kTm9kZXMgPSB7fTtcblx0XHRsZXQgc3ViZ3JhcGhzID0ge307XG5cdFx0aWYgKHhyYXkpIHN1YmdyYXBocyA9IE9iamVjdC5mcm9tRW50cmllcyhnYXRoZXJJdGVyYXRvclN5bmModGhpcy5nZXRTdWJncmFwaHMoKSkuZmlsdGVyKCh4KSA9PiBpc0NvbXBpbGVkR3JhcGgoeFsxXSkpKTtcblx0XHRmdW5jdGlvbiBhZGRFZGdlKHN0YXJ0LCBlbmQsIGxhYmVsLCBjb25kaXRpb25hbCA9IGZhbHNlKSB7XG5cdFx0XHRpZiAoZW5kID09PSBFTkQgJiYgZW5kTm9kZXNbRU5EXSA9PT0gdm9pZCAwKSBlbmROb2Rlc1tFTkRdID0gZ3JhcGguYWRkTm9kZSh7IHNjaGVtYTogei5hbnkoKSB9LCBFTkQpO1xuXHRcdFx0cmV0dXJuIGdyYXBoLmFkZEVkZ2Uoc3RhcnROb2Rlc1tzdGFydF0sIGVuZE5vZGVzW2VuZF0sIGxhYmVsICE9PSBlbmQgPyBsYWJlbCA6IHZvaWQgMCwgY29uZGl0aW9uYWwpO1xuXHRcdH1cblx0XHRmb3IgKGNvbnN0IFtrZXksIG5vZGVTcGVjXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLmJ1aWxkZXIubm9kZXMpKSB7XG5cdFx0XHRjb25zdCBkaXNwbGF5S2V5ID0gX2VzY2FwZU1lcm1haWRLZXl3b3JkcyhrZXkpO1xuXHRcdFx0Y29uc3Qgbm9kZSA9IG5vZGVTcGVjLnJ1bm5hYmxlO1xuXHRcdFx0Y29uc3QgbWV0YWRhdGEgPSBub2RlU3BlYy5tZXRhZGF0YSA/PyB7fTtcblx0XHRcdGlmICh0aGlzLmludGVycnVwdEJlZm9yZT8uaW5jbHVkZXMoa2V5KSAmJiB0aGlzLmludGVycnVwdEFmdGVyPy5pbmNsdWRlcyhrZXkpKSBtZXRhZGF0YS5fX2ludGVycnVwdCA9IFwiYmVmb3JlLGFmdGVyXCI7XG5cdFx0XHRlbHNlIGlmICh0aGlzLmludGVycnVwdEJlZm9yZT8uaW5jbHVkZXMoa2V5KSkgbWV0YWRhdGEuX19pbnRlcnJ1cHQgPSBcImJlZm9yZVwiO1xuXHRcdFx0ZWxzZSBpZiAodGhpcy5pbnRlcnJ1cHRBZnRlcj8uaW5jbHVkZXMoa2V5KSkgbWV0YWRhdGEuX19pbnRlcnJ1cHQgPSBcImFmdGVyXCI7XG5cdFx0XHRpZiAoeHJheSkge1xuXHRcdFx0XHRjb25zdCBuZXdYcmF5VmFsdWUgPSB0eXBlb2YgeHJheSA9PT0gXCJudW1iZXJcIiA/IHhyYXkgLSAxIDogeHJheTtcblx0XHRcdFx0Y29uc3QgZHJhd2FibGVTdWJncmFwaCA9IHN1YmdyYXBoc1trZXldICE9PSB2b2lkIDAgPyBzdWJncmFwaHNba2V5XS5nZXRHcmFwaCh7XG5cdFx0XHRcdFx0Li4uY29uZmlnLFxuXHRcdFx0XHRcdHhyYXk6IG5ld1hyYXlWYWx1ZVxuXHRcdFx0XHR9KSA6IG5vZGUuZ2V0R3JhcGgoY29uZmlnKTtcblx0XHRcdFx0ZHJhd2FibGVTdWJncmFwaC50cmltRmlyc3ROb2RlKCk7XG5cdFx0XHRcdGRyYXdhYmxlU3ViZ3JhcGgudHJpbUxhc3ROb2RlKCk7XG5cdFx0XHRcdGlmIChPYmplY3Qua2V5cyhkcmF3YWJsZVN1YmdyYXBoLm5vZGVzKS5sZW5ndGggPiAxKSB7XG5cdFx0XHRcdFx0Y29uc3QgW2UsIHNdID0gZ3JhcGguZXh0ZW5kKGRyYXdhYmxlU3ViZ3JhcGgsIGRpc3BsYXlLZXkpO1xuXHRcdFx0XHRcdGlmIChlID09PSB2b2lkIDApIHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IGV4dGVuZCBzdWJncmFwaCBcIiR7a2V5fVwiIGR1ZSB0byBtaXNzaW5nIGVudHJ5cG9pbnQuYCk7XG5cdFx0XHRcdFx0ZnVuY3Rpb24gX2lzUnVubmFibGVJbnRlcmZhY2UodGhpbmcpIHtcblx0XHRcdFx0XHRcdHJldHVybiB0aGluZyA/IHRoaW5nLmxjX3J1bm5hYmxlIDogZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGZ1bmN0aW9uIF9ub2RlRGF0YVN0cihpZCwgZGF0YSkge1xuXHRcdFx0XHRcdFx0aWYgKGlkICE9PSB2b2lkIDAgJiYgIXZhbGlkYXRlKGlkKSkgcmV0dXJuIGlkO1xuXHRcdFx0XHRcdFx0ZWxzZSBpZiAoX2lzUnVubmFibGVJbnRlcmZhY2UoZGF0YSkpIHRyeSB7XG5cdFx0XHRcdFx0XHRcdGxldCBkYXRhU3RyID0gZGF0YS5nZXROYW1lKCk7XG5cdFx0XHRcdFx0XHRcdGRhdGFTdHIgPSBkYXRhU3RyLnN0YXJ0c1dpdGgoXCJSdW5uYWJsZVwiKSA/IGRhdGFTdHIuc2xpY2UoOCkgOiBkYXRhU3RyO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZGF0YVN0cjtcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBkYXRhLmdldE5hbWUoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGVsc2UgcmV0dXJuIGRhdGEubmFtZSA/PyBcIlVua25vd25TY2hlbWFcIjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKHMgIT09IHZvaWQgMCkgc3RhcnROb2Rlc1tkaXNwbGF5S2V5XSA9IHtcblx0XHRcdFx0XHRcdG5hbWU6IF9ub2RlRGF0YVN0cihzLmlkLCBzLmRhdGEpLFxuXHRcdFx0XHRcdFx0Li4uc1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0ZW5kTm9kZXNbZGlzcGxheUtleV0gPSB7XG5cdFx0XHRcdFx0XHRuYW1lOiBfbm9kZURhdGFTdHIoZS5pZCwgZS5kYXRhKSxcblx0XHRcdFx0XHRcdC4uLmVcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNvbnN0IG5ld05vZGUgPSBncmFwaC5hZGROb2RlKG5vZGUsIGRpc3BsYXlLZXksIG1ldGFkYXRhKTtcblx0XHRcdFx0XHRzdGFydE5vZGVzW2Rpc3BsYXlLZXldID0gbmV3Tm9kZTtcblx0XHRcdFx0XHRlbmROb2Rlc1tkaXNwbGF5S2V5XSA9IG5ld05vZGU7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IG5ld05vZGUgPSBncmFwaC5hZGROb2RlKG5vZGUsIGRpc3BsYXlLZXksIG1ldGFkYXRhKTtcblx0XHRcdFx0c3RhcnROb2Rlc1tkaXNwbGF5S2V5XSA9IG5ld05vZGU7XG5cdFx0XHRcdGVuZE5vZGVzW2Rpc3BsYXlLZXldID0gbmV3Tm9kZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Y29uc3Qgc29ydGVkRWRnZXMgPSBbLi4udGhpcy5idWlsZGVyLmFsbEVkZ2VzXS5zb3J0KChbYV0sIFtiXSkgPT4ge1xuXHRcdFx0aWYgKGEgPCBiKSByZXR1cm4gLTE7XG5cdFx0XHRlbHNlIGlmIChiID4gYSkgcmV0dXJuIDE7XG5cdFx0XHRlbHNlIHJldHVybiAwO1xuXHRcdH0pO1xuXHRcdGZvciAoY29uc3QgW3N0YXJ0LCBlbmRdIG9mIHNvcnRlZEVkZ2VzKSBhZGRFZGdlKF9lc2NhcGVNZXJtYWlkS2V5d29yZHMoc3RhcnQpLCBfZXNjYXBlTWVybWFpZEtleXdvcmRzKGVuZCkpO1xuXHRcdGZvciAoY29uc3QgW3N0YXJ0LCBicmFuY2hlc10gb2YgT2JqZWN0LmVudHJpZXModGhpcy5idWlsZGVyLmJyYW5jaGVzKSkge1xuXHRcdFx0Y29uc3QgZGVmYXVsdEVuZHMgPSB7XG5cdFx0XHRcdC4uLk9iamVjdC5mcm9tRW50cmllcyhPYmplY3Qua2V5cyh0aGlzLmJ1aWxkZXIubm9kZXMpLmZpbHRlcigoaykgPT4gayAhPT0gc3RhcnQpLm1hcCgoaykgPT4gW19lc2NhcGVNZXJtYWlkS2V5d29yZHMoayksIF9lc2NhcGVNZXJtYWlkS2V5d29yZHMoayldKSksXG5cdFx0XHRcdFtFTkRdOiBFTkRcblx0XHRcdH07XG5cdFx0XHRmb3IgKGNvbnN0IGJyYW5jaCBvZiBPYmplY3QudmFsdWVzKGJyYW5jaGVzKSkge1xuXHRcdFx0XHRsZXQgZW5kcztcblx0XHRcdFx0aWYgKGJyYW5jaC5lbmRzICE9PSB2b2lkIDApIGVuZHMgPSBicmFuY2guZW5kcztcblx0XHRcdFx0ZWxzZSBlbmRzID0gZGVmYXVsdEVuZHM7XG5cdFx0XHRcdGZvciAoY29uc3QgW2xhYmVsLCBlbmRdIG9mIE9iamVjdC5lbnRyaWVzKGVuZHMpKSBhZGRFZGdlKF9lc2NhcGVNZXJtYWlkS2V5d29yZHMoc3RhcnQpLCBfZXNjYXBlTWVybWFpZEtleXdvcmRzKGVuZCksIGxhYmVsLCB0cnVlKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGdyYXBoO1xuXHR9XG59O1xuZnVuY3Rpb24gaXNDb21waWxlZEdyYXBoKHgpIHtcblx0cmV0dXJuIHR5cGVvZiB4LmF0dGFjaE5vZGUgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgeC5hdHRhY2hFZGdlID09PSBcImZ1bmN0aW9uXCI7XG59XG5mdW5jdGlvbiBfZXNjYXBlTWVybWFpZEtleXdvcmRzKGtleSkge1xuXHRpZiAoa2V5ID09PSBcInN1YmdyYXBoXCIpIHJldHVybiBgXCIke2tleX1cImA7XG5cdHJldHVybiBrZXk7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgQnJhbmNoLCBDb21waWxlZEdyYXBoLCBHcmFwaCQxIGFzIEdyYXBoIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ncmFwaC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/graph/graph.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/graph/index.js":
/*!***********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/graph/index.js ***!
  \***********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _annotation_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./annotation.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/graph/annotation.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/constants.js\");\n/* harmony import */ var _graph_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./graph.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/graph/graph.js\");\n/* harmony import */ var _state_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./state.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/graph/state.js\");\n/* harmony import */ var _message_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./message.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/graph/message.js\");\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L2dyYXBoL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE2RDtBQUNYO0FBQ2Y7QUFDeUI7QUFDd0MiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2IvRGVza3RvcC9wcm9qZWN0X3gvcHJvamVjdC1zcWwtYWdlbnQvc2VydmljZXMvZnJvbnRlbmQvbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rbGFuZ2dyYXBoQDEuMC4xX0BsYW5nY2hhaW4rY29yZUAxLjAuMl9vcGVuYWlANC4xMDAuMF93c0A4LjE4LjJfem9kQDQuMS4xMl9fX19lZmE0ZThmODY1NThlNWQyOWViZGVjM2QyZjAwNGVkOS9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9sYW5nZ3JhcGgvZGlzdC9ncmFwaC9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBbm5vdGF0aW9uLCBBbm5vdGF0aW9uUm9vdCB9IGZyb20gXCIuL2Fubm90YXRpb24uanNcIjtcbmltcG9ydCB7IENvbW1hbmRJbnN0YW5jZSB9IGZyb20gXCIuLi9jb25zdGFudHMuanNcIjtcbmltcG9ydCB7IEdyYXBoIH0gZnJvbSBcIi4vZ3JhcGguanNcIjtcbmltcG9ydCB7IENvbXBpbGVkU3RhdGVHcmFwaCwgU3RhdGVHcmFwaCB9IGZyb20gXCIuL3N0YXRlLmpzXCI7XG5pbXBvcnQgeyBNZXNzYWdlR3JhcGgsIFJFTU9WRV9BTExfTUVTU0FHRVMsIG1lc3NhZ2VzU3RhdGVSZWR1Y2VyLCBwdXNoTWVzc2FnZSB9IGZyb20gXCIuL21lc3NhZ2UuanNcIjtcblxuZXhwb3J0IHsgIH07Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/graph/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/graph/message.js":
/*!*************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/graph/message.js ***!
  \*************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MessageGraph: () => (/* binding */ MessageGraph),\n/* harmony export */   REMOVE_ALL_MESSAGES: () => (/* binding */ REMOVE_ALL_MESSAGES),\n/* harmony export */   messagesStateReducer: () => (/* binding */ messagesStateReducer),\n/* harmony export */   pushMessage: () => (/* binding */ pushMessage)\n/* harmony export */ });\n/* harmony import */ var _pregel_utils_config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../pregel/utils/config.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/utils/config.js\");\n/* harmony import */ var _state_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./state.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/graph/state.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! uuid */ \"(ssr)/./node_modules/.pnpm/uuid@10.0.0/node_modules/uuid/dist/esm-node/v4.js\");\n/* harmony import */ var _langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @langchain/core/messages */ \"(ssr)/./node_modules/.pnpm/@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12_/node_modules/@langchain/core/dist/messages/index.js\");\n\n\n\n\n\n//#region src/graph/message.ts\nconst REMOVE_ALL_MESSAGES = \"__remove_all__\";\n/**\n* Prebuilt reducer that combines returned messages.\n* Can handle standard messages and special modifiers like {@link RemoveMessage}\n* instances.\n*/\nfunction messagesStateReducer(left, right) {\n\tconst leftArray = Array.isArray(left) ? left : [left];\n\tconst rightArray = Array.isArray(right) ? right : [right];\n\tconst leftMessages = leftArray.map(_langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.coerceMessageLikeToMessage);\n\tconst rightMessages = rightArray.map(_langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.coerceMessageLikeToMessage);\n\tfor (const m of leftMessages) if (m.id === null || m.id === void 0) {\n\t\tm.id = (0,uuid__WEBPACK_IMPORTED_MODULE_3__[\"default\"])();\n\t\tm.lc_kwargs.id = m.id;\n\t}\n\tlet removeAllIdx;\n\tfor (let i = 0; i < rightMessages.length; i += 1) {\n\t\tconst m = rightMessages[i];\n\t\tif (m.id === null || m.id === void 0) {\n\t\t\tm.id = (0,uuid__WEBPACK_IMPORTED_MODULE_3__[\"default\"])();\n\t\t\tm.lc_kwargs.id = m.id;\n\t\t}\n\t\tif (m.getType() === \"remove\" && m.id === REMOVE_ALL_MESSAGES) removeAllIdx = i;\n\t}\n\tif (removeAllIdx != null) return rightMessages.slice(removeAllIdx + 1);\n\tconst merged = [...leftMessages];\n\tconst mergedById = new Map(merged.map((m, i) => [m.id, i]));\n\tconst idsToRemove = /* @__PURE__ */ new Set();\n\tfor (const m of rightMessages) {\n\t\tconst existingIdx = mergedById.get(m.id);\n\t\tif (existingIdx !== void 0) if (m.getType() === \"remove\") idsToRemove.add(m.id);\n\t\telse {\n\t\t\tidsToRemove.delete(m.id);\n\t\t\tmerged[existingIdx] = m;\n\t\t}\n\t\telse {\n\t\t\tif (m.getType() === \"remove\") throw new Error(`Attempting to delete a message with an ID that doesn't exist ('${m.id}')`);\n\t\t\tmergedById.set(m.id, merged.length);\n\t\t\tmerged.push(m);\n\t\t}\n\t}\n\treturn merged.filter((m) => !idsToRemove.has(m.id));\n}\n/** @ignore */\nvar MessageGraph = class extends _state_js__WEBPACK_IMPORTED_MODULE_1__.StateGraph {\n\tconstructor() {\n\t\tsuper({ channels: { __root__: {\n\t\t\treducer: messagesStateReducer,\n\t\t\tdefault: () => []\n\t\t} } });\n\t}\n};\n/**\n* Manually push a message to a message stream.\n*\n* This is useful when you need to push a manually created message before the node\n* has finished executing.\n*\n* When a message is pushed, it will be automatically persisted to the state after the node has finished executing.\n* To disable persisting, set `options.stateKey` to `null`.\n*\n* @param message The message to push. The message must have an ID set, otherwise an error will be thrown.\n* @param options RunnableConfig / Runtime coming from node context.\n*/\nfunction pushMessage(message, options) {\n\tconst { stateKey: userStateKey,...userConfig } = options ?? {};\n\tconst config = (0,_pregel_utils_config_js__WEBPACK_IMPORTED_MODULE_0__.ensureLangGraphConfig)(userConfig);\n\tlet stateKey = userStateKey ?? \"messages\";\n\tif (userStateKey === null) stateKey = void 0;\n\tconst validMessage = (0,_langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.coerceMessageLikeToMessage)(message);\n\tif (!validMessage.id) throw new Error(\"Message ID is required.\");\n\tconst callbacks = (() => {\n\t\tif (Array.isArray(config.callbacks)) return config.callbacks;\n\t\tif (typeof config.callbacks !== \"undefined\") return config.callbacks.handlers;\n\t\treturn [];\n\t})();\n\tconst messagesHandler = callbacks.find((cb) => \"name\" in cb && cb.name === \"StreamMessagesHandler\");\n\tif (messagesHandler) {\n\t\tconst metadata = config.metadata ?? {};\n\t\tconst namespace = (metadata.langgraph_checkpoint_ns ?? \"\").split(\"|\");\n\t\tmessagesHandler._emit([namespace, metadata], validMessage, void 0, false);\n\t}\n\tif (stateKey) config.configurable?.__pregel_send?.([[stateKey, validMessage]]);\n\treturn validMessage;\n}\n\n//#endregion\n\n//# sourceMappingURL=message.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L2dyYXBoL21lc3NhZ2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBa0U7QUFDMUI7QUFDZDtBQUM0Qzs7QUFFdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQ7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxnRkFBMEI7QUFDOUQsc0NBQXNDLGdGQUEwQjtBQUNoRTtBQUNBLFNBQVMsZ0RBQUU7QUFDWDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsMEJBQTBCO0FBQzNDO0FBQ0E7QUFDQSxVQUFVLGdEQUFFO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtSEFBbUgsS0FBSztBQUN4SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxpREFBVTtBQUMzQztBQUNBLFVBQVUsWUFBWTtBQUN0QjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsdUNBQXVDO0FBQ2hELGdCQUFnQiw4RUFBcUI7QUFDckM7QUFDQTtBQUNBLHNCQUFzQixvRkFBMEI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDZ0Y7QUFDaEYiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2IvRGVza3RvcC9wcm9qZWN0X3gvcHJvamVjdC1zcWwtYWdlbnQvc2VydmljZXMvZnJvbnRlbmQvbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rbGFuZ2dyYXBoQDEuMC4xX0BsYW5nY2hhaW4rY29yZUAxLjAuMl9vcGVuYWlANC4xMDAuMF93c0A4LjE4LjJfem9kQDQuMS4xMl9fX19lZmE0ZThmODY1NThlNWQyOWViZGVjM2QyZjAwNGVkOS9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9sYW5nZ3JhcGgvZGlzdC9ncmFwaC9tZXNzYWdlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGVuc3VyZUxhbmdHcmFwaENvbmZpZyB9IGZyb20gXCIuLi9wcmVnZWwvdXRpbHMvY29uZmlnLmpzXCI7XG5pbXBvcnQgeyBTdGF0ZUdyYXBoIH0gZnJvbSBcIi4vc3RhdGUuanNcIjtcbmltcG9ydCB7IHY0IH0gZnJvbSBcInV1aWRcIjtcbmltcG9ydCB7IGNvZXJjZU1lc3NhZ2VMaWtlVG9NZXNzYWdlIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9tZXNzYWdlc1wiO1xuXG4vLyNyZWdpb24gc3JjL2dyYXBoL21lc3NhZ2UudHNcbmNvbnN0IFJFTU9WRV9BTExfTUVTU0FHRVMgPSBcIl9fcmVtb3ZlX2FsbF9fXCI7XG4vKipcbiogUHJlYnVpbHQgcmVkdWNlciB0aGF0IGNvbWJpbmVzIHJldHVybmVkIG1lc3NhZ2VzLlxuKiBDYW4gaGFuZGxlIHN0YW5kYXJkIG1lc3NhZ2VzIGFuZCBzcGVjaWFsIG1vZGlmaWVycyBsaWtlIHtAbGluayBSZW1vdmVNZXNzYWdlfVxuKiBpbnN0YW5jZXMuXG4qL1xuZnVuY3Rpb24gbWVzc2FnZXNTdGF0ZVJlZHVjZXIobGVmdCwgcmlnaHQpIHtcblx0Y29uc3QgbGVmdEFycmF5ID0gQXJyYXkuaXNBcnJheShsZWZ0KSA/IGxlZnQgOiBbbGVmdF07XG5cdGNvbnN0IHJpZ2h0QXJyYXkgPSBBcnJheS5pc0FycmF5KHJpZ2h0KSA/IHJpZ2h0IDogW3JpZ2h0XTtcblx0Y29uc3QgbGVmdE1lc3NhZ2VzID0gbGVmdEFycmF5Lm1hcChjb2VyY2VNZXNzYWdlTGlrZVRvTWVzc2FnZSk7XG5cdGNvbnN0IHJpZ2h0TWVzc2FnZXMgPSByaWdodEFycmF5Lm1hcChjb2VyY2VNZXNzYWdlTGlrZVRvTWVzc2FnZSk7XG5cdGZvciAoY29uc3QgbSBvZiBsZWZ0TWVzc2FnZXMpIGlmIChtLmlkID09PSBudWxsIHx8IG0uaWQgPT09IHZvaWQgMCkge1xuXHRcdG0uaWQgPSB2NCgpO1xuXHRcdG0ubGNfa3dhcmdzLmlkID0gbS5pZDtcblx0fVxuXHRsZXQgcmVtb3ZlQWxsSWR4O1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IHJpZ2h0TWVzc2FnZXMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRjb25zdCBtID0gcmlnaHRNZXNzYWdlc1tpXTtcblx0XHRpZiAobS5pZCA9PT0gbnVsbCB8fCBtLmlkID09PSB2b2lkIDApIHtcblx0XHRcdG0uaWQgPSB2NCgpO1xuXHRcdFx0bS5sY19rd2FyZ3MuaWQgPSBtLmlkO1xuXHRcdH1cblx0XHRpZiAobS5nZXRUeXBlKCkgPT09IFwicmVtb3ZlXCIgJiYgbS5pZCA9PT0gUkVNT1ZFX0FMTF9NRVNTQUdFUykgcmVtb3ZlQWxsSWR4ID0gaTtcblx0fVxuXHRpZiAocmVtb3ZlQWxsSWR4ICE9IG51bGwpIHJldHVybiByaWdodE1lc3NhZ2VzLnNsaWNlKHJlbW92ZUFsbElkeCArIDEpO1xuXHRjb25zdCBtZXJnZWQgPSBbLi4ubGVmdE1lc3NhZ2VzXTtcblx0Y29uc3QgbWVyZ2VkQnlJZCA9IG5ldyBNYXAobWVyZ2VkLm1hcCgobSwgaSkgPT4gW20uaWQsIGldKSk7XG5cdGNvbnN0IGlkc1RvUmVtb3ZlID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcblx0Zm9yIChjb25zdCBtIG9mIHJpZ2h0TWVzc2FnZXMpIHtcblx0XHRjb25zdCBleGlzdGluZ0lkeCA9IG1lcmdlZEJ5SWQuZ2V0KG0uaWQpO1xuXHRcdGlmIChleGlzdGluZ0lkeCAhPT0gdm9pZCAwKSBpZiAobS5nZXRUeXBlKCkgPT09IFwicmVtb3ZlXCIpIGlkc1RvUmVtb3ZlLmFkZChtLmlkKTtcblx0XHRlbHNlIHtcblx0XHRcdGlkc1RvUmVtb3ZlLmRlbGV0ZShtLmlkKTtcblx0XHRcdG1lcmdlZFtleGlzdGluZ0lkeF0gPSBtO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdGlmIChtLmdldFR5cGUoKSA9PT0gXCJyZW1vdmVcIikgdGhyb3cgbmV3IEVycm9yKGBBdHRlbXB0aW5nIHRvIGRlbGV0ZSBhIG1lc3NhZ2Ugd2l0aCBhbiBJRCB0aGF0IGRvZXNuJ3QgZXhpc3QgKCcke20uaWR9JylgKTtcblx0XHRcdG1lcmdlZEJ5SWQuc2V0KG0uaWQsIG1lcmdlZC5sZW5ndGgpO1xuXHRcdFx0bWVyZ2VkLnB1c2gobSk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBtZXJnZWQuZmlsdGVyKChtKSA9PiAhaWRzVG9SZW1vdmUuaGFzKG0uaWQpKTtcbn1cbi8qKiBAaWdub3JlICovXG52YXIgTWVzc2FnZUdyYXBoID0gY2xhc3MgZXh0ZW5kcyBTdGF0ZUdyYXBoIHtcblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0c3VwZXIoeyBjaGFubmVsczogeyBfX3Jvb3RfXzoge1xuXHRcdFx0cmVkdWNlcjogbWVzc2FnZXNTdGF0ZVJlZHVjZXIsXG5cdFx0XHRkZWZhdWx0OiAoKSA9PiBbXVxuXHRcdH0gfSB9KTtcblx0fVxufTtcbi8qKlxuKiBNYW51YWxseSBwdXNoIGEgbWVzc2FnZSB0byBhIG1lc3NhZ2Ugc3RyZWFtLlxuKlxuKiBUaGlzIGlzIHVzZWZ1bCB3aGVuIHlvdSBuZWVkIHRvIHB1c2ggYSBtYW51YWxseSBjcmVhdGVkIG1lc3NhZ2UgYmVmb3JlIHRoZSBub2RlXG4qIGhhcyBmaW5pc2hlZCBleGVjdXRpbmcuXG4qXG4qIFdoZW4gYSBtZXNzYWdlIGlzIHB1c2hlZCwgaXQgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IHBlcnNpc3RlZCB0byB0aGUgc3RhdGUgYWZ0ZXIgdGhlIG5vZGUgaGFzIGZpbmlzaGVkIGV4ZWN1dGluZy5cbiogVG8gZGlzYWJsZSBwZXJzaXN0aW5nLCBzZXQgYG9wdGlvbnMuc3RhdGVLZXlgIHRvIGBudWxsYC5cbipcbiogQHBhcmFtIG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gcHVzaC4gVGhlIG1lc3NhZ2UgbXVzdCBoYXZlIGFuIElEIHNldCwgb3RoZXJ3aXNlIGFuIGVycm9yIHdpbGwgYmUgdGhyb3duLlxuKiBAcGFyYW0gb3B0aW9ucyBSdW5uYWJsZUNvbmZpZyAvIFJ1bnRpbWUgY29taW5nIGZyb20gbm9kZSBjb250ZXh0LlxuKi9cbmZ1bmN0aW9uIHB1c2hNZXNzYWdlKG1lc3NhZ2UsIG9wdGlvbnMpIHtcblx0Y29uc3QgeyBzdGF0ZUtleTogdXNlclN0YXRlS2V5LC4uLnVzZXJDb25maWcgfSA9IG9wdGlvbnMgPz8ge307XG5cdGNvbnN0IGNvbmZpZyA9IGVuc3VyZUxhbmdHcmFwaENvbmZpZyh1c2VyQ29uZmlnKTtcblx0bGV0IHN0YXRlS2V5ID0gdXNlclN0YXRlS2V5ID8/IFwibWVzc2FnZXNcIjtcblx0aWYgKHVzZXJTdGF0ZUtleSA9PT0gbnVsbCkgc3RhdGVLZXkgPSB2b2lkIDA7XG5cdGNvbnN0IHZhbGlkTWVzc2FnZSA9IGNvZXJjZU1lc3NhZ2VMaWtlVG9NZXNzYWdlKG1lc3NhZ2UpO1xuXHRpZiAoIXZhbGlkTWVzc2FnZS5pZCkgdGhyb3cgbmV3IEVycm9yKFwiTWVzc2FnZSBJRCBpcyByZXF1aXJlZC5cIik7XG5cdGNvbnN0IGNhbGxiYWNrcyA9ICgoKSA9PiB7XG5cdFx0aWYgKEFycmF5LmlzQXJyYXkoY29uZmlnLmNhbGxiYWNrcykpIHJldHVybiBjb25maWcuY2FsbGJhY2tzO1xuXHRcdGlmICh0eXBlb2YgY29uZmlnLmNhbGxiYWNrcyAhPT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuIGNvbmZpZy5jYWxsYmFja3MuaGFuZGxlcnM7XG5cdFx0cmV0dXJuIFtdO1xuXHR9KSgpO1xuXHRjb25zdCBtZXNzYWdlc0hhbmRsZXIgPSBjYWxsYmFja3MuZmluZCgoY2IpID0+IFwibmFtZVwiIGluIGNiICYmIGNiLm5hbWUgPT09IFwiU3RyZWFtTWVzc2FnZXNIYW5kbGVyXCIpO1xuXHRpZiAobWVzc2FnZXNIYW5kbGVyKSB7XG5cdFx0Y29uc3QgbWV0YWRhdGEgPSBjb25maWcubWV0YWRhdGEgPz8ge307XG5cdFx0Y29uc3QgbmFtZXNwYWNlID0gKG1ldGFkYXRhLmxhbmdncmFwaF9jaGVja3BvaW50X25zID8/IFwiXCIpLnNwbGl0KFwifFwiKTtcblx0XHRtZXNzYWdlc0hhbmRsZXIuX2VtaXQoW25hbWVzcGFjZSwgbWV0YWRhdGFdLCB2YWxpZE1lc3NhZ2UsIHZvaWQgMCwgZmFsc2UpO1xuXHR9XG5cdGlmIChzdGF0ZUtleSkgY29uZmlnLmNvbmZpZ3VyYWJsZT8uX19wcmVnZWxfc2VuZD8uKFtbc3RhdGVLZXksIHZhbGlkTWVzc2FnZV1dKTtcblx0cmV0dXJuIHZhbGlkTWVzc2FnZTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBNZXNzYWdlR3JhcGgsIFJFTU9WRV9BTExfTUVTU0FHRVMsIG1lc3NhZ2VzU3RhdGVSZWR1Y2VyLCBwdXNoTWVzc2FnZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVzc2FnZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/graph/message.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/graph/messages_annotation.js":
/*!*************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/graph/messages_annotation.js ***!
  \*************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MessagesAnnotation: () => (/* binding */ MessagesAnnotation),\n/* harmony export */   MessagesZodMeta: () => (/* binding */ MessagesZodMeta),\n/* harmony export */   MessagesZodState: () => (/* binding */ MessagesZodState)\n/* harmony export */ });\n/* harmony import */ var _annotation_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./annotation.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/graph/annotation.js\");\n/* harmony import */ var _zod_meta_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./zod/meta.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/graph/zod/meta.js\");\n/* harmony import */ var _message_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./message.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/graph/message.js\");\n/* harmony import */ var zod_v3__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! zod/v3 */ \"(ssr)/./node_modules/.pnpm/zod@4.1.12/node_modules/zod/v3/index.js\");\n\n\n\n\n\n//#region src/graph/messages_annotation.ts\n/**\n* Prebuilt state annotation that combines returned messages.\n* Can handle standard messages and special modifiers like {@link RemoveMessage}\n* instances.\n*\n* Specifically, importing and using the prebuilt MessagesAnnotation like this:\n*\n* @example\n* ```ts\n* import { MessagesAnnotation, StateGraph } from \"@langchain/langgraph\";\n*\n* const graph = new StateGraph(MessagesAnnotation)\n*   .addNode(...)\n*   ...\n* ```\n*\n* Is equivalent to initializing your state manually like this:\n*\n* @example\n* ```ts\n* import { BaseMessage } from \"@langchain/core/messages\";\n* import { Annotation, StateGraph, messagesStateReducer } from \"@langchain/langgraph\";\n*\n* export const StateAnnotation = Annotation.Root({\n*   messages: Annotation<BaseMessage[]>({\n*     reducer: messagesStateReducer,\n*     default: () => [],\n*   }),\n* });\n*\n* const graph = new StateGraph(StateAnnotation)\n*   .addNode(...)\n*   ...\n* ```\n*/\nconst MessagesAnnotation = _annotation_js__WEBPACK_IMPORTED_MODULE_0__.Annotation.Root({ messages: (0,_annotation_js__WEBPACK_IMPORTED_MODULE_0__.Annotation)({\n\treducer: _message_js__WEBPACK_IMPORTED_MODULE_2__.messagesStateReducer,\n\tdefault: () => []\n}) });\n/**\n* Prebuilt schema meta for Zod state definition.\n*\n* @example\n* ```ts\n* import { z } from \"zod/v4-mini\";\n* import { MessagesZodState, StateGraph } from \"@langchain/langgraph\";\n*\n* const AgentState = z.object({\n*   messages: z.custom<BaseMessage[]>().register(registry, MessagesZodMeta),\n* });\n* ```\n*/\nconst MessagesZodMeta = {\n\treducer: { fn: _message_js__WEBPACK_IMPORTED_MODULE_2__.messagesStateReducer },\n\tjsonSchemaExtra: { langgraph_type: \"messages\" },\n\tdefault: () => []\n};\n/**\n* Prebuilt state object that uses Zod to combine returned messages.\n* This utility is synonymous with the `MessagesAnnotation` annotation,\n* but uses Zod as the way to express messages state.\n*\n* You can use import and use this prebuilt schema like this:\n*\n* @example\n* ```ts\n* import { MessagesZodState, StateGraph } from \"@langchain/langgraph\";\n*\n* const graph = new StateGraph(MessagesZodState)\n*   .addNode(...)\n*   ...\n* ```\n*\n* Which is equivalent to initializing the schema object manually like this:\n*\n* @example\n* ```ts\n* import { z } from \"zod\";\n* import type { BaseMessage, BaseMessageLike } from \"@langchain/core/messages\";\n* import { StateGraph, messagesStateReducer } from \"@langchain/langgraph\";\n* import \"@langchain/langgraph/zod\";\n*\n* const AgentState = z.object({\n*   messages: z\n*     .custom<BaseMessage[]>()\n*     .default(() => [])\n*     .langgraph.reducer(\n*        messagesStateReducer,\n*        z.custom<BaseMessageLike | BaseMessageLike[]>()\n*     ),\n* });\n* const graph = new StateGraph(AgentState)\n*   .addNode(...)\n*   ...\n* ```\n*/\nconst MessagesZodState = zod_v3__WEBPACK_IMPORTED_MODULE_3__.z.object({ messages: (0,_zod_meta_js__WEBPACK_IMPORTED_MODULE_1__.withLangGraph)(zod_v3__WEBPACK_IMPORTED_MODULE_3__.z.custom(), MessagesZodMeta) });\n\n//#endregion\n\n//# sourceMappingURL=messages_annotation.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L2dyYXBoL21lc3NhZ2VzX2Fubm90YXRpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUE2QztBQUNDO0FBQ007QUFDekI7O0FBRTNCO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRDtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGlDQUFpQztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsY0FBYztBQUN6QixXQUFXLCtDQUErQztBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsc0RBQVUsUUFBUSxVQUFVLDBEQUFVO0FBQ2pFLFVBQVUsNkRBQW9CO0FBQzlCO0FBQ0EsQ0FBQyxHQUFHO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsSUFBSTtBQUNmLFdBQVcsK0JBQStCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxZQUFZLElBQUksNkRBQW9CLEVBQUU7QUFDdEMsb0JBQW9CLDRCQUE0QjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVywrQkFBK0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLElBQUk7QUFDZixnQkFBZ0IsK0JBQStCO0FBQy9DLFdBQVcsbUNBQW1DO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsNENBQVEsR0FBRyxVQUFVLDJEQUFhLENBQUMsNENBQVEsc0JBQXNCOztBQUUxRjtBQUNpRTtBQUNqRSIsInNvdXJjZXMiOlsiL1VzZXJzL2pvYi9EZXNrdG9wL3Byb2plY3RfeC9wcm9qZWN0LXNxbC1hZ2VudC9zZXJ2aWNlcy9mcm9udGVuZC9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L2dyYXBoL21lc3NhZ2VzX2Fubm90YXRpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQW5ub3RhdGlvbiB9IGZyb20gXCIuL2Fubm90YXRpb24uanNcIjtcbmltcG9ydCB7IHdpdGhMYW5nR3JhcGggfSBmcm9tIFwiLi96b2QvbWV0YS5qc1wiO1xuaW1wb3J0IHsgbWVzc2FnZXNTdGF0ZVJlZHVjZXIgfSBmcm9tIFwiLi9tZXNzYWdlLmpzXCI7XG5pbXBvcnQgeyB6IH0gZnJvbSBcInpvZC92M1wiO1xuXG4vLyNyZWdpb24gc3JjL2dyYXBoL21lc3NhZ2VzX2Fubm90YXRpb24udHNcbi8qKlxuKiBQcmVidWlsdCBzdGF0ZSBhbm5vdGF0aW9uIHRoYXQgY29tYmluZXMgcmV0dXJuZWQgbWVzc2FnZXMuXG4qIENhbiBoYW5kbGUgc3RhbmRhcmQgbWVzc2FnZXMgYW5kIHNwZWNpYWwgbW9kaWZpZXJzIGxpa2Uge0BsaW5rIFJlbW92ZU1lc3NhZ2V9XG4qIGluc3RhbmNlcy5cbipcbiogU3BlY2lmaWNhbGx5LCBpbXBvcnRpbmcgYW5kIHVzaW5nIHRoZSBwcmVidWlsdCBNZXNzYWdlc0Fubm90YXRpb24gbGlrZSB0aGlzOlxuKlxuKiBAZXhhbXBsZVxuKiBgYGB0c1xuKiBpbXBvcnQgeyBNZXNzYWdlc0Fubm90YXRpb24sIFN0YXRlR3JhcGggfSBmcm9tIFwiQGxhbmdjaGFpbi9sYW5nZ3JhcGhcIjtcbipcbiogY29uc3QgZ3JhcGggPSBuZXcgU3RhdGVHcmFwaChNZXNzYWdlc0Fubm90YXRpb24pXG4qICAgLmFkZE5vZGUoLi4uKVxuKiAgIC4uLlxuKiBgYGBcbipcbiogSXMgZXF1aXZhbGVudCB0byBpbml0aWFsaXppbmcgeW91ciBzdGF0ZSBtYW51YWxseSBsaWtlIHRoaXM6XG4qXG4qIEBleGFtcGxlXG4qIGBgYHRzXG4qIGltcG9ydCB7IEJhc2VNZXNzYWdlIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9tZXNzYWdlc1wiO1xuKiBpbXBvcnQgeyBBbm5vdGF0aW9uLCBTdGF0ZUdyYXBoLCBtZXNzYWdlc1N0YXRlUmVkdWNlciB9IGZyb20gXCJAbGFuZ2NoYWluL2xhbmdncmFwaFwiO1xuKlxuKiBleHBvcnQgY29uc3QgU3RhdGVBbm5vdGF0aW9uID0gQW5ub3RhdGlvbi5Sb290KHtcbiogICBtZXNzYWdlczogQW5ub3RhdGlvbjxCYXNlTWVzc2FnZVtdPih7XG4qICAgICByZWR1Y2VyOiBtZXNzYWdlc1N0YXRlUmVkdWNlcixcbiogICAgIGRlZmF1bHQ6ICgpID0+IFtdLFxuKiAgIH0pLFxuKiB9KTtcbipcbiogY29uc3QgZ3JhcGggPSBuZXcgU3RhdGVHcmFwaChTdGF0ZUFubm90YXRpb24pXG4qICAgLmFkZE5vZGUoLi4uKVxuKiAgIC4uLlxuKiBgYGBcbiovXG5jb25zdCBNZXNzYWdlc0Fubm90YXRpb24gPSBBbm5vdGF0aW9uLlJvb3QoeyBtZXNzYWdlczogQW5ub3RhdGlvbih7XG5cdHJlZHVjZXI6IG1lc3NhZ2VzU3RhdGVSZWR1Y2VyLFxuXHRkZWZhdWx0OiAoKSA9PiBbXVxufSkgfSk7XG4vKipcbiogUHJlYnVpbHQgc2NoZW1hIG1ldGEgZm9yIFpvZCBzdGF0ZSBkZWZpbml0aW9uLlxuKlxuKiBAZXhhbXBsZVxuKiBgYGB0c1xuKiBpbXBvcnQgeyB6IH0gZnJvbSBcInpvZC92NC1taW5pXCI7XG4qIGltcG9ydCB7IE1lc3NhZ2VzWm9kU3RhdGUsIFN0YXRlR3JhcGggfSBmcm9tIFwiQGxhbmdjaGFpbi9sYW5nZ3JhcGhcIjtcbipcbiogY29uc3QgQWdlbnRTdGF0ZSA9IHoub2JqZWN0KHtcbiogICBtZXNzYWdlczogei5jdXN0b208QmFzZU1lc3NhZ2VbXT4oKS5yZWdpc3RlcihyZWdpc3RyeSwgTWVzc2FnZXNab2RNZXRhKSxcbiogfSk7XG4qIGBgYFxuKi9cbmNvbnN0IE1lc3NhZ2VzWm9kTWV0YSA9IHtcblx0cmVkdWNlcjogeyBmbjogbWVzc2FnZXNTdGF0ZVJlZHVjZXIgfSxcblx0anNvblNjaGVtYUV4dHJhOiB7IGxhbmdncmFwaF90eXBlOiBcIm1lc3NhZ2VzXCIgfSxcblx0ZGVmYXVsdDogKCkgPT4gW11cbn07XG4vKipcbiogUHJlYnVpbHQgc3RhdGUgb2JqZWN0IHRoYXQgdXNlcyBab2QgdG8gY29tYmluZSByZXR1cm5lZCBtZXNzYWdlcy5cbiogVGhpcyB1dGlsaXR5IGlzIHN5bm9ueW1vdXMgd2l0aCB0aGUgYE1lc3NhZ2VzQW5ub3RhdGlvbmAgYW5ub3RhdGlvbixcbiogYnV0IHVzZXMgWm9kIGFzIHRoZSB3YXkgdG8gZXhwcmVzcyBtZXNzYWdlcyBzdGF0ZS5cbipcbiogWW91IGNhbiB1c2UgaW1wb3J0IGFuZCB1c2UgdGhpcyBwcmVidWlsdCBzY2hlbWEgbGlrZSB0aGlzOlxuKlxuKiBAZXhhbXBsZVxuKiBgYGB0c1xuKiBpbXBvcnQgeyBNZXNzYWdlc1pvZFN0YXRlLCBTdGF0ZUdyYXBoIH0gZnJvbSBcIkBsYW5nY2hhaW4vbGFuZ2dyYXBoXCI7XG4qXG4qIGNvbnN0IGdyYXBoID0gbmV3IFN0YXRlR3JhcGgoTWVzc2FnZXNab2RTdGF0ZSlcbiogICAuYWRkTm9kZSguLi4pXG4qICAgLi4uXG4qIGBgYFxuKlxuKiBXaGljaCBpcyBlcXVpdmFsZW50IHRvIGluaXRpYWxpemluZyB0aGUgc2NoZW1hIG9iamVjdCBtYW51YWxseSBsaWtlIHRoaXM6XG4qXG4qIEBleGFtcGxlXG4qIGBgYHRzXG4qIGltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG4qIGltcG9ydCB0eXBlIHsgQmFzZU1lc3NhZ2UsIEJhc2VNZXNzYWdlTGlrZSB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvbWVzc2FnZXNcIjtcbiogaW1wb3J0IHsgU3RhdGVHcmFwaCwgbWVzc2FnZXNTdGF0ZVJlZHVjZXIgfSBmcm9tIFwiQGxhbmdjaGFpbi9sYW5nZ3JhcGhcIjtcbiogaW1wb3J0IFwiQGxhbmdjaGFpbi9sYW5nZ3JhcGgvem9kXCI7XG4qXG4qIGNvbnN0IEFnZW50U3RhdGUgPSB6Lm9iamVjdCh7XG4qICAgbWVzc2FnZXM6IHpcbiogICAgIC5jdXN0b208QmFzZU1lc3NhZ2VbXT4oKVxuKiAgICAgLmRlZmF1bHQoKCkgPT4gW10pXG4qICAgICAubGFuZ2dyYXBoLnJlZHVjZXIoXG4qICAgICAgICBtZXNzYWdlc1N0YXRlUmVkdWNlcixcbiogICAgICAgIHouY3VzdG9tPEJhc2VNZXNzYWdlTGlrZSB8IEJhc2VNZXNzYWdlTGlrZVtdPigpXG4qICAgICApLFxuKiB9KTtcbiogY29uc3QgZ3JhcGggPSBuZXcgU3RhdGVHcmFwaChBZ2VudFN0YXRlKVxuKiAgIC5hZGROb2RlKC4uLilcbiogICAuLi5cbiogYGBgXG4qL1xuY29uc3QgTWVzc2FnZXNab2RTdGF0ZSA9IHoub2JqZWN0KHsgbWVzc2FnZXM6IHdpdGhMYW5nR3JhcGgoei5jdXN0b20oKSwgTWVzc2FnZXNab2RNZXRhKSB9KTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBNZXNzYWdlc0Fubm90YXRpb24sIE1lc3NhZ2VzWm9kTWV0YSwgTWVzc2FnZXNab2RTdGF0ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVzc2FnZXNfYW5ub3RhdGlvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/graph/messages_annotation.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/graph/state.js":
/*!***********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/graph/state.js ***!
  \***********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CompiledStateGraph: () => (/* binding */ CompiledStateGraph),\n/* harmony export */   StateGraph: () => (/* binding */ StateGraph)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errors.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/errors.js\");\n/* harmony import */ var _channels_base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../channels/base.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/base.js\");\n/* harmony import */ var _channels_last_value_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../channels/last_value.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/last_value.js\");\n/* harmony import */ var _annotation_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./annotation.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/graph/annotation.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../constants.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/constants.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/utils.js\");\n/* harmony import */ var _pregel_write_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../pregel/write.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/write.js\");\n/* harmony import */ var _pregel_read_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../pregel/read.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/read.js\");\n/* harmony import */ var _pregel_utils_subgraph_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../pregel/utils/subgraph.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/utils/subgraph.js\");\n/* harmony import */ var _channels_ephemeral_value_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../channels/ephemeral_value.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/ephemeral_value.js\");\n/* harmony import */ var _graph_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./graph.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/graph/graph.js\");\n/* harmony import */ var _channels_named_barrier_value_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../channels/named_barrier_value.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/named_barrier_value.js\");\n/* harmony import */ var _zod_meta_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./zod/meta.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/graph/zod/meta.js\");\n/* harmony import */ var _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @langchain/core/runnables */ \"(ssr)/./node_modules/.pnpm/@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12_/node_modules/@langchain/core/dist/runnables/index.js\");\n/* harmony import */ var _langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @langchain/core/utils/types */ \"(ssr)/./node_modules/.pnpm/@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12_/node_modules/@langchain/core/dist/utils/types/index.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//#region src/graph/state.ts\nconst ROOT = \"__root__\";\nconst PartialStateSchema = Symbol.for(\"langgraph.state.partial\");\n/**\n* A graph whose nodes communicate by reading and writing to a shared state.\n* Each node takes a defined `State` as input and returns a `Partial<State>`.\n*\n* Each state key can optionally be annotated with a reducer function that\n* will be used to aggregate the values of that key received from multiple nodes.\n* The signature of a reducer function is (left: Value, right: UpdateValue) => Value.\n*\n* See {@link Annotation} for more on defining state.\n*\n* After adding nodes and edges to your graph, you must call `.compile()` on it before\n* you can use it.\n*\n* @example\n* ```ts\n* import {\n*   type BaseMessage,\n*   AIMessage,\n*   HumanMessage,\n* } from \"@langchain/core/messages\";\n* import { StateGraph, Annotation } from \"@langchain/langgraph\";\n*\n* // Define a state with a single key named \"messages\" that will\n* // combine a returned BaseMessage or arrays of BaseMessages\n* const StateAnnotation = Annotation.Root({\n*   sentiment: Annotation<string>,\n*   messages: Annotation<BaseMessage[]>({\n*     reducer: (left: BaseMessage[], right: BaseMessage | BaseMessage[]) => {\n*       if (Array.isArray(right)) {\n*         return left.concat(right);\n*       }\n*       return left.concat([right]);\n*     },\n*     default: () => [],\n*   }),\n* });\n*\n* const graphBuilder = new StateGraph(StateAnnotation);\n*\n* // A node in the graph that returns an object with a \"messages\" key\n* // will update the state by combining the existing value with the returned one.\n* const myNode = (state: typeof StateAnnotation.State) => {\n*   return {\n*     messages: [new AIMessage(\"Some new response\")],\n*     sentiment: \"positive\",\n*   };\n* };\n*\n* const graph = graphBuilder\n*   .addNode(\"myNode\", myNode)\n*   .addEdge(\"__start__\", \"myNode\")\n*   .addEdge(\"myNode\", \"__end__\")\n*   .compile();\n*\n* await graph.invoke({ messages: [new HumanMessage(\"how are you?\")] });\n*\n* // {\n* //   messages: [HumanMessage(\"how are you?\"), AIMessage(\"Some new response\")],\n* //   sentiment: \"positive\",\n* // }\n* ```\n*/\nvar StateGraph = class extends _graph_js__WEBPACK_IMPORTED_MODULE_10__.Graph {\n\tchannels = {};\n\twaitingEdges = /* @__PURE__ */ new Set();\n\t/** @internal */\n\t_schemaDefinition;\n\t/** @internal */\n\t_schemaRuntimeDefinition;\n\t/** @internal */\n\t_inputDefinition;\n\t/** @internal */\n\t_inputRuntimeDefinition;\n\t/** @internal */\n\t_outputDefinition;\n\t/** @internal */\n\t_outputRuntimeDefinition;\n\t/**\n\t* Map schemas to managed values\n\t* @internal\n\t*/\n\t_schemaDefinitions = /* @__PURE__ */ new Map();\n\t/** @internal */\n\t_metaRegistry = _zod_meta_js__WEBPACK_IMPORTED_MODULE_12__.schemaMetaRegistry;\n\t/** @internal Used only for typing. */\n\t_configSchema;\n\t/** @internal */\n\t_configRuntimeSchema;\n\t/** @internal */\n\t_interrupt;\n\t/** @internal */\n\t_writer;\n\tconstructor(fields, contextSchema) {\n\t\tsuper();\n\t\tif (isZodStateGraphArgsWithStateSchema(fields)) {\n\t\t\tconst stateDef = this._metaRegistry.getChannelsForSchema(fields.state);\n\t\t\tconst inputDef = fields.input != null ? this._metaRegistry.getChannelsForSchema(fields.input) : stateDef;\n\t\t\tconst outputDef = fields.output != null ? this._metaRegistry.getChannelsForSchema(fields.output) : stateDef;\n\t\t\tthis._schemaDefinition = stateDef;\n\t\t\tthis._schemaRuntimeDefinition = fields.state;\n\t\t\tthis._inputDefinition = inputDef;\n\t\t\tthis._inputRuntimeDefinition = fields.input ?? PartialStateSchema;\n\t\t\tthis._outputDefinition = outputDef;\n\t\t\tthis._outputRuntimeDefinition = fields.output ?? fields.state;\n\t\t} else if ((0,_langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_14__.isInteropZodObject)(fields)) {\n\t\t\tconst stateDef = this._metaRegistry.getChannelsForSchema(fields);\n\t\t\tthis._schemaDefinition = stateDef;\n\t\t\tthis._schemaRuntimeDefinition = fields;\n\t\t\tthis._inputDefinition = stateDef;\n\t\t\tthis._inputRuntimeDefinition = PartialStateSchema;\n\t\t\tthis._outputDefinition = stateDef;\n\t\t\tthis._outputRuntimeDefinition = fields;\n\t\t} else if (isStateGraphArgsWithInputOutputSchemas(fields)) {\n\t\t\tthis._schemaDefinition = fields.input.spec;\n\t\t\tthis._inputDefinition = fields.input.spec;\n\t\t\tthis._outputDefinition = fields.output.spec;\n\t\t} else if (isStateGraphArgsWithStateSchema(fields)) {\n\t\t\tthis._schemaDefinition = fields.stateSchema.spec;\n\t\t\tthis._inputDefinition = fields.input?.spec ?? this._schemaDefinition;\n\t\t\tthis._outputDefinition = fields.output?.spec ?? this._schemaDefinition;\n\t\t} else if (isStateDefinition(fields) || isAnnotationRoot(fields)) {\n\t\t\tconst spec = isAnnotationRoot(fields) ? fields.spec : fields;\n\t\t\tthis._schemaDefinition = spec;\n\t\t} else if (isStateGraphArgs(fields)) {\n\t\t\tconst spec = _getChannels(fields.channels);\n\t\t\tthis._schemaDefinition = spec;\n\t\t} else throw new Error(\"Invalid StateGraph input. Make sure to pass a valid Annotation.Root or Zod schema.\");\n\t\tthis._inputDefinition ??= this._schemaDefinition;\n\t\tthis._outputDefinition ??= this._schemaDefinition;\n\t\tthis._addSchema(this._schemaDefinition);\n\t\tthis._addSchema(this._inputDefinition);\n\t\tthis._addSchema(this._outputDefinition);\n\t\tfunction isOptions(options) {\n\t\t\treturn typeof options === \"object\" && options != null && !(\"spec\" in options) && !(0,_langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_14__.isInteropZodObject)(options);\n\t\t}\n\t\tif (isOptions(contextSchema)) {\n\t\t\tif ((0,_langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_14__.isInteropZodObject)(contextSchema.context)) this._configRuntimeSchema = contextSchema.context;\n\t\t\tthis._interrupt = contextSchema.interrupt;\n\t\t\tthis._writer = contextSchema.writer;\n\t\t} else if ((0,_langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_14__.isInteropZodObject)(contextSchema)) this._configRuntimeSchema = contextSchema;\n\t}\n\tget allEdges() {\n\t\treturn new Set([...this.edges, ...Array.from(this.waitingEdges).flatMap(([starts, end]) => starts.map((start) => [start, end]))]);\n\t}\n\t_addSchema(stateDefinition) {\n\t\tif (this._schemaDefinitions.has(stateDefinition)) return;\n\t\tthis._schemaDefinitions.set(stateDefinition, stateDefinition);\n\t\tfor (const [key, val] of Object.entries(stateDefinition)) {\n\t\t\tlet channel;\n\t\t\tif (typeof val === \"function\") channel = val();\n\t\t\telse channel = val;\n\t\t\tif (this.channels[key] !== void 0) {\n\t\t\t\tif (this.channels[key] !== channel) {\n\t\t\t\t\tif (channel.lc_graph_name !== \"LastValue\") throw new Error(`Channel \"${key}\" already exists with a different type.`);\n\t\t\t\t}\n\t\t\t} else this.channels[key] = channel;\n\t\t}\n\t}\n\taddNode(...args) {\n\t\tfunction isMultipleNodes(args$1) {\n\t\t\treturn args$1.length >= 1 && typeof args$1[0] !== \"string\";\n\t\t}\n\t\tconst nodes = isMultipleNodes(args) ? Array.isArray(args[0]) ? args[0] : Object.entries(args[0]).map(([key, action]) => [key, action]) : [[\n\t\t\targs[0],\n\t\t\targs[1],\n\t\t\targs[2]\n\t\t]];\n\t\tif (nodes.length === 0) throw new Error(\"No nodes provided in `addNode`\");\n\t\tfor (const [key, action, options] of nodes) {\n\t\t\tif (key in this.channels) throw new Error(`${key} is already being used as a state attribute (a.k.a. a channel), cannot also be used as a node name.`);\n\t\t\tfor (const reservedChar of [_constants_js__WEBPACK_IMPORTED_MODULE_4__.CHECKPOINT_NAMESPACE_SEPARATOR, _constants_js__WEBPACK_IMPORTED_MODULE_4__.CHECKPOINT_NAMESPACE_END]) if (key.includes(reservedChar)) throw new Error(`\"${reservedChar}\" is a reserved character and is not allowed in node names.`);\n\t\t\tthis.warnIfCompiled(`Adding a node to a graph that has already been compiled. This will not be reflected in the compiled graph.`);\n\t\t\tif (key in this.nodes) throw new Error(`Node \\`${key}\\` already present.`);\n\t\t\tif (key === _constants_js__WEBPACK_IMPORTED_MODULE_4__.END || key === _constants_js__WEBPACK_IMPORTED_MODULE_4__.START) throw new Error(`Node \\`${key}\\` is reserved.`);\n\t\t\tlet inputSpec = this._schemaDefinition;\n\t\t\tif (options?.input !== void 0) {\n\t\t\t\tif ((0,_langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_14__.isInteropZodObject)(options.input)) inputSpec = this._metaRegistry.getChannelsForSchema(options.input);\n\t\t\t\telse if (options.input.spec !== void 0) inputSpec = options.input.spec;\n\t\t\t}\n\t\t\tif (inputSpec !== void 0) this._addSchema(inputSpec);\n\t\t\tlet runnable;\n\t\t\tif (_langchain_core_runnables__WEBPACK_IMPORTED_MODULE_13__.Runnable.isRunnable(action)) runnable = action;\n\t\t\telse if (typeof action === \"function\") runnable = new _utils_js__WEBPACK_IMPORTED_MODULE_5__.RunnableCallable({\n\t\t\t\tfunc: action,\n\t\t\t\tname: key,\n\t\t\t\ttrace: false\n\t\t\t});\n\t\t\telse runnable = (0,_langchain_core_runnables__WEBPACK_IMPORTED_MODULE_13__._coerceToRunnable)(action);\n\t\t\tlet cachePolicy = options?.cachePolicy;\n\t\t\tif (typeof cachePolicy === \"boolean\") cachePolicy = cachePolicy ? {} : void 0;\n\t\t\tconst nodeSpec = {\n\t\t\t\trunnable,\n\t\t\t\tretryPolicy: options?.retryPolicy,\n\t\t\t\tcachePolicy,\n\t\t\t\tmetadata: options?.metadata,\n\t\t\t\tinput: inputSpec ?? this._schemaDefinition,\n\t\t\t\tsubgraphs: (0,_pregel_utils_subgraph_js__WEBPACK_IMPORTED_MODULE_8__.isPregelLike)(runnable) ? [runnable] : options?.subgraphs,\n\t\t\t\tends: options?.ends,\n\t\t\t\tdefer: options?.defer\n\t\t\t};\n\t\t\tthis.nodes[key] = nodeSpec;\n\t\t}\n\t\treturn this;\n\t}\n\taddEdge(startKey, endKey) {\n\t\tif (typeof startKey === \"string\") return super.addEdge(startKey, endKey);\n\t\tif (this.compiled) console.warn(\"Adding an edge to a graph that has already been compiled. This will not be reflected in the compiled graph.\");\n\t\tfor (const start of startKey) {\n\t\t\tif (start === _constants_js__WEBPACK_IMPORTED_MODULE_4__.END) throw new Error(\"END cannot be a start node\");\n\t\t\tif (!Object.keys(this.nodes).some((node) => node === start)) throw new Error(`Need to add a node named \"${start}\" first`);\n\t\t}\n\t\tif (endKey === _constants_js__WEBPACK_IMPORTED_MODULE_4__.END) throw new Error(\"END cannot be an end node\");\n\t\tif (!Object.keys(this.nodes).some((node) => node === endKey)) throw new Error(`Need to add a node named \"${endKey}\" first`);\n\t\tthis.waitingEdges.add([startKey, endKey]);\n\t\treturn this;\n\t}\n\taddSequence(nodes) {\n\t\tconst parsedNodes = Array.isArray(nodes) ? nodes : Object.entries(nodes);\n\t\tif (parsedNodes.length === 0) throw new Error(\"Sequence requires at least one node.\");\n\t\tlet previousNode;\n\t\tfor (const [key, action, options] of parsedNodes) {\n\t\t\tif (key in this.nodes) throw new Error(`Node names must be unique: node with the name \"${key}\" already exists.`);\n\t\t\tconst validKey = key;\n\t\t\tthis.addNode(validKey, action, options);\n\t\t\tif (previousNode != null) this.addEdge(previousNode, validKey);\n\t\t\tpreviousNode = validKey;\n\t\t}\n\t\treturn this;\n\t}\n\tcompile({ checkpointer, store, cache, interruptBefore, interruptAfter, name, description } = {}) {\n\t\tthis.validate([...Array.isArray(interruptBefore) ? interruptBefore : [], ...Array.isArray(interruptAfter) ? interruptAfter : []]);\n\t\tconst outputKeys = Object.keys(this._schemaDefinitions.get(this._outputDefinition));\n\t\tconst outputChannels = outputKeys.length === 1 && outputKeys[0] === ROOT ? ROOT : outputKeys;\n\t\tconst streamKeys = Object.keys(this.channels);\n\t\tconst streamChannels = streamKeys.length === 1 && streamKeys[0] === ROOT ? ROOT : streamKeys;\n\t\tconst userInterrupt = this._interrupt;\n\t\tconst compiled = new CompiledStateGraph({\n\t\t\tbuilder: this,\n\t\t\tcheckpointer,\n\t\t\tinterruptAfter,\n\t\t\tinterruptBefore,\n\t\t\tautoValidate: false,\n\t\t\tnodes: {},\n\t\t\tchannels: {\n\t\t\t\t...this.channels,\n\t\t\t\t[_constants_js__WEBPACK_IMPORTED_MODULE_4__.START]: new _channels_ephemeral_value_js__WEBPACK_IMPORTED_MODULE_9__.EphemeralValue()\n\t\t\t},\n\t\t\tinputChannels: _constants_js__WEBPACK_IMPORTED_MODULE_4__.START,\n\t\t\toutputChannels,\n\t\t\tstreamChannels,\n\t\t\tstreamMode: \"updates\",\n\t\t\tstore,\n\t\t\tcache,\n\t\t\tname,\n\t\t\tdescription,\n\t\t\tuserInterrupt\n\t\t});\n\t\tcompiled.attachNode(_constants_js__WEBPACK_IMPORTED_MODULE_4__.START);\n\t\tfor (const [key, node] of Object.entries(this.nodes)) compiled.attachNode(key, node);\n\t\tcompiled.attachBranch(_constants_js__WEBPACK_IMPORTED_MODULE_4__.START, _constants_js__WEBPACK_IMPORTED_MODULE_4__.SELF, _getControlBranch(), { withReader: false });\n\t\tfor (const [key] of Object.entries(this.nodes)) compiled.attachBranch(key, _constants_js__WEBPACK_IMPORTED_MODULE_4__.SELF, _getControlBranch(), { withReader: false });\n\t\tfor (const [start, end] of this.edges) compiled.attachEdge(start, end);\n\t\tfor (const [starts, end] of this.waitingEdges) compiled.attachEdge(starts, end);\n\t\tfor (const [start, branches] of Object.entries(this.branches)) for (const [name$1, branch] of Object.entries(branches)) compiled.attachBranch(start, name$1, branch);\n\t\treturn compiled.validate();\n\t}\n};\nfunction _getChannels(schema) {\n\tconst channels = {};\n\tfor (const [name, val] of Object.entries(schema)) if (name === ROOT) channels[name] = (0,_annotation_js__WEBPACK_IMPORTED_MODULE_3__.getChannel)(val);\n\telse channels[name] = (0,_annotation_js__WEBPACK_IMPORTED_MODULE_3__.getChannel)(val);\n\treturn channels;\n}\n/**\n* Final result from building and compiling a {@link StateGraph}.\n* Should not be instantiated directly, only using the StateGraph `.compile()`\n* instance method.\n*/\nvar CompiledStateGraph = class extends _graph_js__WEBPACK_IMPORTED_MODULE_10__.CompiledGraph {\n\t/**\n\t* The description of the compiled graph.\n\t* This is used by the supervisor agent to describe the handoff to the agent.\n\t*/\n\tdescription;\n\t/** @internal */\n\t_metaRegistry = _zod_meta_js__WEBPACK_IMPORTED_MODULE_12__.schemaMetaRegistry;\n\tconstructor({ description,...rest }) {\n\t\tsuper(rest);\n\t\tthis.description = description;\n\t}\n\tattachNode(key, node) {\n\t\tlet outputKeys;\n\t\tif (key === _constants_js__WEBPACK_IMPORTED_MODULE_4__.START) outputKeys = Object.entries(this.builder._schemaDefinitions.get(this.builder._inputDefinition)).map(([k]) => k);\n\t\telse outputKeys = Object.keys(this.builder.channels);\n\t\tfunction _getRoot(input) {\n\t\t\tif ((0,_constants_js__WEBPACK_IMPORTED_MODULE_4__.isCommand)(input)) {\n\t\t\t\tif (input.graph === _constants_js__WEBPACK_IMPORTED_MODULE_4__.Command.PARENT) return null;\n\t\t\t\treturn input._updateAsTuples();\n\t\t\t} else if (Array.isArray(input) && input.length > 0 && input.some((i) => (0,_constants_js__WEBPACK_IMPORTED_MODULE_4__.isCommand)(i))) {\n\t\t\t\tconst updates = [];\n\t\t\t\tfor (const i of input) if ((0,_constants_js__WEBPACK_IMPORTED_MODULE_4__.isCommand)(i)) {\n\t\t\t\t\tif (i.graph === _constants_js__WEBPACK_IMPORTED_MODULE_4__.Command.PARENT) continue;\n\t\t\t\t\tupdates.push(...i._updateAsTuples());\n\t\t\t\t} else updates.push([ROOT, i]);\n\t\t\t\treturn updates;\n\t\t\t} else if (input != null) return [[ROOT, input]];\n\t\t\treturn null;\n\t\t}\n\t\tconst nodeKey = key;\n\t\tfunction _getUpdates(input) {\n\t\t\tif (!input) return null;\n\t\t\telse if ((0,_constants_js__WEBPACK_IMPORTED_MODULE_4__.isCommand)(input)) {\n\t\t\t\tif (input.graph === _constants_js__WEBPACK_IMPORTED_MODULE_4__.Command.PARENT) return null;\n\t\t\t\treturn input._updateAsTuples().filter(([k]) => outputKeys.includes(k));\n\t\t\t} else if (Array.isArray(input) && input.length > 0 && input.some(_constants_js__WEBPACK_IMPORTED_MODULE_4__.isCommand)) {\n\t\t\t\tconst updates = [];\n\t\t\t\tfor (const item of input) if ((0,_constants_js__WEBPACK_IMPORTED_MODULE_4__.isCommand)(item)) {\n\t\t\t\t\tif (item.graph === _constants_js__WEBPACK_IMPORTED_MODULE_4__.Command.PARENT) continue;\n\t\t\t\t\tupdates.push(...item._updateAsTuples().filter(([k]) => outputKeys.includes(k)));\n\t\t\t\t} else {\n\t\t\t\t\tconst itemUpdates = _getUpdates(item);\n\t\t\t\t\tif (itemUpdates) updates.push(...itemUpdates ?? []);\n\t\t\t\t}\n\t\t\t\treturn updates;\n\t\t\t} else if (typeof input === \"object\" && !Array.isArray(input)) return Object.entries(input).filter(([k]) => outputKeys.includes(k));\n\t\t\telse {\n\t\t\t\tconst typeofInput = Array.isArray(input) ? \"array\" : typeof input;\n\t\t\t\tthrow new _errors_js__WEBPACK_IMPORTED_MODULE_0__.InvalidUpdateError(`Expected node \"${nodeKey.toString()}\" to return an object or an array containing at least one Command object, received ${typeofInput}`, { lc_error_code: \"INVALID_GRAPH_NODE_RETURN_VALUE\" });\n\t\t\t}\n\t\t}\n\t\tconst stateWriteEntries = [{\n\t\t\tvalue: _pregel_write_js__WEBPACK_IMPORTED_MODULE_6__.PASSTHROUGH,\n\t\t\tmapper: new _utils_js__WEBPACK_IMPORTED_MODULE_5__.RunnableCallable({\n\t\t\t\tfunc: outputKeys.length && outputKeys[0] === ROOT ? _getRoot : _getUpdates,\n\t\t\t\ttrace: false,\n\t\t\t\trecurse: false\n\t\t\t})\n\t\t}];\n\t\tif (key === _constants_js__WEBPACK_IMPORTED_MODULE_4__.START) this.nodes[key] = new _pregel_read_js__WEBPACK_IMPORTED_MODULE_7__.PregelNode({\n\t\t\ttags: [_constants_js__WEBPACK_IMPORTED_MODULE_4__.TAG_HIDDEN],\n\t\t\ttriggers: [_constants_js__WEBPACK_IMPORTED_MODULE_4__.START],\n\t\t\tchannels: [_constants_js__WEBPACK_IMPORTED_MODULE_4__.START],\n\t\t\twriters: [new _pregel_write_js__WEBPACK_IMPORTED_MODULE_6__.ChannelWrite(stateWriteEntries, [_constants_js__WEBPACK_IMPORTED_MODULE_4__.TAG_HIDDEN])]\n\t\t});\n\t\telse {\n\t\t\tconst inputDefinition = node?.input ?? this.builder._schemaDefinition;\n\t\t\tconst inputValues = Object.fromEntries(Object.keys(this.builder._schemaDefinitions.get(inputDefinition)).map((k) => [k, k]));\n\t\t\tconst isSingleInput = Object.keys(inputValues).length === 1 && ROOT in inputValues;\n\t\t\tconst branchChannel = `branch:to:${key}`;\n\t\t\tthis.channels[branchChannel] = node?.defer ? new _channels_last_value_js__WEBPACK_IMPORTED_MODULE_2__.LastValueAfterFinish() : new _channels_ephemeral_value_js__WEBPACK_IMPORTED_MODULE_9__.EphemeralValue(false);\n\t\t\tthis.nodes[key] = new _pregel_read_js__WEBPACK_IMPORTED_MODULE_7__.PregelNode({\n\t\t\t\ttriggers: [branchChannel],\n\t\t\t\tchannels: isSingleInput ? Object.keys(inputValues) : inputValues,\n\t\t\t\twriters: [new _pregel_write_js__WEBPACK_IMPORTED_MODULE_6__.ChannelWrite(stateWriteEntries, [_constants_js__WEBPACK_IMPORTED_MODULE_4__.TAG_HIDDEN])],\n\t\t\t\tmapper: isSingleInput ? void 0 : (input) => {\n\t\t\t\t\treturn Object.fromEntries(Object.entries(input).filter(([k]) => k in inputValues));\n\t\t\t\t},\n\t\t\t\tbound: node?.runnable,\n\t\t\t\tmetadata: node?.metadata,\n\t\t\t\tretryPolicy: node?.retryPolicy,\n\t\t\t\tcachePolicy: node?.cachePolicy,\n\t\t\t\tsubgraphs: node?.subgraphs,\n\t\t\t\tends: node?.ends\n\t\t\t});\n\t\t}\n\t}\n\tattachEdge(starts, end) {\n\t\tif (end === _constants_js__WEBPACK_IMPORTED_MODULE_4__.END) return;\n\t\tif (typeof starts === \"string\") this.nodes[starts].writers.push(new _pregel_write_js__WEBPACK_IMPORTED_MODULE_6__.ChannelWrite([{\n\t\t\tchannel: `branch:to:${end}`,\n\t\t\tvalue: null\n\t\t}], [_constants_js__WEBPACK_IMPORTED_MODULE_4__.TAG_HIDDEN]));\n\t\telse if (Array.isArray(starts)) {\n\t\t\tconst channelName = `join:${starts.join(\"+\")}:${end}`;\n\t\t\tthis.channels[channelName] = this.builder.nodes[end].defer ? new _channels_named_barrier_value_js__WEBPACK_IMPORTED_MODULE_11__.NamedBarrierValueAfterFinish(new Set(starts)) : new _channels_named_barrier_value_js__WEBPACK_IMPORTED_MODULE_11__.NamedBarrierValue(new Set(starts));\n\t\t\tthis.nodes[end].triggers.push(channelName);\n\t\t\tfor (const start of starts) this.nodes[start].writers.push(new _pregel_write_js__WEBPACK_IMPORTED_MODULE_6__.ChannelWrite([{\n\t\t\t\tchannel: channelName,\n\t\t\t\tvalue: start\n\t\t\t}], [_constants_js__WEBPACK_IMPORTED_MODULE_4__.TAG_HIDDEN]));\n\t\t}\n\t}\n\tattachBranch(start, _, branch, options = { withReader: true }) {\n\t\tconst branchWriter = async (packets, config) => {\n\t\t\tconst filteredPackets = packets.filter((p) => p !== _constants_js__WEBPACK_IMPORTED_MODULE_4__.END);\n\t\t\tif (!filteredPackets.length) return;\n\t\t\tconst writes = filteredPackets.map((p) => {\n\t\t\t\tif ((0,_constants_js__WEBPACK_IMPORTED_MODULE_4__._isSend)(p)) return p;\n\t\t\t\treturn {\n\t\t\t\t\tchannel: p === _constants_js__WEBPACK_IMPORTED_MODULE_4__.END ? p : `branch:to:${p}`,\n\t\t\t\t\tvalue: start\n\t\t\t\t};\n\t\t\t});\n\t\t\tawait _pregel_write_js__WEBPACK_IMPORTED_MODULE_6__.ChannelWrite.doWrite({\n\t\t\t\t...config,\n\t\t\t\ttags: (config.tags ?? []).concat([_constants_js__WEBPACK_IMPORTED_MODULE_4__.TAG_HIDDEN])\n\t\t\t}, writes);\n\t\t};\n\t\tthis.nodes[start].writers.push(branch.run(branchWriter, options.withReader ? (config) => _pregel_read_js__WEBPACK_IMPORTED_MODULE_7__.ChannelRead.doRead(config, this.streamChannels ?? this.outputChannels, true) : void 0));\n\t}\n\tasync _validateInput(input) {\n\t\tif (input == null) return input;\n\t\tconst schema = (() => {\n\t\t\tconst input$1 = this.builder._inputRuntimeDefinition;\n\t\t\tconst schema$1 = this.builder._schemaRuntimeDefinition;\n\t\t\tconst apply = (schema$2) => {\n\t\t\t\tif (schema$2 == null) return void 0;\n\t\t\t\treturn this._metaRegistry.getExtendedChannelSchemas(schema$2, { withReducerSchema: true });\n\t\t\t};\n\t\t\tif ((0,_langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_14__.isInteropZodObject)(input$1)) return apply(input$1);\n\t\t\tif (input$1 === PartialStateSchema) return (0,_langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_14__.interopZodObjectPartial)(apply(schema$1));\n\t\t\treturn void 0;\n\t\t})();\n\t\tif ((0,_constants_js__WEBPACK_IMPORTED_MODULE_4__.isCommand)(input)) {\n\t\t\tconst parsedInput = input;\n\t\t\tif (input.update && schema != null) parsedInput.update = (0,_langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_14__.interopParse)(schema, input.update);\n\t\t\treturn parsedInput;\n\t\t}\n\t\tif (schema != null) return (0,_langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_14__.interopParse)(schema, input);\n\t\treturn input;\n\t}\n\tisInterrupted(input) {\n\t\treturn (0,_constants_js__WEBPACK_IMPORTED_MODULE_4__.isInterrupted)(input);\n\t}\n\tasync _validateContext(config) {\n\t\tconst configSchema = this.builder._configRuntimeSchema;\n\t\tif ((0,_langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_14__.isInteropZodObject)(configSchema)) (0,_langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_14__.interopParse)(configSchema, config);\n\t\treturn config;\n\t}\n};\nfunction isStateDefinition(obj) {\n\treturn typeof obj === \"object\" && obj !== null && !Array.isArray(obj) && Object.keys(obj).length > 0 && Object.values(obj).every((v) => typeof v === \"function\" || (0,_channels_base_js__WEBPACK_IMPORTED_MODULE_1__.isBaseChannel)(v));\n}\nfunction isAnnotationRoot(obj) {\n\treturn typeof obj === \"object\" && obj !== null && \"lc_graph_name\" in obj && obj.lc_graph_name === \"AnnotationRoot\";\n}\nfunction isStateGraphArgs(obj) {\n\treturn typeof obj === \"object\" && obj !== null && obj.channels !== void 0;\n}\nfunction isStateGraphArgsWithStateSchema(obj) {\n\treturn typeof obj === \"object\" && obj !== null && obj.stateSchema !== void 0;\n}\nfunction isStateGraphArgsWithInputOutputSchemas(obj) {\n\treturn typeof obj === \"object\" && obj !== null && obj.stateSchema === void 0 && obj.input !== void 0 && obj.output !== void 0;\n}\nfunction isZodStateGraphArgsWithStateSchema(value) {\n\tif (typeof value !== \"object\" || value == null) return false;\n\tif (!(\"state\" in value) || !(0,_langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_14__.isInteropZodObject)(value.state)) return false;\n\tif (\"input\" in value && !(0,_langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_14__.isInteropZodObject)(value.input)) return false;\n\tif (\"output\" in value && !(0,_langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_14__.isInteropZodObject)(value.output)) return false;\n\treturn true;\n}\nfunction _controlBranch(value) {\n\tif ((0,_constants_js__WEBPACK_IMPORTED_MODULE_4__._isSend)(value)) return [value];\n\tconst commands = [];\n\tif ((0,_constants_js__WEBPACK_IMPORTED_MODULE_4__.isCommand)(value)) commands.push(value);\n\telse if (Array.isArray(value)) commands.push(...value.filter(_constants_js__WEBPACK_IMPORTED_MODULE_4__.isCommand));\n\tconst destinations = [];\n\tfor (const command of commands) {\n\t\tif (command.graph === _constants_js__WEBPACK_IMPORTED_MODULE_4__.Command.PARENT) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.ParentCommand(command);\n\t\tif ((0,_constants_js__WEBPACK_IMPORTED_MODULE_4__._isSend)(command.goto)) destinations.push(command.goto);\n\t\telse if (typeof command.goto === \"string\") destinations.push(command.goto);\n\t\telse if (Array.isArray(command.goto)) destinations.push(...command.goto);\n\t}\n\treturn destinations;\n}\nfunction _getControlBranch() {\n\tconst CONTROL_BRANCH_PATH = new _utils_js__WEBPACK_IMPORTED_MODULE_5__.RunnableCallable({\n\t\tfunc: _controlBranch,\n\t\ttags: [_constants_js__WEBPACK_IMPORTED_MODULE_4__.TAG_HIDDEN],\n\t\ttrace: false,\n\t\trecurse: false,\n\t\tname: \"<control_branch>\"\n\t});\n\treturn new _graph_js__WEBPACK_IMPORTED_MODULE_10__.Branch({ path: CONTROL_BRANCH_PATH });\n}\n\n//#endregion\n\n//# sourceMappingURL=state.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L2dyYXBoL3N0YXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWlFO0FBQ2I7QUFDYTtBQUNwQjtBQUN3SDtBQUN0SDtBQUNnQjtBQUNIO0FBQ0Q7QUFDSztBQUNOO0FBQzJDO0FBQ2xEO0FBQ3FCO0FBQ2dDOztBQUV4RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxrQkFBa0I7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osV0FBVyx5QkFBeUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDhDQUE4QztBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiw2Q0FBSztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDZEQUFrQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxTQUFTLGdGQUFrQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRkFBcUYsZ0ZBQWtCO0FBQ3ZHO0FBQ0E7QUFDQSxPQUFPLGdGQUFrQjtBQUN6QjtBQUNBO0FBQ0EsSUFBSSxTQUFTLGdGQUFrQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRFQUE0RSxJQUFJO0FBQ2hGO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELEtBQUs7QUFDckQsK0JBQStCLHlFQUE4QixFQUFFLG1FQUF3Qix1REFBdUQsYUFBYTtBQUMzSjtBQUNBLG9EQUFvRCxJQUFJO0FBQ3hELGVBQWUsOENBQUcsWUFBWSxnREFBSyw0QkFBNEIsSUFBSTtBQUNuRTtBQUNBO0FBQ0EsUUFBUSxnRkFBa0I7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLGdFQUFRO0FBQ2YseURBQXlELHVEQUFnQjtBQUN6RTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osbUJBQW1CLDZFQUFpQjtBQUNwQztBQUNBLHdFQUF3RTtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHVFQUFZO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsOENBQUc7QUFDcEIsNkdBQTZHLE1BQU07QUFDbkg7QUFDQSxpQkFBaUIsOENBQUc7QUFDcEIsNkdBQTZHLE9BQU87QUFDcEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRGQUE0RixJQUFJO0FBQ2hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpRkFBaUYsSUFBSTtBQUNoRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLEtBQUssZ0RBQUssT0FBTyx3RUFBYztBQUMvQixJQUFJO0FBQ0osa0JBQWtCLGdEQUFLO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsc0JBQXNCLGdEQUFLO0FBQzNCO0FBQ0Esd0JBQXdCLGdEQUFLLEVBQUUsK0NBQUkseUJBQXlCLG1CQUFtQjtBQUMvRSw2RUFBNkUsK0NBQUkseUJBQXlCLG1CQUFtQjtBQUM3SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUZBQXVGLDBEQUFVO0FBQ2pHLHVCQUF1QiwwREFBVTtBQUNqQztBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsaUJBQWlCO0FBQy9EO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxxREFBYTtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsNkRBQWtCO0FBQ25DLGVBQWUscUJBQXFCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGdEQUFLO0FBQ25CO0FBQ0E7QUFDQSxPQUFPLHdEQUFTO0FBQ2hCLHdCQUF3QixrREFBTztBQUMvQjtBQUNBLEtBQUssdUVBQXVFLHdEQUFTO0FBQ3JGO0FBQ0EsK0JBQStCLHdEQUFTO0FBQ3hDLHFCQUFxQixrREFBTztBQUM1QjtBQUNBLE1BQU07QUFDTjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx3REFBUztBQUNyQix3QkFBd0Isa0RBQU87QUFDL0I7QUFDQSxLQUFLLGdFQUFnRSxvREFBUztBQUM5RTtBQUNBLGtDQUFrQyx3REFBUztBQUMzQyx3QkFBd0Isa0RBQU87QUFDL0I7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGNBQWMsMERBQWtCLG1CQUFtQixtQkFBbUIscUZBQXFGLFlBQVksS0FBSyxrREFBa0Q7QUFDOU47QUFDQTtBQUNBO0FBQ0EsVUFBVSx5REFBVztBQUNyQixlQUFlLHVEQUFnQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNILGNBQWMsZ0RBQUssd0JBQXdCLHVEQUFVO0FBQ3JELFVBQVUscURBQVU7QUFDcEIsY0FBYyxnREFBSztBQUNuQixjQUFjLGdEQUFLO0FBQ25CLGlCQUFpQiwwREFBWSxxQkFBcUIscURBQVU7QUFDNUQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLElBQUk7QUFDMUMsb0RBQW9ELHlFQUFvQixTQUFTLHdFQUFjO0FBQy9GLHlCQUF5Qix1REFBVTtBQUNuQztBQUNBO0FBQ0Esa0JBQWtCLDBEQUFZLHFCQUFxQixxREFBVTtBQUM3RDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxjQUFjLDhDQUFHO0FBQ2pCLHNFQUFzRSwwREFBWTtBQUNsRix5QkFBeUIsSUFBSTtBQUM3QjtBQUNBLEdBQUcsSUFBSSxxREFBVTtBQUNqQjtBQUNBLCtCQUErQixpQkFBaUIsR0FBRyxJQUFJO0FBQ3ZELG9FQUFvRSwyRkFBNEIsd0JBQXdCLGdGQUFpQjtBQUN6STtBQUNBLGtFQUFrRSwwREFBWTtBQUM5RTtBQUNBO0FBQ0EsSUFBSSxJQUFJLHFEQUFVO0FBQ2xCO0FBQ0E7QUFDQSw0Q0FBNEMsa0JBQWtCO0FBQzlEO0FBQ0EsdURBQXVELDhDQUFHO0FBQzFEO0FBQ0E7QUFDQSxRQUFRLHNEQUFPO0FBQ2Y7QUFDQSxvQkFBb0IsOENBQUcsb0JBQW9CLEVBQUU7QUFDN0M7QUFDQTtBQUNBLElBQUk7QUFDSixTQUFTLDBEQUFZO0FBQ3JCO0FBQ0Esc0NBQXNDLHFEQUFVO0FBQ2hELElBQUk7QUFDSjtBQUNBLDJGQUEyRix3REFBVztBQUN0RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0VBQW9FLHlCQUF5QjtBQUM3RjtBQUNBLE9BQU8sZ0ZBQWtCO0FBQ3pCLDhDQUE4QyxxRkFBdUI7QUFDckU7QUFDQSxHQUFHO0FBQ0gsTUFBTSx3REFBUztBQUNmO0FBQ0EsNERBQTRELDBFQUFZO0FBQ3hFO0FBQ0E7QUFDQSw2QkFBNkIsMEVBQVk7QUFDekM7QUFDQTtBQUNBO0FBQ0EsU0FBUyw0REFBYTtBQUN0QjtBQUNBO0FBQ0E7QUFDQSxNQUFNLGdGQUFrQixnQkFBZ0IsMEVBQVk7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvS0FBb0ssZ0VBQWE7QUFDakw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGdGQUFrQjtBQUMvQywwQkFBMEIsZ0ZBQWtCO0FBQzVDLDJCQUEyQixnRkFBa0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsS0FBSyxzREFBTztBQUNaO0FBQ0EsS0FBSyx3REFBUztBQUNkLDhEQUE4RCxvREFBUztBQUN2RTtBQUNBO0FBQ0Esd0JBQXdCLGtEQUFPLG1CQUFtQixxREFBYTtBQUMvRCxNQUFNLHNEQUFPO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHVEQUFnQjtBQUNqRDtBQUNBLFNBQVMscURBQVU7QUFDbkI7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGLFlBQVksOENBQU0sR0FBRywyQkFBMkI7QUFDaEQ7O0FBRUE7QUFDMEM7QUFDMUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2IvRGVza3RvcC9wcm9qZWN0X3gvcHJvamVjdC1zcWwtYWdlbnQvc2VydmljZXMvZnJvbnRlbmQvbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rbGFuZ2dyYXBoQDEuMC4xX0BsYW5nY2hhaW4rY29yZUAxLjAuMl9vcGVuYWlANC4xMDAuMF93c0A4LjE4LjJfem9kQDQuMS4xMl9fX19lZmE0ZThmODY1NThlNWQyOWViZGVjM2QyZjAwNGVkOS9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9sYW5nZ3JhcGgvZGlzdC9ncmFwaC9zdGF0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbnZhbGlkVXBkYXRlRXJyb3IsIFBhcmVudENvbW1hbmQgfSBmcm9tIFwiLi4vZXJyb3JzLmpzXCI7XG5pbXBvcnQgeyBpc0Jhc2VDaGFubmVsIH0gZnJvbSBcIi4uL2NoYW5uZWxzL2Jhc2UuanNcIjtcbmltcG9ydCB7IExhc3RWYWx1ZUFmdGVyRmluaXNoIH0gZnJvbSBcIi4uL2NoYW5uZWxzL2xhc3RfdmFsdWUuanNcIjtcbmltcG9ydCB7IGdldENoYW5uZWwgfSBmcm9tIFwiLi9hbm5vdGF0aW9uLmpzXCI7XG5pbXBvcnQgeyBDSEVDS1BPSU5UX05BTUVTUEFDRV9FTkQsIENIRUNLUE9JTlRfTkFNRVNQQUNFX1NFUEFSQVRPUiwgQ29tbWFuZCwgRU5ELCBTRUxGLCBTVEFSVCwgVEFHX0hJRERFTiwgX2lzU2VuZCwgaXNDb21tYW5kLCBpc0ludGVycnVwdGVkIH0gZnJvbSBcIi4uL2NvbnN0YW50cy5qc1wiO1xuaW1wb3J0IHsgUnVubmFibGVDYWxsYWJsZSB9IGZyb20gXCIuLi91dGlscy5qc1wiO1xuaW1wb3J0IHsgQ2hhbm5lbFdyaXRlLCBQQVNTVEhST1VHSCB9IGZyb20gXCIuLi9wcmVnZWwvd3JpdGUuanNcIjtcbmltcG9ydCB7IENoYW5uZWxSZWFkLCBQcmVnZWxOb2RlIH0gZnJvbSBcIi4uL3ByZWdlbC9yZWFkLmpzXCI7XG5pbXBvcnQgeyBpc1ByZWdlbExpa2UgfSBmcm9tIFwiLi4vcHJlZ2VsL3V0aWxzL3N1YmdyYXBoLmpzXCI7XG5pbXBvcnQgeyBFcGhlbWVyYWxWYWx1ZSB9IGZyb20gXCIuLi9jaGFubmVscy9lcGhlbWVyYWxfdmFsdWUuanNcIjtcbmltcG9ydCB7IEJyYW5jaCwgQ29tcGlsZWRHcmFwaCwgR3JhcGggfSBmcm9tIFwiLi9ncmFwaC5qc1wiO1xuaW1wb3J0IHsgTmFtZWRCYXJyaWVyVmFsdWUsIE5hbWVkQmFycmllclZhbHVlQWZ0ZXJGaW5pc2ggfSBmcm9tIFwiLi4vY2hhbm5lbHMvbmFtZWRfYmFycmllcl92YWx1ZS5qc1wiO1xuaW1wb3J0IHsgc2NoZW1hTWV0YVJlZ2lzdHJ5IH0gZnJvbSBcIi4vem9kL21ldGEuanNcIjtcbmltcG9ydCB7IFJ1bm5hYmxlLCBfY29lcmNlVG9SdW5uYWJsZSB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvcnVubmFibGVzXCI7XG5pbXBvcnQgeyBpbnRlcm9wUGFyc2UsIGludGVyb3Bab2RPYmplY3RQYXJ0aWFsLCBpc0ludGVyb3Bab2RPYmplY3QgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3V0aWxzL3R5cGVzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvZ3JhcGgvc3RhdGUudHNcbmNvbnN0IFJPT1QgPSBcIl9fcm9vdF9fXCI7XG5jb25zdCBQYXJ0aWFsU3RhdGVTY2hlbWEgPSBTeW1ib2wuZm9yKFwibGFuZ2dyYXBoLnN0YXRlLnBhcnRpYWxcIik7XG4vKipcbiogQSBncmFwaCB3aG9zZSBub2RlcyBjb21tdW5pY2F0ZSBieSByZWFkaW5nIGFuZCB3cml0aW5nIHRvIGEgc2hhcmVkIHN0YXRlLlxuKiBFYWNoIG5vZGUgdGFrZXMgYSBkZWZpbmVkIGBTdGF0ZWAgYXMgaW5wdXQgYW5kIHJldHVybnMgYSBgUGFydGlhbDxTdGF0ZT5gLlxuKlxuKiBFYWNoIHN0YXRlIGtleSBjYW4gb3B0aW9uYWxseSBiZSBhbm5vdGF0ZWQgd2l0aCBhIHJlZHVjZXIgZnVuY3Rpb24gdGhhdFxuKiB3aWxsIGJlIHVzZWQgdG8gYWdncmVnYXRlIHRoZSB2YWx1ZXMgb2YgdGhhdCBrZXkgcmVjZWl2ZWQgZnJvbSBtdWx0aXBsZSBub2Rlcy5cbiogVGhlIHNpZ25hdHVyZSBvZiBhIHJlZHVjZXIgZnVuY3Rpb24gaXMgKGxlZnQ6IFZhbHVlLCByaWdodDogVXBkYXRlVmFsdWUpID0+IFZhbHVlLlxuKlxuKiBTZWUge0BsaW5rIEFubm90YXRpb259IGZvciBtb3JlIG9uIGRlZmluaW5nIHN0YXRlLlxuKlxuKiBBZnRlciBhZGRpbmcgbm9kZXMgYW5kIGVkZ2VzIHRvIHlvdXIgZ3JhcGgsIHlvdSBtdXN0IGNhbGwgYC5jb21waWxlKClgIG9uIGl0IGJlZm9yZVxuKiB5b3UgY2FuIHVzZSBpdC5cbipcbiogQGV4YW1wbGVcbiogYGBgdHNcbiogaW1wb3J0IHtcbiogICB0eXBlIEJhc2VNZXNzYWdlLFxuKiAgIEFJTWVzc2FnZSxcbiogICBIdW1hbk1lc3NhZ2UsXG4qIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9tZXNzYWdlc1wiO1xuKiBpbXBvcnQgeyBTdGF0ZUdyYXBoLCBBbm5vdGF0aW9uIH0gZnJvbSBcIkBsYW5nY2hhaW4vbGFuZ2dyYXBoXCI7XG4qXG4qIC8vIERlZmluZSBhIHN0YXRlIHdpdGggYSBzaW5nbGUga2V5IG5hbWVkIFwibWVzc2FnZXNcIiB0aGF0IHdpbGxcbiogLy8gY29tYmluZSBhIHJldHVybmVkIEJhc2VNZXNzYWdlIG9yIGFycmF5cyBvZiBCYXNlTWVzc2FnZXNcbiogY29uc3QgU3RhdGVBbm5vdGF0aW9uID0gQW5ub3RhdGlvbi5Sb290KHtcbiogICBzZW50aW1lbnQ6IEFubm90YXRpb248c3RyaW5nPixcbiogICBtZXNzYWdlczogQW5ub3RhdGlvbjxCYXNlTWVzc2FnZVtdPih7XG4qICAgICByZWR1Y2VyOiAobGVmdDogQmFzZU1lc3NhZ2VbXSwgcmlnaHQ6IEJhc2VNZXNzYWdlIHwgQmFzZU1lc3NhZ2VbXSkgPT4ge1xuKiAgICAgICBpZiAoQXJyYXkuaXNBcnJheShyaWdodCkpIHtcbiogICAgICAgICByZXR1cm4gbGVmdC5jb25jYXQocmlnaHQpO1xuKiAgICAgICB9XG4qICAgICAgIHJldHVybiBsZWZ0LmNvbmNhdChbcmlnaHRdKTtcbiogICAgIH0sXG4qICAgICBkZWZhdWx0OiAoKSA9PiBbXSxcbiogICB9KSxcbiogfSk7XG4qXG4qIGNvbnN0IGdyYXBoQnVpbGRlciA9IG5ldyBTdGF0ZUdyYXBoKFN0YXRlQW5ub3RhdGlvbik7XG4qXG4qIC8vIEEgbm9kZSBpbiB0aGUgZ3JhcGggdGhhdCByZXR1cm5zIGFuIG9iamVjdCB3aXRoIGEgXCJtZXNzYWdlc1wiIGtleVxuKiAvLyB3aWxsIHVwZGF0ZSB0aGUgc3RhdGUgYnkgY29tYmluaW5nIHRoZSBleGlzdGluZyB2YWx1ZSB3aXRoIHRoZSByZXR1cm5lZCBvbmUuXG4qIGNvbnN0IG15Tm9kZSA9IChzdGF0ZTogdHlwZW9mIFN0YXRlQW5ub3RhdGlvbi5TdGF0ZSkgPT4ge1xuKiAgIHJldHVybiB7XG4qICAgICBtZXNzYWdlczogW25ldyBBSU1lc3NhZ2UoXCJTb21lIG5ldyByZXNwb25zZVwiKV0sXG4qICAgICBzZW50aW1lbnQ6IFwicG9zaXRpdmVcIixcbiogICB9O1xuKiB9O1xuKlxuKiBjb25zdCBncmFwaCA9IGdyYXBoQnVpbGRlclxuKiAgIC5hZGROb2RlKFwibXlOb2RlXCIsIG15Tm9kZSlcbiogICAuYWRkRWRnZShcIl9fc3RhcnRfX1wiLCBcIm15Tm9kZVwiKVxuKiAgIC5hZGRFZGdlKFwibXlOb2RlXCIsIFwiX19lbmRfX1wiKVxuKiAgIC5jb21waWxlKCk7XG4qXG4qIGF3YWl0IGdyYXBoLmludm9rZSh7IG1lc3NhZ2VzOiBbbmV3IEh1bWFuTWVzc2FnZShcImhvdyBhcmUgeW91P1wiKV0gfSk7XG4qXG4qIC8vIHtcbiogLy8gICBtZXNzYWdlczogW0h1bWFuTWVzc2FnZShcImhvdyBhcmUgeW91P1wiKSwgQUlNZXNzYWdlKFwiU29tZSBuZXcgcmVzcG9uc2VcIildLFxuKiAvLyAgIHNlbnRpbWVudDogXCJwb3NpdGl2ZVwiLFxuKiAvLyB9XG4qIGBgYFxuKi9cbnZhciBTdGF0ZUdyYXBoID0gY2xhc3MgZXh0ZW5kcyBHcmFwaCB7XG5cdGNoYW5uZWxzID0ge307XG5cdHdhaXRpbmdFZGdlcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG5cdC8qKiBAaW50ZXJuYWwgKi9cblx0X3NjaGVtYURlZmluaXRpb247XG5cdC8qKiBAaW50ZXJuYWwgKi9cblx0X3NjaGVtYVJ1bnRpbWVEZWZpbml0aW9uO1xuXHQvKiogQGludGVybmFsICovXG5cdF9pbnB1dERlZmluaXRpb247XG5cdC8qKiBAaW50ZXJuYWwgKi9cblx0X2lucHV0UnVudGltZURlZmluaXRpb247XG5cdC8qKiBAaW50ZXJuYWwgKi9cblx0X291dHB1dERlZmluaXRpb247XG5cdC8qKiBAaW50ZXJuYWwgKi9cblx0X291dHB1dFJ1bnRpbWVEZWZpbml0aW9uO1xuXHQvKipcblx0KiBNYXAgc2NoZW1hcyB0byBtYW5hZ2VkIHZhbHVlc1xuXHQqIEBpbnRlcm5hbFxuXHQqL1xuXHRfc2NoZW1hRGVmaW5pdGlvbnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuXHQvKiogQGludGVybmFsICovXG5cdF9tZXRhUmVnaXN0cnkgPSBzY2hlbWFNZXRhUmVnaXN0cnk7XG5cdC8qKiBAaW50ZXJuYWwgVXNlZCBvbmx5IGZvciB0eXBpbmcuICovXG5cdF9jb25maWdTY2hlbWE7XG5cdC8qKiBAaW50ZXJuYWwgKi9cblx0X2NvbmZpZ1J1bnRpbWVTY2hlbWE7XG5cdC8qKiBAaW50ZXJuYWwgKi9cblx0X2ludGVycnVwdDtcblx0LyoqIEBpbnRlcm5hbCAqL1xuXHRfd3JpdGVyO1xuXHRjb25zdHJ1Y3RvcihmaWVsZHMsIGNvbnRleHRTY2hlbWEpIHtcblx0XHRzdXBlcigpO1xuXHRcdGlmIChpc1pvZFN0YXRlR3JhcGhBcmdzV2l0aFN0YXRlU2NoZW1hKGZpZWxkcykpIHtcblx0XHRcdGNvbnN0IHN0YXRlRGVmID0gdGhpcy5fbWV0YVJlZ2lzdHJ5LmdldENoYW5uZWxzRm9yU2NoZW1hKGZpZWxkcy5zdGF0ZSk7XG5cdFx0XHRjb25zdCBpbnB1dERlZiA9IGZpZWxkcy5pbnB1dCAhPSBudWxsID8gdGhpcy5fbWV0YVJlZ2lzdHJ5LmdldENoYW5uZWxzRm9yU2NoZW1hKGZpZWxkcy5pbnB1dCkgOiBzdGF0ZURlZjtcblx0XHRcdGNvbnN0IG91dHB1dERlZiA9IGZpZWxkcy5vdXRwdXQgIT0gbnVsbCA/IHRoaXMuX21ldGFSZWdpc3RyeS5nZXRDaGFubmVsc0ZvclNjaGVtYShmaWVsZHMub3V0cHV0KSA6IHN0YXRlRGVmO1xuXHRcdFx0dGhpcy5fc2NoZW1hRGVmaW5pdGlvbiA9IHN0YXRlRGVmO1xuXHRcdFx0dGhpcy5fc2NoZW1hUnVudGltZURlZmluaXRpb24gPSBmaWVsZHMuc3RhdGU7XG5cdFx0XHR0aGlzLl9pbnB1dERlZmluaXRpb24gPSBpbnB1dERlZjtcblx0XHRcdHRoaXMuX2lucHV0UnVudGltZURlZmluaXRpb24gPSBmaWVsZHMuaW5wdXQgPz8gUGFydGlhbFN0YXRlU2NoZW1hO1xuXHRcdFx0dGhpcy5fb3V0cHV0RGVmaW5pdGlvbiA9IG91dHB1dERlZjtcblx0XHRcdHRoaXMuX291dHB1dFJ1bnRpbWVEZWZpbml0aW9uID0gZmllbGRzLm91dHB1dCA/PyBmaWVsZHMuc3RhdGU7XG5cdFx0fSBlbHNlIGlmIChpc0ludGVyb3Bab2RPYmplY3QoZmllbGRzKSkge1xuXHRcdFx0Y29uc3Qgc3RhdGVEZWYgPSB0aGlzLl9tZXRhUmVnaXN0cnkuZ2V0Q2hhbm5lbHNGb3JTY2hlbWEoZmllbGRzKTtcblx0XHRcdHRoaXMuX3NjaGVtYURlZmluaXRpb24gPSBzdGF0ZURlZjtcblx0XHRcdHRoaXMuX3NjaGVtYVJ1bnRpbWVEZWZpbml0aW9uID0gZmllbGRzO1xuXHRcdFx0dGhpcy5faW5wdXREZWZpbml0aW9uID0gc3RhdGVEZWY7XG5cdFx0XHR0aGlzLl9pbnB1dFJ1bnRpbWVEZWZpbml0aW9uID0gUGFydGlhbFN0YXRlU2NoZW1hO1xuXHRcdFx0dGhpcy5fb3V0cHV0RGVmaW5pdGlvbiA9IHN0YXRlRGVmO1xuXHRcdFx0dGhpcy5fb3V0cHV0UnVudGltZURlZmluaXRpb24gPSBmaWVsZHM7XG5cdFx0fSBlbHNlIGlmIChpc1N0YXRlR3JhcGhBcmdzV2l0aElucHV0T3V0cHV0U2NoZW1hcyhmaWVsZHMpKSB7XG5cdFx0XHR0aGlzLl9zY2hlbWFEZWZpbml0aW9uID0gZmllbGRzLmlucHV0LnNwZWM7XG5cdFx0XHR0aGlzLl9pbnB1dERlZmluaXRpb24gPSBmaWVsZHMuaW5wdXQuc3BlYztcblx0XHRcdHRoaXMuX291dHB1dERlZmluaXRpb24gPSBmaWVsZHMub3V0cHV0LnNwZWM7XG5cdFx0fSBlbHNlIGlmIChpc1N0YXRlR3JhcGhBcmdzV2l0aFN0YXRlU2NoZW1hKGZpZWxkcykpIHtcblx0XHRcdHRoaXMuX3NjaGVtYURlZmluaXRpb24gPSBmaWVsZHMuc3RhdGVTY2hlbWEuc3BlYztcblx0XHRcdHRoaXMuX2lucHV0RGVmaW5pdGlvbiA9IGZpZWxkcy5pbnB1dD8uc3BlYyA/PyB0aGlzLl9zY2hlbWFEZWZpbml0aW9uO1xuXHRcdFx0dGhpcy5fb3V0cHV0RGVmaW5pdGlvbiA9IGZpZWxkcy5vdXRwdXQ/LnNwZWMgPz8gdGhpcy5fc2NoZW1hRGVmaW5pdGlvbjtcblx0XHR9IGVsc2UgaWYgKGlzU3RhdGVEZWZpbml0aW9uKGZpZWxkcykgfHwgaXNBbm5vdGF0aW9uUm9vdChmaWVsZHMpKSB7XG5cdFx0XHRjb25zdCBzcGVjID0gaXNBbm5vdGF0aW9uUm9vdChmaWVsZHMpID8gZmllbGRzLnNwZWMgOiBmaWVsZHM7XG5cdFx0XHR0aGlzLl9zY2hlbWFEZWZpbml0aW9uID0gc3BlYztcblx0XHR9IGVsc2UgaWYgKGlzU3RhdGVHcmFwaEFyZ3MoZmllbGRzKSkge1xuXHRcdFx0Y29uc3Qgc3BlYyA9IF9nZXRDaGFubmVscyhmaWVsZHMuY2hhbm5lbHMpO1xuXHRcdFx0dGhpcy5fc2NoZW1hRGVmaW5pdGlvbiA9IHNwZWM7XG5cdFx0fSBlbHNlIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgU3RhdGVHcmFwaCBpbnB1dC4gTWFrZSBzdXJlIHRvIHBhc3MgYSB2YWxpZCBBbm5vdGF0aW9uLlJvb3Qgb3IgWm9kIHNjaGVtYS5cIik7XG5cdFx0dGhpcy5faW5wdXREZWZpbml0aW9uID8/PSB0aGlzLl9zY2hlbWFEZWZpbml0aW9uO1xuXHRcdHRoaXMuX291dHB1dERlZmluaXRpb24gPz89IHRoaXMuX3NjaGVtYURlZmluaXRpb247XG5cdFx0dGhpcy5fYWRkU2NoZW1hKHRoaXMuX3NjaGVtYURlZmluaXRpb24pO1xuXHRcdHRoaXMuX2FkZFNjaGVtYSh0aGlzLl9pbnB1dERlZmluaXRpb24pO1xuXHRcdHRoaXMuX2FkZFNjaGVtYSh0aGlzLl9vdXRwdXREZWZpbml0aW9uKTtcblx0XHRmdW5jdGlvbiBpc09wdGlvbnMob3B0aW9ucykge1xuXHRcdFx0cmV0dXJuIHR5cGVvZiBvcHRpb25zID09PSBcIm9iamVjdFwiICYmIG9wdGlvbnMgIT0gbnVsbCAmJiAhKFwic3BlY1wiIGluIG9wdGlvbnMpICYmICFpc0ludGVyb3Bab2RPYmplY3Qob3B0aW9ucyk7XG5cdFx0fVxuXHRcdGlmIChpc09wdGlvbnMoY29udGV4dFNjaGVtYSkpIHtcblx0XHRcdGlmIChpc0ludGVyb3Bab2RPYmplY3QoY29udGV4dFNjaGVtYS5jb250ZXh0KSkgdGhpcy5fY29uZmlnUnVudGltZVNjaGVtYSA9IGNvbnRleHRTY2hlbWEuY29udGV4dDtcblx0XHRcdHRoaXMuX2ludGVycnVwdCA9IGNvbnRleHRTY2hlbWEuaW50ZXJydXB0O1xuXHRcdFx0dGhpcy5fd3JpdGVyID0gY29udGV4dFNjaGVtYS53cml0ZXI7XG5cdFx0fSBlbHNlIGlmIChpc0ludGVyb3Bab2RPYmplY3QoY29udGV4dFNjaGVtYSkpIHRoaXMuX2NvbmZpZ1J1bnRpbWVTY2hlbWEgPSBjb250ZXh0U2NoZW1hO1xuXHR9XG5cdGdldCBhbGxFZGdlcygpIHtcblx0XHRyZXR1cm4gbmV3IFNldChbLi4udGhpcy5lZGdlcywgLi4uQXJyYXkuZnJvbSh0aGlzLndhaXRpbmdFZGdlcykuZmxhdE1hcCgoW3N0YXJ0cywgZW5kXSkgPT4gc3RhcnRzLm1hcCgoc3RhcnQpID0+IFtzdGFydCwgZW5kXSkpXSk7XG5cdH1cblx0X2FkZFNjaGVtYShzdGF0ZURlZmluaXRpb24pIHtcblx0XHRpZiAodGhpcy5fc2NoZW1hRGVmaW5pdGlvbnMuaGFzKHN0YXRlRGVmaW5pdGlvbikpIHJldHVybjtcblx0XHR0aGlzLl9zY2hlbWFEZWZpbml0aW9ucy5zZXQoc3RhdGVEZWZpbml0aW9uLCBzdGF0ZURlZmluaXRpb24pO1xuXHRcdGZvciAoY29uc3QgW2tleSwgdmFsXSBvZiBPYmplY3QuZW50cmllcyhzdGF0ZURlZmluaXRpb24pKSB7XG5cdFx0XHRsZXQgY2hhbm5lbDtcblx0XHRcdGlmICh0eXBlb2YgdmFsID09PSBcImZ1bmN0aW9uXCIpIGNoYW5uZWwgPSB2YWwoKTtcblx0XHRcdGVsc2UgY2hhbm5lbCA9IHZhbDtcblx0XHRcdGlmICh0aGlzLmNoYW5uZWxzW2tleV0gIT09IHZvaWQgMCkge1xuXHRcdFx0XHRpZiAodGhpcy5jaGFubmVsc1trZXldICE9PSBjaGFubmVsKSB7XG5cdFx0XHRcdFx0aWYgKGNoYW5uZWwubGNfZ3JhcGhfbmFtZSAhPT0gXCJMYXN0VmFsdWVcIikgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsIFwiJHtrZXl9XCIgYWxyZWFkeSBleGlzdHMgd2l0aCBhIGRpZmZlcmVudCB0eXBlLmApO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgdGhpcy5jaGFubmVsc1trZXldID0gY2hhbm5lbDtcblx0XHR9XG5cdH1cblx0YWRkTm9kZSguLi5hcmdzKSB7XG5cdFx0ZnVuY3Rpb24gaXNNdWx0aXBsZU5vZGVzKGFyZ3MkMSkge1xuXHRcdFx0cmV0dXJuIGFyZ3MkMS5sZW5ndGggPj0gMSAmJiB0eXBlb2YgYXJncyQxWzBdICE9PSBcInN0cmluZ1wiO1xuXHRcdH1cblx0XHRjb25zdCBub2RlcyA9IGlzTXVsdGlwbGVOb2RlcyhhcmdzKSA/IEFycmF5LmlzQXJyYXkoYXJnc1swXSkgPyBhcmdzWzBdIDogT2JqZWN0LmVudHJpZXMoYXJnc1swXSkubWFwKChba2V5LCBhY3Rpb25dKSA9PiBba2V5LCBhY3Rpb25dKSA6IFtbXG5cdFx0XHRhcmdzWzBdLFxuXHRcdFx0YXJnc1sxXSxcblx0XHRcdGFyZ3NbMl1cblx0XHRdXTtcblx0XHRpZiAobm9kZXMubGVuZ3RoID09PSAwKSB0aHJvdyBuZXcgRXJyb3IoXCJObyBub2RlcyBwcm92aWRlZCBpbiBgYWRkTm9kZWBcIik7XG5cdFx0Zm9yIChjb25zdCBba2V5LCBhY3Rpb24sIG9wdGlvbnNdIG9mIG5vZGVzKSB7XG5cdFx0XHRpZiAoa2V5IGluIHRoaXMuY2hhbm5lbHMpIHRocm93IG5ldyBFcnJvcihgJHtrZXl9IGlzIGFscmVhZHkgYmVpbmcgdXNlZCBhcyBhIHN0YXRlIGF0dHJpYnV0ZSAoYS5rLmEuIGEgY2hhbm5lbCksIGNhbm5vdCBhbHNvIGJlIHVzZWQgYXMgYSBub2RlIG5hbWUuYCk7XG5cdFx0XHRmb3IgKGNvbnN0IHJlc2VydmVkQ2hhciBvZiBbQ0hFQ0tQT0lOVF9OQU1FU1BBQ0VfU0VQQVJBVE9SLCBDSEVDS1BPSU5UX05BTUVTUEFDRV9FTkRdKSBpZiAoa2V5LmluY2x1ZGVzKHJlc2VydmVkQ2hhcikpIHRocm93IG5ldyBFcnJvcihgXCIke3Jlc2VydmVkQ2hhcn1cIiBpcyBhIHJlc2VydmVkIGNoYXJhY3RlciBhbmQgaXMgbm90IGFsbG93ZWQgaW4gbm9kZSBuYW1lcy5gKTtcblx0XHRcdHRoaXMud2FybklmQ29tcGlsZWQoYEFkZGluZyBhIG5vZGUgdG8gYSBncmFwaCB0aGF0IGhhcyBhbHJlYWR5IGJlZW4gY29tcGlsZWQuIFRoaXMgd2lsbCBub3QgYmUgcmVmbGVjdGVkIGluIHRoZSBjb21waWxlZCBncmFwaC5gKTtcblx0XHRcdGlmIChrZXkgaW4gdGhpcy5ub2RlcykgdGhyb3cgbmV3IEVycm9yKGBOb2RlIFxcYCR7a2V5fVxcYCBhbHJlYWR5IHByZXNlbnQuYCk7XG5cdFx0XHRpZiAoa2V5ID09PSBFTkQgfHwga2V5ID09PSBTVEFSVCkgdGhyb3cgbmV3IEVycm9yKGBOb2RlIFxcYCR7a2V5fVxcYCBpcyByZXNlcnZlZC5gKTtcblx0XHRcdGxldCBpbnB1dFNwZWMgPSB0aGlzLl9zY2hlbWFEZWZpbml0aW9uO1xuXHRcdFx0aWYgKG9wdGlvbnM/LmlucHV0ICE9PSB2b2lkIDApIHtcblx0XHRcdFx0aWYgKGlzSW50ZXJvcFpvZE9iamVjdChvcHRpb25zLmlucHV0KSkgaW5wdXRTcGVjID0gdGhpcy5fbWV0YVJlZ2lzdHJ5LmdldENoYW5uZWxzRm9yU2NoZW1hKG9wdGlvbnMuaW5wdXQpO1xuXHRcdFx0XHRlbHNlIGlmIChvcHRpb25zLmlucHV0LnNwZWMgIT09IHZvaWQgMCkgaW5wdXRTcGVjID0gb3B0aW9ucy5pbnB1dC5zcGVjO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGlucHV0U3BlYyAhPT0gdm9pZCAwKSB0aGlzLl9hZGRTY2hlbWEoaW5wdXRTcGVjKTtcblx0XHRcdGxldCBydW5uYWJsZTtcblx0XHRcdGlmIChSdW5uYWJsZS5pc1J1bm5hYmxlKGFjdGlvbikpIHJ1bm5hYmxlID0gYWN0aW9uO1xuXHRcdFx0ZWxzZSBpZiAodHlwZW9mIGFjdGlvbiA9PT0gXCJmdW5jdGlvblwiKSBydW5uYWJsZSA9IG5ldyBSdW5uYWJsZUNhbGxhYmxlKHtcblx0XHRcdFx0ZnVuYzogYWN0aW9uLFxuXHRcdFx0XHRuYW1lOiBrZXksXG5cdFx0XHRcdHRyYWNlOiBmYWxzZVxuXHRcdFx0fSk7XG5cdFx0XHRlbHNlIHJ1bm5hYmxlID0gX2NvZXJjZVRvUnVubmFibGUoYWN0aW9uKTtcblx0XHRcdGxldCBjYWNoZVBvbGljeSA9IG9wdGlvbnM/LmNhY2hlUG9saWN5O1xuXHRcdFx0aWYgKHR5cGVvZiBjYWNoZVBvbGljeSA9PT0gXCJib29sZWFuXCIpIGNhY2hlUG9saWN5ID0gY2FjaGVQb2xpY3kgPyB7fSA6IHZvaWQgMDtcblx0XHRcdGNvbnN0IG5vZGVTcGVjID0ge1xuXHRcdFx0XHRydW5uYWJsZSxcblx0XHRcdFx0cmV0cnlQb2xpY3k6IG9wdGlvbnM/LnJldHJ5UG9saWN5LFxuXHRcdFx0XHRjYWNoZVBvbGljeSxcblx0XHRcdFx0bWV0YWRhdGE6IG9wdGlvbnM/Lm1ldGFkYXRhLFxuXHRcdFx0XHRpbnB1dDogaW5wdXRTcGVjID8/IHRoaXMuX3NjaGVtYURlZmluaXRpb24sXG5cdFx0XHRcdHN1YmdyYXBoczogaXNQcmVnZWxMaWtlKHJ1bm5hYmxlKSA/IFtydW5uYWJsZV0gOiBvcHRpb25zPy5zdWJncmFwaHMsXG5cdFx0XHRcdGVuZHM6IG9wdGlvbnM/LmVuZHMsXG5cdFx0XHRcdGRlZmVyOiBvcHRpb25zPy5kZWZlclxuXHRcdFx0fTtcblx0XHRcdHRoaXMubm9kZXNba2V5XSA9IG5vZGVTcGVjO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXHRhZGRFZGdlKHN0YXJ0S2V5LCBlbmRLZXkpIHtcblx0XHRpZiAodHlwZW9mIHN0YXJ0S2V5ID09PSBcInN0cmluZ1wiKSByZXR1cm4gc3VwZXIuYWRkRWRnZShzdGFydEtleSwgZW5kS2V5KTtcblx0XHRpZiAodGhpcy5jb21waWxlZCkgY29uc29sZS53YXJuKFwiQWRkaW5nIGFuIGVkZ2UgdG8gYSBncmFwaCB0aGF0IGhhcyBhbHJlYWR5IGJlZW4gY29tcGlsZWQuIFRoaXMgd2lsbCBub3QgYmUgcmVmbGVjdGVkIGluIHRoZSBjb21waWxlZCBncmFwaC5cIik7XG5cdFx0Zm9yIChjb25zdCBzdGFydCBvZiBzdGFydEtleSkge1xuXHRcdFx0aWYgKHN0YXJ0ID09PSBFTkQpIHRocm93IG5ldyBFcnJvcihcIkVORCBjYW5ub3QgYmUgYSBzdGFydCBub2RlXCIpO1xuXHRcdFx0aWYgKCFPYmplY3Qua2V5cyh0aGlzLm5vZGVzKS5zb21lKChub2RlKSA9PiBub2RlID09PSBzdGFydCkpIHRocm93IG5ldyBFcnJvcihgTmVlZCB0byBhZGQgYSBub2RlIG5hbWVkIFwiJHtzdGFydH1cIiBmaXJzdGApO1xuXHRcdH1cblx0XHRpZiAoZW5kS2V5ID09PSBFTkQpIHRocm93IG5ldyBFcnJvcihcIkVORCBjYW5ub3QgYmUgYW4gZW5kIG5vZGVcIik7XG5cdFx0aWYgKCFPYmplY3Qua2V5cyh0aGlzLm5vZGVzKS5zb21lKChub2RlKSA9PiBub2RlID09PSBlbmRLZXkpKSB0aHJvdyBuZXcgRXJyb3IoYE5lZWQgdG8gYWRkIGEgbm9kZSBuYW1lZCBcIiR7ZW5kS2V5fVwiIGZpcnN0YCk7XG5cdFx0dGhpcy53YWl0aW5nRWRnZXMuYWRkKFtzdGFydEtleSwgZW5kS2V5XSk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblx0YWRkU2VxdWVuY2Uobm9kZXMpIHtcblx0XHRjb25zdCBwYXJzZWROb2RlcyA9IEFycmF5LmlzQXJyYXkobm9kZXMpID8gbm9kZXMgOiBPYmplY3QuZW50cmllcyhub2Rlcyk7XG5cdFx0aWYgKHBhcnNlZE5vZGVzLmxlbmd0aCA9PT0gMCkgdGhyb3cgbmV3IEVycm9yKFwiU2VxdWVuY2UgcmVxdWlyZXMgYXQgbGVhc3Qgb25lIG5vZGUuXCIpO1xuXHRcdGxldCBwcmV2aW91c05vZGU7XG5cdFx0Zm9yIChjb25zdCBba2V5LCBhY3Rpb24sIG9wdGlvbnNdIG9mIHBhcnNlZE5vZGVzKSB7XG5cdFx0XHRpZiAoa2V5IGluIHRoaXMubm9kZXMpIHRocm93IG5ldyBFcnJvcihgTm9kZSBuYW1lcyBtdXN0IGJlIHVuaXF1ZTogbm9kZSB3aXRoIHRoZSBuYW1lIFwiJHtrZXl9XCIgYWxyZWFkeSBleGlzdHMuYCk7XG5cdFx0XHRjb25zdCB2YWxpZEtleSA9IGtleTtcblx0XHRcdHRoaXMuYWRkTm9kZSh2YWxpZEtleSwgYWN0aW9uLCBvcHRpb25zKTtcblx0XHRcdGlmIChwcmV2aW91c05vZGUgIT0gbnVsbCkgdGhpcy5hZGRFZGdlKHByZXZpb3VzTm9kZSwgdmFsaWRLZXkpO1xuXHRcdFx0cHJldmlvdXNOb2RlID0gdmFsaWRLZXk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cdGNvbXBpbGUoeyBjaGVja3BvaW50ZXIsIHN0b3JlLCBjYWNoZSwgaW50ZXJydXB0QmVmb3JlLCBpbnRlcnJ1cHRBZnRlciwgbmFtZSwgZGVzY3JpcHRpb24gfSA9IHt9KSB7XG5cdFx0dGhpcy52YWxpZGF0ZShbLi4uQXJyYXkuaXNBcnJheShpbnRlcnJ1cHRCZWZvcmUpID8gaW50ZXJydXB0QmVmb3JlIDogW10sIC4uLkFycmF5LmlzQXJyYXkoaW50ZXJydXB0QWZ0ZXIpID8gaW50ZXJydXB0QWZ0ZXIgOiBbXV0pO1xuXHRcdGNvbnN0IG91dHB1dEtleXMgPSBPYmplY3Qua2V5cyh0aGlzLl9zY2hlbWFEZWZpbml0aW9ucy5nZXQodGhpcy5fb3V0cHV0RGVmaW5pdGlvbikpO1xuXHRcdGNvbnN0IG91dHB1dENoYW5uZWxzID0gb3V0cHV0S2V5cy5sZW5ndGggPT09IDEgJiYgb3V0cHV0S2V5c1swXSA9PT0gUk9PVCA/IFJPT1QgOiBvdXRwdXRLZXlzO1xuXHRcdGNvbnN0IHN0cmVhbUtleXMgPSBPYmplY3Qua2V5cyh0aGlzLmNoYW5uZWxzKTtcblx0XHRjb25zdCBzdHJlYW1DaGFubmVscyA9IHN0cmVhbUtleXMubGVuZ3RoID09PSAxICYmIHN0cmVhbUtleXNbMF0gPT09IFJPT1QgPyBST09UIDogc3RyZWFtS2V5cztcblx0XHRjb25zdCB1c2VySW50ZXJydXB0ID0gdGhpcy5faW50ZXJydXB0O1xuXHRcdGNvbnN0IGNvbXBpbGVkID0gbmV3IENvbXBpbGVkU3RhdGVHcmFwaCh7XG5cdFx0XHRidWlsZGVyOiB0aGlzLFxuXHRcdFx0Y2hlY2twb2ludGVyLFxuXHRcdFx0aW50ZXJydXB0QWZ0ZXIsXG5cdFx0XHRpbnRlcnJ1cHRCZWZvcmUsXG5cdFx0XHRhdXRvVmFsaWRhdGU6IGZhbHNlLFxuXHRcdFx0bm9kZXM6IHt9LFxuXHRcdFx0Y2hhbm5lbHM6IHtcblx0XHRcdFx0Li4udGhpcy5jaGFubmVscyxcblx0XHRcdFx0W1NUQVJUXTogbmV3IEVwaGVtZXJhbFZhbHVlKClcblx0XHRcdH0sXG5cdFx0XHRpbnB1dENoYW5uZWxzOiBTVEFSVCxcblx0XHRcdG91dHB1dENoYW5uZWxzLFxuXHRcdFx0c3RyZWFtQ2hhbm5lbHMsXG5cdFx0XHRzdHJlYW1Nb2RlOiBcInVwZGF0ZXNcIixcblx0XHRcdHN0b3JlLFxuXHRcdFx0Y2FjaGUsXG5cdFx0XHRuYW1lLFxuXHRcdFx0ZGVzY3JpcHRpb24sXG5cdFx0XHR1c2VySW50ZXJydXB0XG5cdFx0fSk7XG5cdFx0Y29tcGlsZWQuYXR0YWNoTm9kZShTVEFSVCk7XG5cdFx0Zm9yIChjb25zdCBba2V5LCBub2RlXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLm5vZGVzKSkgY29tcGlsZWQuYXR0YWNoTm9kZShrZXksIG5vZGUpO1xuXHRcdGNvbXBpbGVkLmF0dGFjaEJyYW5jaChTVEFSVCwgU0VMRiwgX2dldENvbnRyb2xCcmFuY2goKSwgeyB3aXRoUmVhZGVyOiBmYWxzZSB9KTtcblx0XHRmb3IgKGNvbnN0IFtrZXldIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMubm9kZXMpKSBjb21waWxlZC5hdHRhY2hCcmFuY2goa2V5LCBTRUxGLCBfZ2V0Q29udHJvbEJyYW5jaCgpLCB7IHdpdGhSZWFkZXI6IGZhbHNlIH0pO1xuXHRcdGZvciAoY29uc3QgW3N0YXJ0LCBlbmRdIG9mIHRoaXMuZWRnZXMpIGNvbXBpbGVkLmF0dGFjaEVkZ2Uoc3RhcnQsIGVuZCk7XG5cdFx0Zm9yIChjb25zdCBbc3RhcnRzLCBlbmRdIG9mIHRoaXMud2FpdGluZ0VkZ2VzKSBjb21waWxlZC5hdHRhY2hFZGdlKHN0YXJ0cywgZW5kKTtcblx0XHRmb3IgKGNvbnN0IFtzdGFydCwgYnJhbmNoZXNdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuYnJhbmNoZXMpKSBmb3IgKGNvbnN0IFtuYW1lJDEsIGJyYW5jaF0gb2YgT2JqZWN0LmVudHJpZXMoYnJhbmNoZXMpKSBjb21waWxlZC5hdHRhY2hCcmFuY2goc3RhcnQsIG5hbWUkMSwgYnJhbmNoKTtcblx0XHRyZXR1cm4gY29tcGlsZWQudmFsaWRhdGUoKTtcblx0fVxufTtcbmZ1bmN0aW9uIF9nZXRDaGFubmVscyhzY2hlbWEpIHtcblx0Y29uc3QgY2hhbm5lbHMgPSB7fTtcblx0Zm9yIChjb25zdCBbbmFtZSwgdmFsXSBvZiBPYmplY3QuZW50cmllcyhzY2hlbWEpKSBpZiAobmFtZSA9PT0gUk9PVCkgY2hhbm5lbHNbbmFtZV0gPSBnZXRDaGFubmVsKHZhbCk7XG5cdGVsc2UgY2hhbm5lbHNbbmFtZV0gPSBnZXRDaGFubmVsKHZhbCk7XG5cdHJldHVybiBjaGFubmVscztcbn1cbi8qKlxuKiBGaW5hbCByZXN1bHQgZnJvbSBidWlsZGluZyBhbmQgY29tcGlsaW5nIGEge0BsaW5rIFN0YXRlR3JhcGh9LlxuKiBTaG91bGQgbm90IGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseSwgb25seSB1c2luZyB0aGUgU3RhdGVHcmFwaCBgLmNvbXBpbGUoKWBcbiogaW5zdGFuY2UgbWV0aG9kLlxuKi9cbnZhciBDb21waWxlZFN0YXRlR3JhcGggPSBjbGFzcyBleHRlbmRzIENvbXBpbGVkR3JhcGgge1xuXHQvKipcblx0KiBUaGUgZGVzY3JpcHRpb24gb2YgdGhlIGNvbXBpbGVkIGdyYXBoLlxuXHQqIFRoaXMgaXMgdXNlZCBieSB0aGUgc3VwZXJ2aXNvciBhZ2VudCB0byBkZXNjcmliZSB0aGUgaGFuZG9mZiB0byB0aGUgYWdlbnQuXG5cdCovXG5cdGRlc2NyaXB0aW9uO1xuXHQvKiogQGludGVybmFsICovXG5cdF9tZXRhUmVnaXN0cnkgPSBzY2hlbWFNZXRhUmVnaXN0cnk7XG5cdGNvbnN0cnVjdG9yKHsgZGVzY3JpcHRpb24sLi4ucmVzdCB9KSB7XG5cdFx0c3VwZXIocmVzdCk7XG5cdFx0dGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuXHR9XG5cdGF0dGFjaE5vZGUoa2V5LCBub2RlKSB7XG5cdFx0bGV0IG91dHB1dEtleXM7XG5cdFx0aWYgKGtleSA9PT0gU1RBUlQpIG91dHB1dEtleXMgPSBPYmplY3QuZW50cmllcyh0aGlzLmJ1aWxkZXIuX3NjaGVtYURlZmluaXRpb25zLmdldCh0aGlzLmJ1aWxkZXIuX2lucHV0RGVmaW5pdGlvbikpLm1hcCgoW2tdKSA9PiBrKTtcblx0XHRlbHNlIG91dHB1dEtleXMgPSBPYmplY3Qua2V5cyh0aGlzLmJ1aWxkZXIuY2hhbm5lbHMpO1xuXHRcdGZ1bmN0aW9uIF9nZXRSb290KGlucHV0KSB7XG5cdFx0XHRpZiAoaXNDb21tYW5kKGlucHV0KSkge1xuXHRcdFx0XHRpZiAoaW5wdXQuZ3JhcGggPT09IENvbW1hbmQuUEFSRU5UKSByZXR1cm4gbnVsbDtcblx0XHRcdFx0cmV0dXJuIGlucHV0Ll91cGRhdGVBc1R1cGxlcygpO1xuXHRcdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGlucHV0KSAmJiBpbnB1dC5sZW5ndGggPiAwICYmIGlucHV0LnNvbWUoKGkpID0+IGlzQ29tbWFuZChpKSkpIHtcblx0XHRcdFx0Y29uc3QgdXBkYXRlcyA9IFtdO1xuXHRcdFx0XHRmb3IgKGNvbnN0IGkgb2YgaW5wdXQpIGlmIChpc0NvbW1hbmQoaSkpIHtcblx0XHRcdFx0XHRpZiAoaS5ncmFwaCA9PT0gQ29tbWFuZC5QQVJFTlQpIGNvbnRpbnVlO1xuXHRcdFx0XHRcdHVwZGF0ZXMucHVzaCguLi5pLl91cGRhdGVBc1R1cGxlcygpKTtcblx0XHRcdFx0fSBlbHNlIHVwZGF0ZXMucHVzaChbUk9PVCwgaV0pO1xuXHRcdFx0XHRyZXR1cm4gdXBkYXRlcztcblx0XHRcdH0gZWxzZSBpZiAoaW5wdXQgIT0gbnVsbCkgcmV0dXJuIFtbUk9PVCwgaW5wdXRdXTtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0XHRjb25zdCBub2RlS2V5ID0ga2V5O1xuXHRcdGZ1bmN0aW9uIF9nZXRVcGRhdGVzKGlucHV0KSB7XG5cdFx0XHRpZiAoIWlucHV0KSByZXR1cm4gbnVsbDtcblx0XHRcdGVsc2UgaWYgKGlzQ29tbWFuZChpbnB1dCkpIHtcblx0XHRcdFx0aWYgKGlucHV0LmdyYXBoID09PSBDb21tYW5kLlBBUkVOVCkgcmV0dXJuIG51bGw7XG5cdFx0XHRcdHJldHVybiBpbnB1dC5fdXBkYXRlQXNUdXBsZXMoKS5maWx0ZXIoKFtrXSkgPT4gb3V0cHV0S2V5cy5pbmNsdWRlcyhrKSk7XG5cdFx0XHR9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoaW5wdXQpICYmIGlucHV0Lmxlbmd0aCA+IDAgJiYgaW5wdXQuc29tZShpc0NvbW1hbmQpKSB7XG5cdFx0XHRcdGNvbnN0IHVwZGF0ZXMgPSBbXTtcblx0XHRcdFx0Zm9yIChjb25zdCBpdGVtIG9mIGlucHV0KSBpZiAoaXNDb21tYW5kKGl0ZW0pKSB7XG5cdFx0XHRcdFx0aWYgKGl0ZW0uZ3JhcGggPT09IENvbW1hbmQuUEFSRU5UKSBjb250aW51ZTtcblx0XHRcdFx0XHR1cGRhdGVzLnB1c2goLi4uaXRlbS5fdXBkYXRlQXNUdXBsZXMoKS5maWx0ZXIoKFtrXSkgPT4gb3V0cHV0S2V5cy5pbmNsdWRlcyhrKSkpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNvbnN0IGl0ZW1VcGRhdGVzID0gX2dldFVwZGF0ZXMoaXRlbSk7XG5cdFx0XHRcdFx0aWYgKGl0ZW1VcGRhdGVzKSB1cGRhdGVzLnB1c2goLi4uaXRlbVVwZGF0ZXMgPz8gW10pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB1cGRhdGVzO1xuXHRcdFx0fSBlbHNlIGlmICh0eXBlb2YgaW5wdXQgPT09IFwib2JqZWN0XCIgJiYgIUFycmF5LmlzQXJyYXkoaW5wdXQpKSByZXR1cm4gT2JqZWN0LmVudHJpZXMoaW5wdXQpLmZpbHRlcigoW2tdKSA9PiBvdXRwdXRLZXlzLmluY2x1ZGVzKGspKTtcblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRjb25zdCB0eXBlb2ZJbnB1dCA9IEFycmF5LmlzQXJyYXkoaW5wdXQpID8gXCJhcnJheVwiIDogdHlwZW9mIGlucHV0O1xuXHRcdFx0XHR0aHJvdyBuZXcgSW52YWxpZFVwZGF0ZUVycm9yKGBFeHBlY3RlZCBub2RlIFwiJHtub2RlS2V5LnRvU3RyaW5nKCl9XCIgdG8gcmV0dXJuIGFuIG9iamVjdCBvciBhbiBhcnJheSBjb250YWluaW5nIGF0IGxlYXN0IG9uZSBDb21tYW5kIG9iamVjdCwgcmVjZWl2ZWQgJHt0eXBlb2ZJbnB1dH1gLCB7IGxjX2Vycm9yX2NvZGU6IFwiSU5WQUxJRF9HUkFQSF9OT0RFX1JFVFVSTl9WQUxVRVwiIH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRjb25zdCBzdGF0ZVdyaXRlRW50cmllcyA9IFt7XG5cdFx0XHR2YWx1ZTogUEFTU1RIUk9VR0gsXG5cdFx0XHRtYXBwZXI6IG5ldyBSdW5uYWJsZUNhbGxhYmxlKHtcblx0XHRcdFx0ZnVuYzogb3V0cHV0S2V5cy5sZW5ndGggJiYgb3V0cHV0S2V5c1swXSA9PT0gUk9PVCA/IF9nZXRSb290IDogX2dldFVwZGF0ZXMsXG5cdFx0XHRcdHRyYWNlOiBmYWxzZSxcblx0XHRcdFx0cmVjdXJzZTogZmFsc2Vcblx0XHRcdH0pXG5cdFx0fV07XG5cdFx0aWYgKGtleSA9PT0gU1RBUlQpIHRoaXMubm9kZXNba2V5XSA9IG5ldyBQcmVnZWxOb2RlKHtcblx0XHRcdHRhZ3M6IFtUQUdfSElEREVOXSxcblx0XHRcdHRyaWdnZXJzOiBbU1RBUlRdLFxuXHRcdFx0Y2hhbm5lbHM6IFtTVEFSVF0sXG5cdFx0XHR3cml0ZXJzOiBbbmV3IENoYW5uZWxXcml0ZShzdGF0ZVdyaXRlRW50cmllcywgW1RBR19ISURERU5dKV1cblx0XHR9KTtcblx0XHRlbHNlIHtcblx0XHRcdGNvbnN0IGlucHV0RGVmaW5pdGlvbiA9IG5vZGU/LmlucHV0ID8/IHRoaXMuYnVpbGRlci5fc2NoZW1hRGVmaW5pdGlvbjtcblx0XHRcdGNvbnN0IGlucHV0VmFsdWVzID0gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5rZXlzKHRoaXMuYnVpbGRlci5fc2NoZW1hRGVmaW5pdGlvbnMuZ2V0KGlucHV0RGVmaW5pdGlvbikpLm1hcCgoaykgPT4gW2ssIGtdKSk7XG5cdFx0XHRjb25zdCBpc1NpbmdsZUlucHV0ID0gT2JqZWN0LmtleXMoaW5wdXRWYWx1ZXMpLmxlbmd0aCA9PT0gMSAmJiBST09UIGluIGlucHV0VmFsdWVzO1xuXHRcdFx0Y29uc3QgYnJhbmNoQ2hhbm5lbCA9IGBicmFuY2g6dG86JHtrZXl9YDtcblx0XHRcdHRoaXMuY2hhbm5lbHNbYnJhbmNoQ2hhbm5lbF0gPSBub2RlPy5kZWZlciA/IG5ldyBMYXN0VmFsdWVBZnRlckZpbmlzaCgpIDogbmV3IEVwaGVtZXJhbFZhbHVlKGZhbHNlKTtcblx0XHRcdHRoaXMubm9kZXNba2V5XSA9IG5ldyBQcmVnZWxOb2RlKHtcblx0XHRcdFx0dHJpZ2dlcnM6IFticmFuY2hDaGFubmVsXSxcblx0XHRcdFx0Y2hhbm5lbHM6IGlzU2luZ2xlSW5wdXQgPyBPYmplY3Qua2V5cyhpbnB1dFZhbHVlcykgOiBpbnB1dFZhbHVlcyxcblx0XHRcdFx0d3JpdGVyczogW25ldyBDaGFubmVsV3JpdGUoc3RhdGVXcml0ZUVudHJpZXMsIFtUQUdfSElEREVOXSldLFxuXHRcdFx0XHRtYXBwZXI6IGlzU2luZ2xlSW5wdXQgPyB2b2lkIDAgOiAoaW5wdXQpID0+IHtcblx0XHRcdFx0XHRyZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKGlucHV0KS5maWx0ZXIoKFtrXSkgPT4gayBpbiBpbnB1dFZhbHVlcykpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRib3VuZDogbm9kZT8ucnVubmFibGUsXG5cdFx0XHRcdG1ldGFkYXRhOiBub2RlPy5tZXRhZGF0YSxcblx0XHRcdFx0cmV0cnlQb2xpY3k6IG5vZGU/LnJldHJ5UG9saWN5LFxuXHRcdFx0XHRjYWNoZVBvbGljeTogbm9kZT8uY2FjaGVQb2xpY3ksXG5cdFx0XHRcdHN1YmdyYXBoczogbm9kZT8uc3ViZ3JhcGhzLFxuXHRcdFx0XHRlbmRzOiBub2RlPy5lbmRzXG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblx0YXR0YWNoRWRnZShzdGFydHMsIGVuZCkge1xuXHRcdGlmIChlbmQgPT09IEVORCkgcmV0dXJuO1xuXHRcdGlmICh0eXBlb2Ygc3RhcnRzID09PSBcInN0cmluZ1wiKSB0aGlzLm5vZGVzW3N0YXJ0c10ud3JpdGVycy5wdXNoKG5ldyBDaGFubmVsV3JpdGUoW3tcblx0XHRcdGNoYW5uZWw6IGBicmFuY2g6dG86JHtlbmR9YCxcblx0XHRcdHZhbHVlOiBudWxsXG5cdFx0fV0sIFtUQUdfSElEREVOXSkpO1xuXHRcdGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoc3RhcnRzKSkge1xuXHRcdFx0Y29uc3QgY2hhbm5lbE5hbWUgPSBgam9pbjoke3N0YXJ0cy5qb2luKFwiK1wiKX06JHtlbmR9YDtcblx0XHRcdHRoaXMuY2hhbm5lbHNbY2hhbm5lbE5hbWVdID0gdGhpcy5idWlsZGVyLm5vZGVzW2VuZF0uZGVmZXIgPyBuZXcgTmFtZWRCYXJyaWVyVmFsdWVBZnRlckZpbmlzaChuZXcgU2V0KHN0YXJ0cykpIDogbmV3IE5hbWVkQmFycmllclZhbHVlKG5ldyBTZXQoc3RhcnRzKSk7XG5cdFx0XHR0aGlzLm5vZGVzW2VuZF0udHJpZ2dlcnMucHVzaChjaGFubmVsTmFtZSk7XG5cdFx0XHRmb3IgKGNvbnN0IHN0YXJ0IG9mIHN0YXJ0cykgdGhpcy5ub2Rlc1tzdGFydF0ud3JpdGVycy5wdXNoKG5ldyBDaGFubmVsV3JpdGUoW3tcblx0XHRcdFx0Y2hhbm5lbDogY2hhbm5lbE5hbWUsXG5cdFx0XHRcdHZhbHVlOiBzdGFydFxuXHRcdFx0fV0sIFtUQUdfSElEREVOXSkpO1xuXHRcdH1cblx0fVxuXHRhdHRhY2hCcmFuY2goc3RhcnQsIF8sIGJyYW5jaCwgb3B0aW9ucyA9IHsgd2l0aFJlYWRlcjogdHJ1ZSB9KSB7XG5cdFx0Y29uc3QgYnJhbmNoV3JpdGVyID0gYXN5bmMgKHBhY2tldHMsIGNvbmZpZykgPT4ge1xuXHRcdFx0Y29uc3QgZmlsdGVyZWRQYWNrZXRzID0gcGFja2V0cy5maWx0ZXIoKHApID0+IHAgIT09IEVORCk7XG5cdFx0XHRpZiAoIWZpbHRlcmVkUGFja2V0cy5sZW5ndGgpIHJldHVybjtcblx0XHRcdGNvbnN0IHdyaXRlcyA9IGZpbHRlcmVkUGFja2V0cy5tYXAoKHApID0+IHtcblx0XHRcdFx0aWYgKF9pc1NlbmQocCkpIHJldHVybiBwO1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdGNoYW5uZWw6IHAgPT09IEVORCA/IHAgOiBgYnJhbmNoOnRvOiR7cH1gLFxuXHRcdFx0XHRcdHZhbHVlOiBzdGFydFxuXHRcdFx0XHR9O1xuXHRcdFx0fSk7XG5cdFx0XHRhd2FpdCBDaGFubmVsV3JpdGUuZG9Xcml0ZSh7XG5cdFx0XHRcdC4uLmNvbmZpZyxcblx0XHRcdFx0dGFnczogKGNvbmZpZy50YWdzID8/IFtdKS5jb25jYXQoW1RBR19ISURERU5dKVxuXHRcdFx0fSwgd3JpdGVzKTtcblx0XHR9O1xuXHRcdHRoaXMubm9kZXNbc3RhcnRdLndyaXRlcnMucHVzaChicmFuY2gucnVuKGJyYW5jaFdyaXRlciwgb3B0aW9ucy53aXRoUmVhZGVyID8gKGNvbmZpZykgPT4gQ2hhbm5lbFJlYWQuZG9SZWFkKGNvbmZpZywgdGhpcy5zdHJlYW1DaGFubmVscyA/PyB0aGlzLm91dHB1dENoYW5uZWxzLCB0cnVlKSA6IHZvaWQgMCkpO1xuXHR9XG5cdGFzeW5jIF92YWxpZGF0ZUlucHV0KGlucHV0KSB7XG5cdFx0aWYgKGlucHV0ID09IG51bGwpIHJldHVybiBpbnB1dDtcblx0XHRjb25zdCBzY2hlbWEgPSAoKCkgPT4ge1xuXHRcdFx0Y29uc3QgaW5wdXQkMSA9IHRoaXMuYnVpbGRlci5faW5wdXRSdW50aW1lRGVmaW5pdGlvbjtcblx0XHRcdGNvbnN0IHNjaGVtYSQxID0gdGhpcy5idWlsZGVyLl9zY2hlbWFSdW50aW1lRGVmaW5pdGlvbjtcblx0XHRcdGNvbnN0IGFwcGx5ID0gKHNjaGVtYSQyKSA9PiB7XG5cdFx0XHRcdGlmIChzY2hlbWEkMiA9PSBudWxsKSByZXR1cm4gdm9pZCAwO1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5fbWV0YVJlZ2lzdHJ5LmdldEV4dGVuZGVkQ2hhbm5lbFNjaGVtYXMoc2NoZW1hJDIsIHsgd2l0aFJlZHVjZXJTY2hlbWE6IHRydWUgfSk7XG5cdFx0XHR9O1xuXHRcdFx0aWYgKGlzSW50ZXJvcFpvZE9iamVjdChpbnB1dCQxKSkgcmV0dXJuIGFwcGx5KGlucHV0JDEpO1xuXHRcdFx0aWYgKGlucHV0JDEgPT09IFBhcnRpYWxTdGF0ZVNjaGVtYSkgcmV0dXJuIGludGVyb3Bab2RPYmplY3RQYXJ0aWFsKGFwcGx5KHNjaGVtYSQxKSk7XG5cdFx0XHRyZXR1cm4gdm9pZCAwO1xuXHRcdH0pKCk7XG5cdFx0aWYgKGlzQ29tbWFuZChpbnB1dCkpIHtcblx0XHRcdGNvbnN0IHBhcnNlZElucHV0ID0gaW5wdXQ7XG5cdFx0XHRpZiAoaW5wdXQudXBkYXRlICYmIHNjaGVtYSAhPSBudWxsKSBwYXJzZWRJbnB1dC51cGRhdGUgPSBpbnRlcm9wUGFyc2Uoc2NoZW1hLCBpbnB1dC51cGRhdGUpO1xuXHRcdFx0cmV0dXJuIHBhcnNlZElucHV0O1xuXHRcdH1cblx0XHRpZiAoc2NoZW1hICE9IG51bGwpIHJldHVybiBpbnRlcm9wUGFyc2Uoc2NoZW1hLCBpbnB1dCk7XG5cdFx0cmV0dXJuIGlucHV0O1xuXHR9XG5cdGlzSW50ZXJydXB0ZWQoaW5wdXQpIHtcblx0XHRyZXR1cm4gaXNJbnRlcnJ1cHRlZChpbnB1dCk7XG5cdH1cblx0YXN5bmMgX3ZhbGlkYXRlQ29udGV4dChjb25maWcpIHtcblx0XHRjb25zdCBjb25maWdTY2hlbWEgPSB0aGlzLmJ1aWxkZXIuX2NvbmZpZ1J1bnRpbWVTY2hlbWE7XG5cdFx0aWYgKGlzSW50ZXJvcFpvZE9iamVjdChjb25maWdTY2hlbWEpKSBpbnRlcm9wUGFyc2UoY29uZmlnU2NoZW1hLCBjb25maWcpO1xuXHRcdHJldHVybiBjb25maWc7XG5cdH1cbn07XG5mdW5jdGlvbiBpc1N0YXRlRGVmaW5pdGlvbihvYmopIHtcblx0cmV0dXJuIHR5cGVvZiBvYmogPT09IFwib2JqZWN0XCIgJiYgb2JqICE9PSBudWxsICYmICFBcnJheS5pc0FycmF5KG9iaikgJiYgT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPiAwICYmIE9iamVjdC52YWx1ZXMob2JqKS5ldmVyeSgodikgPT4gdHlwZW9mIHYgPT09IFwiZnVuY3Rpb25cIiB8fCBpc0Jhc2VDaGFubmVsKHYpKTtcbn1cbmZ1bmN0aW9uIGlzQW5ub3RhdGlvblJvb3Qob2JqKSB7XG5cdHJldHVybiB0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiICYmIG9iaiAhPT0gbnVsbCAmJiBcImxjX2dyYXBoX25hbWVcIiBpbiBvYmogJiYgb2JqLmxjX2dyYXBoX25hbWUgPT09IFwiQW5ub3RhdGlvblJvb3RcIjtcbn1cbmZ1bmN0aW9uIGlzU3RhdGVHcmFwaEFyZ3Mob2JqKSB7XG5cdHJldHVybiB0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiICYmIG9iaiAhPT0gbnVsbCAmJiBvYmouY2hhbm5lbHMgIT09IHZvaWQgMDtcbn1cbmZ1bmN0aW9uIGlzU3RhdGVHcmFwaEFyZ3NXaXRoU3RhdGVTY2hlbWEob2JqKSB7XG5cdHJldHVybiB0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiICYmIG9iaiAhPT0gbnVsbCAmJiBvYmouc3RhdGVTY2hlbWEgIT09IHZvaWQgMDtcbn1cbmZ1bmN0aW9uIGlzU3RhdGVHcmFwaEFyZ3NXaXRoSW5wdXRPdXRwdXRTY2hlbWFzKG9iaikge1xuXHRyZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIiAmJiBvYmogIT09IG51bGwgJiYgb2JqLnN0YXRlU2NoZW1hID09PSB2b2lkIDAgJiYgb2JqLmlucHV0ICE9PSB2b2lkIDAgJiYgb2JqLm91dHB1dCAhPT0gdm9pZCAwO1xufVxuZnVuY3Rpb24gaXNab2RTdGF0ZUdyYXBoQXJnc1dpdGhTdGF0ZVNjaGVtYSh2YWx1ZSkge1xuXHRpZiAodHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiIHx8IHZhbHVlID09IG51bGwpIHJldHVybiBmYWxzZTtcblx0aWYgKCEoXCJzdGF0ZVwiIGluIHZhbHVlKSB8fCAhaXNJbnRlcm9wWm9kT2JqZWN0KHZhbHVlLnN0YXRlKSkgcmV0dXJuIGZhbHNlO1xuXHRpZiAoXCJpbnB1dFwiIGluIHZhbHVlICYmICFpc0ludGVyb3Bab2RPYmplY3QodmFsdWUuaW5wdXQpKSByZXR1cm4gZmFsc2U7XG5cdGlmIChcIm91dHB1dFwiIGluIHZhbHVlICYmICFpc0ludGVyb3Bab2RPYmplY3QodmFsdWUub3V0cHV0KSkgcmV0dXJuIGZhbHNlO1xuXHRyZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIF9jb250cm9sQnJhbmNoKHZhbHVlKSB7XG5cdGlmIChfaXNTZW5kKHZhbHVlKSkgcmV0dXJuIFt2YWx1ZV07XG5cdGNvbnN0IGNvbW1hbmRzID0gW107XG5cdGlmIChpc0NvbW1hbmQodmFsdWUpKSBjb21tYW5kcy5wdXNoKHZhbHVlKTtcblx0ZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIGNvbW1hbmRzLnB1c2goLi4udmFsdWUuZmlsdGVyKGlzQ29tbWFuZCkpO1xuXHRjb25zdCBkZXN0aW5hdGlvbnMgPSBbXTtcblx0Zm9yIChjb25zdCBjb21tYW5kIG9mIGNvbW1hbmRzKSB7XG5cdFx0aWYgKGNvbW1hbmQuZ3JhcGggPT09IENvbW1hbmQuUEFSRU5UKSB0aHJvdyBuZXcgUGFyZW50Q29tbWFuZChjb21tYW5kKTtcblx0XHRpZiAoX2lzU2VuZChjb21tYW5kLmdvdG8pKSBkZXN0aW5hdGlvbnMucHVzaChjb21tYW5kLmdvdG8pO1xuXHRcdGVsc2UgaWYgKHR5cGVvZiBjb21tYW5kLmdvdG8gPT09IFwic3RyaW5nXCIpIGRlc3RpbmF0aW9ucy5wdXNoKGNvbW1hbmQuZ290byk7XG5cdFx0ZWxzZSBpZiAoQXJyYXkuaXNBcnJheShjb21tYW5kLmdvdG8pKSBkZXN0aW5hdGlvbnMucHVzaCguLi5jb21tYW5kLmdvdG8pO1xuXHR9XG5cdHJldHVybiBkZXN0aW5hdGlvbnM7XG59XG5mdW5jdGlvbiBfZ2V0Q29udHJvbEJyYW5jaCgpIHtcblx0Y29uc3QgQ09OVFJPTF9CUkFOQ0hfUEFUSCA9IG5ldyBSdW5uYWJsZUNhbGxhYmxlKHtcblx0XHRmdW5jOiBfY29udHJvbEJyYW5jaCxcblx0XHR0YWdzOiBbVEFHX0hJRERFTl0sXG5cdFx0dHJhY2U6IGZhbHNlLFxuXHRcdHJlY3Vyc2U6IGZhbHNlLFxuXHRcdG5hbWU6IFwiPGNvbnRyb2xfYnJhbmNoPlwiXG5cdH0pO1xuXHRyZXR1cm4gbmV3IEJyYW5jaCh7IHBhdGg6IENPTlRST0xfQlJBTkNIX1BBVEggfSk7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgQ29tcGlsZWRTdGF0ZUdyYXBoLCBTdGF0ZUdyYXBoIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdGF0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/graph/state.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/graph/zod/meta.js":
/*!**************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/graph/zod/meta.js ***!
  \**************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   META_EXTRAS_DESCRIPTION_PREFIX: () => (/* binding */ META_EXTRAS_DESCRIPTION_PREFIX),\n/* harmony export */   SchemaMetaRegistry: () => (/* binding */ SchemaMetaRegistry),\n/* harmony export */   schemaMetaRegistry: () => (/* binding */ schemaMetaRegistry),\n/* harmony export */   withLangGraph: () => (/* binding */ withLangGraph)\n/* harmony export */ });\n/* harmony import */ var _channels_binop_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../channels/binop.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/binop.js\");\n/* harmony import */ var _channels_last_value_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../channels/last_value.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/last_value.js\");\n/* harmony import */ var _langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @langchain/core/utils/types */ \"(ssr)/./node_modules/.pnpm/@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12_/node_modules/@langchain/core/dist/utils/types/index.js\");\n\n\n\n\n//#region src/graph/zod/meta.ts\nconst META_EXTRAS_DESCRIPTION_PREFIX = \"lg:\";\n/**\n* A registry for storing and managing metadata associated with schemas.\n* This class provides methods to get, extend, remove, and check metadata for a given schema.\n*/\nvar SchemaMetaRegistry = class {\n\t/**\n\t* Internal map storing schema metadata.\n\t* @internal\n\t*/\n\t_map = /* @__PURE__ */ new WeakMap();\n\t/**\n\t* Cache for extended schfemas.\n\t* @internal\n\t*/\n\t_extensionCache = /* @__PURE__ */ new Map();\n\t/**\n\t* Retrieves the metadata associated with a given schema.\n\t* @template TValue The value type of the schema.\n\t* @template TUpdate The update type of the schema (defaults to TValue).\n\t* @param schema The schema to retrieve metadata for.\n\t* @returns The associated SchemaMeta, or undefined if not present.\n\t*/\n\tget(schema) {\n\t\treturn this._map.get(schema);\n\t}\n\t/**\n\t* Extends or sets the metadata for a given schema.\n\t* @template TValue The value type of the schema.\n\t* @template TUpdate The update type of the schema (defaults to TValue).\n\t* @param schema The schema to extend metadata for.\n\t* @param predicate A function that receives the existing metadata (or undefined) and returns the new metadata.\n\t*/\n\textend(schema, predicate) {\n\t\tconst existingMeta = this.get(schema);\n\t\tthis._map.set(schema, predicate(existingMeta));\n\t}\n\t/**\n\t* Removes the metadata associated with a given schema.\n\t* @param schema The schema to remove metadata for.\n\t* @returns The SchemaMetaRegistry instance (for chaining).\n\t*/\n\tremove(schema) {\n\t\tthis._map.delete(schema);\n\t\treturn this;\n\t}\n\t/**\n\t* Checks if metadata exists for a given schema.\n\t* @param schema The schema to check.\n\t* @returns True if metadata exists, false otherwise.\n\t*/\n\thas(schema) {\n\t\treturn this._map.has(schema);\n\t}\n\t/**\n\t* Returns a mapping of channel instances for each property in the schema\n\t* using the associated metadata in the registry.\n\t*\n\t* This is used to create the `channels` object that's passed to the `Graph` constructor.\n\t*\n\t* @template T The shape of the schema.\n\t* @param schema The schema to extract channels from.\n\t* @returns A mapping from property names to channel instances.\n\t*/\n\tgetChannelsForSchema(schema) {\n\t\tconst channels = {};\n\t\tconst shape = (0,_langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_2__.getInteropZodObjectShape)(schema);\n\t\tfor (const [key, channelSchema] of Object.entries(shape)) {\n\t\t\tconst meta = this.get(channelSchema);\n\t\t\tif (meta?.reducer) channels[key] = new _channels_binop_js__WEBPACK_IMPORTED_MODULE_0__.BinaryOperatorAggregate(meta.reducer.fn, meta.default);\n\t\t\telse channels[key] = new _channels_last_value_js__WEBPACK_IMPORTED_MODULE_1__.LastValue();\n\t\t}\n\t\treturn channels;\n\t}\n\t/**\n\t* Returns a modified schema that introspectively looks at all keys of the provided\n\t* object schema, and applies the augmentations based on meta provided with those keys\n\t* in the registry and the selectors provided in the `effects` parameter.\n\t*\n\t* This assumes that the passed in schema is the \"root\" schema object for a graph where\n\t* the keys of the schema are the channels of the graph. Because we need to represent\n\t* the input of a graph in a couple of different ways, the `effects` parameter allows\n\t* us to apply those augmentations based on pre determined conditions.\n\t*\n\t* @param schema The root schema object to extend.\n\t* @param effects The effects that are being applied.\n\t* @returns The extended schema.\n\t*/\n\tgetExtendedChannelSchemas(schema, effects) {\n\t\tif (Object.keys(effects).length === 0) return schema;\n\t\tconst cacheKey = Object.entries(effects).filter(([, v]) => v === true).sort(([a], [b]) => a.localeCompare(b)).map(([k, v]) => `${k}:${v}`).join(\"|\");\n\t\tconst cache = this._extensionCache.get(cacheKey) ?? /* @__PURE__ */ new WeakMap();\n\t\tif (cache.has(schema)) return cache.get(schema);\n\t\tlet modifiedSchema = schema;\n\t\tif (effects.withReducerSchema || effects.withJsonSchemaExtrasAsDescription) {\n\t\t\tconst newShapeEntries = Object.entries((0,_langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_2__.getInteropZodObjectShape)(schema)).map(([key, schema$1]) => {\n\t\t\t\tconst meta = this.get(schema$1);\n\t\t\t\tlet outputSchema = effects.withReducerSchema ? meta?.reducer?.schema ?? schema$1 : schema$1;\n\t\t\t\tif (effects.withJsonSchemaExtrasAsDescription && meta?.jsonSchemaExtra) {\n\t\t\t\t\tconst description = (0,_langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_2__.getSchemaDescription)(outputSchema) ?? (0,_langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_2__.getSchemaDescription)(schema$1);\n\t\t\t\t\tconst strExtras = JSON.stringify({\n\t\t\t\t\t\t...meta.jsonSchemaExtra,\n\t\t\t\t\t\tdescription\n\t\t\t\t\t});\n\t\t\t\t\toutputSchema = outputSchema.describe(`${META_EXTRAS_DESCRIPTION_PREFIX}${strExtras}`);\n\t\t\t\t}\n\t\t\t\treturn [key, outputSchema];\n\t\t\t});\n\t\t\tmodifiedSchema = (0,_langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_2__.extendInteropZodObject)(schema, Object.fromEntries(newShapeEntries));\n\t\t\tif ((0,_langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_2__.isZodSchemaV3)(modifiedSchema)) modifiedSchema._def.unknownKeys = \"strip\";\n\t\t}\n\t\tif (effects.asPartial) modifiedSchema = (0,_langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_2__.interopZodObjectPartial)(modifiedSchema);\n\t\tcache.set(schema, modifiedSchema);\n\t\tthis._extensionCache.set(cacheKey, cache);\n\t\treturn modifiedSchema;\n\t}\n};\nconst schemaMetaRegistry = new SchemaMetaRegistry();\nfunction withLangGraph(schema, meta) {\n\tif (meta.reducer && !meta.default) {\n\t\tconst defaultValueGetter = (0,_langchain_core_utils_types__WEBPACK_IMPORTED_MODULE_2__.getInteropZodDefaultGetter)(schema);\n\t\tif (defaultValueGetter != null) meta.default = defaultValueGetter;\n\t}\n\tif (meta.reducer) {\n\t\tconst schemaWithReducer = Object.assign(schema, { lg_reducer_schema: meta.reducer?.schema ?? schema });\n\t\tschemaMetaRegistry.extend(schemaWithReducer, () => meta);\n\t\treturn schemaWithReducer;\n\t} else {\n\t\tschemaMetaRegistry.extend(schema, () => meta);\n\t\treturn schema;\n\t}\n}\n\n//#endregion\n\n//# sourceMappingURL=meta.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L2dyYXBoL3pvZC9tZXRhLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBa0U7QUFDVDtBQUNnSTs7QUFFekw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IscUZBQXdCO0FBQ3hDO0FBQ0E7QUFDQSwwQ0FBMEMsdUVBQXVCO0FBQ2pFLDRCQUE0Qiw4REFBUztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1JQUFtSSxFQUFFLEdBQUcsRUFBRTtBQUMxSTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxxRkFBd0I7QUFDbEU7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGlGQUFvQixrQkFBa0IsaUZBQW9CO0FBQ25GO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTiw2Q0FBNkMsK0JBQStCLEVBQUUsVUFBVTtBQUN4RjtBQUNBO0FBQ0EsSUFBSTtBQUNKLG9CQUFvQixtRkFBc0I7QUFDMUMsT0FBTywwRUFBYTtBQUNwQjtBQUNBLDBDQUEwQyxvRkFBdUI7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qix1RkFBMEI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELG1EQUFtRDtBQUN2RztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ2lHO0FBQ2pHIiwic291cmNlcyI6WyIvVXNlcnMvam9iL0Rlc2t0b3AvcHJvamVjdF94L3Byb2plY3Qtc3FsLWFnZW50L3NlcnZpY2VzL2Zyb250ZW5kL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2xhbmdncmFwaEAxLjAuMV9AbGFuZ2NoYWluK2NvcmVAMS4wLjJfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEA0LjEuMTJfX19fZWZhNGU4Zjg2NTU4ZTVkMjllYmRlYzNkMmYwMDRlZDkvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vbGFuZ2dyYXBoL2Rpc3QvZ3JhcGgvem9kL21ldGEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmluYXJ5T3BlcmF0b3JBZ2dyZWdhdGUgfSBmcm9tIFwiLi4vLi4vY2hhbm5lbHMvYmlub3AuanNcIjtcbmltcG9ydCB7IExhc3RWYWx1ZSB9IGZyb20gXCIuLi8uLi9jaGFubmVscy9sYXN0X3ZhbHVlLmpzXCI7XG5pbXBvcnQgeyBleHRlbmRJbnRlcm9wWm9kT2JqZWN0LCBnZXRJbnRlcm9wWm9kRGVmYXVsdEdldHRlciwgZ2V0SW50ZXJvcFpvZE9iamVjdFNoYXBlLCBnZXRTY2hlbWFEZXNjcmlwdGlvbiwgaW50ZXJvcFpvZE9iamVjdFBhcnRpYWwsIGlzWm9kU2NoZW1hVjMgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3V0aWxzL3R5cGVzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvZ3JhcGgvem9kL21ldGEudHNcbmNvbnN0IE1FVEFfRVhUUkFTX0RFU0NSSVBUSU9OX1BSRUZJWCA9IFwibGc6XCI7XG4vKipcbiogQSByZWdpc3RyeSBmb3Igc3RvcmluZyBhbmQgbWFuYWdpbmcgbWV0YWRhdGEgYXNzb2NpYXRlZCB3aXRoIHNjaGVtYXMuXG4qIFRoaXMgY2xhc3MgcHJvdmlkZXMgbWV0aG9kcyB0byBnZXQsIGV4dGVuZCwgcmVtb3ZlLCBhbmQgY2hlY2sgbWV0YWRhdGEgZm9yIGEgZ2l2ZW4gc2NoZW1hLlxuKi9cbnZhciBTY2hlbWFNZXRhUmVnaXN0cnkgPSBjbGFzcyB7XG5cdC8qKlxuXHQqIEludGVybmFsIG1hcCBzdG9yaW5nIHNjaGVtYSBtZXRhZGF0YS5cblx0KiBAaW50ZXJuYWxcblx0Ki9cblx0X21hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuXHQvKipcblx0KiBDYWNoZSBmb3IgZXh0ZW5kZWQgc2NoZmVtYXMuXG5cdCogQGludGVybmFsXG5cdCovXG5cdF9leHRlbnNpb25DYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG5cdC8qKlxuXHQqIFJldHJpZXZlcyB0aGUgbWV0YWRhdGEgYXNzb2NpYXRlZCB3aXRoIGEgZ2l2ZW4gc2NoZW1hLlxuXHQqIEB0ZW1wbGF0ZSBUVmFsdWUgVGhlIHZhbHVlIHR5cGUgb2YgdGhlIHNjaGVtYS5cblx0KiBAdGVtcGxhdGUgVFVwZGF0ZSBUaGUgdXBkYXRlIHR5cGUgb2YgdGhlIHNjaGVtYSAoZGVmYXVsdHMgdG8gVFZhbHVlKS5cblx0KiBAcGFyYW0gc2NoZW1hIFRoZSBzY2hlbWEgdG8gcmV0cmlldmUgbWV0YWRhdGEgZm9yLlxuXHQqIEByZXR1cm5zIFRoZSBhc3NvY2lhdGVkIFNjaGVtYU1ldGEsIG9yIHVuZGVmaW5lZCBpZiBub3QgcHJlc2VudC5cblx0Ki9cblx0Z2V0KHNjaGVtYSkge1xuXHRcdHJldHVybiB0aGlzLl9tYXAuZ2V0KHNjaGVtYSk7XG5cdH1cblx0LyoqXG5cdCogRXh0ZW5kcyBvciBzZXRzIHRoZSBtZXRhZGF0YSBmb3IgYSBnaXZlbiBzY2hlbWEuXG5cdCogQHRlbXBsYXRlIFRWYWx1ZSBUaGUgdmFsdWUgdHlwZSBvZiB0aGUgc2NoZW1hLlxuXHQqIEB0ZW1wbGF0ZSBUVXBkYXRlIFRoZSB1cGRhdGUgdHlwZSBvZiB0aGUgc2NoZW1hIChkZWZhdWx0cyB0byBUVmFsdWUpLlxuXHQqIEBwYXJhbSBzY2hlbWEgVGhlIHNjaGVtYSB0byBleHRlbmQgbWV0YWRhdGEgZm9yLlxuXHQqIEBwYXJhbSBwcmVkaWNhdGUgQSBmdW5jdGlvbiB0aGF0IHJlY2VpdmVzIHRoZSBleGlzdGluZyBtZXRhZGF0YSAob3IgdW5kZWZpbmVkKSBhbmQgcmV0dXJucyB0aGUgbmV3IG1ldGFkYXRhLlxuXHQqL1xuXHRleHRlbmQoc2NoZW1hLCBwcmVkaWNhdGUpIHtcblx0XHRjb25zdCBleGlzdGluZ01ldGEgPSB0aGlzLmdldChzY2hlbWEpO1xuXHRcdHRoaXMuX21hcC5zZXQoc2NoZW1hLCBwcmVkaWNhdGUoZXhpc3RpbmdNZXRhKSk7XG5cdH1cblx0LyoqXG5cdCogUmVtb3ZlcyB0aGUgbWV0YWRhdGEgYXNzb2NpYXRlZCB3aXRoIGEgZ2l2ZW4gc2NoZW1hLlxuXHQqIEBwYXJhbSBzY2hlbWEgVGhlIHNjaGVtYSB0byByZW1vdmUgbWV0YWRhdGEgZm9yLlxuXHQqIEByZXR1cm5zIFRoZSBTY2hlbWFNZXRhUmVnaXN0cnkgaW5zdGFuY2UgKGZvciBjaGFpbmluZykuXG5cdCovXG5cdHJlbW92ZShzY2hlbWEpIHtcblx0XHR0aGlzLl9tYXAuZGVsZXRlKHNjaGVtYSk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblx0LyoqXG5cdCogQ2hlY2tzIGlmIG1ldGFkYXRhIGV4aXN0cyBmb3IgYSBnaXZlbiBzY2hlbWEuXG5cdCogQHBhcmFtIHNjaGVtYSBUaGUgc2NoZW1hIHRvIGNoZWNrLlxuXHQqIEByZXR1cm5zIFRydWUgaWYgbWV0YWRhdGEgZXhpc3RzLCBmYWxzZSBvdGhlcndpc2UuXG5cdCovXG5cdGhhcyhzY2hlbWEpIHtcblx0XHRyZXR1cm4gdGhpcy5fbWFwLmhhcyhzY2hlbWEpO1xuXHR9XG5cdC8qKlxuXHQqIFJldHVybnMgYSBtYXBwaW5nIG9mIGNoYW5uZWwgaW5zdGFuY2VzIGZvciBlYWNoIHByb3BlcnR5IGluIHRoZSBzY2hlbWFcblx0KiB1c2luZyB0aGUgYXNzb2NpYXRlZCBtZXRhZGF0YSBpbiB0aGUgcmVnaXN0cnkuXG5cdCpcblx0KiBUaGlzIGlzIHVzZWQgdG8gY3JlYXRlIHRoZSBgY2hhbm5lbHNgIG9iamVjdCB0aGF0J3MgcGFzc2VkIHRvIHRoZSBgR3JhcGhgIGNvbnN0cnVjdG9yLlxuXHQqXG5cdCogQHRlbXBsYXRlIFQgVGhlIHNoYXBlIG9mIHRoZSBzY2hlbWEuXG5cdCogQHBhcmFtIHNjaGVtYSBUaGUgc2NoZW1hIHRvIGV4dHJhY3QgY2hhbm5lbHMgZnJvbS5cblx0KiBAcmV0dXJucyBBIG1hcHBpbmcgZnJvbSBwcm9wZXJ0eSBuYW1lcyB0byBjaGFubmVsIGluc3RhbmNlcy5cblx0Ki9cblx0Z2V0Q2hhbm5lbHNGb3JTY2hlbWEoc2NoZW1hKSB7XG5cdFx0Y29uc3QgY2hhbm5lbHMgPSB7fTtcblx0XHRjb25zdCBzaGFwZSA9IGdldEludGVyb3Bab2RPYmplY3RTaGFwZShzY2hlbWEpO1xuXHRcdGZvciAoY29uc3QgW2tleSwgY2hhbm5lbFNjaGVtYV0gb2YgT2JqZWN0LmVudHJpZXMoc2hhcGUpKSB7XG5cdFx0XHRjb25zdCBtZXRhID0gdGhpcy5nZXQoY2hhbm5lbFNjaGVtYSk7XG5cdFx0XHRpZiAobWV0YT8ucmVkdWNlcikgY2hhbm5lbHNba2V5XSA9IG5ldyBCaW5hcnlPcGVyYXRvckFnZ3JlZ2F0ZShtZXRhLnJlZHVjZXIuZm4sIG1ldGEuZGVmYXVsdCk7XG5cdFx0XHRlbHNlIGNoYW5uZWxzW2tleV0gPSBuZXcgTGFzdFZhbHVlKCk7XG5cdFx0fVxuXHRcdHJldHVybiBjaGFubmVscztcblx0fVxuXHQvKipcblx0KiBSZXR1cm5zIGEgbW9kaWZpZWQgc2NoZW1hIHRoYXQgaW50cm9zcGVjdGl2ZWx5IGxvb2tzIGF0IGFsbCBrZXlzIG9mIHRoZSBwcm92aWRlZFxuXHQqIG9iamVjdCBzY2hlbWEsIGFuZCBhcHBsaWVzIHRoZSBhdWdtZW50YXRpb25zIGJhc2VkIG9uIG1ldGEgcHJvdmlkZWQgd2l0aCB0aG9zZSBrZXlzXG5cdCogaW4gdGhlIHJlZ2lzdHJ5IGFuZCB0aGUgc2VsZWN0b3JzIHByb3ZpZGVkIGluIHRoZSBgZWZmZWN0c2AgcGFyYW1ldGVyLlxuXHQqXG5cdCogVGhpcyBhc3N1bWVzIHRoYXQgdGhlIHBhc3NlZCBpbiBzY2hlbWEgaXMgdGhlIFwicm9vdFwiIHNjaGVtYSBvYmplY3QgZm9yIGEgZ3JhcGggd2hlcmVcblx0KiB0aGUga2V5cyBvZiB0aGUgc2NoZW1hIGFyZSB0aGUgY2hhbm5lbHMgb2YgdGhlIGdyYXBoLiBCZWNhdXNlIHdlIG5lZWQgdG8gcmVwcmVzZW50XG5cdCogdGhlIGlucHV0IG9mIGEgZ3JhcGggaW4gYSBjb3VwbGUgb2YgZGlmZmVyZW50IHdheXMsIHRoZSBgZWZmZWN0c2AgcGFyYW1ldGVyIGFsbG93c1xuXHQqIHVzIHRvIGFwcGx5IHRob3NlIGF1Z21lbnRhdGlvbnMgYmFzZWQgb24gcHJlIGRldGVybWluZWQgY29uZGl0aW9ucy5cblx0KlxuXHQqIEBwYXJhbSBzY2hlbWEgVGhlIHJvb3Qgc2NoZW1hIG9iamVjdCB0byBleHRlbmQuXG5cdCogQHBhcmFtIGVmZmVjdHMgVGhlIGVmZmVjdHMgdGhhdCBhcmUgYmVpbmcgYXBwbGllZC5cblx0KiBAcmV0dXJucyBUaGUgZXh0ZW5kZWQgc2NoZW1hLlxuXHQqL1xuXHRnZXRFeHRlbmRlZENoYW5uZWxTY2hlbWFzKHNjaGVtYSwgZWZmZWN0cykge1xuXHRcdGlmIChPYmplY3Qua2V5cyhlZmZlY3RzKS5sZW5ndGggPT09IDApIHJldHVybiBzY2hlbWE7XG5cdFx0Y29uc3QgY2FjaGVLZXkgPSBPYmplY3QuZW50cmllcyhlZmZlY3RzKS5maWx0ZXIoKFssIHZdKSA9PiB2ID09PSB0cnVlKS5zb3J0KChbYV0sIFtiXSkgPT4gYS5sb2NhbGVDb21wYXJlKGIpKS5tYXAoKFtrLCB2XSkgPT4gYCR7a306JHt2fWApLmpvaW4oXCJ8XCIpO1xuXHRcdGNvbnN0IGNhY2hlID0gdGhpcy5fZXh0ZW5zaW9uQ2FjaGUuZ2V0KGNhY2hlS2V5KSA/PyAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcblx0XHRpZiAoY2FjaGUuaGFzKHNjaGVtYSkpIHJldHVybiBjYWNoZS5nZXQoc2NoZW1hKTtcblx0XHRsZXQgbW9kaWZpZWRTY2hlbWEgPSBzY2hlbWE7XG5cdFx0aWYgKGVmZmVjdHMud2l0aFJlZHVjZXJTY2hlbWEgfHwgZWZmZWN0cy53aXRoSnNvblNjaGVtYUV4dHJhc0FzRGVzY3JpcHRpb24pIHtcblx0XHRcdGNvbnN0IG5ld1NoYXBlRW50cmllcyA9IE9iamVjdC5lbnRyaWVzKGdldEludGVyb3Bab2RPYmplY3RTaGFwZShzY2hlbWEpKS5tYXAoKFtrZXksIHNjaGVtYSQxXSkgPT4ge1xuXHRcdFx0XHRjb25zdCBtZXRhID0gdGhpcy5nZXQoc2NoZW1hJDEpO1xuXHRcdFx0XHRsZXQgb3V0cHV0U2NoZW1hID0gZWZmZWN0cy53aXRoUmVkdWNlclNjaGVtYSA/IG1ldGE/LnJlZHVjZXI/LnNjaGVtYSA/PyBzY2hlbWEkMSA6IHNjaGVtYSQxO1xuXHRcdFx0XHRpZiAoZWZmZWN0cy53aXRoSnNvblNjaGVtYUV4dHJhc0FzRGVzY3JpcHRpb24gJiYgbWV0YT8uanNvblNjaGVtYUV4dHJhKSB7XG5cdFx0XHRcdFx0Y29uc3QgZGVzY3JpcHRpb24gPSBnZXRTY2hlbWFEZXNjcmlwdGlvbihvdXRwdXRTY2hlbWEpID8/IGdldFNjaGVtYURlc2NyaXB0aW9uKHNjaGVtYSQxKTtcblx0XHRcdFx0XHRjb25zdCBzdHJFeHRyYXMgPSBKU09OLnN0cmluZ2lmeSh7XG5cdFx0XHRcdFx0XHQuLi5tZXRhLmpzb25TY2hlbWFFeHRyYSxcblx0XHRcdFx0XHRcdGRlc2NyaXB0aW9uXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0b3V0cHV0U2NoZW1hID0gb3V0cHV0U2NoZW1hLmRlc2NyaWJlKGAke01FVEFfRVhUUkFTX0RFU0NSSVBUSU9OX1BSRUZJWH0ke3N0ckV4dHJhc31gKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gW2tleSwgb3V0cHV0U2NoZW1hXTtcblx0XHRcdH0pO1xuXHRcdFx0bW9kaWZpZWRTY2hlbWEgPSBleHRlbmRJbnRlcm9wWm9kT2JqZWN0KHNjaGVtYSwgT2JqZWN0LmZyb21FbnRyaWVzKG5ld1NoYXBlRW50cmllcykpO1xuXHRcdFx0aWYgKGlzWm9kU2NoZW1hVjMobW9kaWZpZWRTY2hlbWEpKSBtb2RpZmllZFNjaGVtYS5fZGVmLnVua25vd25LZXlzID0gXCJzdHJpcFwiO1xuXHRcdH1cblx0XHRpZiAoZWZmZWN0cy5hc1BhcnRpYWwpIG1vZGlmaWVkU2NoZW1hID0gaW50ZXJvcFpvZE9iamVjdFBhcnRpYWwobW9kaWZpZWRTY2hlbWEpO1xuXHRcdGNhY2hlLnNldChzY2hlbWEsIG1vZGlmaWVkU2NoZW1hKTtcblx0XHR0aGlzLl9leHRlbnNpb25DYWNoZS5zZXQoY2FjaGVLZXksIGNhY2hlKTtcblx0XHRyZXR1cm4gbW9kaWZpZWRTY2hlbWE7XG5cdH1cbn07XG5jb25zdCBzY2hlbWFNZXRhUmVnaXN0cnkgPSBuZXcgU2NoZW1hTWV0YVJlZ2lzdHJ5KCk7XG5mdW5jdGlvbiB3aXRoTGFuZ0dyYXBoKHNjaGVtYSwgbWV0YSkge1xuXHRpZiAobWV0YS5yZWR1Y2VyICYmICFtZXRhLmRlZmF1bHQpIHtcblx0XHRjb25zdCBkZWZhdWx0VmFsdWVHZXR0ZXIgPSBnZXRJbnRlcm9wWm9kRGVmYXVsdEdldHRlcihzY2hlbWEpO1xuXHRcdGlmIChkZWZhdWx0VmFsdWVHZXR0ZXIgIT0gbnVsbCkgbWV0YS5kZWZhdWx0ID0gZGVmYXVsdFZhbHVlR2V0dGVyO1xuXHR9XG5cdGlmIChtZXRhLnJlZHVjZXIpIHtcblx0XHRjb25zdCBzY2hlbWFXaXRoUmVkdWNlciA9IE9iamVjdC5hc3NpZ24oc2NoZW1hLCB7IGxnX3JlZHVjZXJfc2NoZW1hOiBtZXRhLnJlZHVjZXI/LnNjaGVtYSA/PyBzY2hlbWEgfSk7XG5cdFx0c2NoZW1hTWV0YVJlZ2lzdHJ5LmV4dGVuZChzY2hlbWFXaXRoUmVkdWNlciwgKCkgPT4gbWV0YSk7XG5cdFx0cmV0dXJuIHNjaGVtYVdpdGhSZWR1Y2VyO1xuXHR9IGVsc2Uge1xuXHRcdHNjaGVtYU1ldGFSZWdpc3RyeS5leHRlbmQoc2NoZW1hLCAoKSA9PiBtZXRhKTtcblx0XHRyZXR1cm4gc2NoZW1hO1xuXHR9XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgTUVUQV9FWFRSQVNfREVTQ1JJUFRJT05fUFJFRklYLCBTY2hlbWFNZXRhUmVnaXN0cnksIHNjaGVtYU1ldGFSZWdpc3RyeSwgd2l0aExhbmdHcmFwaCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWV0YS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/graph/zod/meta.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/hash.js":
/*!****************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/hash.js ***!
  \****************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   XXH3: () => (/* binding */ XXH3),\n/* harmony export */   isXXH3: () => (/* binding */ isXXH3)\n/* harmony export */ });\n//#region src/hash.ts\nconst n = (n$1) => BigInt(n$1);\nconst view = (data, offset = 0) => new DataView(data.buffer, data.byteOffset + offset, data.byteLength - offset);\nconst PRIME32_1 = n(\"0x9E3779B1\");\nconst PRIME32_2 = n(\"0x85EBCA77\");\nconst PRIME32_3 = n(\"0xC2B2AE3D\");\nconst PRIME64_1 = n(\"0x9E3779B185EBCA87\");\nconst PRIME64_2 = n(\"0xC2B2AE3D27D4EB4F\");\nconst PRIME64_3 = n(\"0x165667B19E3779F9\");\nconst PRIME64_4 = n(\"0x85EBCA77C2B2AE63\");\nconst PRIME64_5 = n(\"0x27D4EB2F165667C5\");\nconst PRIME_MX1 = n(\"0x165667919E3779F9\");\nconst PRIME_MX2 = n(\"0x9FB21C651E98DF25\");\nconst hexToUint8Array = (hex) => {\n\tconst strLen = hex.length;\n\tif (strLen % 2 !== 0) throw new Error(\"String should have an even number of characters\");\n\tconst maxLength = strLen / 2;\n\tconst bytes = new Uint8Array(maxLength);\n\tlet read = 0;\n\tlet write = 0;\n\twhile (write < maxLength) {\n\t\tconst slice = hex.slice(read, read += 2);\n\t\tbytes[write] = Number.parseInt(slice, 16);\n\t\twrite += 1;\n\t}\n\treturn view(bytes);\n};\nconst kkey = hexToUint8Array(\"b8fe6c3923a44bbe7c01812cf721ad1cded46de9839097db7240a4a4b7b3671fcb79e64eccc0e578825ad07dccff7221b8084674f743248ee03590e6813a264c3c2852bb91c300cb88d0658b1b532ea371644897a20df94e3819ef46a9deacd8a8fa763fe39c343ff9dcbbc7c70b4f1d8a51e04bcdb45931c89f7ec9d9787364eac5ac8334d3ebc3c581a0fffa1363eb170ddd51b7f0da49d316552629d4689e2b16be587d47a1fc8ff8b8d17ad031ce45cb3a8f95160428afd7fbcabb4b407e\");\nconst mask128 = (n(1) << n(128)) - n(1);\nconst mask64 = (n(1) << n(64)) - n(1);\nconst mask32 = (n(1) << n(32)) - n(1);\nconst STRIPE_LEN = 64;\nconst ACC_NB = STRIPE_LEN / 8;\nconst _U64 = 8;\nconst _U32 = 4;\nfunction assert(a) {\n\tif (!a) throw new Error(\"Assert failed\");\n}\nfunction bswap64(a) {\n\tconst scratchbuf = /* @__PURE__ */ new DataView(/* @__PURE__ */ new ArrayBuffer(8));\n\tscratchbuf.setBigUint64(0, a, true);\n\treturn scratchbuf.getBigUint64(0, false);\n}\nfunction bswap32(input) {\n\tlet a = input;\n\ta = (a & n(65535)) << n(16) | (a & n(4294901760)) >> n(16);\n\ta = (a & n(16711935)) << n(8) | (a & n(4278255360)) >> n(8);\n\treturn a;\n}\nfunction XXH_mult32to64(a, b) {\n\treturn (a & mask32) * (b & mask32) & mask64;\n}\nfunction rotl32(a, b) {\n\treturn (a << b | a >> n(32) - b) & mask32;\n}\nfunction XXH3_accumulate_512(acc, dataView, keyView) {\n\tfor (let i = 0; i < ACC_NB; i += 1) {\n\t\tconst data_val = dataView.getBigUint64(i * 8, true);\n\t\tconst data_key = data_val ^ keyView.getBigUint64(i * 8, true);\n\t\tacc[i ^ 1] += data_val;\n\t\tacc[i] += XXH_mult32to64(data_key, data_key >> n(32));\n\t}\n\treturn acc;\n}\nfunction XXH3_accumulate(acc, dataView, keyView, nbStripes) {\n\tfor (let n$1 = 0; n$1 < nbStripes; n$1 += 1) XXH3_accumulate_512(acc, view(dataView, n$1 * STRIPE_LEN), view(keyView, n$1 * 8));\n\treturn acc;\n}\nfunction XXH3_scrambleAcc(acc, key) {\n\tfor (let i = 0; i < ACC_NB; i += 1) {\n\t\tconst key64 = key.getBigUint64(i * 8, true);\n\t\tlet acc64 = acc[i];\n\t\tacc64 = xorshift64(acc64, n(47));\n\t\tacc64 ^= key64;\n\t\tacc64 *= PRIME32_1;\n\t\tacc[i] = acc64 & mask64;\n\t}\n\treturn acc;\n}\nfunction XXH3_mix2Accs(acc, key) {\n\treturn XXH3_mul128_fold64(acc[0] ^ key.getBigUint64(0, true), acc[1] ^ key.getBigUint64(_U64, true));\n}\nfunction XXH3_mergeAccs(acc, key, start) {\n\tlet result64 = start;\n\tresult64 += XXH3_mix2Accs(acc.slice(0), view(key, 0 * _U32));\n\tresult64 += XXH3_mix2Accs(acc.slice(2), view(key, 4 * _U32));\n\tresult64 += XXH3_mix2Accs(acc.slice(4), view(key, 8 * _U32));\n\tresult64 += XXH3_mix2Accs(acc.slice(6), view(key, 12 * _U32));\n\treturn XXH3_avalanche(result64 & mask64);\n}\nfunction XXH3_hashLong(input, data, secret, f_acc, f_scramble) {\n\tlet acc = input;\n\tconst nbStripesPerBlock = Math.floor((secret.byteLength - STRIPE_LEN) / 8);\n\tconst block_len = STRIPE_LEN * nbStripesPerBlock;\n\tconst nb_blocks = Math.floor((data.byteLength - 1) / block_len);\n\tfor (let n$1 = 0; n$1 < nb_blocks; n$1 += 1) {\n\t\tacc = XXH3_accumulate(acc, view(data, n$1 * block_len), secret, nbStripesPerBlock);\n\t\tacc = f_scramble(acc, view(secret, secret.byteLength - STRIPE_LEN));\n\t}\n\t{\n\t\tconst nbStripes = Math.floor((data.byteLength - 1 - block_len * nb_blocks) / STRIPE_LEN);\n\t\tacc = XXH3_accumulate(acc, view(data, nb_blocks * block_len), secret, nbStripes);\n\t\tacc = f_acc(acc, view(data, data.byteLength - STRIPE_LEN), view(secret, secret.byteLength - STRIPE_LEN - 7));\n\t}\n\treturn acc;\n}\nfunction XXH3_hashLong_128b(data, secret) {\n\tlet acc = new BigUint64Array([\n\t\tPRIME32_3,\n\t\tPRIME64_1,\n\t\tPRIME64_2,\n\t\tPRIME64_3,\n\t\tPRIME64_4,\n\t\tPRIME32_2,\n\t\tPRIME64_5,\n\t\tPRIME32_1\n\t]);\n\tassert(data.byteLength > 128);\n\tacc = XXH3_hashLong(acc, data, secret, XXH3_accumulate_512, XXH3_scrambleAcc);\n\tassert(acc.length * 8 === 64);\n\t{\n\t\tconst low64 = XXH3_mergeAccs(acc, view(secret, 11), n(data.byteLength) * PRIME64_1 & mask64);\n\t\tconst high64 = XXH3_mergeAccs(acc, view(secret, secret.byteLength - STRIPE_LEN - 11), ~(n(data.byteLength) * PRIME64_2) & mask64);\n\t\treturn high64 << n(64) | low64;\n\t}\n}\nfunction XXH3_mul128_fold64(a, b) {\n\tconst lll = a * b & mask128;\n\treturn lll & mask64 ^ lll >> n(64);\n}\nfunction XXH3_mix16B(dataView, keyView, seed) {\n\treturn XXH3_mul128_fold64((dataView.getBigUint64(0, true) ^ keyView.getBigUint64(0, true) + seed) & mask64, (dataView.getBigUint64(8, true) ^ keyView.getBigUint64(8, true) - seed) & mask64);\n}\nfunction XXH3_mix32B(acc, data1, data2, key, seed) {\n\tlet accl = acc & mask64;\n\tlet acch = acc >> n(64) & mask64;\n\taccl += XXH3_mix16B(data1, key, seed);\n\taccl ^= data2.getBigUint64(0, true) + data2.getBigUint64(8, true);\n\taccl &= mask64;\n\tacch += XXH3_mix16B(data2, view(key, 16), seed);\n\tacch ^= data1.getBigUint64(0, true) + data1.getBigUint64(8, true);\n\tacch &= mask64;\n\treturn acch << n(64) | accl;\n}\nfunction XXH3_avalanche(input) {\n\tlet h64 = input;\n\th64 ^= h64 >> n(37);\n\th64 *= PRIME_MX1;\n\th64 &= mask64;\n\th64 ^= h64 >> n(32);\n\treturn h64;\n}\nfunction XXH3_avalanche64(input) {\n\tlet h64 = input;\n\th64 ^= h64 >> n(33);\n\th64 *= PRIME64_2;\n\th64 &= mask64;\n\th64 ^= h64 >> n(29);\n\th64 *= PRIME64_3;\n\th64 &= mask64;\n\th64 ^= h64 >> n(32);\n\treturn h64;\n}\nfunction XXH3_len_1to3_128b(data, key32, seed) {\n\tconst len = data.byteLength;\n\tassert(len > 0 && len <= 3);\n\tconst combined = n(data.getUint8(len - 1)) | n(len << 8) | n(data.getUint8(0) << 16) | n(data.getUint8(len >> 1) << 24);\n\tconst blow = (n(key32.getUint32(0, true)) ^ n(key32.getUint32(4, true))) + seed;\n\tconst low = (combined ^ blow) & mask64;\n\tconst bhigh = (n(key32.getUint32(8, true)) ^ n(key32.getUint32(12, true))) - seed;\n\tconst high = (rotl32(bswap32(combined), n(13)) ^ bhigh) & mask64;\n\treturn (XXH3_avalanche64(high) & mask64) << n(64) | XXH3_avalanche64(low);\n}\nfunction xorshift64(b, shift) {\n\treturn b ^ b >> shift;\n}\nfunction XXH3_len_4to8_128b(data, key32, seed) {\n\tconst len = data.byteLength;\n\tassert(len >= 4 && len <= 8);\n\t{\n\t\tconst l1 = data.getUint32(0, true);\n\t\tconst l2 = data.getUint32(len - 4, true);\n\t\tconst l64 = n(l1) | n(l2) << n(32);\n\t\tconst bitflip = (key32.getBigUint64(16, true) ^ key32.getBigUint64(24, true)) + seed & mask64;\n\t\tconst keyed = l64 ^ bitflip;\n\t\tlet m128 = keyed * (PRIME64_1 + (n(len) << n(2))) & mask128;\n\t\tm128 += (m128 & mask64) << n(65);\n\t\tm128 &= mask128;\n\t\tm128 ^= m128 >> n(67);\n\t\treturn xorshift64(xorshift64(m128 & mask64, n(35)) * PRIME_MX2 & mask64, n(28)) | XXH3_avalanche(m128 >> n(64)) << n(64);\n\t}\n}\nfunction XXH3_len_9to16_128b(data, key64, seed) {\n\tconst len = data.byteLength;\n\tassert(len >= 9 && len <= 16);\n\t{\n\t\tconst bitflipl = (key64.getBigUint64(32, true) ^ key64.getBigUint64(40, true)) + seed & mask64;\n\t\tconst bitfliph = (key64.getBigUint64(48, true) ^ key64.getBigUint64(56, true)) - seed & mask64;\n\t\tconst ll1 = data.getBigUint64(0, true);\n\t\tlet ll2 = data.getBigUint64(len - 8, true);\n\t\tlet m128 = (ll1 ^ ll2 ^ bitflipl) * PRIME64_1;\n\t\tconst m128_l = (m128 & mask64) + (n(len - 1) << n(54));\n\t\tm128 = m128 & (mask128 ^ mask64) | m128_l;\n\t\tll2 ^= bitfliph;\n\t\tm128 += ll2 + (ll2 & mask32) * (PRIME32_2 - n(1)) << n(64);\n\t\tm128 &= mask128;\n\t\tm128 ^= bswap64(m128 >> n(64));\n\t\tlet h128 = (m128 & mask64) * PRIME64_2;\n\t\th128 += (m128 >> n(64)) * PRIME64_2 << n(64);\n\t\th128 &= mask128;\n\t\treturn XXH3_avalanche(h128 & mask64) | XXH3_avalanche(h128 >> n(64)) << n(64);\n\t}\n}\nfunction XXH3_len_0to16_128b(data, seed) {\n\tconst len = data.byteLength;\n\tassert(len <= 16);\n\tif (len > 8) return XXH3_len_9to16_128b(data, kkey, seed);\n\tif (len >= 4) return XXH3_len_4to8_128b(data, kkey, seed);\n\tif (len > 0) return XXH3_len_1to3_128b(data, kkey, seed);\n\treturn XXH3_avalanche64(seed ^ kkey.getBigUint64(64, true) ^ kkey.getBigUint64(72, true)) | XXH3_avalanche64(seed ^ kkey.getBigUint64(80, true) ^ kkey.getBigUint64(88, true)) << n(64);\n}\nfunction inv64(x) {\n\treturn ~x + n(1) & mask64;\n}\nfunction XXH3_len_17to128_128b(data, secret, seed) {\n\tlet acc = n(data.byteLength) * PRIME64_1 & mask64;\n\tlet i = n(data.byteLength - 1) / n(32);\n\twhile (i >= 0) {\n\t\tconst ni = Number(i);\n\t\tacc = XXH3_mix32B(acc, view(data, 16 * ni), view(data, data.byteLength - 16 * (ni + 1)), view(secret, 32 * ni), seed);\n\t\ti -= n(1);\n\t}\n\tlet h128l = acc + (acc >> n(64)) & mask64;\n\th128l = XXH3_avalanche(h128l);\n\tlet h128h = (acc & mask64) * PRIME64_1 + (acc >> n(64)) * PRIME64_4 + (n(data.byteLength) - seed & mask64) * PRIME64_2;\n\th128h &= mask64;\n\th128h = inv64(XXH3_avalanche(h128h));\n\treturn h128l | h128h << n(64);\n}\nfunction XXH3_len_129to240_128b(data, secret, seed) {\n\tlet acc = n(data.byteLength) * PRIME64_1 & mask64;\n\tfor (let i = 32; i < 160; i += 32) acc = XXH3_mix32B(acc, view(data, i - 32), view(data, i - 16), view(secret, i - 32), seed);\n\tacc = XXH3_avalanche(acc & mask64) | XXH3_avalanche(acc >> n(64)) << n(64);\n\tfor (let i = 160; i <= data.byteLength; i += 32) acc = XXH3_mix32B(acc, view(data, i - 32), view(data, i - 16), view(secret, 3 + i - 160), seed);\n\tacc = XXH3_mix32B(acc, view(data, data.byteLength - 16), view(data, data.byteLength - 32), view(secret, 103), inv64(seed));\n\tlet h128l = acc + (acc >> n(64)) & mask64;\n\th128l = XXH3_avalanche(h128l);\n\tlet h128h = (acc & mask64) * PRIME64_1 + (acc >> n(64)) * PRIME64_4 + (n(data.byteLength) - seed & mask64) * PRIME64_2;\n\th128h &= mask64;\n\th128h = inv64(XXH3_avalanche(h128h));\n\treturn h128l | h128h << n(64);\n}\nfunction XXH3(input, seed = n(0)) {\n\tconst encoder = new TextEncoder();\n\tconst data = view(typeof input === \"string\" ? encoder.encode(input) : input);\n\tconst len = data.byteLength;\n\tconst hexDigest = (data$1) => data$1.toString(16).padStart(32, \"0\");\n\tif (len <= 16) return hexDigest(XXH3_len_0to16_128b(data, seed));\n\tif (len <= 128) return hexDigest(XXH3_len_17to128_128b(data, kkey, seed));\n\tif (len <= 240) return hexDigest(XXH3_len_129to240_128b(data, kkey, seed));\n\treturn hexDigest(XXH3_hashLong_128b(data, kkey));\n}\nfunction isXXH3(value) {\n\treturn /^[0-9a-f]{32}$/.test(value);\n}\n\n//#endregion\n\n//# sourceMappingURL=hash.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L2hhc2guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFlBQVk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixpQkFBaUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFlBQVk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsaUJBQWlCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFNBQVM7QUFDM0I7QUFDQSxtQkFBbUIsc0JBQXNCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLEdBQUc7QUFDdEI7O0FBRUE7QUFDd0I7QUFDeEIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2IvRGVza3RvcC9wcm9qZWN0X3gvcHJvamVjdC1zcWwtYWdlbnQvc2VydmljZXMvZnJvbnRlbmQvbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rbGFuZ2dyYXBoQDEuMC4xX0BsYW5nY2hhaW4rY29yZUAxLjAuMl9vcGVuYWlANC4xMDAuMF93c0A4LjE4LjJfem9kQDQuMS4xMl9fX19lZmE0ZThmODY1NThlNWQyOWViZGVjM2QyZjAwNGVkOS9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9sYW5nZ3JhcGgvZGlzdC9oYXNoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vI3JlZ2lvbiBzcmMvaGFzaC50c1xuY29uc3QgbiA9IChuJDEpID0+IEJpZ0ludChuJDEpO1xuY29uc3QgdmlldyA9IChkYXRhLCBvZmZzZXQgPSAwKSA9PiBuZXcgRGF0YVZpZXcoZGF0YS5idWZmZXIsIGRhdGEuYnl0ZU9mZnNldCArIG9mZnNldCwgZGF0YS5ieXRlTGVuZ3RoIC0gb2Zmc2V0KTtcbmNvbnN0IFBSSU1FMzJfMSA9IG4oXCIweDlFMzc3OUIxXCIpO1xuY29uc3QgUFJJTUUzMl8yID0gbihcIjB4ODVFQkNBNzdcIik7XG5jb25zdCBQUklNRTMyXzMgPSBuKFwiMHhDMkIyQUUzRFwiKTtcbmNvbnN0IFBSSU1FNjRfMSA9IG4oXCIweDlFMzc3OUIxODVFQkNBODdcIik7XG5jb25zdCBQUklNRTY0XzIgPSBuKFwiMHhDMkIyQUUzRDI3RDRFQjRGXCIpO1xuY29uc3QgUFJJTUU2NF8zID0gbihcIjB4MTY1NjY3QjE5RTM3NzlGOVwiKTtcbmNvbnN0IFBSSU1FNjRfNCA9IG4oXCIweDg1RUJDQTc3QzJCMkFFNjNcIik7XG5jb25zdCBQUklNRTY0XzUgPSBuKFwiMHgyN0Q0RUIyRjE2NTY2N0M1XCIpO1xuY29uc3QgUFJJTUVfTVgxID0gbihcIjB4MTY1NjY3OTE5RTM3NzlGOVwiKTtcbmNvbnN0IFBSSU1FX01YMiA9IG4oXCIweDlGQjIxQzY1MUU5OERGMjVcIik7XG5jb25zdCBoZXhUb1VpbnQ4QXJyYXkgPSAoaGV4KSA9PiB7XG5cdGNvbnN0IHN0ckxlbiA9IGhleC5sZW5ndGg7XG5cdGlmIChzdHJMZW4gJSAyICE9PSAwKSB0aHJvdyBuZXcgRXJyb3IoXCJTdHJpbmcgc2hvdWxkIGhhdmUgYW4gZXZlbiBudW1iZXIgb2YgY2hhcmFjdGVyc1wiKTtcblx0Y29uc3QgbWF4TGVuZ3RoID0gc3RyTGVuIC8gMjtcblx0Y29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheShtYXhMZW5ndGgpO1xuXHRsZXQgcmVhZCA9IDA7XG5cdGxldCB3cml0ZSA9IDA7XG5cdHdoaWxlICh3cml0ZSA8IG1heExlbmd0aCkge1xuXHRcdGNvbnN0IHNsaWNlID0gaGV4LnNsaWNlKHJlYWQsIHJlYWQgKz0gMik7XG5cdFx0Ynl0ZXNbd3JpdGVdID0gTnVtYmVyLnBhcnNlSW50KHNsaWNlLCAxNik7XG5cdFx0d3JpdGUgKz0gMTtcblx0fVxuXHRyZXR1cm4gdmlldyhieXRlcyk7XG59O1xuY29uc3Qga2tleSA9IGhleFRvVWludDhBcnJheShcImI4ZmU2YzM5MjNhNDRiYmU3YzAxODEyY2Y3MjFhZDFjZGVkNDZkZTk4MzkwOTdkYjcyNDBhNGE0YjdiMzY3MWZjYjc5ZTY0ZWNjYzBlNTc4ODI1YWQwN2RjY2ZmNzIyMWI4MDg0Njc0Zjc0MzI0OGVlMDM1OTBlNjgxM2EyNjRjM2MyODUyYmI5MWMzMDBjYjg4ZDA2NThiMWI1MzJlYTM3MTY0NDg5N2EyMGRmOTRlMzgxOWVmNDZhOWRlYWNkOGE4ZmE3NjNmZTM5YzM0M2ZmOWRjYmJjN2M3MGI0ZjFkOGE1MWUwNGJjZGI0NTkzMWM4OWY3ZWM5ZDk3ODczNjRlYWM1YWM4MzM0ZDNlYmMzYzU4MWEwZmZmYTEzNjNlYjE3MGRkZDUxYjdmMGRhNDlkMzE2NTUyNjI5ZDQ2ODllMmIxNmJlNTg3ZDQ3YTFmYzhmZjhiOGQxN2FkMDMxY2U0NWNiM2E4Zjk1MTYwNDI4YWZkN2ZiY2FiYjRiNDA3ZVwiKTtcbmNvbnN0IG1hc2sxMjggPSAobigxKSA8PCBuKDEyOCkpIC0gbigxKTtcbmNvbnN0IG1hc2s2NCA9IChuKDEpIDw8IG4oNjQpKSAtIG4oMSk7XG5jb25zdCBtYXNrMzIgPSAobigxKSA8PCBuKDMyKSkgLSBuKDEpO1xuY29uc3QgU1RSSVBFX0xFTiA9IDY0O1xuY29uc3QgQUNDX05CID0gU1RSSVBFX0xFTiAvIDg7XG5jb25zdCBfVTY0ID0gODtcbmNvbnN0IF9VMzIgPSA0O1xuZnVuY3Rpb24gYXNzZXJ0KGEpIHtcblx0aWYgKCFhKSB0aHJvdyBuZXcgRXJyb3IoXCJBc3NlcnQgZmFpbGVkXCIpO1xufVxuZnVuY3Rpb24gYnN3YXA2NChhKSB7XG5cdGNvbnN0IHNjcmF0Y2hidWYgPSAvKiBAX19QVVJFX18gKi8gbmV3IERhdGFWaWV3KC8qIEBfX1BVUkVfXyAqLyBuZXcgQXJyYXlCdWZmZXIoOCkpO1xuXHRzY3JhdGNoYnVmLnNldEJpZ1VpbnQ2NCgwLCBhLCB0cnVlKTtcblx0cmV0dXJuIHNjcmF0Y2hidWYuZ2V0QmlnVWludDY0KDAsIGZhbHNlKTtcbn1cbmZ1bmN0aW9uIGJzd2FwMzIoaW5wdXQpIHtcblx0bGV0IGEgPSBpbnB1dDtcblx0YSA9IChhICYgbig2NTUzNSkpIDw8IG4oMTYpIHwgKGEgJiBuKDQyOTQ5MDE3NjApKSA+PiBuKDE2KTtcblx0YSA9IChhICYgbigxNjcxMTkzNSkpIDw8IG4oOCkgfCAoYSAmIG4oNDI3ODI1NTM2MCkpID4+IG4oOCk7XG5cdHJldHVybiBhO1xufVxuZnVuY3Rpb24gWFhIX211bHQzMnRvNjQoYSwgYikge1xuXHRyZXR1cm4gKGEgJiBtYXNrMzIpICogKGIgJiBtYXNrMzIpICYgbWFzazY0O1xufVxuZnVuY3Rpb24gcm90bDMyKGEsIGIpIHtcblx0cmV0dXJuIChhIDw8IGIgfCBhID4+IG4oMzIpIC0gYikgJiBtYXNrMzI7XG59XG5mdW5jdGlvbiBYWEgzX2FjY3VtdWxhdGVfNTEyKGFjYywgZGF0YVZpZXcsIGtleVZpZXcpIHtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBBQ0NfTkI7IGkgKz0gMSkge1xuXHRcdGNvbnN0IGRhdGFfdmFsID0gZGF0YVZpZXcuZ2V0QmlnVWludDY0KGkgKiA4LCB0cnVlKTtcblx0XHRjb25zdCBkYXRhX2tleSA9IGRhdGFfdmFsIF4ga2V5Vmlldy5nZXRCaWdVaW50NjQoaSAqIDgsIHRydWUpO1xuXHRcdGFjY1tpIF4gMV0gKz0gZGF0YV92YWw7XG5cdFx0YWNjW2ldICs9IFhYSF9tdWx0MzJ0bzY0KGRhdGFfa2V5LCBkYXRhX2tleSA+PiBuKDMyKSk7XG5cdH1cblx0cmV0dXJuIGFjYztcbn1cbmZ1bmN0aW9uIFhYSDNfYWNjdW11bGF0ZShhY2MsIGRhdGFWaWV3LCBrZXlWaWV3LCBuYlN0cmlwZXMpIHtcblx0Zm9yIChsZXQgbiQxID0gMDsgbiQxIDwgbmJTdHJpcGVzOyBuJDEgKz0gMSkgWFhIM19hY2N1bXVsYXRlXzUxMihhY2MsIHZpZXcoZGF0YVZpZXcsIG4kMSAqIFNUUklQRV9MRU4pLCB2aWV3KGtleVZpZXcsIG4kMSAqIDgpKTtcblx0cmV0dXJuIGFjYztcbn1cbmZ1bmN0aW9uIFhYSDNfc2NyYW1ibGVBY2MoYWNjLCBrZXkpIHtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBBQ0NfTkI7IGkgKz0gMSkge1xuXHRcdGNvbnN0IGtleTY0ID0ga2V5LmdldEJpZ1VpbnQ2NChpICogOCwgdHJ1ZSk7XG5cdFx0bGV0IGFjYzY0ID0gYWNjW2ldO1xuXHRcdGFjYzY0ID0geG9yc2hpZnQ2NChhY2M2NCwgbig0NykpO1xuXHRcdGFjYzY0IF49IGtleTY0O1xuXHRcdGFjYzY0ICo9IFBSSU1FMzJfMTtcblx0XHRhY2NbaV0gPSBhY2M2NCAmIG1hc2s2NDtcblx0fVxuXHRyZXR1cm4gYWNjO1xufVxuZnVuY3Rpb24gWFhIM19taXgyQWNjcyhhY2MsIGtleSkge1xuXHRyZXR1cm4gWFhIM19tdWwxMjhfZm9sZDY0KGFjY1swXSBeIGtleS5nZXRCaWdVaW50NjQoMCwgdHJ1ZSksIGFjY1sxXSBeIGtleS5nZXRCaWdVaW50NjQoX1U2NCwgdHJ1ZSkpO1xufVxuZnVuY3Rpb24gWFhIM19tZXJnZUFjY3MoYWNjLCBrZXksIHN0YXJ0KSB7XG5cdGxldCByZXN1bHQ2NCA9IHN0YXJ0O1xuXHRyZXN1bHQ2NCArPSBYWEgzX21peDJBY2NzKGFjYy5zbGljZSgwKSwgdmlldyhrZXksIDAgKiBfVTMyKSk7XG5cdHJlc3VsdDY0ICs9IFhYSDNfbWl4MkFjY3MoYWNjLnNsaWNlKDIpLCB2aWV3KGtleSwgNCAqIF9VMzIpKTtcblx0cmVzdWx0NjQgKz0gWFhIM19taXgyQWNjcyhhY2Muc2xpY2UoNCksIHZpZXcoa2V5LCA4ICogX1UzMikpO1xuXHRyZXN1bHQ2NCArPSBYWEgzX21peDJBY2NzKGFjYy5zbGljZSg2KSwgdmlldyhrZXksIDEyICogX1UzMikpO1xuXHRyZXR1cm4gWFhIM19hdmFsYW5jaGUocmVzdWx0NjQgJiBtYXNrNjQpO1xufVxuZnVuY3Rpb24gWFhIM19oYXNoTG9uZyhpbnB1dCwgZGF0YSwgc2VjcmV0LCBmX2FjYywgZl9zY3JhbWJsZSkge1xuXHRsZXQgYWNjID0gaW5wdXQ7XG5cdGNvbnN0IG5iU3RyaXBlc1BlckJsb2NrID0gTWF0aC5mbG9vcigoc2VjcmV0LmJ5dGVMZW5ndGggLSBTVFJJUEVfTEVOKSAvIDgpO1xuXHRjb25zdCBibG9ja19sZW4gPSBTVFJJUEVfTEVOICogbmJTdHJpcGVzUGVyQmxvY2s7XG5cdGNvbnN0IG5iX2Jsb2NrcyA9IE1hdGguZmxvb3IoKGRhdGEuYnl0ZUxlbmd0aCAtIDEpIC8gYmxvY2tfbGVuKTtcblx0Zm9yIChsZXQgbiQxID0gMDsgbiQxIDwgbmJfYmxvY2tzOyBuJDEgKz0gMSkge1xuXHRcdGFjYyA9IFhYSDNfYWNjdW11bGF0ZShhY2MsIHZpZXcoZGF0YSwgbiQxICogYmxvY2tfbGVuKSwgc2VjcmV0LCBuYlN0cmlwZXNQZXJCbG9jayk7XG5cdFx0YWNjID0gZl9zY3JhbWJsZShhY2MsIHZpZXcoc2VjcmV0LCBzZWNyZXQuYnl0ZUxlbmd0aCAtIFNUUklQRV9MRU4pKTtcblx0fVxuXHR7XG5cdFx0Y29uc3QgbmJTdHJpcGVzID0gTWF0aC5mbG9vcigoZGF0YS5ieXRlTGVuZ3RoIC0gMSAtIGJsb2NrX2xlbiAqIG5iX2Jsb2NrcykgLyBTVFJJUEVfTEVOKTtcblx0XHRhY2MgPSBYWEgzX2FjY3VtdWxhdGUoYWNjLCB2aWV3KGRhdGEsIG5iX2Jsb2NrcyAqIGJsb2NrX2xlbiksIHNlY3JldCwgbmJTdHJpcGVzKTtcblx0XHRhY2MgPSBmX2FjYyhhY2MsIHZpZXcoZGF0YSwgZGF0YS5ieXRlTGVuZ3RoIC0gU1RSSVBFX0xFTiksIHZpZXcoc2VjcmV0LCBzZWNyZXQuYnl0ZUxlbmd0aCAtIFNUUklQRV9MRU4gLSA3KSk7XG5cdH1cblx0cmV0dXJuIGFjYztcbn1cbmZ1bmN0aW9uIFhYSDNfaGFzaExvbmdfMTI4YihkYXRhLCBzZWNyZXQpIHtcblx0bGV0IGFjYyA9IG5ldyBCaWdVaW50NjRBcnJheShbXG5cdFx0UFJJTUUzMl8zLFxuXHRcdFBSSU1FNjRfMSxcblx0XHRQUklNRTY0XzIsXG5cdFx0UFJJTUU2NF8zLFxuXHRcdFBSSU1FNjRfNCxcblx0XHRQUklNRTMyXzIsXG5cdFx0UFJJTUU2NF81LFxuXHRcdFBSSU1FMzJfMVxuXHRdKTtcblx0YXNzZXJ0KGRhdGEuYnl0ZUxlbmd0aCA+IDEyOCk7XG5cdGFjYyA9IFhYSDNfaGFzaExvbmcoYWNjLCBkYXRhLCBzZWNyZXQsIFhYSDNfYWNjdW11bGF0ZV81MTIsIFhYSDNfc2NyYW1ibGVBY2MpO1xuXHRhc3NlcnQoYWNjLmxlbmd0aCAqIDggPT09IDY0KTtcblx0e1xuXHRcdGNvbnN0IGxvdzY0ID0gWFhIM19tZXJnZUFjY3MoYWNjLCB2aWV3KHNlY3JldCwgMTEpLCBuKGRhdGEuYnl0ZUxlbmd0aCkgKiBQUklNRTY0XzEgJiBtYXNrNjQpO1xuXHRcdGNvbnN0IGhpZ2g2NCA9IFhYSDNfbWVyZ2VBY2NzKGFjYywgdmlldyhzZWNyZXQsIHNlY3JldC5ieXRlTGVuZ3RoIC0gU1RSSVBFX0xFTiAtIDExKSwgfihuKGRhdGEuYnl0ZUxlbmd0aCkgKiBQUklNRTY0XzIpICYgbWFzazY0KTtcblx0XHRyZXR1cm4gaGlnaDY0IDw8IG4oNjQpIHwgbG93NjQ7XG5cdH1cbn1cbmZ1bmN0aW9uIFhYSDNfbXVsMTI4X2ZvbGQ2NChhLCBiKSB7XG5cdGNvbnN0IGxsbCA9IGEgKiBiICYgbWFzazEyODtcblx0cmV0dXJuIGxsbCAmIG1hc2s2NCBeIGxsbCA+PiBuKDY0KTtcbn1cbmZ1bmN0aW9uIFhYSDNfbWl4MTZCKGRhdGFWaWV3LCBrZXlWaWV3LCBzZWVkKSB7XG5cdHJldHVybiBYWEgzX211bDEyOF9mb2xkNjQoKGRhdGFWaWV3LmdldEJpZ1VpbnQ2NCgwLCB0cnVlKSBeIGtleVZpZXcuZ2V0QmlnVWludDY0KDAsIHRydWUpICsgc2VlZCkgJiBtYXNrNjQsIChkYXRhVmlldy5nZXRCaWdVaW50NjQoOCwgdHJ1ZSkgXiBrZXlWaWV3LmdldEJpZ1VpbnQ2NCg4LCB0cnVlKSAtIHNlZWQpICYgbWFzazY0KTtcbn1cbmZ1bmN0aW9uIFhYSDNfbWl4MzJCKGFjYywgZGF0YTEsIGRhdGEyLCBrZXksIHNlZWQpIHtcblx0bGV0IGFjY2wgPSBhY2MgJiBtYXNrNjQ7XG5cdGxldCBhY2NoID0gYWNjID4+IG4oNjQpICYgbWFzazY0O1xuXHRhY2NsICs9IFhYSDNfbWl4MTZCKGRhdGExLCBrZXksIHNlZWQpO1xuXHRhY2NsIF49IGRhdGEyLmdldEJpZ1VpbnQ2NCgwLCB0cnVlKSArIGRhdGEyLmdldEJpZ1VpbnQ2NCg4LCB0cnVlKTtcblx0YWNjbCAmPSBtYXNrNjQ7XG5cdGFjY2ggKz0gWFhIM19taXgxNkIoZGF0YTIsIHZpZXcoa2V5LCAxNiksIHNlZWQpO1xuXHRhY2NoIF49IGRhdGExLmdldEJpZ1VpbnQ2NCgwLCB0cnVlKSArIGRhdGExLmdldEJpZ1VpbnQ2NCg4LCB0cnVlKTtcblx0YWNjaCAmPSBtYXNrNjQ7XG5cdHJldHVybiBhY2NoIDw8IG4oNjQpIHwgYWNjbDtcbn1cbmZ1bmN0aW9uIFhYSDNfYXZhbGFuY2hlKGlucHV0KSB7XG5cdGxldCBoNjQgPSBpbnB1dDtcblx0aDY0IF49IGg2NCA+PiBuKDM3KTtcblx0aDY0ICo9IFBSSU1FX01YMTtcblx0aDY0ICY9IG1hc2s2NDtcblx0aDY0IF49IGg2NCA+PiBuKDMyKTtcblx0cmV0dXJuIGg2NDtcbn1cbmZ1bmN0aW9uIFhYSDNfYXZhbGFuY2hlNjQoaW5wdXQpIHtcblx0bGV0IGg2NCA9IGlucHV0O1xuXHRoNjQgXj0gaDY0ID4+IG4oMzMpO1xuXHRoNjQgKj0gUFJJTUU2NF8yO1xuXHRoNjQgJj0gbWFzazY0O1xuXHRoNjQgXj0gaDY0ID4+IG4oMjkpO1xuXHRoNjQgKj0gUFJJTUU2NF8zO1xuXHRoNjQgJj0gbWFzazY0O1xuXHRoNjQgXj0gaDY0ID4+IG4oMzIpO1xuXHRyZXR1cm4gaDY0O1xufVxuZnVuY3Rpb24gWFhIM19sZW5fMXRvM18xMjhiKGRhdGEsIGtleTMyLCBzZWVkKSB7XG5cdGNvbnN0IGxlbiA9IGRhdGEuYnl0ZUxlbmd0aDtcblx0YXNzZXJ0KGxlbiA+IDAgJiYgbGVuIDw9IDMpO1xuXHRjb25zdCBjb21iaW5lZCA9IG4oZGF0YS5nZXRVaW50OChsZW4gLSAxKSkgfCBuKGxlbiA8PCA4KSB8IG4oZGF0YS5nZXRVaW50OCgwKSA8PCAxNikgfCBuKGRhdGEuZ2V0VWludDgobGVuID4+IDEpIDw8IDI0KTtcblx0Y29uc3QgYmxvdyA9IChuKGtleTMyLmdldFVpbnQzMigwLCB0cnVlKSkgXiBuKGtleTMyLmdldFVpbnQzMig0LCB0cnVlKSkpICsgc2VlZDtcblx0Y29uc3QgbG93ID0gKGNvbWJpbmVkIF4gYmxvdykgJiBtYXNrNjQ7XG5cdGNvbnN0IGJoaWdoID0gKG4oa2V5MzIuZ2V0VWludDMyKDgsIHRydWUpKSBeIG4oa2V5MzIuZ2V0VWludDMyKDEyLCB0cnVlKSkpIC0gc2VlZDtcblx0Y29uc3QgaGlnaCA9IChyb3RsMzIoYnN3YXAzMihjb21iaW5lZCksIG4oMTMpKSBeIGJoaWdoKSAmIG1hc2s2NDtcblx0cmV0dXJuIChYWEgzX2F2YWxhbmNoZTY0KGhpZ2gpICYgbWFzazY0KSA8PCBuKDY0KSB8IFhYSDNfYXZhbGFuY2hlNjQobG93KTtcbn1cbmZ1bmN0aW9uIHhvcnNoaWZ0NjQoYiwgc2hpZnQpIHtcblx0cmV0dXJuIGIgXiBiID4+IHNoaWZ0O1xufVxuZnVuY3Rpb24gWFhIM19sZW5fNHRvOF8xMjhiKGRhdGEsIGtleTMyLCBzZWVkKSB7XG5cdGNvbnN0IGxlbiA9IGRhdGEuYnl0ZUxlbmd0aDtcblx0YXNzZXJ0KGxlbiA+PSA0ICYmIGxlbiA8PSA4KTtcblx0e1xuXHRcdGNvbnN0IGwxID0gZGF0YS5nZXRVaW50MzIoMCwgdHJ1ZSk7XG5cdFx0Y29uc3QgbDIgPSBkYXRhLmdldFVpbnQzMihsZW4gLSA0LCB0cnVlKTtcblx0XHRjb25zdCBsNjQgPSBuKGwxKSB8IG4obDIpIDw8IG4oMzIpO1xuXHRcdGNvbnN0IGJpdGZsaXAgPSAoa2V5MzIuZ2V0QmlnVWludDY0KDE2LCB0cnVlKSBeIGtleTMyLmdldEJpZ1VpbnQ2NCgyNCwgdHJ1ZSkpICsgc2VlZCAmIG1hc2s2NDtcblx0XHRjb25zdCBrZXllZCA9IGw2NCBeIGJpdGZsaXA7XG5cdFx0bGV0IG0xMjggPSBrZXllZCAqIChQUklNRTY0XzEgKyAobihsZW4pIDw8IG4oMikpKSAmIG1hc2sxMjg7XG5cdFx0bTEyOCArPSAobTEyOCAmIG1hc2s2NCkgPDwgbig2NSk7XG5cdFx0bTEyOCAmPSBtYXNrMTI4O1xuXHRcdG0xMjggXj0gbTEyOCA+PiBuKDY3KTtcblx0XHRyZXR1cm4geG9yc2hpZnQ2NCh4b3JzaGlmdDY0KG0xMjggJiBtYXNrNjQsIG4oMzUpKSAqIFBSSU1FX01YMiAmIG1hc2s2NCwgbigyOCkpIHwgWFhIM19hdmFsYW5jaGUobTEyOCA+PiBuKDY0KSkgPDwgbig2NCk7XG5cdH1cbn1cbmZ1bmN0aW9uIFhYSDNfbGVuXzl0bzE2XzEyOGIoZGF0YSwga2V5NjQsIHNlZWQpIHtcblx0Y29uc3QgbGVuID0gZGF0YS5ieXRlTGVuZ3RoO1xuXHRhc3NlcnQobGVuID49IDkgJiYgbGVuIDw9IDE2KTtcblx0e1xuXHRcdGNvbnN0IGJpdGZsaXBsID0gKGtleTY0LmdldEJpZ1VpbnQ2NCgzMiwgdHJ1ZSkgXiBrZXk2NC5nZXRCaWdVaW50NjQoNDAsIHRydWUpKSArIHNlZWQgJiBtYXNrNjQ7XG5cdFx0Y29uc3QgYml0ZmxpcGggPSAoa2V5NjQuZ2V0QmlnVWludDY0KDQ4LCB0cnVlKSBeIGtleTY0LmdldEJpZ1VpbnQ2NCg1NiwgdHJ1ZSkpIC0gc2VlZCAmIG1hc2s2NDtcblx0XHRjb25zdCBsbDEgPSBkYXRhLmdldEJpZ1VpbnQ2NCgwLCB0cnVlKTtcblx0XHRsZXQgbGwyID0gZGF0YS5nZXRCaWdVaW50NjQobGVuIC0gOCwgdHJ1ZSk7XG5cdFx0bGV0IG0xMjggPSAobGwxIF4gbGwyIF4gYml0ZmxpcGwpICogUFJJTUU2NF8xO1xuXHRcdGNvbnN0IG0xMjhfbCA9IChtMTI4ICYgbWFzazY0KSArIChuKGxlbiAtIDEpIDw8IG4oNTQpKTtcblx0XHRtMTI4ID0gbTEyOCAmIChtYXNrMTI4IF4gbWFzazY0KSB8IG0xMjhfbDtcblx0XHRsbDIgXj0gYml0ZmxpcGg7XG5cdFx0bTEyOCArPSBsbDIgKyAobGwyICYgbWFzazMyKSAqIChQUklNRTMyXzIgLSBuKDEpKSA8PCBuKDY0KTtcblx0XHRtMTI4ICY9IG1hc2sxMjg7XG5cdFx0bTEyOCBePSBic3dhcDY0KG0xMjggPj4gbig2NCkpO1xuXHRcdGxldCBoMTI4ID0gKG0xMjggJiBtYXNrNjQpICogUFJJTUU2NF8yO1xuXHRcdGgxMjggKz0gKG0xMjggPj4gbig2NCkpICogUFJJTUU2NF8yIDw8IG4oNjQpO1xuXHRcdGgxMjggJj0gbWFzazEyODtcblx0XHRyZXR1cm4gWFhIM19hdmFsYW5jaGUoaDEyOCAmIG1hc2s2NCkgfCBYWEgzX2F2YWxhbmNoZShoMTI4ID4+IG4oNjQpKSA8PCBuKDY0KTtcblx0fVxufVxuZnVuY3Rpb24gWFhIM19sZW5fMHRvMTZfMTI4YihkYXRhLCBzZWVkKSB7XG5cdGNvbnN0IGxlbiA9IGRhdGEuYnl0ZUxlbmd0aDtcblx0YXNzZXJ0KGxlbiA8PSAxNik7XG5cdGlmIChsZW4gPiA4KSByZXR1cm4gWFhIM19sZW5fOXRvMTZfMTI4YihkYXRhLCBra2V5LCBzZWVkKTtcblx0aWYgKGxlbiA+PSA0KSByZXR1cm4gWFhIM19sZW5fNHRvOF8xMjhiKGRhdGEsIGtrZXksIHNlZWQpO1xuXHRpZiAobGVuID4gMCkgcmV0dXJuIFhYSDNfbGVuXzF0bzNfMTI4YihkYXRhLCBra2V5LCBzZWVkKTtcblx0cmV0dXJuIFhYSDNfYXZhbGFuY2hlNjQoc2VlZCBeIGtrZXkuZ2V0QmlnVWludDY0KDY0LCB0cnVlKSBeIGtrZXkuZ2V0QmlnVWludDY0KDcyLCB0cnVlKSkgfCBYWEgzX2F2YWxhbmNoZTY0KHNlZWQgXiBra2V5LmdldEJpZ1VpbnQ2NCg4MCwgdHJ1ZSkgXiBra2V5LmdldEJpZ1VpbnQ2NCg4OCwgdHJ1ZSkpIDw8IG4oNjQpO1xufVxuZnVuY3Rpb24gaW52NjQoeCkge1xuXHRyZXR1cm4gfnggKyBuKDEpICYgbWFzazY0O1xufVxuZnVuY3Rpb24gWFhIM19sZW5fMTd0bzEyOF8xMjhiKGRhdGEsIHNlY3JldCwgc2VlZCkge1xuXHRsZXQgYWNjID0gbihkYXRhLmJ5dGVMZW5ndGgpICogUFJJTUU2NF8xICYgbWFzazY0O1xuXHRsZXQgaSA9IG4oZGF0YS5ieXRlTGVuZ3RoIC0gMSkgLyBuKDMyKTtcblx0d2hpbGUgKGkgPj0gMCkge1xuXHRcdGNvbnN0IG5pID0gTnVtYmVyKGkpO1xuXHRcdGFjYyA9IFhYSDNfbWl4MzJCKGFjYywgdmlldyhkYXRhLCAxNiAqIG5pKSwgdmlldyhkYXRhLCBkYXRhLmJ5dGVMZW5ndGggLSAxNiAqIChuaSArIDEpKSwgdmlldyhzZWNyZXQsIDMyICogbmkpLCBzZWVkKTtcblx0XHRpIC09IG4oMSk7XG5cdH1cblx0bGV0IGgxMjhsID0gYWNjICsgKGFjYyA+PiBuKDY0KSkgJiBtYXNrNjQ7XG5cdGgxMjhsID0gWFhIM19hdmFsYW5jaGUoaDEyOGwpO1xuXHRsZXQgaDEyOGggPSAoYWNjICYgbWFzazY0KSAqIFBSSU1FNjRfMSArIChhY2MgPj4gbig2NCkpICogUFJJTUU2NF80ICsgKG4oZGF0YS5ieXRlTGVuZ3RoKSAtIHNlZWQgJiBtYXNrNjQpICogUFJJTUU2NF8yO1xuXHRoMTI4aCAmPSBtYXNrNjQ7XG5cdGgxMjhoID0gaW52NjQoWFhIM19hdmFsYW5jaGUoaDEyOGgpKTtcblx0cmV0dXJuIGgxMjhsIHwgaDEyOGggPDwgbig2NCk7XG59XG5mdW5jdGlvbiBYWEgzX2xlbl8xMjl0bzI0MF8xMjhiKGRhdGEsIHNlY3JldCwgc2VlZCkge1xuXHRsZXQgYWNjID0gbihkYXRhLmJ5dGVMZW5ndGgpICogUFJJTUU2NF8xICYgbWFzazY0O1xuXHRmb3IgKGxldCBpID0gMzI7IGkgPCAxNjA7IGkgKz0gMzIpIGFjYyA9IFhYSDNfbWl4MzJCKGFjYywgdmlldyhkYXRhLCBpIC0gMzIpLCB2aWV3KGRhdGEsIGkgLSAxNiksIHZpZXcoc2VjcmV0LCBpIC0gMzIpLCBzZWVkKTtcblx0YWNjID0gWFhIM19hdmFsYW5jaGUoYWNjICYgbWFzazY0KSB8IFhYSDNfYXZhbGFuY2hlKGFjYyA+PiBuKDY0KSkgPDwgbig2NCk7XG5cdGZvciAobGV0IGkgPSAxNjA7IGkgPD0gZGF0YS5ieXRlTGVuZ3RoOyBpICs9IDMyKSBhY2MgPSBYWEgzX21peDMyQihhY2MsIHZpZXcoZGF0YSwgaSAtIDMyKSwgdmlldyhkYXRhLCBpIC0gMTYpLCB2aWV3KHNlY3JldCwgMyArIGkgLSAxNjApLCBzZWVkKTtcblx0YWNjID0gWFhIM19taXgzMkIoYWNjLCB2aWV3KGRhdGEsIGRhdGEuYnl0ZUxlbmd0aCAtIDE2KSwgdmlldyhkYXRhLCBkYXRhLmJ5dGVMZW5ndGggLSAzMiksIHZpZXcoc2VjcmV0LCAxMDMpLCBpbnY2NChzZWVkKSk7XG5cdGxldCBoMTI4bCA9IGFjYyArIChhY2MgPj4gbig2NCkpICYgbWFzazY0O1xuXHRoMTI4bCA9IFhYSDNfYXZhbGFuY2hlKGgxMjhsKTtcblx0bGV0IGgxMjhoID0gKGFjYyAmIG1hc2s2NCkgKiBQUklNRTY0XzEgKyAoYWNjID4+IG4oNjQpKSAqIFBSSU1FNjRfNCArIChuKGRhdGEuYnl0ZUxlbmd0aCkgLSBzZWVkICYgbWFzazY0KSAqIFBSSU1FNjRfMjtcblx0aDEyOGggJj0gbWFzazY0O1xuXHRoMTI4aCA9IGludjY0KFhYSDNfYXZhbGFuY2hlKGgxMjhoKSk7XG5cdHJldHVybiBoMTI4bCB8IGgxMjhoIDw8IG4oNjQpO1xufVxuZnVuY3Rpb24gWFhIMyhpbnB1dCwgc2VlZCA9IG4oMCkpIHtcblx0Y29uc3QgZW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xuXHRjb25zdCBkYXRhID0gdmlldyh0eXBlb2YgaW5wdXQgPT09IFwic3RyaW5nXCIgPyBlbmNvZGVyLmVuY29kZShpbnB1dCkgOiBpbnB1dCk7XG5cdGNvbnN0IGxlbiA9IGRhdGEuYnl0ZUxlbmd0aDtcblx0Y29uc3QgaGV4RGlnZXN0ID0gKGRhdGEkMSkgPT4gZGF0YSQxLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgzMiwgXCIwXCIpO1xuXHRpZiAobGVuIDw9IDE2KSByZXR1cm4gaGV4RGlnZXN0KFhYSDNfbGVuXzB0bzE2XzEyOGIoZGF0YSwgc2VlZCkpO1xuXHRpZiAobGVuIDw9IDEyOCkgcmV0dXJuIGhleERpZ2VzdChYWEgzX2xlbl8xN3RvMTI4XzEyOGIoZGF0YSwga2tleSwgc2VlZCkpO1xuXHRpZiAobGVuIDw9IDI0MCkgcmV0dXJuIGhleERpZ2VzdChYWEgzX2xlbl8xMjl0bzI0MF8xMjhiKGRhdGEsIGtrZXksIHNlZWQpKTtcblx0cmV0dXJuIGhleERpZ2VzdChYWEgzX2hhc2hMb25nXzEyOGIoZGF0YSwga2tleSkpO1xufVxuZnVuY3Rpb24gaXNYWEgzKHZhbHVlKSB7XG5cdHJldHVybiAvXlswLTlhLWZdezMyfSQvLnRlc3QodmFsdWUpO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IFhYSDMsIGlzWFhIMyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGFzaC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/hash.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/interrupt.js":
/*!*********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/interrupt.js ***!
  \*********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   interrupt: () => (/* binding */ interrupt)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./errors.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/errors.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constants.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/constants.js\");\n/* harmony import */ var _hash_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./hash.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/hash.js\");\n/* harmony import */ var _langchain_core_singletons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @langchain/core/singletons */ \"(ssr)/./node_modules/.pnpm/@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12_/node_modules/@langchain/core/dist/singletons/index.js\");\n\n\n\n\n\n//#region src/interrupt.ts\n/**\n* Interrupts the execution of a graph node.\n* This function can be used to pause execution of a node, and return the value of the `resume`\n* input when the graph is re-invoked using `Command`.\n* Multiple interrupts can be called within a single node, and each will be handled sequentially.\n*\n* When an interrupt is called:\n* 1. If there's a `resume` value available (from a previous `Command`), it returns that value.\n* 2. Otherwise, it throws a `GraphInterrupt` with the provided value\n* 3. The graph can be resumed by passing a `Command` with a `resume` value\n*\n* Because the `interrupt` function propagates by throwing a special `GraphInterrupt` error,\n* you should avoid using `try/catch` blocks around the `interrupt` function,\n* or if you do, ensure that the `GraphInterrupt` error is thrown again within your `catch` block.\n*\n* @param value - The value to include in the interrupt. This will be available in task.interrupts[].value\n* @returns The `resume` value provided when the graph is re-invoked with a Command\n*\n* @example\n* ```typescript\n* // Define a node that uses multiple interrupts\n* const nodeWithInterrupts = () => {\n*   // First interrupt - will pause execution and include {value: 1} in task values\n*   const answer1 = interrupt({ value: 1 });\n*\n*   // Second interrupt - only called after first interrupt is resumed\n*   const answer2 = interrupt({ value: 2 });\n*\n*   // Use the resume values\n*   return { myKey: answer1 + \" \" + answer2 };\n* };\n*\n* // Resume the graph after first interrupt\n* await graph.stream(new Command({ resume: \"answer 1\" }));\n*\n* // Resume the graph after second interrupt\n* await graph.stream(new Command({ resume: \"answer 2\" }));\n* // Final result: { myKey: \"answer 1 answer 2\" }\n* ```\n*\n* @throws {Error} If called outside the context of a graph\n* @throws {GraphInterrupt} When no resume value is available\n*/\nfunction interrupt(value) {\n\tconst config = _langchain_core_singletons__WEBPACK_IMPORTED_MODULE_3__.AsyncLocalStorageProviderSingleton.getRunnableConfig();\n\tif (!config) throw new Error(\"Called interrupt() outside the context of a graph.\");\n\tconst conf = config.configurable;\n\tif (!conf) throw new Error(\"No configurable found in config\");\n\tconst checkpointer = conf[_constants_js__WEBPACK_IMPORTED_MODULE_1__.CONFIG_KEY_CHECKPOINTER];\n\tif (!checkpointer) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.GraphValueError(\"No checkpointer set\", { lc_error_code: \"MISSING_CHECKPOINTER\" });\n\tconst scratchpad = conf[_constants_js__WEBPACK_IMPORTED_MODULE_1__.CONFIG_KEY_SCRATCHPAD];\n\tscratchpad.interruptCounter += 1;\n\tconst idx = scratchpad.interruptCounter;\n\tif (scratchpad.resume.length > 0 && idx < scratchpad.resume.length) {\n\t\tconf[_constants_js__WEBPACK_IMPORTED_MODULE_1__.CONFIG_KEY_SEND]?.([[_constants_js__WEBPACK_IMPORTED_MODULE_1__.RESUME, scratchpad.resume]]);\n\t\treturn scratchpad.resume[idx];\n\t}\n\tif (scratchpad.nullResume !== void 0) {\n\t\tif (scratchpad.resume.length !== idx) throw new Error(`Resume length mismatch: ${scratchpad.resume.length} !== ${idx}`);\n\t\tconst v = scratchpad.consumeNullResume();\n\t\tscratchpad.resume.push(v);\n\t\tconf[_constants_js__WEBPACK_IMPORTED_MODULE_1__.CONFIG_KEY_SEND]?.([[_constants_js__WEBPACK_IMPORTED_MODULE_1__.RESUME, scratchpad.resume]]);\n\t\treturn v;\n\t}\n\tconst ns = conf[_constants_js__WEBPACK_IMPORTED_MODULE_1__.CONFIG_KEY_CHECKPOINT_NS]?.split(_constants_js__WEBPACK_IMPORTED_MODULE_1__.CHECKPOINT_NAMESPACE_SEPARATOR);\n\tconst id = ns ? (0,_hash_js__WEBPACK_IMPORTED_MODULE_2__.XXH3)(ns.join(_constants_js__WEBPACK_IMPORTED_MODULE_1__.CHECKPOINT_NAMESPACE_SEPARATOR)) : void 0;\n\tthrow new _errors_js__WEBPACK_IMPORTED_MODULE_0__.GraphInterrupt([{\n\t\tid,\n\t\tvalue\n\t}]);\n}\n\n//#endregion\n\n//# sourceMappingURL=interrupt.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L2ludGVycnVwdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUE4RDtBQUNxRztBQUNsSTtBQUMrQzs7QUFFaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCxVQUFVO0FBQ3JFLGdDQUFnQyxVQUFVO0FBQzFDO0FBQ0E7QUFDQSxnQ0FBZ0MsVUFBVTtBQUMxQztBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxvQkFBb0I7QUFDdkQ7QUFDQTtBQUNBLG1DQUFtQyxvQkFBb0I7QUFDdkQscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxnQkFBZ0I7QUFDM0I7QUFDQTtBQUNBLGdCQUFnQiwwRkFBa0M7QUFDbEQ7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGtFQUF1QjtBQUNsRCw4QkFBOEIsdURBQWUsMEJBQTBCLHVDQUF1QztBQUM5Ryx5QkFBeUIsZ0VBQXFCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBLE9BQU8sMERBQWUsTUFBTSxpREFBTTtBQUNsQztBQUNBO0FBQ0E7QUFDQSxtRkFBbUYsMEJBQTBCLE1BQU0sSUFBSTtBQUN2SDtBQUNBO0FBQ0EsT0FBTywwREFBZSxNQUFNLGlEQUFNO0FBQ2xDO0FBQ0E7QUFDQSxpQkFBaUIsbUVBQXdCLFNBQVMseUVBQThCO0FBQ2hGLGlCQUFpQiw4Q0FBSSxTQUFTLHlFQUE4QjtBQUM1RCxXQUFXLHNEQUFjO0FBQ3pCO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDcUI7QUFDckIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2IvRGVza3RvcC9wcm9qZWN0X3gvcHJvamVjdC1zcWwtYWdlbnQvc2VydmljZXMvZnJvbnRlbmQvbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rbGFuZ2dyYXBoQDEuMC4xX0BsYW5nY2hhaW4rY29yZUAxLjAuMl9vcGVuYWlANC4xMDAuMF93c0A4LjE4LjJfem9kQDQuMS4xMl9fX19lZmE0ZThmODY1NThlNWQyOWViZGVjM2QyZjAwNGVkOS9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9sYW5nZ3JhcGgvZGlzdC9pbnRlcnJ1cHQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR3JhcGhJbnRlcnJ1cHQsIEdyYXBoVmFsdWVFcnJvciB9IGZyb20gXCIuL2Vycm9ycy5qc1wiO1xuaW1wb3J0IHsgQ0hFQ0tQT0lOVF9OQU1FU1BBQ0VfU0VQQVJBVE9SLCBDT05GSUdfS0VZX0NIRUNLUE9JTlRFUiwgQ09ORklHX0tFWV9DSEVDS1BPSU5UX05TLCBDT05GSUdfS0VZX1NDUkFUQ0hQQUQsIENPTkZJR19LRVlfU0VORCwgUkVTVU1FIH0gZnJvbSBcIi4vY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgeyBYWEgzIH0gZnJvbSBcIi4vaGFzaC5qc1wiO1xuaW1wb3J0IHsgQXN5bmNMb2NhbFN0b3JhZ2VQcm92aWRlclNpbmdsZXRvbiB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvc2luZ2xldG9uc1wiO1xuXG4vLyNyZWdpb24gc3JjL2ludGVycnVwdC50c1xuLyoqXG4qIEludGVycnVwdHMgdGhlIGV4ZWN1dGlvbiBvZiBhIGdyYXBoIG5vZGUuXG4qIFRoaXMgZnVuY3Rpb24gY2FuIGJlIHVzZWQgdG8gcGF1c2UgZXhlY3V0aW9uIG9mIGEgbm9kZSwgYW5kIHJldHVybiB0aGUgdmFsdWUgb2YgdGhlIGByZXN1bWVgXG4qIGlucHV0IHdoZW4gdGhlIGdyYXBoIGlzIHJlLWludm9rZWQgdXNpbmcgYENvbW1hbmRgLlxuKiBNdWx0aXBsZSBpbnRlcnJ1cHRzIGNhbiBiZSBjYWxsZWQgd2l0aGluIGEgc2luZ2xlIG5vZGUsIGFuZCBlYWNoIHdpbGwgYmUgaGFuZGxlZCBzZXF1ZW50aWFsbHkuXG4qXG4qIFdoZW4gYW4gaW50ZXJydXB0IGlzIGNhbGxlZDpcbiogMS4gSWYgdGhlcmUncyBhIGByZXN1bWVgIHZhbHVlIGF2YWlsYWJsZSAoZnJvbSBhIHByZXZpb3VzIGBDb21tYW5kYCksIGl0IHJldHVybnMgdGhhdCB2YWx1ZS5cbiogMi4gT3RoZXJ3aXNlLCBpdCB0aHJvd3MgYSBgR3JhcGhJbnRlcnJ1cHRgIHdpdGggdGhlIHByb3ZpZGVkIHZhbHVlXG4qIDMuIFRoZSBncmFwaCBjYW4gYmUgcmVzdW1lZCBieSBwYXNzaW5nIGEgYENvbW1hbmRgIHdpdGggYSBgcmVzdW1lYCB2YWx1ZVxuKlxuKiBCZWNhdXNlIHRoZSBgaW50ZXJydXB0YCBmdW5jdGlvbiBwcm9wYWdhdGVzIGJ5IHRocm93aW5nIGEgc3BlY2lhbCBgR3JhcGhJbnRlcnJ1cHRgIGVycm9yLFxuKiB5b3Ugc2hvdWxkIGF2b2lkIHVzaW5nIGB0cnkvY2F0Y2hgIGJsb2NrcyBhcm91bmQgdGhlIGBpbnRlcnJ1cHRgIGZ1bmN0aW9uLFxuKiBvciBpZiB5b3UgZG8sIGVuc3VyZSB0aGF0IHRoZSBgR3JhcGhJbnRlcnJ1cHRgIGVycm9yIGlzIHRocm93biBhZ2FpbiB3aXRoaW4geW91ciBgY2F0Y2hgIGJsb2NrLlxuKlxuKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gaW5jbHVkZSBpbiB0aGUgaW50ZXJydXB0LiBUaGlzIHdpbGwgYmUgYXZhaWxhYmxlIGluIHRhc2suaW50ZXJydXB0c1tdLnZhbHVlXG4qIEByZXR1cm5zIFRoZSBgcmVzdW1lYCB2YWx1ZSBwcm92aWRlZCB3aGVuIHRoZSBncmFwaCBpcyByZS1pbnZva2VkIHdpdGggYSBDb21tYW5kXG4qXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogLy8gRGVmaW5lIGEgbm9kZSB0aGF0IHVzZXMgbXVsdGlwbGUgaW50ZXJydXB0c1xuKiBjb25zdCBub2RlV2l0aEludGVycnVwdHMgPSAoKSA9PiB7XG4qICAgLy8gRmlyc3QgaW50ZXJydXB0IC0gd2lsbCBwYXVzZSBleGVjdXRpb24gYW5kIGluY2x1ZGUge3ZhbHVlOiAxfSBpbiB0YXNrIHZhbHVlc1xuKiAgIGNvbnN0IGFuc3dlcjEgPSBpbnRlcnJ1cHQoeyB2YWx1ZTogMSB9KTtcbipcbiogICAvLyBTZWNvbmQgaW50ZXJydXB0IC0gb25seSBjYWxsZWQgYWZ0ZXIgZmlyc3QgaW50ZXJydXB0IGlzIHJlc3VtZWRcbiogICBjb25zdCBhbnN3ZXIyID0gaW50ZXJydXB0KHsgdmFsdWU6IDIgfSk7XG4qXG4qICAgLy8gVXNlIHRoZSByZXN1bWUgdmFsdWVzXG4qICAgcmV0dXJuIHsgbXlLZXk6IGFuc3dlcjEgKyBcIiBcIiArIGFuc3dlcjIgfTtcbiogfTtcbipcbiogLy8gUmVzdW1lIHRoZSBncmFwaCBhZnRlciBmaXJzdCBpbnRlcnJ1cHRcbiogYXdhaXQgZ3JhcGguc3RyZWFtKG5ldyBDb21tYW5kKHsgcmVzdW1lOiBcImFuc3dlciAxXCIgfSkpO1xuKlxuKiAvLyBSZXN1bWUgdGhlIGdyYXBoIGFmdGVyIHNlY29uZCBpbnRlcnJ1cHRcbiogYXdhaXQgZ3JhcGguc3RyZWFtKG5ldyBDb21tYW5kKHsgcmVzdW1lOiBcImFuc3dlciAyXCIgfSkpO1xuKiAvLyBGaW5hbCByZXN1bHQ6IHsgbXlLZXk6IFwiYW5zd2VyIDEgYW5zd2VyIDJcIiB9XG4qIGBgYFxuKlxuKiBAdGhyb3dzIHtFcnJvcn0gSWYgY2FsbGVkIG91dHNpZGUgdGhlIGNvbnRleHQgb2YgYSBncmFwaFxuKiBAdGhyb3dzIHtHcmFwaEludGVycnVwdH0gV2hlbiBubyByZXN1bWUgdmFsdWUgaXMgYXZhaWxhYmxlXG4qL1xuZnVuY3Rpb24gaW50ZXJydXB0KHZhbHVlKSB7XG5cdGNvbnN0IGNvbmZpZyA9IEFzeW5jTG9jYWxTdG9yYWdlUHJvdmlkZXJTaW5nbGV0b24uZ2V0UnVubmFibGVDb25maWcoKTtcblx0aWYgKCFjb25maWcpIHRocm93IG5ldyBFcnJvcihcIkNhbGxlZCBpbnRlcnJ1cHQoKSBvdXRzaWRlIHRoZSBjb250ZXh0IG9mIGEgZ3JhcGguXCIpO1xuXHRjb25zdCBjb25mID0gY29uZmlnLmNvbmZpZ3VyYWJsZTtcblx0aWYgKCFjb25mKSB0aHJvdyBuZXcgRXJyb3IoXCJObyBjb25maWd1cmFibGUgZm91bmQgaW4gY29uZmlnXCIpO1xuXHRjb25zdCBjaGVja3BvaW50ZXIgPSBjb25mW0NPTkZJR19LRVlfQ0hFQ0tQT0lOVEVSXTtcblx0aWYgKCFjaGVja3BvaW50ZXIpIHRocm93IG5ldyBHcmFwaFZhbHVlRXJyb3IoXCJObyBjaGVja3BvaW50ZXIgc2V0XCIsIHsgbGNfZXJyb3JfY29kZTogXCJNSVNTSU5HX0NIRUNLUE9JTlRFUlwiIH0pO1xuXHRjb25zdCBzY3JhdGNocGFkID0gY29uZltDT05GSUdfS0VZX1NDUkFUQ0hQQURdO1xuXHRzY3JhdGNocGFkLmludGVycnVwdENvdW50ZXIgKz0gMTtcblx0Y29uc3QgaWR4ID0gc2NyYXRjaHBhZC5pbnRlcnJ1cHRDb3VudGVyO1xuXHRpZiAoc2NyYXRjaHBhZC5yZXN1bWUubGVuZ3RoID4gMCAmJiBpZHggPCBzY3JhdGNocGFkLnJlc3VtZS5sZW5ndGgpIHtcblx0XHRjb25mW0NPTkZJR19LRVlfU0VORF0/LihbW1JFU1VNRSwgc2NyYXRjaHBhZC5yZXN1bWVdXSk7XG5cdFx0cmV0dXJuIHNjcmF0Y2hwYWQucmVzdW1lW2lkeF07XG5cdH1cblx0aWYgKHNjcmF0Y2hwYWQubnVsbFJlc3VtZSAhPT0gdm9pZCAwKSB7XG5cdFx0aWYgKHNjcmF0Y2hwYWQucmVzdW1lLmxlbmd0aCAhPT0gaWR4KSB0aHJvdyBuZXcgRXJyb3IoYFJlc3VtZSBsZW5ndGggbWlzbWF0Y2g6ICR7c2NyYXRjaHBhZC5yZXN1bWUubGVuZ3RofSAhPT0gJHtpZHh9YCk7XG5cdFx0Y29uc3QgdiA9IHNjcmF0Y2hwYWQuY29uc3VtZU51bGxSZXN1bWUoKTtcblx0XHRzY3JhdGNocGFkLnJlc3VtZS5wdXNoKHYpO1xuXHRcdGNvbmZbQ09ORklHX0tFWV9TRU5EXT8uKFtbUkVTVU1FLCBzY3JhdGNocGFkLnJlc3VtZV1dKTtcblx0XHRyZXR1cm4gdjtcblx0fVxuXHRjb25zdCBucyA9IGNvbmZbQ09ORklHX0tFWV9DSEVDS1BPSU5UX05TXT8uc3BsaXQoQ0hFQ0tQT0lOVF9OQU1FU1BBQ0VfU0VQQVJBVE9SKTtcblx0Y29uc3QgaWQgPSBucyA/IFhYSDMobnMuam9pbihDSEVDS1BPSU5UX05BTUVTUEFDRV9TRVBBUkFUT1IpKSA6IHZvaWQgMDtcblx0dGhyb3cgbmV3IEdyYXBoSW50ZXJydXB0KFt7XG5cdFx0aWQsXG5cdFx0dmFsdWVcblx0fV0pO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IGludGVycnVwdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJydXB0LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/interrupt.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/algo.js":
/*!***********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/algo.js ***!
  \***********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _applyWrites: () => (/* binding */ _applyWrites),\n/* harmony export */   _localRead: () => (/* binding */ _localRead),\n/* harmony export */   _prepareNextTasks: () => (/* binding */ _prepareNextTasks),\n/* harmony export */   _prepareSingleTask: () => (/* binding */ _prepareSingleTask),\n/* harmony export */   increment: () => (/* binding */ increment),\n/* harmony export */   shouldInterrupt: () => (/* binding */ shouldInterrupt)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errors.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/errors.js\");\n/* harmony import */ var _channels_base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../channels/base.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/base.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/constants.js\");\n/* harmony import */ var _hash_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../hash.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/hash.js\");\n/* harmony import */ var _io_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./io.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/io.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./types.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/types.js\");\n/* harmony import */ var _utils_index_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils/index.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/utils/index.js\");\n/* harmony import */ var _call_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./call.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/call.js\");\n/* harmony import */ var _langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @langchain/langgraph-checkpoint */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph-checkpoint@1.0.0_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12__/node_modules/@langchain/langgraph-checkpoint/dist/index.js\");\n/* harmony import */ var _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @langchain/core/runnables */ \"(ssr)/./node_modules/.pnpm/@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12_/node_modules/@langchain/core/dist/runnables/index.js\");\n\n\n\n\n\n\n\n\n\n\n\n//#region src/pregel/algo.ts\nconst increment = (current) => {\n\treturn current !== void 0 ? current + 1 : 1;\n};\nfunction triggersNextStep(updatedChannels, triggerToNodes) {\n\tif (triggerToNodes == null) return false;\n\tfor (const chan of updatedChannels) if (triggerToNodes[chan]) return true;\n\treturn false;\n}\nfunction maxChannelMapVersion(channelVersions) {\n\tlet maxVersion;\n\tfor (const chan in channelVersions) {\n\t\tif (!Object.prototype.hasOwnProperty.call(channelVersions, chan)) continue;\n\t\tif (maxVersion == null) maxVersion = channelVersions[chan];\n\t\telse maxVersion = (0,_langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_8__.maxChannelVersion)(maxVersion, channelVersions[chan]);\n\t}\n\treturn maxVersion;\n}\nfunction shouldInterrupt(checkpoint, interruptNodes, tasks) {\n\tconst nullVersion = (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_6__.getNullChannelVersion)(checkpoint.channel_versions);\n\tconst seen = checkpoint.versions_seen[_constants_js__WEBPACK_IMPORTED_MODULE_2__.INTERRUPT] ?? {};\n\tlet anyChannelUpdated = false;\n\tif ((checkpoint.channel_versions[_constants_js__WEBPACK_IMPORTED_MODULE_2__.START] ?? nullVersion) > (seen[_constants_js__WEBPACK_IMPORTED_MODULE_2__.START] ?? nullVersion)) anyChannelUpdated = true;\n\telse for (const chan in checkpoint.channel_versions) {\n\t\tif (!Object.prototype.hasOwnProperty.call(checkpoint.channel_versions, chan)) continue;\n\t\tif (checkpoint.channel_versions[chan] > (seen[chan] ?? nullVersion)) {\n\t\t\tanyChannelUpdated = true;\n\t\t\tbreak;\n\t\t}\n\t}\n\tconst anyTriggeredNodeInInterruptNodes = tasks.some((task) => interruptNodes === \"*\" ? !task.config?.tags?.includes(_constants_js__WEBPACK_IMPORTED_MODULE_2__.TAG_HIDDEN) : interruptNodes.includes(task.name));\n\treturn anyChannelUpdated && anyTriggeredNodeInInterruptNodes;\n}\nfunction _localRead(checkpoint, channels, task, select, fresh = false) {\n\tlet updated = /* @__PURE__ */ new Set();\n\tif (!Array.isArray(select)) {\n\t\tfor (const [c] of task.writes) if (c === select) {\n\t\t\tupdated = new Set([c]);\n\t\t\tbreak;\n\t\t}\n\t\tupdated = updated || /* @__PURE__ */ new Set();\n\t} else updated = new Set(select.filter((c) => task.writes.some(([key, _]) => key === c)));\n\tlet values;\n\tif (fresh && updated.size > 0) {\n\t\tconst localChannels = Object.fromEntries(Object.entries(channels).filter(([k, _]) => updated.has(k)));\n\t\tconst newCheckpoint = (0,_channels_base_js__WEBPACK_IMPORTED_MODULE_1__.createCheckpoint)(checkpoint, localChannels, -1);\n\t\tconst newChannels = (0,_channels_base_js__WEBPACK_IMPORTED_MODULE_1__.emptyChannels)(localChannels, newCheckpoint);\n\t\t_applyWrites((0,_langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_8__.copyCheckpoint)(newCheckpoint), newChannels, [task], void 0, void 0);\n\t\tvalues = (0,_io_js__WEBPACK_IMPORTED_MODULE_4__.readChannels)({\n\t\t\t...channels,\n\t\t\t...newChannels\n\t\t}, select);\n\t} else values = (0,_io_js__WEBPACK_IMPORTED_MODULE_4__.readChannels)(channels, select);\n\treturn values;\n}\nfunction _localWrite(commit, processes, writes) {\n\tfor (const [chan, value] of writes) if ([_constants_js__WEBPACK_IMPORTED_MODULE_2__.PUSH, _constants_js__WEBPACK_IMPORTED_MODULE_2__.TASKS].includes(chan) && value != null) {\n\t\tif (!(0,_constants_js__WEBPACK_IMPORTED_MODULE_2__._isSend)(value)) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.InvalidUpdateError(`Invalid packet type, expected SendProtocol, got ${JSON.stringify(value)}`);\n\t\tif (!(value.node in processes)) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.InvalidUpdateError(`Invalid node name \"${value.node}\" in Send packet`);\n\t}\n\tcommit(writes);\n}\nconst IGNORE = new Set([\n\t_constants_js__WEBPACK_IMPORTED_MODULE_2__.NO_WRITES,\n\t_constants_js__WEBPACK_IMPORTED_MODULE_2__.PUSH,\n\t_constants_js__WEBPACK_IMPORTED_MODULE_2__.RESUME,\n\t_constants_js__WEBPACK_IMPORTED_MODULE_2__.INTERRUPT,\n\t_constants_js__WEBPACK_IMPORTED_MODULE_2__.RETURN,\n\t_constants_js__WEBPACK_IMPORTED_MODULE_2__.ERROR\n]);\nfunction _applyWrites(checkpoint, channels, tasks, getNextVersion, triggerToNodes) {\n\ttasks.sort((a, b) => {\n\t\tconst aPath = a.path?.slice(0, 3) || [];\n\t\tconst bPath = b.path?.slice(0, 3) || [];\n\t\tfor (let i = 0; i < Math.min(aPath.length, bPath.length); i += 1) {\n\t\t\tif (aPath[i] < bPath[i]) return -1;\n\t\t\tif (aPath[i] > bPath[i]) return 1;\n\t\t}\n\t\treturn aPath.length - bPath.length;\n\t});\n\tconst bumpStep = tasks.some((task) => task.triggers.length > 0);\n\tconst onlyChannels = (0,_channels_base_js__WEBPACK_IMPORTED_MODULE_1__.getOnlyChannels)(channels);\n\tfor (const task of tasks) {\n\t\tcheckpoint.versions_seen[task.name] ??= {};\n\t\tfor (const chan of task.triggers) if (chan in checkpoint.channel_versions) checkpoint.versions_seen[task.name][chan] = checkpoint.channel_versions[chan];\n\t}\n\tlet maxVersion = maxChannelMapVersion(checkpoint.channel_versions);\n\tconst channelsToConsume = new Set(tasks.flatMap((task) => task.triggers).filter((chan) => !_constants_js__WEBPACK_IMPORTED_MODULE_2__.RESERVED.includes(chan)));\n\tlet usedNewVersion = false;\n\tfor (const chan of channelsToConsume) if (chan in onlyChannels && onlyChannels[chan].consume()) {\n\t\tif (getNextVersion !== void 0) {\n\t\t\tcheckpoint.channel_versions[chan] = getNextVersion(maxVersion);\n\t\t\tusedNewVersion = true;\n\t\t}\n\t}\n\tconst pendingWritesByChannel = {};\n\tfor (const task of tasks) for (const [chan, val] of task.writes) if (IGNORE.has(chan)) {} else if (chan in onlyChannels) {\n\t\tpendingWritesByChannel[chan] ??= [];\n\t\tpendingWritesByChannel[chan].push(val);\n\t}\n\tif (maxVersion != null && getNextVersion != null) maxVersion = usedNewVersion ? getNextVersion(maxVersion) : maxVersion;\n\tconst updatedChannels = /* @__PURE__ */ new Set();\n\tfor (const [chan, vals] of Object.entries(pendingWritesByChannel)) if (chan in onlyChannels) {\n\t\tconst channel = onlyChannels[chan];\n\t\tlet updated;\n\t\ttry {\n\t\t\tupdated = channel.update(vals);\n\t\t} catch (e) {\n\t\t\tif (e.name === _errors_js__WEBPACK_IMPORTED_MODULE_0__.InvalidUpdateError.unminifiable_name) {\n\t\t\t\tconst wrappedError = new _errors_js__WEBPACK_IMPORTED_MODULE_0__.InvalidUpdateError(`Invalid update for channel \"${chan}\" with values ${JSON.stringify(vals)}: ${e.message}`);\n\t\t\t\twrappedError.lc_error_code = e.lc_error_code;\n\t\t\t\tthrow wrappedError;\n\t\t\t} else throw e;\n\t\t}\n\t\tif (updated && getNextVersion !== void 0) {\n\t\t\tcheckpoint.channel_versions[chan] = getNextVersion(maxVersion);\n\t\t\tif (channel.isAvailable()) updatedChannels.add(chan);\n\t\t}\n\t}\n\tif (bumpStep) for (const chan in onlyChannels) {\n\t\tif (!Object.prototype.hasOwnProperty.call(onlyChannels, chan)) continue;\n\t\tconst channel = onlyChannels[chan];\n\t\tif (channel.isAvailable() && !updatedChannels.has(chan)) {\n\t\t\tconst updated = channel.update([]);\n\t\t\tif (updated && getNextVersion !== void 0) {\n\t\t\t\tcheckpoint.channel_versions[chan] = getNextVersion(maxVersion);\n\t\t\t\tif (channel.isAvailable()) updatedChannels.add(chan);\n\t\t\t}\n\t\t}\n\t}\n\tif (bumpStep && !triggersNextStep(updatedChannels, triggerToNodes)) for (const chan in onlyChannels) {\n\t\tif (!Object.prototype.hasOwnProperty.call(onlyChannels, chan)) continue;\n\t\tconst channel = onlyChannels[chan];\n\t\tif (channel.finish() && getNextVersion !== void 0) {\n\t\t\tcheckpoint.channel_versions[chan] = getNextVersion(maxVersion);\n\t\t\tif (channel.isAvailable()) updatedChannels.add(chan);\n\t\t}\n\t}\n\treturn updatedChannels;\n}\nfunction* candidateNodes(checkpoint, processes, extra) {\n\tif (extra.updatedChannels != null && extra.triggerToNodes != null) {\n\t\tconst triggeredNodes = /* @__PURE__ */ new Set();\n\t\tfor (const channel of extra.updatedChannels) {\n\t\t\tconst nodeIds = extra.triggerToNodes[channel];\n\t\t\tfor (const id of nodeIds ?? []) triggeredNodes.add(id);\n\t\t}\n\t\tyield* [...triggeredNodes].sort();\n\t\treturn;\n\t}\n\tconst isEmptyChannelVersions = (() => {\n\t\tfor (const chan in checkpoint.channel_versions) if (checkpoint.channel_versions[chan] !== null) return false;\n\t\treturn true;\n\t})();\n\tif (isEmptyChannelVersions) return;\n\tfor (const name in processes) {\n\t\tif (!Object.prototype.hasOwnProperty.call(processes, name)) continue;\n\t\tyield name;\n\t}\n}\n/**\n* Prepare the set of tasks that will make up the next Pregel step.\n* This is the union of all PUSH tasks (Sends) and PULL tasks (nodes triggered\n* by edges).\n*/\nfunction _prepareNextTasks(checkpoint, pendingWrites, processes, channels, config, forExecution, extra) {\n\tconst tasks = {};\n\tconst tasksChannel = channels[_constants_js__WEBPACK_IMPORTED_MODULE_2__.TASKS];\n\tif (tasksChannel?.isAvailable()) {\n\t\tconst len = tasksChannel.get().length;\n\t\tfor (let i = 0; i < len; i += 1) {\n\t\t\tconst task = _prepareSingleTask([_constants_js__WEBPACK_IMPORTED_MODULE_2__.PUSH, i], checkpoint, pendingWrites, processes, channels, config, forExecution, extra);\n\t\t\tif (task !== void 0) tasks[task.id] = task;\n\t\t}\n\t}\n\tfor (const name of candidateNodes(checkpoint, processes, extra)) {\n\t\tconst task = _prepareSingleTask([_constants_js__WEBPACK_IMPORTED_MODULE_2__.PULL, name], checkpoint, pendingWrites, processes, channels, config, forExecution, extra);\n\t\tif (task !== void 0) tasks[task.id] = task;\n\t}\n\treturn tasks;\n}\n/**\n* Prepares a single task for the next Pregel step, given a task path, which\n* uniquely identifies a PUSH or PULL task within the graph.\n*/\nfunction _prepareSingleTask(taskPath, checkpoint, pendingWrites, processes, channels, config, forExecution, extra) {\n\tconst { step, checkpointer, manager } = extra;\n\tconst configurable = config.configurable ?? {};\n\tconst parentNamespace = configurable.checkpoint_ns ?? \"\";\n\tif (taskPath[0] === _constants_js__WEBPACK_IMPORTED_MODULE_2__.PUSH && (0,_types_js__WEBPACK_IMPORTED_MODULE_5__.isCall)(taskPath[taskPath.length - 1])) {\n\t\tconst call = taskPath[taskPath.length - 1];\n\t\tconst proc = (0,_call_js__WEBPACK_IMPORTED_MODULE_7__.getRunnableForFunc)(call.name, call.func);\n\t\tconst triggers = [_constants_js__WEBPACK_IMPORTED_MODULE_2__.PUSH];\n\t\tconst checkpointNamespace = parentNamespace === \"\" ? call.name : `${parentNamespace}${_constants_js__WEBPACK_IMPORTED_MODULE_2__.CHECKPOINT_NAMESPACE_SEPARATOR}${call.name}`;\n\t\tconst id = (0,_langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_8__.uuid5)(JSON.stringify([\n\t\t\tcheckpointNamespace,\n\t\t\tstep.toString(),\n\t\t\tcall.name,\n\t\t\t_constants_js__WEBPACK_IMPORTED_MODULE_2__.PUSH,\n\t\t\ttaskPath[1],\n\t\t\ttaskPath[2]\n\t\t]), checkpoint.id);\n\t\tconst taskCheckpointNamespace = `${checkpointNamespace}${_constants_js__WEBPACK_IMPORTED_MODULE_2__.CHECKPOINT_NAMESPACE_END}${id}`;\n\t\tconst outputTaskPath = [...taskPath.slice(0, 3), true];\n\t\tconst metadata = {\n\t\t\tlanggraph_step: step,\n\t\t\tlanggraph_node: call.name,\n\t\t\tlanggraph_triggers: triggers,\n\t\t\tlanggraph_path: outputTaskPath,\n\t\t\tlanggraph_checkpoint_ns: taskCheckpointNamespace\n\t\t};\n\t\tif (forExecution) {\n\t\t\tconst writes = [];\n\t\t\tconst task = {\n\t\t\t\tname: call.name,\n\t\t\t\tinput: call.input,\n\t\t\t\tproc,\n\t\t\t\twrites,\n\t\t\t\tconfig: (0,_langchain_core_runnables__WEBPACK_IMPORTED_MODULE_9__.patchConfig)((0,_langchain_core_runnables__WEBPACK_IMPORTED_MODULE_9__.mergeConfigs)(config, {\n\t\t\t\t\tmetadata,\n\t\t\t\t\tstore: extra.store ?? config.store\n\t\t\t\t}), {\n\t\t\t\t\trunName: call.name,\n\t\t\t\t\tcallbacks: manager?.getChild(`graph:step:${step}`),\n\t\t\t\t\tconfigurable: {\n\t\t\t\t\t\t[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_TASK_ID]: id,\n\t\t\t\t\t\t[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_SEND]: (writes_) => _localWrite((items) => writes.push(...items), processes, writes_),\n\t\t\t\t\t\t[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_READ]: (select_, fresh_ = false) => _localRead(checkpoint, channels, {\n\t\t\t\t\t\t\tname: call.name,\n\t\t\t\t\t\t\twrites,\n\t\t\t\t\t\t\ttriggers,\n\t\t\t\t\t\t\tpath: outputTaskPath\n\t\t\t\t\t\t}, select_, fresh_),\n\t\t\t\t\t\t[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_CHECKPOINTER]: checkpointer ?? configurable[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_CHECKPOINTER],\n\t\t\t\t\t\t[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_CHECKPOINT_MAP]: {\n\t\t\t\t\t\t\t...configurable[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_CHECKPOINT_MAP],\n\t\t\t\t\t\t\t[parentNamespace]: checkpoint.id\n\t\t\t\t\t\t},\n\t\t\t\t\t\t[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_SCRATCHPAD]: _scratchpad({\n\t\t\t\t\t\t\tpendingWrites: pendingWrites ?? [],\n\t\t\t\t\t\t\ttaskId: id,\n\t\t\t\t\t\t\tcurrentTaskInput: call.input,\n\t\t\t\t\t\t\tresumeMap: config.configurable?.[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_RESUME_MAP],\n\t\t\t\t\t\t\tnamespaceHash: (0,_hash_js__WEBPACK_IMPORTED_MODULE_3__.XXH3)(taskCheckpointNamespace)\n\t\t\t\t\t\t}),\n\t\t\t\t\t\t[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_PREVIOUS_STATE]: checkpoint.channel_values[_constants_js__WEBPACK_IMPORTED_MODULE_2__.PREVIOUS],\n\t\t\t\t\t\tcheckpoint_id: void 0,\n\t\t\t\t\t\tcheckpoint_ns: taskCheckpointNamespace\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\ttriggers,\n\t\t\t\tretry_policy: call.retry,\n\t\t\t\tcache_key: call.cache ? {\n\t\t\t\t\tkey: (0,_hash_js__WEBPACK_IMPORTED_MODULE_3__.XXH3)((call.cache.keyFunc ?? JSON.stringify)([call.input])),\n\t\t\t\t\tns: [_constants_js__WEBPACK_IMPORTED_MODULE_2__.CACHE_NS_WRITES, call.name ?? \"__dynamic__\"],\n\t\t\t\t\tttl: call.cache.ttl\n\t\t\t\t} : void 0,\n\t\t\t\tid,\n\t\t\t\tpath: outputTaskPath,\n\t\t\t\twriters: []\n\t\t\t};\n\t\t\treturn task;\n\t\t} else return {\n\t\t\tid,\n\t\t\tname: call.name,\n\t\t\tinterrupts: [],\n\t\t\tpath: outputTaskPath\n\t\t};\n\t} else if (taskPath[0] === _constants_js__WEBPACK_IMPORTED_MODULE_2__.PUSH) {\n\t\tconst index = typeof taskPath[1] === \"number\" ? taskPath[1] : parseInt(taskPath[1], 10);\n\t\tif (!channels[_constants_js__WEBPACK_IMPORTED_MODULE_2__.TASKS]?.isAvailable()) return void 0;\n\t\tconst sends = channels[_constants_js__WEBPACK_IMPORTED_MODULE_2__.TASKS].get();\n\t\tif (index < 0 || index >= sends.length) return void 0;\n\t\tconst packet = (0,_constants_js__WEBPACK_IMPORTED_MODULE_2__._isSendInterface)(sends[index]) && !(0,_constants_js__WEBPACK_IMPORTED_MODULE_2__._isSend)(sends[index]) ? new _constants_js__WEBPACK_IMPORTED_MODULE_2__.Send(sends[index].node, sends[index].args) : sends[index];\n\t\tif (!(0,_constants_js__WEBPACK_IMPORTED_MODULE_2__._isSendInterface)(packet)) {\n\t\t\tconsole.warn(`Ignoring invalid packet ${JSON.stringify(packet)} in pending sends.`);\n\t\t\treturn void 0;\n\t\t}\n\t\tif (!(packet.node in processes)) {\n\t\t\tconsole.warn(`Ignoring unknown node name ${packet.node} in pending sends.`);\n\t\t\treturn void 0;\n\t\t}\n\t\tconst triggers = [_constants_js__WEBPACK_IMPORTED_MODULE_2__.PUSH];\n\t\tconst checkpointNamespace = parentNamespace === \"\" ? packet.node : `${parentNamespace}${_constants_js__WEBPACK_IMPORTED_MODULE_2__.CHECKPOINT_NAMESPACE_SEPARATOR}${packet.node}`;\n\t\tconst taskId = (0,_langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_8__.uuid5)(JSON.stringify([\n\t\t\tcheckpointNamespace,\n\t\t\tstep.toString(),\n\t\t\tpacket.node,\n\t\t\t_constants_js__WEBPACK_IMPORTED_MODULE_2__.PUSH,\n\t\t\tindex.toString()\n\t\t]), checkpoint.id);\n\t\tconst taskCheckpointNamespace = `${checkpointNamespace}${_constants_js__WEBPACK_IMPORTED_MODULE_2__.CHECKPOINT_NAMESPACE_END}${taskId}`;\n\t\tlet metadata = {\n\t\t\tlanggraph_step: step,\n\t\t\tlanggraph_node: packet.node,\n\t\t\tlanggraph_triggers: triggers,\n\t\t\tlanggraph_path: taskPath.slice(0, 3),\n\t\t\tlanggraph_checkpoint_ns: taskCheckpointNamespace\n\t\t};\n\t\tif (forExecution) {\n\t\t\tconst proc = processes[packet.node];\n\t\t\tconst node = proc.getNode();\n\t\t\tif (node !== void 0) {\n\t\t\t\tif (proc.metadata !== void 0) metadata = {\n\t\t\t\t\t...metadata,\n\t\t\t\t\t...proc.metadata\n\t\t\t\t};\n\t\t\t\tconst writes = [];\n\t\t\t\treturn {\n\t\t\t\t\tname: packet.node,\n\t\t\t\t\tinput: packet.args,\n\t\t\t\t\tproc: node,\n\t\t\t\t\tsubgraphs: proc.subgraphs,\n\t\t\t\t\twrites,\n\t\t\t\t\tconfig: (0,_langchain_core_runnables__WEBPACK_IMPORTED_MODULE_9__.patchConfig)((0,_langchain_core_runnables__WEBPACK_IMPORTED_MODULE_9__.mergeConfigs)(config, {\n\t\t\t\t\t\tmetadata,\n\t\t\t\t\t\ttags: proc.tags,\n\t\t\t\t\t\tstore: extra.store ?? config.store\n\t\t\t\t\t}), {\n\t\t\t\t\t\trunName: packet.node,\n\t\t\t\t\t\tcallbacks: manager?.getChild(`graph:step:${step}`),\n\t\t\t\t\t\tconfigurable: {\n\t\t\t\t\t\t\t[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_TASK_ID]: taskId,\n\t\t\t\t\t\t\t[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_SEND]: (writes_) => _localWrite((items) => writes.push(...items), processes, writes_),\n\t\t\t\t\t\t\t[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_READ]: (select_, fresh_ = false) => _localRead(checkpoint, channels, {\n\t\t\t\t\t\t\t\tname: packet.node,\n\t\t\t\t\t\t\t\twrites,\n\t\t\t\t\t\t\t\ttriggers,\n\t\t\t\t\t\t\t\tpath: taskPath\n\t\t\t\t\t\t\t}, select_, fresh_),\n\t\t\t\t\t\t\t[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_CHECKPOINTER]: checkpointer ?? configurable[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_CHECKPOINTER],\n\t\t\t\t\t\t\t[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_CHECKPOINT_MAP]: {\n\t\t\t\t\t\t\t\t...configurable[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_CHECKPOINT_MAP],\n\t\t\t\t\t\t\t\t[parentNamespace]: checkpoint.id\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_SCRATCHPAD]: _scratchpad({\n\t\t\t\t\t\t\t\tpendingWrites: pendingWrites ?? [],\n\t\t\t\t\t\t\t\ttaskId,\n\t\t\t\t\t\t\t\tcurrentTaskInput: packet.args,\n\t\t\t\t\t\t\t\tresumeMap: config.configurable?.[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_RESUME_MAP],\n\t\t\t\t\t\t\t\tnamespaceHash: (0,_hash_js__WEBPACK_IMPORTED_MODULE_3__.XXH3)(taskCheckpointNamespace)\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_PREVIOUS_STATE]: checkpoint.channel_values[_constants_js__WEBPACK_IMPORTED_MODULE_2__.PREVIOUS],\n\t\t\t\t\t\t\tcheckpoint_id: void 0,\n\t\t\t\t\t\t\tcheckpoint_ns: taskCheckpointNamespace\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t\ttriggers,\n\t\t\t\t\tretry_policy: proc.retryPolicy,\n\t\t\t\t\tcache_key: proc.cachePolicy ? {\n\t\t\t\t\t\tkey: (0,_hash_js__WEBPACK_IMPORTED_MODULE_3__.XXH3)((proc.cachePolicy.keyFunc ?? JSON.stringify)([packet.args])),\n\t\t\t\t\t\tns: [\n\t\t\t\t\t\t\t_constants_js__WEBPACK_IMPORTED_MODULE_2__.CACHE_NS_WRITES,\n\t\t\t\t\t\t\tproc.name ?? \"__dynamic__\",\n\t\t\t\t\t\t\tpacket.node\n\t\t\t\t\t\t],\n\t\t\t\t\t\tttl: proc.cachePolicy.ttl\n\t\t\t\t\t} : void 0,\n\t\t\t\t\tid: taskId,\n\t\t\t\t\tpath: taskPath,\n\t\t\t\t\twriters: proc.getWriters()\n\t\t\t\t};\n\t\t\t}\n\t\t} else return {\n\t\t\tid: taskId,\n\t\t\tname: packet.node,\n\t\t\tinterrupts: [],\n\t\t\tpath: taskPath\n\t\t};\n\t} else if (taskPath[0] === _constants_js__WEBPACK_IMPORTED_MODULE_2__.PULL) {\n\t\tconst name = taskPath[1].toString();\n\t\tconst proc = processes[name];\n\t\tif (proc === void 0) return void 0;\n\t\tif (pendingWrites?.length) {\n\t\t\tconst checkpointNamespace = parentNamespace === \"\" ? name : `${parentNamespace}${_constants_js__WEBPACK_IMPORTED_MODULE_2__.CHECKPOINT_NAMESPACE_SEPARATOR}${name}`;\n\t\t\tconst taskId = (0,_langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_8__.uuid5)(JSON.stringify([\n\t\t\t\tcheckpointNamespace,\n\t\t\t\tstep.toString(),\n\t\t\t\tname,\n\t\t\t\t_constants_js__WEBPACK_IMPORTED_MODULE_2__.PULL,\n\t\t\t\tname\n\t\t\t]), checkpoint.id);\n\t\t\tconst hasSuccessfulWrites = pendingWrites.some((w) => w[0] === taskId && w[1] !== _constants_js__WEBPACK_IMPORTED_MODULE_2__.ERROR);\n\t\t\tif (hasSuccessfulWrites) return void 0;\n\t\t}\n\t\tconst nullVersion = (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_6__.getNullChannelVersion)(checkpoint.channel_versions);\n\t\tif (nullVersion === void 0) return void 0;\n\t\tconst seen = checkpoint.versions_seen[name] ?? {};\n\t\tconst trigger = proc.triggers.find((chan) => {\n\t\t\tif (!channels[chan].isAvailable()) return false;\n\t\t\treturn (checkpoint.channel_versions[chan] ?? nullVersion) > (seen[chan] ?? nullVersion);\n\t\t});\n\t\tif (trigger !== void 0) {\n\t\t\tconst val = _procInput(proc, channels, forExecution);\n\t\t\tif (val === void 0) return void 0;\n\t\t\tconst checkpointNamespace = parentNamespace === \"\" ? name : `${parentNamespace}${_constants_js__WEBPACK_IMPORTED_MODULE_2__.CHECKPOINT_NAMESPACE_SEPARATOR}${name}`;\n\t\t\tconst taskId = (0,_langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_8__.uuid5)(JSON.stringify([\n\t\t\t\tcheckpointNamespace,\n\t\t\t\tstep.toString(),\n\t\t\t\tname,\n\t\t\t\t_constants_js__WEBPACK_IMPORTED_MODULE_2__.PULL,\n\t\t\t\t[trigger]\n\t\t\t]), checkpoint.id);\n\t\t\tconst taskCheckpointNamespace = `${checkpointNamespace}${_constants_js__WEBPACK_IMPORTED_MODULE_2__.CHECKPOINT_NAMESPACE_END}${taskId}`;\n\t\t\tlet metadata = {\n\t\t\t\tlanggraph_step: step,\n\t\t\t\tlanggraph_node: name,\n\t\t\t\tlanggraph_triggers: [trigger],\n\t\t\t\tlanggraph_path: taskPath,\n\t\t\t\tlanggraph_checkpoint_ns: taskCheckpointNamespace\n\t\t\t};\n\t\t\tif (forExecution) {\n\t\t\t\tconst node = proc.getNode();\n\t\t\t\tif (node !== void 0) {\n\t\t\t\t\tif (proc.metadata !== void 0) metadata = {\n\t\t\t\t\t\t...metadata,\n\t\t\t\t\t\t...proc.metadata\n\t\t\t\t\t};\n\t\t\t\t\tconst writes = [];\n\t\t\t\t\treturn {\n\t\t\t\t\t\tname,\n\t\t\t\t\t\tinput: val,\n\t\t\t\t\t\tproc: node,\n\t\t\t\t\t\tsubgraphs: proc.subgraphs,\n\t\t\t\t\t\twrites,\n\t\t\t\t\t\tconfig: (0,_langchain_core_runnables__WEBPACK_IMPORTED_MODULE_9__.patchConfig)((0,_langchain_core_runnables__WEBPACK_IMPORTED_MODULE_9__.mergeConfigs)(config, {\n\t\t\t\t\t\t\tmetadata,\n\t\t\t\t\t\t\ttags: proc.tags,\n\t\t\t\t\t\t\tstore: extra.store ?? config.store\n\t\t\t\t\t\t}), {\n\t\t\t\t\t\t\trunName: name,\n\t\t\t\t\t\t\tcallbacks: manager?.getChild(`graph:step:${step}`),\n\t\t\t\t\t\t\tconfigurable: {\n\t\t\t\t\t\t\t\t[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_TASK_ID]: taskId,\n\t\t\t\t\t\t\t\t[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_SEND]: (writes_) => _localWrite((items) => {\n\t\t\t\t\t\t\t\t\twrites.push(...items);\n\t\t\t\t\t\t\t\t}, processes, writes_),\n\t\t\t\t\t\t\t\t[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_READ]: (select_, fresh_ = false) => _localRead(checkpoint, channels, {\n\t\t\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\t\t\twrites,\n\t\t\t\t\t\t\t\t\ttriggers: [trigger],\n\t\t\t\t\t\t\t\t\tpath: taskPath\n\t\t\t\t\t\t\t\t}, select_, fresh_),\n\t\t\t\t\t\t\t\t[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_CHECKPOINTER]: checkpointer ?? configurable[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_CHECKPOINTER],\n\t\t\t\t\t\t\t\t[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_CHECKPOINT_MAP]: {\n\t\t\t\t\t\t\t\t\t...configurable[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_CHECKPOINT_MAP],\n\t\t\t\t\t\t\t\t\t[parentNamespace]: checkpoint.id\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_SCRATCHPAD]: _scratchpad({\n\t\t\t\t\t\t\t\t\tpendingWrites: pendingWrites ?? [],\n\t\t\t\t\t\t\t\t\ttaskId,\n\t\t\t\t\t\t\t\t\tcurrentTaskInput: val,\n\t\t\t\t\t\t\t\t\tresumeMap: config.configurable?.[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_RESUME_MAP],\n\t\t\t\t\t\t\t\t\tnamespaceHash: (0,_hash_js__WEBPACK_IMPORTED_MODULE_3__.XXH3)(taskCheckpointNamespace)\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_PREVIOUS_STATE]: checkpoint.channel_values[_constants_js__WEBPACK_IMPORTED_MODULE_2__.PREVIOUS],\n\t\t\t\t\t\t\t\tcheckpoint_id: void 0,\n\t\t\t\t\t\t\t\tcheckpoint_ns: taskCheckpointNamespace\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}),\n\t\t\t\t\t\ttriggers: [trigger],\n\t\t\t\t\t\tretry_policy: proc.retryPolicy,\n\t\t\t\t\t\tcache_key: proc.cachePolicy ? {\n\t\t\t\t\t\t\tkey: (0,_hash_js__WEBPACK_IMPORTED_MODULE_3__.XXH3)((proc.cachePolicy.keyFunc ?? JSON.stringify)([val])),\n\t\t\t\t\t\t\tns: [\n\t\t\t\t\t\t\t\t_constants_js__WEBPACK_IMPORTED_MODULE_2__.CACHE_NS_WRITES,\n\t\t\t\t\t\t\t\tproc.name ?? \"__dynamic__\",\n\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tttl: proc.cachePolicy.ttl\n\t\t\t\t\t\t} : void 0,\n\t\t\t\t\t\tid: taskId,\n\t\t\t\t\t\tpath: taskPath,\n\t\t\t\t\t\twriters: proc.getWriters()\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t} else return {\n\t\t\t\tid: taskId,\n\t\t\t\tname,\n\t\t\t\tinterrupts: [],\n\t\t\t\tpath: taskPath\n\t\t\t};\n\t\t}\n\t}\n\treturn void 0;\n}\n/**\n*  Function injected under CONFIG_KEY_READ in task config, to read current state.\n*  Used by conditional edges to read a copy of the state with reflecting the writes\n*  from that node only.\n*\n* @internal\n*/\nfunction _procInput(proc, channels, forExecution) {\n\tlet val;\n\tif (typeof proc.channels === \"object\" && !Array.isArray(proc.channels)) {\n\t\tval = {};\n\t\tfor (const [k, chan] of Object.entries(proc.channels)) if (proc.triggers.includes(chan)) try {\n\t\t\tval[k] = (0,_io_js__WEBPACK_IMPORTED_MODULE_4__.readChannel)(channels, chan, false);\n\t\t} catch (e) {\n\t\t\tif (e.name === _errors_js__WEBPACK_IMPORTED_MODULE_0__.EmptyChannelError.unminifiable_name) return void 0;\n\t\t\telse throw e;\n\t\t}\n\t\telse if (chan in channels) try {\n\t\t\tval[k] = (0,_io_js__WEBPACK_IMPORTED_MODULE_4__.readChannel)(channels, chan, false);\n\t\t} catch (e) {\n\t\t\tif (e.name === _errors_js__WEBPACK_IMPORTED_MODULE_0__.EmptyChannelError.unminifiable_name) continue;\n\t\t\telse throw e;\n\t\t}\n\t} else if (Array.isArray(proc.channels)) {\n\t\tlet successfulRead = false;\n\t\tfor (const chan of proc.channels) try {\n\t\t\tval = (0,_io_js__WEBPACK_IMPORTED_MODULE_4__.readChannel)(channels, chan, false);\n\t\t\tsuccessfulRead = true;\n\t\t\tbreak;\n\t\t} catch (e) {\n\t\t\tif (e.name === _errors_js__WEBPACK_IMPORTED_MODULE_0__.EmptyChannelError.unminifiable_name) continue;\n\t\t\telse throw e;\n\t\t}\n\t\tif (!successfulRead) return void 0;\n\t} else throw new Error(`Invalid channels type, expected list or dict, got ${proc.channels}`);\n\tif (forExecution && proc.mapper !== void 0) val = proc.mapper(val);\n\treturn val;\n}\nfunction _scratchpad({ pendingWrites, taskId, currentTaskInput, resumeMap, namespaceHash }) {\n\tconst nullResume = pendingWrites.find(([writeTaskId, chan]) => writeTaskId === _constants_js__WEBPACK_IMPORTED_MODULE_2__.NULL_TASK_ID && chan === _constants_js__WEBPACK_IMPORTED_MODULE_2__.RESUME)?.[2];\n\tconst resume = (() => {\n\t\tconst result = pendingWrites.filter(([writeTaskId, chan]) => writeTaskId === taskId && chan === _constants_js__WEBPACK_IMPORTED_MODULE_2__.RESUME).flatMap(([_writeTaskId, _chan, resume$1]) => resume$1);\n\t\tif (resumeMap != null && namespaceHash in resumeMap) {\n\t\t\tconst mappedResume = resumeMap[namespaceHash];\n\t\t\tresult.push(mappedResume);\n\t\t}\n\t\treturn result;\n\t})();\n\tconst scratchpad = {\n\t\tcallCounter: 0,\n\t\tinterruptCounter: -1,\n\t\tresume,\n\t\tnullResume,\n\t\tsubgraphCounter: 0,\n\t\tcurrentTaskInput,\n\t\tconsumeNullResume: () => {\n\t\t\tif (scratchpad.nullResume) {\n\t\t\t\tdelete scratchpad.nullResume;\n\t\t\t\tpendingWrites.splice(pendingWrites.findIndex(([writeTaskId, chan]) => writeTaskId === _constants_js__WEBPACK_IMPORTED_MODULE_2__.NULL_TASK_ID && chan === _constants_js__WEBPACK_IMPORTED_MODULE_2__.RESUME), 1);\n\t\t\t\treturn nullResume;\n\t\t\t}\n\t\t\treturn void 0;\n\t\t}\n\t};\n\treturn scratchpad;\n}\n\n//#endregion\n\n//# sourceMappingURL=algo.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L3ByZWdlbC9hbGdvLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBcUU7QUFDa0I7QUFDOFY7QUFDblo7QUFDa0I7QUFDaEI7QUFDcUI7QUFDVjtBQUM0QztBQUNyQjs7QUFFdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixrRkFBaUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsc0VBQXFCO0FBQzFDLHVDQUF1QyxvREFBUztBQUNoRDtBQUNBLGtDQUFrQyxnREFBSywwQkFBMEIsZ0RBQUs7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxSEFBcUgscURBQVU7QUFDL0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLG1FQUFnQjtBQUN4QyxzQkFBc0IsZ0VBQWE7QUFDbkMsZUFBZSwrRUFBYztBQUM3QixXQUFXLG9EQUFZO0FBQ3ZCO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsR0FBRyxjQUFjLG9EQUFZO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQywrQ0FBSSxFQUFFLGdEQUFLO0FBQ3JELE9BQU8sc0RBQU8sbUJBQW1CLDBEQUFrQixvREFBb0Qsc0JBQXNCO0FBQzdILDRDQUE0QywwREFBa0IsdUJBQXVCLFdBQVc7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLG9EQUFTO0FBQ1YsQ0FBQywrQ0FBSTtBQUNMLENBQUMsaURBQU07QUFDUCxDQUFDLG9EQUFTO0FBQ1YsQ0FBQyxpREFBTTtBQUNQLENBQUMsZ0RBQUs7QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLDBDQUEwQztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBLHNCQUFzQixrRUFBZTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEZBQTRGLG1EQUFRO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRkFBMkY7QUFDM0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osa0JBQWtCLDBEQUFrQjtBQUNwQyw2QkFBNkIsMERBQWtCLGdDQUFnQyxLQUFLLGdCQUFnQixxQkFBcUIsSUFBSSxVQUFVO0FBQ3ZJO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsZ0RBQUs7QUFDcEM7QUFDQTtBQUNBLGtCQUFrQixTQUFTO0FBQzNCLG9DQUFvQywrQ0FBSTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQywrQ0FBSTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDhCQUE4QjtBQUN2QztBQUNBO0FBQ0EscUJBQXFCLCtDQUFJLElBQUksaURBQU07QUFDbkM7QUFDQSxlQUFlLDREQUFrQjtBQUNqQyxvQkFBb0IsK0NBQUk7QUFDeEIsc0VBQXNFLGdCQUFnQixFQUFFLHlFQUE4QixDQUFDLEVBQUUsVUFBVTtBQUNuSSxhQUFhLHNFQUFLO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLEdBQUcsK0NBQUk7QUFDUDtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsb0JBQW9CLEVBQUUsbUVBQXdCLENBQUMsRUFBRSxHQUFHO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksc0VBQVcsQ0FBQyx1RUFBWTtBQUNwQztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsZ0RBQWdELEtBQUs7QUFDckQ7QUFDQSxPQUFPLDZEQUFrQjtBQUN6QixPQUFPLDBEQUFlO0FBQ3RCLE9BQU8sMERBQWU7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsT0FBTyxrRUFBdUIsZ0NBQWdDLGtFQUF1QjtBQUNyRixPQUFPLG9FQUF5QjtBQUNoQyx1QkFBdUIsb0VBQXlCO0FBQ2hEO0FBQ0EsT0FBTztBQUNQLE9BQU8sZ0VBQXFCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxnRUFBcUI7QUFDN0Qsc0JBQXNCLDhDQUFJO0FBQzFCLE9BQU87QUFDUCxPQUFPLG9FQUF5Qiw2QkFBNkIsbURBQVE7QUFDckU7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFVBQVUsOENBQUk7QUFDZCxVQUFVLDBEQUFlO0FBQ3pCO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcseUJBQXlCLCtDQUFJO0FBQ2hDO0FBQ0EsZ0JBQWdCLGdEQUFLO0FBQ3JCLHlCQUF5QixnREFBSztBQUM5QjtBQUNBLGlCQUFpQiwrREFBZ0IsbUJBQW1CLHNEQUFPLHFCQUFxQiwrQ0FBSTtBQUNwRixPQUFPLCtEQUFnQjtBQUN2QiwyQ0FBMkMsd0JBQXdCO0FBQ25FO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxhQUFhO0FBQzNEO0FBQ0E7QUFDQSxvQkFBb0IsK0NBQUk7QUFDeEIsd0VBQXdFLGdCQUFnQixFQUFFLHlFQUE4QixDQUFDLEVBQUUsWUFBWTtBQUN2SSxpQkFBaUIsc0VBQUs7QUFDdEI7QUFDQTtBQUNBO0FBQ0EsR0FBRywrQ0FBSTtBQUNQO0FBQ0E7QUFDQSxxQ0FBcUMsb0JBQW9CLEVBQUUsbUVBQXdCLENBQUMsRUFBRSxPQUFPO0FBQzdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxzRUFBVyxDQUFDLHVFQUFZO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLGlEQUFpRCxLQUFLO0FBQ3REO0FBQ0EsUUFBUSw2REFBa0I7QUFDMUIsUUFBUSwwREFBZTtBQUN2QixRQUFRLDBEQUFlO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSLFFBQVEsa0VBQXVCLGdDQUFnQyxrRUFBdUI7QUFDdEYsUUFBUSxvRUFBeUI7QUFDakMsd0JBQXdCLG9FQUF5QjtBQUNqRDtBQUNBLFFBQVE7QUFDUixRQUFRLGdFQUFxQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsZ0VBQXFCO0FBQzlELHVCQUF1Qiw4Q0FBSTtBQUMzQixRQUFRO0FBQ1IsUUFBUSxvRUFBeUIsNkJBQTZCLG1EQUFRO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxXQUFXLDhDQUFJO0FBQ2Y7QUFDQSxPQUFPLDBEQUFlO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcseUJBQXlCLCtDQUFJO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLGdCQUFnQixFQUFFLHlFQUE4QixDQUFDLEVBQUUsS0FBSztBQUMxSCxrQkFBa0Isc0VBQUs7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsSUFBSSwrQ0FBSTtBQUNSO0FBQ0E7QUFDQSxxRkFBcUYsZ0RBQUs7QUFDMUY7QUFDQTtBQUNBLHNCQUFzQixzRUFBcUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxrRUFBa0UsZ0JBQWdCLEVBQUUseUVBQThCLENBQUMsRUFBRSxLQUFLO0FBQzFILGtCQUFrQixzRUFBSztBQUN2QjtBQUNBO0FBQ0E7QUFDQSxJQUFJLCtDQUFJO0FBQ1I7QUFDQTtBQUNBLHNDQUFzQyxvQkFBb0IsRUFBRSxtRUFBd0IsQ0FBQyxFQUFFLE9BQU87QUFDOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxzRUFBVyxDQUFDLHVFQUFZO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLGtEQUFrRCxLQUFLO0FBQ3ZEO0FBQ0EsU0FBUyw2REFBa0I7QUFDM0IsU0FBUywwREFBZTtBQUN4QjtBQUNBLFNBQVM7QUFDVCxTQUFTLDBEQUFlO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFNBQVMsa0VBQXVCLGdDQUFnQyxrRUFBdUI7QUFDdkYsU0FBUyxvRUFBeUI7QUFDbEMseUJBQXlCLG9FQUF5QjtBQUNsRDtBQUNBLFNBQVM7QUFDVCxTQUFTLGdFQUFxQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsZ0VBQXFCO0FBQy9ELHdCQUF3Qiw4Q0FBSTtBQUM1QixTQUFTO0FBQ1QsU0FBUyxvRUFBeUIsNkJBQTZCLG1EQUFRO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxZQUFZLDhDQUFJO0FBQ2hCO0FBQ0EsUUFBUSwwREFBZTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksbURBQVc7QUFDdkIsSUFBSTtBQUNKLGtCQUFrQix5REFBaUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0EsWUFBWSxtREFBVztBQUN2QixJQUFJO0FBQ0osa0JBQWtCLHlEQUFpQjtBQUNuQztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxTQUFTLG1EQUFXO0FBQ3BCO0FBQ0E7QUFDQSxJQUFJO0FBQ0osa0JBQWtCLHlEQUFpQjtBQUNuQztBQUNBO0FBQ0E7QUFDQSxHQUFHLDBFQUEwRSxjQUFjO0FBQzNGO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixtRUFBbUU7QUFDMUYsZ0ZBQWdGLHVEQUFZLGFBQWEsaURBQU07QUFDL0c7QUFDQSxrR0FBa0csaURBQU07QUFDeEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBGQUEwRix1REFBWSxhQUFhLGlEQUFNO0FBQ3pIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3VHO0FBQ3ZHIiwic291cmNlcyI6WyIvVXNlcnMvam9iL0Rlc2t0b3AvcHJvamVjdF94L3Byb2plY3Qtc3FsLWFnZW50L3NlcnZpY2VzL2Zyb250ZW5kL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2xhbmdncmFwaEAxLjAuMV9AbGFuZ2NoYWluK2NvcmVAMS4wLjJfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEA0LjEuMTJfX19fZWZhNGU4Zjg2NTU4ZTVkMjllYmRlYzNkMmYwMDRlZDkvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vbGFuZ2dyYXBoL2Rpc3QvcHJlZ2VsL2FsZ28uanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRW1wdHlDaGFubmVsRXJyb3IsIEludmFsaWRVcGRhdGVFcnJvciB9IGZyb20gXCIuLi9lcnJvcnMuanNcIjtcbmltcG9ydCB7IGNyZWF0ZUNoZWNrcG9pbnQsIGVtcHR5Q2hhbm5lbHMsIGdldE9ubHlDaGFubmVscyB9IGZyb20gXCIuLi9jaGFubmVscy9iYXNlLmpzXCI7XG5pbXBvcnQgeyBDQUNIRV9OU19XUklURVMsIENIRUNLUE9JTlRfTkFNRVNQQUNFX0VORCwgQ0hFQ0tQT0lOVF9OQU1FU1BBQ0VfU0VQQVJBVE9SLCBDT05GSUdfS0VZX0NIRUNLUE9JTlRFUiwgQ09ORklHX0tFWV9DSEVDS1BPSU5UX01BUCwgQ09ORklHX0tFWV9QUkVWSU9VU19TVEFURSwgQ09ORklHX0tFWV9SRUFELCBDT05GSUdfS0VZX1JFU1VNRV9NQVAsIENPTkZJR19LRVlfU0NSQVRDSFBBRCwgQ09ORklHX0tFWV9TRU5ELCBDT05GSUdfS0VZX1RBU0tfSUQsIEVSUk9SLCBJTlRFUlJVUFQsIE5PX1dSSVRFUywgTlVMTF9UQVNLX0lELCBQUkVWSU9VUywgUFVMTCwgUFVTSCwgUkVTRVJWRUQsIFJFU1VNRSwgUkVUVVJOLCBTVEFSVCwgU2VuZCwgVEFHX0hJRERFTiwgVEFTS1MsIF9pc1NlbmQsIF9pc1NlbmRJbnRlcmZhY2UgfSBmcm9tIFwiLi4vY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgeyBYWEgzIH0gZnJvbSBcIi4uL2hhc2guanNcIjtcbmltcG9ydCB7IHJlYWRDaGFubmVsLCByZWFkQ2hhbm5lbHMgfSBmcm9tIFwiLi9pby5qc1wiO1xuaW1wb3J0IHsgaXNDYWxsIH0gZnJvbSBcIi4vdHlwZXMuanNcIjtcbmltcG9ydCB7IGdldE51bGxDaGFubmVsVmVyc2lvbiB9IGZyb20gXCIuL3V0aWxzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBnZXRSdW5uYWJsZUZvckZ1bmMgfSBmcm9tIFwiLi9jYWxsLmpzXCI7XG5pbXBvcnQgeyBjb3B5Q2hlY2twb2ludCwgbWF4Q2hhbm5lbFZlcnNpb24sIHV1aWQ1IH0gZnJvbSBcIkBsYW5nY2hhaW4vbGFuZ2dyYXBoLWNoZWNrcG9pbnRcIjtcbmltcG9ydCB7IG1lcmdlQ29uZmlncywgcGF0Y2hDb25maWcgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3J1bm5hYmxlc1wiO1xuXG4vLyNyZWdpb24gc3JjL3ByZWdlbC9hbGdvLnRzXG5jb25zdCBpbmNyZW1lbnQgPSAoY3VycmVudCkgPT4ge1xuXHRyZXR1cm4gY3VycmVudCAhPT0gdm9pZCAwID8gY3VycmVudCArIDEgOiAxO1xufTtcbmZ1bmN0aW9uIHRyaWdnZXJzTmV4dFN0ZXAodXBkYXRlZENoYW5uZWxzLCB0cmlnZ2VyVG9Ob2Rlcykge1xuXHRpZiAodHJpZ2dlclRvTm9kZXMgPT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXHRmb3IgKGNvbnN0IGNoYW4gb2YgdXBkYXRlZENoYW5uZWxzKSBpZiAodHJpZ2dlclRvTm9kZXNbY2hhbl0pIHJldHVybiB0cnVlO1xuXHRyZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBtYXhDaGFubmVsTWFwVmVyc2lvbihjaGFubmVsVmVyc2lvbnMpIHtcblx0bGV0IG1heFZlcnNpb247XG5cdGZvciAoY29uc3QgY2hhbiBpbiBjaGFubmVsVmVyc2lvbnMpIHtcblx0XHRpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjaGFubmVsVmVyc2lvbnMsIGNoYW4pKSBjb250aW51ZTtcblx0XHRpZiAobWF4VmVyc2lvbiA9PSBudWxsKSBtYXhWZXJzaW9uID0gY2hhbm5lbFZlcnNpb25zW2NoYW5dO1xuXHRcdGVsc2UgbWF4VmVyc2lvbiA9IG1heENoYW5uZWxWZXJzaW9uKG1heFZlcnNpb24sIGNoYW5uZWxWZXJzaW9uc1tjaGFuXSk7XG5cdH1cblx0cmV0dXJuIG1heFZlcnNpb247XG59XG5mdW5jdGlvbiBzaG91bGRJbnRlcnJ1cHQoY2hlY2twb2ludCwgaW50ZXJydXB0Tm9kZXMsIHRhc2tzKSB7XG5cdGNvbnN0IG51bGxWZXJzaW9uID0gZ2V0TnVsbENoYW5uZWxWZXJzaW9uKGNoZWNrcG9pbnQuY2hhbm5lbF92ZXJzaW9ucyk7XG5cdGNvbnN0IHNlZW4gPSBjaGVja3BvaW50LnZlcnNpb25zX3NlZW5bSU5URVJSVVBUXSA/PyB7fTtcblx0bGV0IGFueUNoYW5uZWxVcGRhdGVkID0gZmFsc2U7XG5cdGlmICgoY2hlY2twb2ludC5jaGFubmVsX3ZlcnNpb25zW1NUQVJUXSA/PyBudWxsVmVyc2lvbikgPiAoc2VlbltTVEFSVF0gPz8gbnVsbFZlcnNpb24pKSBhbnlDaGFubmVsVXBkYXRlZCA9IHRydWU7XG5cdGVsc2UgZm9yIChjb25zdCBjaGFuIGluIGNoZWNrcG9pbnQuY2hhbm5lbF92ZXJzaW9ucykge1xuXHRcdGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNoZWNrcG9pbnQuY2hhbm5lbF92ZXJzaW9ucywgY2hhbikpIGNvbnRpbnVlO1xuXHRcdGlmIChjaGVja3BvaW50LmNoYW5uZWxfdmVyc2lvbnNbY2hhbl0gPiAoc2VlbltjaGFuXSA/PyBudWxsVmVyc2lvbikpIHtcblx0XHRcdGFueUNoYW5uZWxVcGRhdGVkID0gdHJ1ZTtcblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxuXHRjb25zdCBhbnlUcmlnZ2VyZWROb2RlSW5JbnRlcnJ1cHROb2RlcyA9IHRhc2tzLnNvbWUoKHRhc2spID0+IGludGVycnVwdE5vZGVzID09PSBcIipcIiA/ICF0YXNrLmNvbmZpZz8udGFncz8uaW5jbHVkZXMoVEFHX0hJRERFTikgOiBpbnRlcnJ1cHROb2Rlcy5pbmNsdWRlcyh0YXNrLm5hbWUpKTtcblx0cmV0dXJuIGFueUNoYW5uZWxVcGRhdGVkICYmIGFueVRyaWdnZXJlZE5vZGVJbkludGVycnVwdE5vZGVzO1xufVxuZnVuY3Rpb24gX2xvY2FsUmVhZChjaGVja3BvaW50LCBjaGFubmVscywgdGFzaywgc2VsZWN0LCBmcmVzaCA9IGZhbHNlKSB7XG5cdGxldCB1cGRhdGVkID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcblx0aWYgKCFBcnJheS5pc0FycmF5KHNlbGVjdCkpIHtcblx0XHRmb3IgKGNvbnN0IFtjXSBvZiB0YXNrLndyaXRlcykgaWYgKGMgPT09IHNlbGVjdCkge1xuXHRcdFx0dXBkYXRlZCA9IG5ldyBTZXQoW2NdKTtcblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0XHR1cGRhdGVkID0gdXBkYXRlZCB8fCAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuXHR9IGVsc2UgdXBkYXRlZCA9IG5ldyBTZXQoc2VsZWN0LmZpbHRlcigoYykgPT4gdGFzay53cml0ZXMuc29tZSgoW2tleSwgX10pID0+IGtleSA9PT0gYykpKTtcblx0bGV0IHZhbHVlcztcblx0aWYgKGZyZXNoICYmIHVwZGF0ZWQuc2l6ZSA+IDApIHtcblx0XHRjb25zdCBsb2NhbENoYW5uZWxzID0gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKGNoYW5uZWxzKS5maWx0ZXIoKFtrLCBfXSkgPT4gdXBkYXRlZC5oYXMoaykpKTtcblx0XHRjb25zdCBuZXdDaGVja3BvaW50ID0gY3JlYXRlQ2hlY2twb2ludChjaGVja3BvaW50LCBsb2NhbENoYW5uZWxzLCAtMSk7XG5cdFx0Y29uc3QgbmV3Q2hhbm5lbHMgPSBlbXB0eUNoYW5uZWxzKGxvY2FsQ2hhbm5lbHMsIG5ld0NoZWNrcG9pbnQpO1xuXHRcdF9hcHBseVdyaXRlcyhjb3B5Q2hlY2twb2ludChuZXdDaGVja3BvaW50KSwgbmV3Q2hhbm5lbHMsIFt0YXNrXSwgdm9pZCAwLCB2b2lkIDApO1xuXHRcdHZhbHVlcyA9IHJlYWRDaGFubmVscyh7XG5cdFx0XHQuLi5jaGFubmVscyxcblx0XHRcdC4uLm5ld0NoYW5uZWxzXG5cdFx0fSwgc2VsZWN0KTtcblx0fSBlbHNlIHZhbHVlcyA9IHJlYWRDaGFubmVscyhjaGFubmVscywgc2VsZWN0KTtcblx0cmV0dXJuIHZhbHVlcztcbn1cbmZ1bmN0aW9uIF9sb2NhbFdyaXRlKGNvbW1pdCwgcHJvY2Vzc2VzLCB3cml0ZXMpIHtcblx0Zm9yIChjb25zdCBbY2hhbiwgdmFsdWVdIG9mIHdyaXRlcykgaWYgKFtQVVNILCBUQVNLU10uaW5jbHVkZXMoY2hhbikgJiYgdmFsdWUgIT0gbnVsbCkge1xuXHRcdGlmICghX2lzU2VuZCh2YWx1ZSkpIHRocm93IG5ldyBJbnZhbGlkVXBkYXRlRXJyb3IoYEludmFsaWQgcGFja2V0IHR5cGUsIGV4cGVjdGVkIFNlbmRQcm90b2NvbCwgZ290ICR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfWApO1xuXHRcdGlmICghKHZhbHVlLm5vZGUgaW4gcHJvY2Vzc2VzKSkgdGhyb3cgbmV3IEludmFsaWRVcGRhdGVFcnJvcihgSW52YWxpZCBub2RlIG5hbWUgXCIke3ZhbHVlLm5vZGV9XCIgaW4gU2VuZCBwYWNrZXRgKTtcblx0fVxuXHRjb21taXQod3JpdGVzKTtcbn1cbmNvbnN0IElHTk9SRSA9IG5ldyBTZXQoW1xuXHROT19XUklURVMsXG5cdFBVU0gsXG5cdFJFU1VNRSxcblx0SU5URVJSVVBULFxuXHRSRVRVUk4sXG5cdEVSUk9SXG5dKTtcbmZ1bmN0aW9uIF9hcHBseVdyaXRlcyhjaGVja3BvaW50LCBjaGFubmVscywgdGFza3MsIGdldE5leHRWZXJzaW9uLCB0cmlnZ2VyVG9Ob2Rlcykge1xuXHR0YXNrcy5zb3J0KChhLCBiKSA9PiB7XG5cdFx0Y29uc3QgYVBhdGggPSBhLnBhdGg/LnNsaWNlKDAsIDMpIHx8IFtdO1xuXHRcdGNvbnN0IGJQYXRoID0gYi5wYXRoPy5zbGljZSgwLCAzKSB8fCBbXTtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IE1hdGgubWluKGFQYXRoLmxlbmd0aCwgYlBhdGgubGVuZ3RoKTsgaSArPSAxKSB7XG5cdFx0XHRpZiAoYVBhdGhbaV0gPCBiUGF0aFtpXSkgcmV0dXJuIC0xO1xuXHRcdFx0aWYgKGFQYXRoW2ldID4gYlBhdGhbaV0pIHJldHVybiAxO1xuXHRcdH1cblx0XHRyZXR1cm4gYVBhdGgubGVuZ3RoIC0gYlBhdGgubGVuZ3RoO1xuXHR9KTtcblx0Y29uc3QgYnVtcFN0ZXAgPSB0YXNrcy5zb21lKCh0YXNrKSA9PiB0YXNrLnRyaWdnZXJzLmxlbmd0aCA+IDApO1xuXHRjb25zdCBvbmx5Q2hhbm5lbHMgPSBnZXRPbmx5Q2hhbm5lbHMoY2hhbm5lbHMpO1xuXHRmb3IgKGNvbnN0IHRhc2sgb2YgdGFza3MpIHtcblx0XHRjaGVja3BvaW50LnZlcnNpb25zX3NlZW5bdGFzay5uYW1lXSA/Pz0ge307XG5cdFx0Zm9yIChjb25zdCBjaGFuIG9mIHRhc2sudHJpZ2dlcnMpIGlmIChjaGFuIGluIGNoZWNrcG9pbnQuY2hhbm5lbF92ZXJzaW9ucykgY2hlY2twb2ludC52ZXJzaW9uc19zZWVuW3Rhc2submFtZV1bY2hhbl0gPSBjaGVja3BvaW50LmNoYW5uZWxfdmVyc2lvbnNbY2hhbl07XG5cdH1cblx0bGV0IG1heFZlcnNpb24gPSBtYXhDaGFubmVsTWFwVmVyc2lvbihjaGVja3BvaW50LmNoYW5uZWxfdmVyc2lvbnMpO1xuXHRjb25zdCBjaGFubmVsc1RvQ29uc3VtZSA9IG5ldyBTZXQodGFza3MuZmxhdE1hcCgodGFzaykgPT4gdGFzay50cmlnZ2VycykuZmlsdGVyKChjaGFuKSA9PiAhUkVTRVJWRUQuaW5jbHVkZXMoY2hhbikpKTtcblx0bGV0IHVzZWROZXdWZXJzaW9uID0gZmFsc2U7XG5cdGZvciAoY29uc3QgY2hhbiBvZiBjaGFubmVsc1RvQ29uc3VtZSkgaWYgKGNoYW4gaW4gb25seUNoYW5uZWxzICYmIG9ubHlDaGFubmVsc1tjaGFuXS5jb25zdW1lKCkpIHtcblx0XHRpZiAoZ2V0TmV4dFZlcnNpb24gIT09IHZvaWQgMCkge1xuXHRcdFx0Y2hlY2twb2ludC5jaGFubmVsX3ZlcnNpb25zW2NoYW5dID0gZ2V0TmV4dFZlcnNpb24obWF4VmVyc2lvbik7XG5cdFx0XHR1c2VkTmV3VmVyc2lvbiA9IHRydWU7XG5cdFx0fVxuXHR9XG5cdGNvbnN0IHBlbmRpbmdXcml0ZXNCeUNoYW5uZWwgPSB7fTtcblx0Zm9yIChjb25zdCB0YXNrIG9mIHRhc2tzKSBmb3IgKGNvbnN0IFtjaGFuLCB2YWxdIG9mIHRhc2sud3JpdGVzKSBpZiAoSUdOT1JFLmhhcyhjaGFuKSkge30gZWxzZSBpZiAoY2hhbiBpbiBvbmx5Q2hhbm5lbHMpIHtcblx0XHRwZW5kaW5nV3JpdGVzQnlDaGFubmVsW2NoYW5dID8/PSBbXTtcblx0XHRwZW5kaW5nV3JpdGVzQnlDaGFubmVsW2NoYW5dLnB1c2godmFsKTtcblx0fVxuXHRpZiAobWF4VmVyc2lvbiAhPSBudWxsICYmIGdldE5leHRWZXJzaW9uICE9IG51bGwpIG1heFZlcnNpb24gPSB1c2VkTmV3VmVyc2lvbiA/IGdldE5leHRWZXJzaW9uKG1heFZlcnNpb24pIDogbWF4VmVyc2lvbjtcblx0Y29uc3QgdXBkYXRlZENoYW5uZWxzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcblx0Zm9yIChjb25zdCBbY2hhbiwgdmFsc10gb2YgT2JqZWN0LmVudHJpZXMocGVuZGluZ1dyaXRlc0J5Q2hhbm5lbCkpIGlmIChjaGFuIGluIG9ubHlDaGFubmVscykge1xuXHRcdGNvbnN0IGNoYW5uZWwgPSBvbmx5Q2hhbm5lbHNbY2hhbl07XG5cdFx0bGV0IHVwZGF0ZWQ7XG5cdFx0dHJ5IHtcblx0XHRcdHVwZGF0ZWQgPSBjaGFubmVsLnVwZGF0ZSh2YWxzKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRpZiAoZS5uYW1lID09PSBJbnZhbGlkVXBkYXRlRXJyb3IudW5taW5pZmlhYmxlX25hbWUpIHtcblx0XHRcdFx0Y29uc3Qgd3JhcHBlZEVycm9yID0gbmV3IEludmFsaWRVcGRhdGVFcnJvcihgSW52YWxpZCB1cGRhdGUgZm9yIGNoYW5uZWwgXCIke2NoYW59XCIgd2l0aCB2YWx1ZXMgJHtKU09OLnN0cmluZ2lmeSh2YWxzKX06ICR7ZS5tZXNzYWdlfWApO1xuXHRcdFx0XHR3cmFwcGVkRXJyb3IubGNfZXJyb3JfY29kZSA9IGUubGNfZXJyb3JfY29kZTtcblx0XHRcdFx0dGhyb3cgd3JhcHBlZEVycm9yO1xuXHRcdFx0fSBlbHNlIHRocm93IGU7XG5cdFx0fVxuXHRcdGlmICh1cGRhdGVkICYmIGdldE5leHRWZXJzaW9uICE9PSB2b2lkIDApIHtcblx0XHRcdGNoZWNrcG9pbnQuY2hhbm5lbF92ZXJzaW9uc1tjaGFuXSA9IGdldE5leHRWZXJzaW9uKG1heFZlcnNpb24pO1xuXHRcdFx0aWYgKGNoYW5uZWwuaXNBdmFpbGFibGUoKSkgdXBkYXRlZENoYW5uZWxzLmFkZChjaGFuKTtcblx0XHR9XG5cdH1cblx0aWYgKGJ1bXBTdGVwKSBmb3IgKGNvbnN0IGNoYW4gaW4gb25seUNoYW5uZWxzKSB7XG5cdFx0aWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob25seUNoYW5uZWxzLCBjaGFuKSkgY29udGludWU7XG5cdFx0Y29uc3QgY2hhbm5lbCA9IG9ubHlDaGFubmVsc1tjaGFuXTtcblx0XHRpZiAoY2hhbm5lbC5pc0F2YWlsYWJsZSgpICYmICF1cGRhdGVkQ2hhbm5lbHMuaGFzKGNoYW4pKSB7XG5cdFx0XHRjb25zdCB1cGRhdGVkID0gY2hhbm5lbC51cGRhdGUoW10pO1xuXHRcdFx0aWYgKHVwZGF0ZWQgJiYgZ2V0TmV4dFZlcnNpb24gIT09IHZvaWQgMCkge1xuXHRcdFx0XHRjaGVja3BvaW50LmNoYW5uZWxfdmVyc2lvbnNbY2hhbl0gPSBnZXROZXh0VmVyc2lvbihtYXhWZXJzaW9uKTtcblx0XHRcdFx0aWYgKGNoYW5uZWwuaXNBdmFpbGFibGUoKSkgdXBkYXRlZENoYW5uZWxzLmFkZChjaGFuKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0aWYgKGJ1bXBTdGVwICYmICF0cmlnZ2Vyc05leHRTdGVwKHVwZGF0ZWRDaGFubmVscywgdHJpZ2dlclRvTm9kZXMpKSBmb3IgKGNvbnN0IGNoYW4gaW4gb25seUNoYW5uZWxzKSB7XG5cdFx0aWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob25seUNoYW5uZWxzLCBjaGFuKSkgY29udGludWU7XG5cdFx0Y29uc3QgY2hhbm5lbCA9IG9ubHlDaGFubmVsc1tjaGFuXTtcblx0XHRpZiAoY2hhbm5lbC5maW5pc2goKSAmJiBnZXROZXh0VmVyc2lvbiAhPT0gdm9pZCAwKSB7XG5cdFx0XHRjaGVja3BvaW50LmNoYW5uZWxfdmVyc2lvbnNbY2hhbl0gPSBnZXROZXh0VmVyc2lvbihtYXhWZXJzaW9uKTtcblx0XHRcdGlmIChjaGFubmVsLmlzQXZhaWxhYmxlKCkpIHVwZGF0ZWRDaGFubmVscy5hZGQoY2hhbik7XG5cdFx0fVxuXHR9XG5cdHJldHVybiB1cGRhdGVkQ2hhbm5lbHM7XG59XG5mdW5jdGlvbiogY2FuZGlkYXRlTm9kZXMoY2hlY2twb2ludCwgcHJvY2Vzc2VzLCBleHRyYSkge1xuXHRpZiAoZXh0cmEudXBkYXRlZENoYW5uZWxzICE9IG51bGwgJiYgZXh0cmEudHJpZ2dlclRvTm9kZXMgIT0gbnVsbCkge1xuXHRcdGNvbnN0IHRyaWdnZXJlZE5vZGVzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcblx0XHRmb3IgKGNvbnN0IGNoYW5uZWwgb2YgZXh0cmEudXBkYXRlZENoYW5uZWxzKSB7XG5cdFx0XHRjb25zdCBub2RlSWRzID0gZXh0cmEudHJpZ2dlclRvTm9kZXNbY2hhbm5lbF07XG5cdFx0XHRmb3IgKGNvbnN0IGlkIG9mIG5vZGVJZHMgPz8gW10pIHRyaWdnZXJlZE5vZGVzLmFkZChpZCk7XG5cdFx0fVxuXHRcdHlpZWxkKiBbLi4udHJpZ2dlcmVkTm9kZXNdLnNvcnQoKTtcblx0XHRyZXR1cm47XG5cdH1cblx0Y29uc3QgaXNFbXB0eUNoYW5uZWxWZXJzaW9ucyA9ICgoKSA9PiB7XG5cdFx0Zm9yIChjb25zdCBjaGFuIGluIGNoZWNrcG9pbnQuY2hhbm5lbF92ZXJzaW9ucykgaWYgKGNoZWNrcG9pbnQuY2hhbm5lbF92ZXJzaW9uc1tjaGFuXSAhPT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9KSgpO1xuXHRpZiAoaXNFbXB0eUNoYW5uZWxWZXJzaW9ucykgcmV0dXJuO1xuXHRmb3IgKGNvbnN0IG5hbWUgaW4gcHJvY2Vzc2VzKSB7XG5cdFx0aWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocHJvY2Vzc2VzLCBuYW1lKSkgY29udGludWU7XG5cdFx0eWllbGQgbmFtZTtcblx0fVxufVxuLyoqXG4qIFByZXBhcmUgdGhlIHNldCBvZiB0YXNrcyB0aGF0IHdpbGwgbWFrZSB1cCB0aGUgbmV4dCBQcmVnZWwgc3RlcC5cbiogVGhpcyBpcyB0aGUgdW5pb24gb2YgYWxsIFBVU0ggdGFza3MgKFNlbmRzKSBhbmQgUFVMTCB0YXNrcyAobm9kZXMgdHJpZ2dlcmVkXG4qIGJ5IGVkZ2VzKS5cbiovXG5mdW5jdGlvbiBfcHJlcGFyZU5leHRUYXNrcyhjaGVja3BvaW50LCBwZW5kaW5nV3JpdGVzLCBwcm9jZXNzZXMsIGNoYW5uZWxzLCBjb25maWcsIGZvckV4ZWN1dGlvbiwgZXh0cmEpIHtcblx0Y29uc3QgdGFza3MgPSB7fTtcblx0Y29uc3QgdGFza3NDaGFubmVsID0gY2hhbm5lbHNbVEFTS1NdO1xuXHRpZiAodGFza3NDaGFubmVsPy5pc0F2YWlsYWJsZSgpKSB7XG5cdFx0Y29uc3QgbGVuID0gdGFza3NDaGFubmVsLmdldCgpLmxlbmd0aDtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSArPSAxKSB7XG5cdFx0XHRjb25zdCB0YXNrID0gX3ByZXBhcmVTaW5nbGVUYXNrKFtQVVNILCBpXSwgY2hlY2twb2ludCwgcGVuZGluZ1dyaXRlcywgcHJvY2Vzc2VzLCBjaGFubmVscywgY29uZmlnLCBmb3JFeGVjdXRpb24sIGV4dHJhKTtcblx0XHRcdGlmICh0YXNrICE9PSB2b2lkIDApIHRhc2tzW3Rhc2suaWRdID0gdGFzaztcblx0XHR9XG5cdH1cblx0Zm9yIChjb25zdCBuYW1lIG9mIGNhbmRpZGF0ZU5vZGVzKGNoZWNrcG9pbnQsIHByb2Nlc3NlcywgZXh0cmEpKSB7XG5cdFx0Y29uc3QgdGFzayA9IF9wcmVwYXJlU2luZ2xlVGFzayhbUFVMTCwgbmFtZV0sIGNoZWNrcG9pbnQsIHBlbmRpbmdXcml0ZXMsIHByb2Nlc3NlcywgY2hhbm5lbHMsIGNvbmZpZywgZm9yRXhlY3V0aW9uLCBleHRyYSk7XG5cdFx0aWYgKHRhc2sgIT09IHZvaWQgMCkgdGFza3NbdGFzay5pZF0gPSB0YXNrO1xuXHR9XG5cdHJldHVybiB0YXNrcztcbn1cbi8qKlxuKiBQcmVwYXJlcyBhIHNpbmdsZSB0YXNrIGZvciB0aGUgbmV4dCBQcmVnZWwgc3RlcCwgZ2l2ZW4gYSB0YXNrIHBhdGgsIHdoaWNoXG4qIHVuaXF1ZWx5IGlkZW50aWZpZXMgYSBQVVNIIG9yIFBVTEwgdGFzayB3aXRoaW4gdGhlIGdyYXBoLlxuKi9cbmZ1bmN0aW9uIF9wcmVwYXJlU2luZ2xlVGFzayh0YXNrUGF0aCwgY2hlY2twb2ludCwgcGVuZGluZ1dyaXRlcywgcHJvY2Vzc2VzLCBjaGFubmVscywgY29uZmlnLCBmb3JFeGVjdXRpb24sIGV4dHJhKSB7XG5cdGNvbnN0IHsgc3RlcCwgY2hlY2twb2ludGVyLCBtYW5hZ2VyIH0gPSBleHRyYTtcblx0Y29uc3QgY29uZmlndXJhYmxlID0gY29uZmlnLmNvbmZpZ3VyYWJsZSA/PyB7fTtcblx0Y29uc3QgcGFyZW50TmFtZXNwYWNlID0gY29uZmlndXJhYmxlLmNoZWNrcG9pbnRfbnMgPz8gXCJcIjtcblx0aWYgKHRhc2tQYXRoWzBdID09PSBQVVNIICYmIGlzQ2FsbCh0YXNrUGF0aFt0YXNrUGF0aC5sZW5ndGggLSAxXSkpIHtcblx0XHRjb25zdCBjYWxsID0gdGFza1BhdGhbdGFza1BhdGgubGVuZ3RoIC0gMV07XG5cdFx0Y29uc3QgcHJvYyA9IGdldFJ1bm5hYmxlRm9yRnVuYyhjYWxsLm5hbWUsIGNhbGwuZnVuYyk7XG5cdFx0Y29uc3QgdHJpZ2dlcnMgPSBbUFVTSF07XG5cdFx0Y29uc3QgY2hlY2twb2ludE5hbWVzcGFjZSA9IHBhcmVudE5hbWVzcGFjZSA9PT0gXCJcIiA/IGNhbGwubmFtZSA6IGAke3BhcmVudE5hbWVzcGFjZX0ke0NIRUNLUE9JTlRfTkFNRVNQQUNFX1NFUEFSQVRPUn0ke2NhbGwubmFtZX1gO1xuXHRcdGNvbnN0IGlkID0gdXVpZDUoSlNPTi5zdHJpbmdpZnkoW1xuXHRcdFx0Y2hlY2twb2ludE5hbWVzcGFjZSxcblx0XHRcdHN0ZXAudG9TdHJpbmcoKSxcblx0XHRcdGNhbGwubmFtZSxcblx0XHRcdFBVU0gsXG5cdFx0XHR0YXNrUGF0aFsxXSxcblx0XHRcdHRhc2tQYXRoWzJdXG5cdFx0XSksIGNoZWNrcG9pbnQuaWQpO1xuXHRcdGNvbnN0IHRhc2tDaGVja3BvaW50TmFtZXNwYWNlID0gYCR7Y2hlY2twb2ludE5hbWVzcGFjZX0ke0NIRUNLUE9JTlRfTkFNRVNQQUNFX0VORH0ke2lkfWA7XG5cdFx0Y29uc3Qgb3V0cHV0VGFza1BhdGggPSBbLi4udGFza1BhdGguc2xpY2UoMCwgMyksIHRydWVdO1xuXHRcdGNvbnN0IG1ldGFkYXRhID0ge1xuXHRcdFx0bGFuZ2dyYXBoX3N0ZXA6IHN0ZXAsXG5cdFx0XHRsYW5nZ3JhcGhfbm9kZTogY2FsbC5uYW1lLFxuXHRcdFx0bGFuZ2dyYXBoX3RyaWdnZXJzOiB0cmlnZ2Vycyxcblx0XHRcdGxhbmdncmFwaF9wYXRoOiBvdXRwdXRUYXNrUGF0aCxcblx0XHRcdGxhbmdncmFwaF9jaGVja3BvaW50X25zOiB0YXNrQ2hlY2twb2ludE5hbWVzcGFjZVxuXHRcdH07XG5cdFx0aWYgKGZvckV4ZWN1dGlvbikge1xuXHRcdFx0Y29uc3Qgd3JpdGVzID0gW107XG5cdFx0XHRjb25zdCB0YXNrID0ge1xuXHRcdFx0XHRuYW1lOiBjYWxsLm5hbWUsXG5cdFx0XHRcdGlucHV0OiBjYWxsLmlucHV0LFxuXHRcdFx0XHRwcm9jLFxuXHRcdFx0XHR3cml0ZXMsXG5cdFx0XHRcdGNvbmZpZzogcGF0Y2hDb25maWcobWVyZ2VDb25maWdzKGNvbmZpZywge1xuXHRcdFx0XHRcdG1ldGFkYXRhLFxuXHRcdFx0XHRcdHN0b3JlOiBleHRyYS5zdG9yZSA/PyBjb25maWcuc3RvcmVcblx0XHRcdFx0fSksIHtcblx0XHRcdFx0XHRydW5OYW1lOiBjYWxsLm5hbWUsXG5cdFx0XHRcdFx0Y2FsbGJhY2tzOiBtYW5hZ2VyPy5nZXRDaGlsZChgZ3JhcGg6c3RlcDoke3N0ZXB9YCksXG5cdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB7XG5cdFx0XHRcdFx0XHRbQ09ORklHX0tFWV9UQVNLX0lEXTogaWQsXG5cdFx0XHRcdFx0XHRbQ09ORklHX0tFWV9TRU5EXTogKHdyaXRlc18pID0+IF9sb2NhbFdyaXRlKChpdGVtcykgPT4gd3JpdGVzLnB1c2goLi4uaXRlbXMpLCBwcm9jZXNzZXMsIHdyaXRlc18pLFxuXHRcdFx0XHRcdFx0W0NPTkZJR19LRVlfUkVBRF06IChzZWxlY3RfLCBmcmVzaF8gPSBmYWxzZSkgPT4gX2xvY2FsUmVhZChjaGVja3BvaW50LCBjaGFubmVscywge1xuXHRcdFx0XHRcdFx0XHRuYW1lOiBjYWxsLm5hbWUsXG5cdFx0XHRcdFx0XHRcdHdyaXRlcyxcblx0XHRcdFx0XHRcdFx0dHJpZ2dlcnMsXG5cdFx0XHRcdFx0XHRcdHBhdGg6IG91dHB1dFRhc2tQYXRoXG5cdFx0XHRcdFx0XHR9LCBzZWxlY3RfLCBmcmVzaF8pLFxuXHRcdFx0XHRcdFx0W0NPTkZJR19LRVlfQ0hFQ0tQT0lOVEVSXTogY2hlY2twb2ludGVyID8/IGNvbmZpZ3VyYWJsZVtDT05GSUdfS0VZX0NIRUNLUE9JTlRFUl0sXG5cdFx0XHRcdFx0XHRbQ09ORklHX0tFWV9DSEVDS1BPSU5UX01BUF06IHtcblx0XHRcdFx0XHRcdFx0Li4uY29uZmlndXJhYmxlW0NPTkZJR19LRVlfQ0hFQ0tQT0lOVF9NQVBdLFxuXHRcdFx0XHRcdFx0XHRbcGFyZW50TmFtZXNwYWNlXTogY2hlY2twb2ludC5pZFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFtDT05GSUdfS0VZX1NDUkFUQ0hQQURdOiBfc2NyYXRjaHBhZCh7XG5cdFx0XHRcdFx0XHRcdHBlbmRpbmdXcml0ZXM6IHBlbmRpbmdXcml0ZXMgPz8gW10sXG5cdFx0XHRcdFx0XHRcdHRhc2tJZDogaWQsXG5cdFx0XHRcdFx0XHRcdGN1cnJlbnRUYXNrSW5wdXQ6IGNhbGwuaW5wdXQsXG5cdFx0XHRcdFx0XHRcdHJlc3VtZU1hcDogY29uZmlnLmNvbmZpZ3VyYWJsZT8uW0NPTkZJR19LRVlfUkVTVU1FX01BUF0sXG5cdFx0XHRcdFx0XHRcdG5hbWVzcGFjZUhhc2g6IFhYSDModGFza0NoZWNrcG9pbnROYW1lc3BhY2UpXG5cdFx0XHRcdFx0XHR9KSxcblx0XHRcdFx0XHRcdFtDT05GSUdfS0VZX1BSRVZJT1VTX1NUQVRFXTogY2hlY2twb2ludC5jaGFubmVsX3ZhbHVlc1tQUkVWSU9VU10sXG5cdFx0XHRcdFx0XHRjaGVja3BvaW50X2lkOiB2b2lkIDAsXG5cdFx0XHRcdFx0XHRjaGVja3BvaW50X25zOiB0YXNrQ2hlY2twb2ludE5hbWVzcGFjZVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSksXG5cdFx0XHRcdHRyaWdnZXJzLFxuXHRcdFx0XHRyZXRyeV9wb2xpY3k6IGNhbGwucmV0cnksXG5cdFx0XHRcdGNhY2hlX2tleTogY2FsbC5jYWNoZSA/IHtcblx0XHRcdFx0XHRrZXk6IFhYSDMoKGNhbGwuY2FjaGUua2V5RnVuYyA/PyBKU09OLnN0cmluZ2lmeSkoW2NhbGwuaW5wdXRdKSksXG5cdFx0XHRcdFx0bnM6IFtDQUNIRV9OU19XUklURVMsIGNhbGwubmFtZSA/PyBcIl9fZHluYW1pY19fXCJdLFxuXHRcdFx0XHRcdHR0bDogY2FsbC5jYWNoZS50dGxcblx0XHRcdFx0fSA6IHZvaWQgMCxcblx0XHRcdFx0aWQsXG5cdFx0XHRcdHBhdGg6IG91dHB1dFRhc2tQYXRoLFxuXHRcdFx0XHR3cml0ZXJzOiBbXVxuXHRcdFx0fTtcblx0XHRcdHJldHVybiB0YXNrO1xuXHRcdH0gZWxzZSByZXR1cm4ge1xuXHRcdFx0aWQsXG5cdFx0XHRuYW1lOiBjYWxsLm5hbWUsXG5cdFx0XHRpbnRlcnJ1cHRzOiBbXSxcblx0XHRcdHBhdGg6IG91dHB1dFRhc2tQYXRoXG5cdFx0fTtcblx0fSBlbHNlIGlmICh0YXNrUGF0aFswXSA9PT0gUFVTSCkge1xuXHRcdGNvbnN0IGluZGV4ID0gdHlwZW9mIHRhc2tQYXRoWzFdID09PSBcIm51bWJlclwiID8gdGFza1BhdGhbMV0gOiBwYXJzZUludCh0YXNrUGF0aFsxXSwgMTApO1xuXHRcdGlmICghY2hhbm5lbHNbVEFTS1NdPy5pc0F2YWlsYWJsZSgpKSByZXR1cm4gdm9pZCAwO1xuXHRcdGNvbnN0IHNlbmRzID0gY2hhbm5lbHNbVEFTS1NdLmdldCgpO1xuXHRcdGlmIChpbmRleCA8IDAgfHwgaW5kZXggPj0gc2VuZHMubGVuZ3RoKSByZXR1cm4gdm9pZCAwO1xuXHRcdGNvbnN0IHBhY2tldCA9IF9pc1NlbmRJbnRlcmZhY2Uoc2VuZHNbaW5kZXhdKSAmJiAhX2lzU2VuZChzZW5kc1tpbmRleF0pID8gbmV3IFNlbmQoc2VuZHNbaW5kZXhdLm5vZGUsIHNlbmRzW2luZGV4XS5hcmdzKSA6IHNlbmRzW2luZGV4XTtcblx0XHRpZiAoIV9pc1NlbmRJbnRlcmZhY2UocGFja2V0KSkge1xuXHRcdFx0Y29uc29sZS53YXJuKGBJZ25vcmluZyBpbnZhbGlkIHBhY2tldCAke0pTT04uc3RyaW5naWZ5KHBhY2tldCl9IGluIHBlbmRpbmcgc2VuZHMuYCk7XG5cdFx0XHRyZXR1cm4gdm9pZCAwO1xuXHRcdH1cblx0XHRpZiAoIShwYWNrZXQubm9kZSBpbiBwcm9jZXNzZXMpKSB7XG5cdFx0XHRjb25zb2xlLndhcm4oYElnbm9yaW5nIHVua25vd24gbm9kZSBuYW1lICR7cGFja2V0Lm5vZGV9IGluIHBlbmRpbmcgc2VuZHMuYCk7XG5cdFx0XHRyZXR1cm4gdm9pZCAwO1xuXHRcdH1cblx0XHRjb25zdCB0cmlnZ2VycyA9IFtQVVNIXTtcblx0XHRjb25zdCBjaGVja3BvaW50TmFtZXNwYWNlID0gcGFyZW50TmFtZXNwYWNlID09PSBcIlwiID8gcGFja2V0Lm5vZGUgOiBgJHtwYXJlbnROYW1lc3BhY2V9JHtDSEVDS1BPSU5UX05BTUVTUEFDRV9TRVBBUkFUT1J9JHtwYWNrZXQubm9kZX1gO1xuXHRcdGNvbnN0IHRhc2tJZCA9IHV1aWQ1KEpTT04uc3RyaW5naWZ5KFtcblx0XHRcdGNoZWNrcG9pbnROYW1lc3BhY2UsXG5cdFx0XHRzdGVwLnRvU3RyaW5nKCksXG5cdFx0XHRwYWNrZXQubm9kZSxcblx0XHRcdFBVU0gsXG5cdFx0XHRpbmRleC50b1N0cmluZygpXG5cdFx0XSksIGNoZWNrcG9pbnQuaWQpO1xuXHRcdGNvbnN0IHRhc2tDaGVja3BvaW50TmFtZXNwYWNlID0gYCR7Y2hlY2twb2ludE5hbWVzcGFjZX0ke0NIRUNLUE9JTlRfTkFNRVNQQUNFX0VORH0ke3Rhc2tJZH1gO1xuXHRcdGxldCBtZXRhZGF0YSA9IHtcblx0XHRcdGxhbmdncmFwaF9zdGVwOiBzdGVwLFxuXHRcdFx0bGFuZ2dyYXBoX25vZGU6IHBhY2tldC5ub2RlLFxuXHRcdFx0bGFuZ2dyYXBoX3RyaWdnZXJzOiB0cmlnZ2Vycyxcblx0XHRcdGxhbmdncmFwaF9wYXRoOiB0YXNrUGF0aC5zbGljZSgwLCAzKSxcblx0XHRcdGxhbmdncmFwaF9jaGVja3BvaW50X25zOiB0YXNrQ2hlY2twb2ludE5hbWVzcGFjZVxuXHRcdH07XG5cdFx0aWYgKGZvckV4ZWN1dGlvbikge1xuXHRcdFx0Y29uc3QgcHJvYyA9IHByb2Nlc3Nlc1twYWNrZXQubm9kZV07XG5cdFx0XHRjb25zdCBub2RlID0gcHJvYy5nZXROb2RlKCk7XG5cdFx0XHRpZiAobm9kZSAhPT0gdm9pZCAwKSB7XG5cdFx0XHRcdGlmIChwcm9jLm1ldGFkYXRhICE9PSB2b2lkIDApIG1ldGFkYXRhID0ge1xuXHRcdFx0XHRcdC4uLm1ldGFkYXRhLFxuXHRcdFx0XHRcdC4uLnByb2MubWV0YWRhdGFcblx0XHRcdFx0fTtcblx0XHRcdFx0Y29uc3Qgd3JpdGVzID0gW107XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0bmFtZTogcGFja2V0Lm5vZGUsXG5cdFx0XHRcdFx0aW5wdXQ6IHBhY2tldC5hcmdzLFxuXHRcdFx0XHRcdHByb2M6IG5vZGUsXG5cdFx0XHRcdFx0c3ViZ3JhcGhzOiBwcm9jLnN1YmdyYXBocyxcblx0XHRcdFx0XHR3cml0ZXMsXG5cdFx0XHRcdFx0Y29uZmlnOiBwYXRjaENvbmZpZyhtZXJnZUNvbmZpZ3MoY29uZmlnLCB7XG5cdFx0XHRcdFx0XHRtZXRhZGF0YSxcblx0XHRcdFx0XHRcdHRhZ3M6IHByb2MudGFncyxcblx0XHRcdFx0XHRcdHN0b3JlOiBleHRyYS5zdG9yZSA/PyBjb25maWcuc3RvcmVcblx0XHRcdFx0XHR9KSwge1xuXHRcdFx0XHRcdFx0cnVuTmFtZTogcGFja2V0Lm5vZGUsXG5cdFx0XHRcdFx0XHRjYWxsYmFja3M6IG1hbmFnZXI/LmdldENoaWxkKGBncmFwaDpzdGVwOiR7c3RlcH1gKSxcblx0XHRcdFx0XHRcdGNvbmZpZ3VyYWJsZToge1xuXHRcdFx0XHRcdFx0XHRbQ09ORklHX0tFWV9UQVNLX0lEXTogdGFza0lkLFxuXHRcdFx0XHRcdFx0XHRbQ09ORklHX0tFWV9TRU5EXTogKHdyaXRlc18pID0+IF9sb2NhbFdyaXRlKChpdGVtcykgPT4gd3JpdGVzLnB1c2goLi4uaXRlbXMpLCBwcm9jZXNzZXMsIHdyaXRlc18pLFxuXHRcdFx0XHRcdFx0XHRbQ09ORklHX0tFWV9SRUFEXTogKHNlbGVjdF8sIGZyZXNoXyA9IGZhbHNlKSA9PiBfbG9jYWxSZWFkKGNoZWNrcG9pbnQsIGNoYW5uZWxzLCB7XG5cdFx0XHRcdFx0XHRcdFx0bmFtZTogcGFja2V0Lm5vZGUsXG5cdFx0XHRcdFx0XHRcdFx0d3JpdGVzLFxuXHRcdFx0XHRcdFx0XHRcdHRyaWdnZXJzLFxuXHRcdFx0XHRcdFx0XHRcdHBhdGg6IHRhc2tQYXRoXG5cdFx0XHRcdFx0XHRcdH0sIHNlbGVjdF8sIGZyZXNoXyksXG5cdFx0XHRcdFx0XHRcdFtDT05GSUdfS0VZX0NIRUNLUE9JTlRFUl06IGNoZWNrcG9pbnRlciA/PyBjb25maWd1cmFibGVbQ09ORklHX0tFWV9DSEVDS1BPSU5URVJdLFxuXHRcdFx0XHRcdFx0XHRbQ09ORklHX0tFWV9DSEVDS1BPSU5UX01BUF06IHtcblx0XHRcdFx0XHRcdFx0XHQuLi5jb25maWd1cmFibGVbQ09ORklHX0tFWV9DSEVDS1BPSU5UX01BUF0sXG5cdFx0XHRcdFx0XHRcdFx0W3BhcmVudE5hbWVzcGFjZV06IGNoZWNrcG9pbnQuaWRcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0W0NPTkZJR19LRVlfU0NSQVRDSFBBRF06IF9zY3JhdGNocGFkKHtcblx0XHRcdFx0XHRcdFx0XHRwZW5kaW5nV3JpdGVzOiBwZW5kaW5nV3JpdGVzID8/IFtdLFxuXHRcdFx0XHRcdFx0XHRcdHRhc2tJZCxcblx0XHRcdFx0XHRcdFx0XHRjdXJyZW50VGFza0lucHV0OiBwYWNrZXQuYXJncyxcblx0XHRcdFx0XHRcdFx0XHRyZXN1bWVNYXA6IGNvbmZpZy5jb25maWd1cmFibGU/LltDT05GSUdfS0VZX1JFU1VNRV9NQVBdLFxuXHRcdFx0XHRcdFx0XHRcdG5hbWVzcGFjZUhhc2g6IFhYSDModGFza0NoZWNrcG9pbnROYW1lc3BhY2UpXG5cdFx0XHRcdFx0XHRcdH0pLFxuXHRcdFx0XHRcdFx0XHRbQ09ORklHX0tFWV9QUkVWSU9VU19TVEFURV06IGNoZWNrcG9pbnQuY2hhbm5lbF92YWx1ZXNbUFJFVklPVVNdLFxuXHRcdFx0XHRcdFx0XHRjaGVja3BvaW50X2lkOiB2b2lkIDAsXG5cdFx0XHRcdFx0XHRcdGNoZWNrcG9pbnRfbnM6IHRhc2tDaGVja3BvaW50TmFtZXNwYWNlXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSksXG5cdFx0XHRcdFx0dHJpZ2dlcnMsXG5cdFx0XHRcdFx0cmV0cnlfcG9saWN5OiBwcm9jLnJldHJ5UG9saWN5LFxuXHRcdFx0XHRcdGNhY2hlX2tleTogcHJvYy5jYWNoZVBvbGljeSA/IHtcblx0XHRcdFx0XHRcdGtleTogWFhIMygocHJvYy5jYWNoZVBvbGljeS5rZXlGdW5jID8/IEpTT04uc3RyaW5naWZ5KShbcGFja2V0LmFyZ3NdKSksXG5cdFx0XHRcdFx0XHRuczogW1xuXHRcdFx0XHRcdFx0XHRDQUNIRV9OU19XUklURVMsXG5cdFx0XHRcdFx0XHRcdHByb2MubmFtZSA/PyBcIl9fZHluYW1pY19fXCIsXG5cdFx0XHRcdFx0XHRcdHBhY2tldC5ub2RlXG5cdFx0XHRcdFx0XHRdLFxuXHRcdFx0XHRcdFx0dHRsOiBwcm9jLmNhY2hlUG9saWN5LnR0bFxuXHRcdFx0XHRcdH0gOiB2b2lkIDAsXG5cdFx0XHRcdFx0aWQ6IHRhc2tJZCxcblx0XHRcdFx0XHRwYXRoOiB0YXNrUGF0aCxcblx0XHRcdFx0XHR3cml0ZXJzOiBwcm9jLmdldFdyaXRlcnMoKVxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdH0gZWxzZSByZXR1cm4ge1xuXHRcdFx0aWQ6IHRhc2tJZCxcblx0XHRcdG5hbWU6IHBhY2tldC5ub2RlLFxuXHRcdFx0aW50ZXJydXB0czogW10sXG5cdFx0XHRwYXRoOiB0YXNrUGF0aFxuXHRcdH07XG5cdH0gZWxzZSBpZiAodGFza1BhdGhbMF0gPT09IFBVTEwpIHtcblx0XHRjb25zdCBuYW1lID0gdGFza1BhdGhbMV0udG9TdHJpbmcoKTtcblx0XHRjb25zdCBwcm9jID0gcHJvY2Vzc2VzW25hbWVdO1xuXHRcdGlmIChwcm9jID09PSB2b2lkIDApIHJldHVybiB2b2lkIDA7XG5cdFx0aWYgKHBlbmRpbmdXcml0ZXM/Lmxlbmd0aCkge1xuXHRcdFx0Y29uc3QgY2hlY2twb2ludE5hbWVzcGFjZSA9IHBhcmVudE5hbWVzcGFjZSA9PT0gXCJcIiA/IG5hbWUgOiBgJHtwYXJlbnROYW1lc3BhY2V9JHtDSEVDS1BPSU5UX05BTUVTUEFDRV9TRVBBUkFUT1J9JHtuYW1lfWA7XG5cdFx0XHRjb25zdCB0YXNrSWQgPSB1dWlkNShKU09OLnN0cmluZ2lmeShbXG5cdFx0XHRcdGNoZWNrcG9pbnROYW1lc3BhY2UsXG5cdFx0XHRcdHN0ZXAudG9TdHJpbmcoKSxcblx0XHRcdFx0bmFtZSxcblx0XHRcdFx0UFVMTCxcblx0XHRcdFx0bmFtZVxuXHRcdFx0XSksIGNoZWNrcG9pbnQuaWQpO1xuXHRcdFx0Y29uc3QgaGFzU3VjY2Vzc2Z1bFdyaXRlcyA9IHBlbmRpbmdXcml0ZXMuc29tZSgodykgPT4gd1swXSA9PT0gdGFza0lkICYmIHdbMV0gIT09IEVSUk9SKTtcblx0XHRcdGlmIChoYXNTdWNjZXNzZnVsV3JpdGVzKSByZXR1cm4gdm9pZCAwO1xuXHRcdH1cblx0XHRjb25zdCBudWxsVmVyc2lvbiA9IGdldE51bGxDaGFubmVsVmVyc2lvbihjaGVja3BvaW50LmNoYW5uZWxfdmVyc2lvbnMpO1xuXHRcdGlmIChudWxsVmVyc2lvbiA9PT0gdm9pZCAwKSByZXR1cm4gdm9pZCAwO1xuXHRcdGNvbnN0IHNlZW4gPSBjaGVja3BvaW50LnZlcnNpb25zX3NlZW5bbmFtZV0gPz8ge307XG5cdFx0Y29uc3QgdHJpZ2dlciA9IHByb2MudHJpZ2dlcnMuZmluZCgoY2hhbikgPT4ge1xuXHRcdFx0aWYgKCFjaGFubmVsc1tjaGFuXS5pc0F2YWlsYWJsZSgpKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRyZXR1cm4gKGNoZWNrcG9pbnQuY2hhbm5lbF92ZXJzaW9uc1tjaGFuXSA/PyBudWxsVmVyc2lvbikgPiAoc2VlbltjaGFuXSA/PyBudWxsVmVyc2lvbik7XG5cdFx0fSk7XG5cdFx0aWYgKHRyaWdnZXIgIT09IHZvaWQgMCkge1xuXHRcdFx0Y29uc3QgdmFsID0gX3Byb2NJbnB1dChwcm9jLCBjaGFubmVscywgZm9yRXhlY3V0aW9uKTtcblx0XHRcdGlmICh2YWwgPT09IHZvaWQgMCkgcmV0dXJuIHZvaWQgMDtcblx0XHRcdGNvbnN0IGNoZWNrcG9pbnROYW1lc3BhY2UgPSBwYXJlbnROYW1lc3BhY2UgPT09IFwiXCIgPyBuYW1lIDogYCR7cGFyZW50TmFtZXNwYWNlfSR7Q0hFQ0tQT0lOVF9OQU1FU1BBQ0VfU0VQQVJBVE9SfSR7bmFtZX1gO1xuXHRcdFx0Y29uc3QgdGFza0lkID0gdXVpZDUoSlNPTi5zdHJpbmdpZnkoW1xuXHRcdFx0XHRjaGVja3BvaW50TmFtZXNwYWNlLFxuXHRcdFx0XHRzdGVwLnRvU3RyaW5nKCksXG5cdFx0XHRcdG5hbWUsXG5cdFx0XHRcdFBVTEwsXG5cdFx0XHRcdFt0cmlnZ2VyXVxuXHRcdFx0XSksIGNoZWNrcG9pbnQuaWQpO1xuXHRcdFx0Y29uc3QgdGFza0NoZWNrcG9pbnROYW1lc3BhY2UgPSBgJHtjaGVja3BvaW50TmFtZXNwYWNlfSR7Q0hFQ0tQT0lOVF9OQU1FU1BBQ0VfRU5EfSR7dGFza0lkfWA7XG5cdFx0XHRsZXQgbWV0YWRhdGEgPSB7XG5cdFx0XHRcdGxhbmdncmFwaF9zdGVwOiBzdGVwLFxuXHRcdFx0XHRsYW5nZ3JhcGhfbm9kZTogbmFtZSxcblx0XHRcdFx0bGFuZ2dyYXBoX3RyaWdnZXJzOiBbdHJpZ2dlcl0sXG5cdFx0XHRcdGxhbmdncmFwaF9wYXRoOiB0YXNrUGF0aCxcblx0XHRcdFx0bGFuZ2dyYXBoX2NoZWNrcG9pbnRfbnM6IHRhc2tDaGVja3BvaW50TmFtZXNwYWNlXG5cdFx0XHR9O1xuXHRcdFx0aWYgKGZvckV4ZWN1dGlvbikge1xuXHRcdFx0XHRjb25zdCBub2RlID0gcHJvYy5nZXROb2RlKCk7XG5cdFx0XHRcdGlmIChub2RlICE9PSB2b2lkIDApIHtcblx0XHRcdFx0XHRpZiAocHJvYy5tZXRhZGF0YSAhPT0gdm9pZCAwKSBtZXRhZGF0YSA9IHtcblx0XHRcdFx0XHRcdC4uLm1ldGFkYXRhLFxuXHRcdFx0XHRcdFx0Li4ucHJvYy5tZXRhZGF0YVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0Y29uc3Qgd3JpdGVzID0gW107XG5cdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdG5hbWUsXG5cdFx0XHRcdFx0XHRpbnB1dDogdmFsLFxuXHRcdFx0XHRcdFx0cHJvYzogbm9kZSxcblx0XHRcdFx0XHRcdHN1YmdyYXBoczogcHJvYy5zdWJncmFwaHMsXG5cdFx0XHRcdFx0XHR3cml0ZXMsXG5cdFx0XHRcdFx0XHRjb25maWc6IHBhdGNoQ29uZmlnKG1lcmdlQ29uZmlncyhjb25maWcsIHtcblx0XHRcdFx0XHRcdFx0bWV0YWRhdGEsXG5cdFx0XHRcdFx0XHRcdHRhZ3M6IHByb2MudGFncyxcblx0XHRcdFx0XHRcdFx0c3RvcmU6IGV4dHJhLnN0b3JlID8/IGNvbmZpZy5zdG9yZVxuXHRcdFx0XHRcdFx0fSksIHtcblx0XHRcdFx0XHRcdFx0cnVuTmFtZTogbmFtZSxcblx0XHRcdFx0XHRcdFx0Y2FsbGJhY2tzOiBtYW5hZ2VyPy5nZXRDaGlsZChgZ3JhcGg6c3RlcDoke3N0ZXB9YCksXG5cdFx0XHRcdFx0XHRcdGNvbmZpZ3VyYWJsZToge1xuXHRcdFx0XHRcdFx0XHRcdFtDT05GSUdfS0VZX1RBU0tfSURdOiB0YXNrSWQsXG5cdFx0XHRcdFx0XHRcdFx0W0NPTkZJR19LRVlfU0VORF06ICh3cml0ZXNfKSA9PiBfbG9jYWxXcml0ZSgoaXRlbXMpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRcdHdyaXRlcy5wdXNoKC4uLml0ZW1zKTtcblx0XHRcdFx0XHRcdFx0XHR9LCBwcm9jZXNzZXMsIHdyaXRlc18pLFxuXHRcdFx0XHRcdFx0XHRcdFtDT05GSUdfS0VZX1JFQURdOiAoc2VsZWN0XywgZnJlc2hfID0gZmFsc2UpID0+IF9sb2NhbFJlYWQoY2hlY2twb2ludCwgY2hhbm5lbHMsIHtcblx0XHRcdFx0XHRcdFx0XHRcdG5hbWUsXG5cdFx0XHRcdFx0XHRcdFx0XHR3cml0ZXMsXG5cdFx0XHRcdFx0XHRcdFx0XHR0cmlnZ2VyczogW3RyaWdnZXJdLFxuXHRcdFx0XHRcdFx0XHRcdFx0cGF0aDogdGFza1BhdGhcblx0XHRcdFx0XHRcdFx0XHR9LCBzZWxlY3RfLCBmcmVzaF8pLFxuXHRcdFx0XHRcdFx0XHRcdFtDT05GSUdfS0VZX0NIRUNLUE9JTlRFUl06IGNoZWNrcG9pbnRlciA/PyBjb25maWd1cmFibGVbQ09ORklHX0tFWV9DSEVDS1BPSU5URVJdLFxuXHRcdFx0XHRcdFx0XHRcdFtDT05GSUdfS0VZX0NIRUNLUE9JTlRfTUFQXToge1xuXHRcdFx0XHRcdFx0XHRcdFx0Li4uY29uZmlndXJhYmxlW0NPTkZJR19LRVlfQ0hFQ0tQT0lOVF9NQVBdLFxuXHRcdFx0XHRcdFx0XHRcdFx0W3BhcmVudE5hbWVzcGFjZV06IGNoZWNrcG9pbnQuaWRcblx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFtDT05GSUdfS0VZX1NDUkFUQ0hQQURdOiBfc2NyYXRjaHBhZCh7XG5cdFx0XHRcdFx0XHRcdFx0XHRwZW5kaW5nV3JpdGVzOiBwZW5kaW5nV3JpdGVzID8/IFtdLFxuXHRcdFx0XHRcdFx0XHRcdFx0dGFza0lkLFxuXHRcdFx0XHRcdFx0XHRcdFx0Y3VycmVudFRhc2tJbnB1dDogdmFsLFxuXHRcdFx0XHRcdFx0XHRcdFx0cmVzdW1lTWFwOiBjb25maWcuY29uZmlndXJhYmxlPy5bQ09ORklHX0tFWV9SRVNVTUVfTUFQXSxcblx0XHRcdFx0XHRcdFx0XHRcdG5hbWVzcGFjZUhhc2g6IFhYSDModGFza0NoZWNrcG9pbnROYW1lc3BhY2UpXG5cdFx0XHRcdFx0XHRcdFx0fSksXG5cdFx0XHRcdFx0XHRcdFx0W0NPTkZJR19LRVlfUFJFVklPVVNfU1RBVEVdOiBjaGVja3BvaW50LmNoYW5uZWxfdmFsdWVzW1BSRVZJT1VTXSxcblx0XHRcdFx0XHRcdFx0XHRjaGVja3BvaW50X2lkOiB2b2lkIDAsXG5cdFx0XHRcdFx0XHRcdFx0Y2hlY2twb2ludF9uczogdGFza0NoZWNrcG9pbnROYW1lc3BhY2Vcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSksXG5cdFx0XHRcdFx0XHR0cmlnZ2VyczogW3RyaWdnZXJdLFxuXHRcdFx0XHRcdFx0cmV0cnlfcG9saWN5OiBwcm9jLnJldHJ5UG9saWN5LFxuXHRcdFx0XHRcdFx0Y2FjaGVfa2V5OiBwcm9jLmNhY2hlUG9saWN5ID8ge1xuXHRcdFx0XHRcdFx0XHRrZXk6IFhYSDMoKHByb2MuY2FjaGVQb2xpY3kua2V5RnVuYyA/PyBKU09OLnN0cmluZ2lmeSkoW3ZhbF0pKSxcblx0XHRcdFx0XHRcdFx0bnM6IFtcblx0XHRcdFx0XHRcdFx0XHRDQUNIRV9OU19XUklURVMsXG5cdFx0XHRcdFx0XHRcdFx0cHJvYy5uYW1lID8/IFwiX19keW5hbWljX19cIixcblx0XHRcdFx0XHRcdFx0XHRuYW1lXG5cdFx0XHRcdFx0XHRcdF0sXG5cdFx0XHRcdFx0XHRcdHR0bDogcHJvYy5jYWNoZVBvbGljeS50dGxcblx0XHRcdFx0XHRcdH0gOiB2b2lkIDAsXG5cdFx0XHRcdFx0XHRpZDogdGFza0lkLFxuXHRcdFx0XHRcdFx0cGF0aDogdGFza1BhdGgsXG5cdFx0XHRcdFx0XHR3cml0ZXJzOiBwcm9jLmdldFdyaXRlcnMoKVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSByZXR1cm4ge1xuXHRcdFx0XHRpZDogdGFza0lkLFxuXHRcdFx0XHRuYW1lLFxuXHRcdFx0XHRpbnRlcnJ1cHRzOiBbXSxcblx0XHRcdFx0cGF0aDogdGFza1BhdGhcblx0XHRcdH07XG5cdFx0fVxuXHR9XG5cdHJldHVybiB2b2lkIDA7XG59XG4vKipcbiogIEZ1bmN0aW9uIGluamVjdGVkIHVuZGVyIENPTkZJR19LRVlfUkVBRCBpbiB0YXNrIGNvbmZpZywgdG8gcmVhZCBjdXJyZW50IHN0YXRlLlxuKiAgVXNlZCBieSBjb25kaXRpb25hbCBlZGdlcyB0byByZWFkIGEgY29weSBvZiB0aGUgc3RhdGUgd2l0aCByZWZsZWN0aW5nIHRoZSB3cml0ZXNcbiogIGZyb20gdGhhdCBub2RlIG9ubHkuXG4qXG4qIEBpbnRlcm5hbFxuKi9cbmZ1bmN0aW9uIF9wcm9jSW5wdXQocHJvYywgY2hhbm5lbHMsIGZvckV4ZWN1dGlvbikge1xuXHRsZXQgdmFsO1xuXHRpZiAodHlwZW9mIHByb2MuY2hhbm5lbHMgPT09IFwib2JqZWN0XCIgJiYgIUFycmF5LmlzQXJyYXkocHJvYy5jaGFubmVscykpIHtcblx0XHR2YWwgPSB7fTtcblx0XHRmb3IgKGNvbnN0IFtrLCBjaGFuXSBvZiBPYmplY3QuZW50cmllcyhwcm9jLmNoYW5uZWxzKSkgaWYgKHByb2MudHJpZ2dlcnMuaW5jbHVkZXMoY2hhbikpIHRyeSB7XG5cdFx0XHR2YWxba10gPSByZWFkQ2hhbm5lbChjaGFubmVscywgY2hhbiwgZmFsc2UpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGlmIChlLm5hbWUgPT09IEVtcHR5Q2hhbm5lbEVycm9yLnVubWluaWZpYWJsZV9uYW1lKSByZXR1cm4gdm9pZCAwO1xuXHRcdFx0ZWxzZSB0aHJvdyBlO1xuXHRcdH1cblx0XHRlbHNlIGlmIChjaGFuIGluIGNoYW5uZWxzKSB0cnkge1xuXHRcdFx0dmFsW2tdID0gcmVhZENoYW5uZWwoY2hhbm5lbHMsIGNoYW4sIGZhbHNlKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRpZiAoZS5uYW1lID09PSBFbXB0eUNoYW5uZWxFcnJvci51bm1pbmlmaWFibGVfbmFtZSkgY29udGludWU7XG5cdFx0XHRlbHNlIHRocm93IGU7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocHJvYy5jaGFubmVscykpIHtcblx0XHRsZXQgc3VjY2Vzc2Z1bFJlYWQgPSBmYWxzZTtcblx0XHRmb3IgKGNvbnN0IGNoYW4gb2YgcHJvYy5jaGFubmVscykgdHJ5IHtcblx0XHRcdHZhbCA9IHJlYWRDaGFubmVsKGNoYW5uZWxzLCBjaGFuLCBmYWxzZSk7XG5cdFx0XHRzdWNjZXNzZnVsUmVhZCA9IHRydWU7XG5cdFx0XHRicmVhaztcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRpZiAoZS5uYW1lID09PSBFbXB0eUNoYW5uZWxFcnJvci51bm1pbmlmaWFibGVfbmFtZSkgY29udGludWU7XG5cdFx0XHRlbHNlIHRocm93IGU7XG5cdFx0fVxuXHRcdGlmICghc3VjY2Vzc2Z1bFJlYWQpIHJldHVybiB2b2lkIDA7XG5cdH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgY2hhbm5lbHMgdHlwZSwgZXhwZWN0ZWQgbGlzdCBvciBkaWN0LCBnb3QgJHtwcm9jLmNoYW5uZWxzfWApO1xuXHRpZiAoZm9yRXhlY3V0aW9uICYmIHByb2MubWFwcGVyICE9PSB2b2lkIDApIHZhbCA9IHByb2MubWFwcGVyKHZhbCk7XG5cdHJldHVybiB2YWw7XG59XG5mdW5jdGlvbiBfc2NyYXRjaHBhZCh7IHBlbmRpbmdXcml0ZXMsIHRhc2tJZCwgY3VycmVudFRhc2tJbnB1dCwgcmVzdW1lTWFwLCBuYW1lc3BhY2VIYXNoIH0pIHtcblx0Y29uc3QgbnVsbFJlc3VtZSA9IHBlbmRpbmdXcml0ZXMuZmluZCgoW3dyaXRlVGFza0lkLCBjaGFuXSkgPT4gd3JpdGVUYXNrSWQgPT09IE5VTExfVEFTS19JRCAmJiBjaGFuID09PSBSRVNVTUUpPy5bMl07XG5cdGNvbnN0IHJlc3VtZSA9ICgoKSA9PiB7XG5cdFx0Y29uc3QgcmVzdWx0ID0gcGVuZGluZ1dyaXRlcy5maWx0ZXIoKFt3cml0ZVRhc2tJZCwgY2hhbl0pID0+IHdyaXRlVGFza0lkID09PSB0YXNrSWQgJiYgY2hhbiA9PT0gUkVTVU1FKS5mbGF0TWFwKChbX3dyaXRlVGFza0lkLCBfY2hhbiwgcmVzdW1lJDFdKSA9PiByZXN1bWUkMSk7XG5cdFx0aWYgKHJlc3VtZU1hcCAhPSBudWxsICYmIG5hbWVzcGFjZUhhc2ggaW4gcmVzdW1lTWFwKSB7XG5cdFx0XHRjb25zdCBtYXBwZWRSZXN1bWUgPSByZXN1bWVNYXBbbmFtZXNwYWNlSGFzaF07XG5cdFx0XHRyZXN1bHQucHVzaChtYXBwZWRSZXN1bWUpO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9KSgpO1xuXHRjb25zdCBzY3JhdGNocGFkID0ge1xuXHRcdGNhbGxDb3VudGVyOiAwLFxuXHRcdGludGVycnVwdENvdW50ZXI6IC0xLFxuXHRcdHJlc3VtZSxcblx0XHRudWxsUmVzdW1lLFxuXHRcdHN1YmdyYXBoQ291bnRlcjogMCxcblx0XHRjdXJyZW50VGFza0lucHV0LFxuXHRcdGNvbnN1bWVOdWxsUmVzdW1lOiAoKSA9PiB7XG5cdFx0XHRpZiAoc2NyYXRjaHBhZC5udWxsUmVzdW1lKSB7XG5cdFx0XHRcdGRlbGV0ZSBzY3JhdGNocGFkLm51bGxSZXN1bWU7XG5cdFx0XHRcdHBlbmRpbmdXcml0ZXMuc3BsaWNlKHBlbmRpbmdXcml0ZXMuZmluZEluZGV4KChbd3JpdGVUYXNrSWQsIGNoYW5dKSA9PiB3cml0ZVRhc2tJZCA9PT0gTlVMTF9UQVNLX0lEICYmIGNoYW4gPT09IFJFU1VNRSksIDEpO1xuXHRcdFx0XHRyZXR1cm4gbnVsbFJlc3VtZTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB2b2lkIDA7XG5cdFx0fVxuXHR9O1xuXHRyZXR1cm4gc2NyYXRjaHBhZDtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBfYXBwbHlXcml0ZXMsIF9sb2NhbFJlYWQsIF9wcmVwYXJlTmV4dFRhc2tzLCBfcHJlcGFyZVNpbmdsZVRhc2ssIGluY3JlbWVudCwgc2hvdWxkSW50ZXJydXB0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hbGdvLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/algo.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/call.js":
/*!***********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/call.js ***!
  \***********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   call: () => (/* binding */ call),\n/* harmony export */   getRunnableForEntrypoint: () => (/* binding */ getRunnableForEntrypoint),\n/* harmony export */   getRunnableForFunc: () => (/* binding */ getRunnableForFunc)\n/* harmony export */ });\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/constants.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/utils.js\");\n/* harmony import */ var _write_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./write.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/write.js\");\n/* harmony import */ var _langchain_core_singletons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @langchain/core/singletons */ \"(ssr)/./node_modules/.pnpm/@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12_/node_modules/@langchain/core/dist/singletons/index.js\");\n/* harmony import */ var _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @langchain/core/runnables */ \"(ssr)/./node_modules/.pnpm/@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12_/node_modules/@langchain/core/dist/runnables/index.js\");\n\n\n\n\n\n\n//#region src/pregel/call.ts\n/**\n* Wraps a user function in a Runnable that writes the returned value to the RETURN channel.\n*/\nfunction getRunnableForFunc(name, func) {\n\tconst run = new _utils_js__WEBPACK_IMPORTED_MODULE_1__.RunnableCallable({\n\t\tfunc: (input) => func(...input),\n\t\tname,\n\t\ttrace: false,\n\t\trecurse: false\n\t});\n\treturn new _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_4__.RunnableSequence({\n\t\tname,\n\t\tfirst: run,\n\t\tlast: new _write_js__WEBPACK_IMPORTED_MODULE_2__.ChannelWrite([{\n\t\t\tchannel: _constants_js__WEBPACK_IMPORTED_MODULE_0__.RETURN,\n\t\t\tvalue: _write_js__WEBPACK_IMPORTED_MODULE_2__.PASSTHROUGH\n\t\t}], [_constants_js__WEBPACK_IMPORTED_MODULE_0__.TAG_HIDDEN])\n\t});\n}\nfunction getRunnableForEntrypoint(name, func) {\n\tconst run = new _utils_js__WEBPACK_IMPORTED_MODULE_1__.RunnableCallable({\n\t\tfunc: (input, config) => {\n\t\t\treturn func(input, config);\n\t\t},\n\t\tname,\n\t\ttrace: false,\n\t\trecurse: false\n\t});\n\treturn run;\n}\nfunction call({ func, name, cache, retry }, ...args) {\n\tconst config = _langchain_core_singletons__WEBPACK_IMPORTED_MODULE_3__.AsyncLocalStorageProviderSingleton.getRunnableConfig();\n\tif (typeof config.configurable?.[_constants_js__WEBPACK_IMPORTED_MODULE_0__.CONFIG_KEY_CALL] === \"function\") return config.configurable[_constants_js__WEBPACK_IMPORTED_MODULE_0__.CONFIG_KEY_CALL](func, name, args, {\n\t\tretry,\n\t\tcache,\n\t\tcallbacks: config.callbacks\n\t});\n\tthrow new Error(\"Async local storage not initialized. Please call initializeAsyncLocalStorageSingleton() before using this function.\");\n}\n\n//#endregion\n\n//# sourceMappingURL=call.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L3ByZWdlbC9jYWxsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNFO0FBQ3ZCO0FBQ1E7QUFDeUI7QUFDbkI7O0FBRTdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsdURBQWdCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGLFlBQVksdUVBQWdCO0FBQzVCO0FBQ0E7QUFDQSxZQUFZLG1EQUFZO0FBQ3hCLFlBQVksaURBQU07QUFDbEIsVUFBVSxrREFBVztBQUNyQixHQUFHLElBQUkscURBQVU7QUFDakIsRUFBRTtBQUNGO0FBQ0E7QUFDQSxpQkFBaUIsdURBQWdCO0FBQ2pDO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxnQkFBZ0IsMEJBQTBCO0FBQzFDLGdCQUFnQiwwRkFBa0M7QUFDbEQsa0NBQWtDLDBEQUFlLDZDQUE2QywwREFBZTtBQUM3RztBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTtBQUM4RDtBQUM5RCIsInNvdXJjZXMiOlsiL1VzZXJzL2pvYi9EZXNrdG9wL3Byb2plY3RfeC9wcm9qZWN0LXNxbC1hZ2VudC9zZXJ2aWNlcy9mcm9udGVuZC9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L3ByZWdlbC9jYWxsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENPTkZJR19LRVlfQ0FMTCwgUkVUVVJOLCBUQUdfSElEREVOIH0gZnJvbSBcIi4uL2NvbnN0YW50cy5qc1wiO1xuaW1wb3J0IHsgUnVubmFibGVDYWxsYWJsZSB9IGZyb20gXCIuLi91dGlscy5qc1wiO1xuaW1wb3J0IHsgQ2hhbm5lbFdyaXRlLCBQQVNTVEhST1VHSCB9IGZyb20gXCIuL3dyaXRlLmpzXCI7XG5pbXBvcnQgeyBBc3luY0xvY2FsU3RvcmFnZVByb3ZpZGVyU2luZ2xldG9uIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9zaW5nbGV0b25zXCI7XG5pbXBvcnQgeyBSdW5uYWJsZVNlcXVlbmNlIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9ydW5uYWJsZXNcIjtcblxuLy8jcmVnaW9uIHNyYy9wcmVnZWwvY2FsbC50c1xuLyoqXG4qIFdyYXBzIGEgdXNlciBmdW5jdGlvbiBpbiBhIFJ1bm5hYmxlIHRoYXQgd3JpdGVzIHRoZSByZXR1cm5lZCB2YWx1ZSB0byB0aGUgUkVUVVJOIGNoYW5uZWwuXG4qL1xuZnVuY3Rpb24gZ2V0UnVubmFibGVGb3JGdW5jKG5hbWUsIGZ1bmMpIHtcblx0Y29uc3QgcnVuID0gbmV3IFJ1bm5hYmxlQ2FsbGFibGUoe1xuXHRcdGZ1bmM6IChpbnB1dCkgPT4gZnVuYyguLi5pbnB1dCksXG5cdFx0bmFtZSxcblx0XHR0cmFjZTogZmFsc2UsXG5cdFx0cmVjdXJzZTogZmFsc2Vcblx0fSk7XG5cdHJldHVybiBuZXcgUnVubmFibGVTZXF1ZW5jZSh7XG5cdFx0bmFtZSxcblx0XHRmaXJzdDogcnVuLFxuXHRcdGxhc3Q6IG5ldyBDaGFubmVsV3JpdGUoW3tcblx0XHRcdGNoYW5uZWw6IFJFVFVSTixcblx0XHRcdHZhbHVlOiBQQVNTVEhST1VHSFxuXHRcdH1dLCBbVEFHX0hJRERFTl0pXG5cdH0pO1xufVxuZnVuY3Rpb24gZ2V0UnVubmFibGVGb3JFbnRyeXBvaW50KG5hbWUsIGZ1bmMpIHtcblx0Y29uc3QgcnVuID0gbmV3IFJ1bm5hYmxlQ2FsbGFibGUoe1xuXHRcdGZ1bmM6IChpbnB1dCwgY29uZmlnKSA9PiB7XG5cdFx0XHRyZXR1cm4gZnVuYyhpbnB1dCwgY29uZmlnKTtcblx0XHR9LFxuXHRcdG5hbWUsXG5cdFx0dHJhY2U6IGZhbHNlLFxuXHRcdHJlY3Vyc2U6IGZhbHNlXG5cdH0pO1xuXHRyZXR1cm4gcnVuO1xufVxuZnVuY3Rpb24gY2FsbCh7IGZ1bmMsIG5hbWUsIGNhY2hlLCByZXRyeSB9LCAuLi5hcmdzKSB7XG5cdGNvbnN0IGNvbmZpZyA9IEFzeW5jTG9jYWxTdG9yYWdlUHJvdmlkZXJTaW5nbGV0b24uZ2V0UnVubmFibGVDb25maWcoKTtcblx0aWYgKHR5cGVvZiBjb25maWcuY29uZmlndXJhYmxlPy5bQ09ORklHX0tFWV9DQUxMXSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gY29uZmlnLmNvbmZpZ3VyYWJsZVtDT05GSUdfS0VZX0NBTExdKGZ1bmMsIG5hbWUsIGFyZ3MsIHtcblx0XHRyZXRyeSxcblx0XHRjYWNoZSxcblx0XHRjYWxsYmFja3M6IGNvbmZpZy5jYWxsYmFja3Ncblx0fSk7XG5cdHRocm93IG5ldyBFcnJvcihcIkFzeW5jIGxvY2FsIHN0b3JhZ2Ugbm90IGluaXRpYWxpemVkLiBQbGVhc2UgY2FsbCBpbml0aWFsaXplQXN5bmNMb2NhbFN0b3JhZ2VTaW5nbGV0b24oKSBiZWZvcmUgdXNpbmcgdGhpcyBmdW5jdGlvbi5cIik7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgY2FsbCwgZ2V0UnVubmFibGVGb3JFbnRyeXBvaW50LCBnZXRSdW5uYWJsZUZvckZ1bmMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhbGwuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/call.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/debug.js":
/*!************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/debug.js ***!
  \************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   mapDebugCheckpoint: () => (/* binding */ mapDebugCheckpoint),\n/* harmony export */   mapDebugTaskResults: () => (/* binding */ mapDebugTaskResults),\n/* harmony export */   mapDebugTasks: () => (/* binding */ mapDebugTasks),\n/* harmony export */   printStepCheckpoint: () => (/* binding */ printStepCheckpoint),\n/* harmony export */   printStepTasks: () => (/* binding */ printStepTasks),\n/* harmony export */   printStepWrites: () => (/* binding */ printStepWrites),\n/* harmony export */   tasksWithWrites: () => (/* binding */ tasksWithWrites)\n/* harmony export */ });\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/constants.js\");\n/* harmony import */ var _io_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./io.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/io.js\");\n/* harmony import */ var _utils_subgraph_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/subgraph.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/utils/subgraph.js\");\n\n\n\n\n//#region src/pregel/debug.ts\nconst COLORS_MAP = {\n\tblue: {\n\t\tstart: \"\\x1B[34m\",\n\t\tend: \"\\x1B[0m\"\n\t},\n\tgreen: {\n\t\tstart: \"\\x1B[32m\",\n\t\tend: \"\\x1B[0m\"\n\t},\n\tyellow: {\n\t\tstart: \"\\x1B[33;1m\",\n\t\tend: \"\\x1B[0m\"\n\t}\n};\n/**\n* Wrap some text in a color for printing to the console.\n*/\nconst wrap = (color, text) => `${color.start}${text}${color.end}`;\nfunction* mapDebugTasks(tasks) {\n\tfor (const { id, name, input, config, triggers, writes } of tasks) {\n\t\tif (config?.tags?.includes(_constants_js__WEBPACK_IMPORTED_MODULE_0__.TAG_HIDDEN)) continue;\n\t\tconst interrupts = writes.filter(([writeId, n]) => {\n\t\t\treturn writeId === id && n === _constants_js__WEBPACK_IMPORTED_MODULE_0__.INTERRUPT;\n\t\t}).map(([, v]) => {\n\t\t\treturn v;\n\t\t});\n\t\tyield {\n\t\t\tid,\n\t\t\tname,\n\t\t\tinput,\n\t\t\ttriggers,\n\t\t\tinterrupts\n\t\t};\n\t}\n}\nfunction isMultipleChannelWrite(value) {\n\tif (typeof value !== \"object\" || value === null) return false;\n\treturn \"$writes\" in value && Array.isArray(value.$writes);\n}\nfunction mapTaskResultWrites(writes) {\n\tconst result = {};\n\tfor (const [channel, value] of writes) {\n\t\tconst strChannel = String(channel);\n\t\tif (strChannel in result) {\n\t\t\tconst channelWrites = isMultipleChannelWrite(result[strChannel]) ? result[strChannel].$writes : [result[strChannel]];\n\t\t\tchannelWrites.push(value);\n\t\t\tresult[strChannel] = { $writes: channelWrites };\n\t\t} else result[strChannel] = value;\n\t}\n\treturn result;\n}\nfunction* mapDebugTaskResults(tasks, streamChannels) {\n\tfor (const [{ id, name, config }, writes] of tasks) {\n\t\tif (config?.tags?.includes(_constants_js__WEBPACK_IMPORTED_MODULE_0__.TAG_HIDDEN)) continue;\n\t\tyield {\n\t\t\tid,\n\t\t\tname,\n\t\t\tresult: mapTaskResultWrites(writes.filter(([channel]) => {\n\t\t\t\treturn Array.isArray(streamChannels) ? streamChannels.includes(channel) : channel === streamChannels;\n\t\t\t})),\n\t\t\tinterrupts: writes.filter((w) => w[0] === _constants_js__WEBPACK_IMPORTED_MODULE_0__.INTERRUPT).map((w) => w[1])\n\t\t};\n\t}\n}\nfunction* mapDebugCheckpoint(config, channels, streamChannels, metadata, tasks, pendingWrites, parentConfig, outputKeys) {\n\tfunction formatConfig(config$1) {\n\t\tconst pyConfig = {};\n\t\tif (config$1.callbacks != null) pyConfig.callbacks = config$1.callbacks;\n\t\tif (config$1.configurable != null) pyConfig.configurable = config$1.configurable;\n\t\tif (config$1.maxConcurrency != null) pyConfig.max_concurrency = config$1.maxConcurrency;\n\t\tif (config$1.metadata != null) pyConfig.metadata = config$1.metadata;\n\t\tif (config$1.recursionLimit != null) pyConfig.recursion_limit = config$1.recursionLimit;\n\t\tif (config$1.runId != null) pyConfig.run_id = config$1.runId;\n\t\tif (config$1.runName != null) pyConfig.run_name = config$1.runName;\n\t\tif (config$1.tags != null) pyConfig.tags = config$1.tags;\n\t\treturn pyConfig;\n\t}\n\tconst parentNs = config.configurable?.checkpoint_ns;\n\tconst taskStates = {};\n\tfor (const task of tasks) {\n\t\tconst candidates = task.subgraphs?.length ? task.subgraphs : [task.proc];\n\t\tif (!candidates.find(_utils_subgraph_js__WEBPACK_IMPORTED_MODULE_2__.findSubgraphPregel)) continue;\n\t\tlet taskNs = `${task.name}:${task.id}`;\n\t\tif (parentNs) taskNs = `${parentNs}|${taskNs}`;\n\t\ttaskStates[task.id] = { configurable: {\n\t\t\tthread_id: config.configurable?.thread_id,\n\t\t\tcheckpoint_ns: taskNs\n\t\t} };\n\t}\n\tyield {\n\t\tconfig: formatConfig(config),\n\t\tvalues: (0,_io_js__WEBPACK_IMPORTED_MODULE_1__.readChannels)(channels, streamChannels),\n\t\tmetadata,\n\t\tnext: tasks.map((task) => task.name),\n\t\ttasks: tasksWithWrites(tasks, pendingWrites, taskStates, outputKeys),\n\t\tparentConfig: parentConfig ? formatConfig(parentConfig) : void 0\n\t};\n}\nfunction tasksWithWrites(tasks, pendingWrites, states, outputKeys) {\n\treturn tasks.map((task) => {\n\t\tconst error = pendingWrites.find(([id, n]) => id === task.id && n === _constants_js__WEBPACK_IMPORTED_MODULE_0__.ERROR)?.[2];\n\t\tconst interrupts = pendingWrites.filter(([id, n]) => id === task.id && n === _constants_js__WEBPACK_IMPORTED_MODULE_0__.INTERRUPT).map(([, , v]) => v);\n\t\tconst result = (() => {\n\t\t\tif (error || interrupts.length || !pendingWrites.length) return void 0;\n\t\t\tconst idx = pendingWrites.findIndex(([tid, n]) => tid === task.id && n === _constants_js__WEBPACK_IMPORTED_MODULE_0__.RETURN);\n\t\t\tif (idx >= 0) return pendingWrites[idx][2];\n\t\t\tif (typeof outputKeys === \"string\") return pendingWrites.find(([tid, n]) => tid === task.id && n === outputKeys)?.[2];\n\t\t\tif (Array.isArray(outputKeys)) {\n\t\t\t\tconst results = pendingWrites.filter(([tid, n]) => tid === task.id && outputKeys.includes(n)).map(([, n, v]) => [n, v]);\n\t\t\t\tif (!results.length) return void 0;\n\t\t\t\treturn mapTaskResultWrites(results);\n\t\t\t}\n\t\t\treturn void 0;\n\t\t})();\n\t\tif (error) return {\n\t\t\tid: task.id,\n\t\t\tname: task.name,\n\t\t\tpath: task.path,\n\t\t\terror,\n\t\t\tinterrupts,\n\t\t\tresult\n\t\t};\n\t\tconst taskState = states?.[task.id];\n\t\treturn {\n\t\t\tid: task.id,\n\t\t\tname: task.name,\n\t\t\tpath: task.path,\n\t\t\tinterrupts,\n\t\t\t...taskState !== void 0 ? { state: taskState } : {},\n\t\t\tresult\n\t\t};\n\t});\n}\nfunction printStepCheckpoint(step, channels, whitelist) {\n\tconsole.log([\n\t\t`${wrap(COLORS_MAP.blue, `[${step}:checkpoint]`)}`,\n\t\t`\\x1b[1m State at the end of step ${step}:\\x1b[0m\\n`,\n\t\tJSON.stringify((0,_io_js__WEBPACK_IMPORTED_MODULE_1__.readChannels)(channels, whitelist), null, 2)\n\t].join(\"\"));\n}\nfunction printStepTasks(step, nextTasks) {\n\tconst nTasks = nextTasks.length;\n\tconsole.log([\n\t\t`${wrap(COLORS_MAP.blue, `[${step}:tasks]`)}`,\n\t\t`\\x1b[1m Starting step ${step} with ${nTasks} task${nTasks === 1 ? \"\" : \"s\"}:\\x1b[0m\\n`,\n\t\tnextTasks.map((task) => `- ${wrap(COLORS_MAP.green, String(task.name))} -> ${JSON.stringify(task.input, null, 2)}`).join(\"\\n\")\n\t].join(\"\"));\n}\nfunction printStepWrites(step, writes, whitelist) {\n\tconst byChannel = {};\n\tfor (const [channel, value] of writes) if (whitelist.includes(channel)) {\n\t\tif (!byChannel[channel]) byChannel[channel] = [];\n\t\tbyChannel[channel].push(value);\n\t}\n\tconsole.log([\n\t\t`${wrap(COLORS_MAP.blue, `[${step}:writes]`)}`,\n\t\t`\\x1b[1m Finished step ${step} with writes to ${Object.keys(byChannel).length} channel${Object.keys(byChannel).length !== 1 ? \"s\" : \"\"}:\\x1b[0m\\n`,\n\t\tObject.entries(byChannel).map(([name, vals]) => `- ${wrap(COLORS_MAP.yellow, name)} -> ${vals.map((v) => JSON.stringify(v)).join(\", \")}`).join(\"\\n\")\n\t].join(\"\"));\n}\n\n//#endregion\n\n//# sourceMappingURL=debug.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L3ByZWdlbC9kZWJ1Zy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQXVFO0FBQ2hDO0FBQ2tCOztBQUV6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsWUFBWSxFQUFFLEtBQUssRUFBRSxVQUFVO0FBQ2hFO0FBQ0EsY0FBYyw0Q0FBNEM7QUFDMUQsNkJBQTZCLHFEQUFVO0FBQ3ZDO0FBQ0Esa0NBQWtDLG9EQUFTO0FBQzNDLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsa0JBQWtCO0FBQ2pDLDZCQUE2QixxREFBVTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLDZDQUE2QyxvREFBUztBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGtFQUFrQjtBQUN6QyxrQkFBa0IsVUFBVSxHQUFHLFFBQVE7QUFDdkMsNEJBQTRCLFNBQVMsR0FBRyxPQUFPO0FBQy9DLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLG9EQUFZO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RUFBd0UsZ0RBQUs7QUFDN0UsK0VBQStFLG9EQUFTO0FBQ3hGO0FBQ0E7QUFDQSw4RUFBOEUsaURBQU07QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLG1CQUFtQixJQUFJO0FBQ3REO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0EsS0FBSywwQkFBMEIsS0FBSyxlQUFlO0FBQ25ELHNDQUFzQyxLQUFLO0FBQzNDLGlCQUFpQixvREFBWTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSywwQkFBMEIsS0FBSyxVQUFVO0FBQzlDLDJCQUEyQixNQUFNLE9BQU8sUUFBUSxNQUFNLHdCQUF3QjtBQUM5RSwrQkFBK0IsMkNBQTJDLEtBQUssb0NBQW9DO0FBQ25IO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssMEJBQTBCLEtBQUssV0FBVztBQUMvQywyQkFBMkIsTUFBTSxpQkFBaUIsK0JBQStCLFNBQVMsK0NBQStDO0FBQ3pJLHVEQUF1RCwrQkFBK0IsS0FBSyw4Q0FBOEM7QUFDekk7QUFDQTs7QUFFQTtBQUN5STtBQUN6SSIsInNvdXJjZXMiOlsiL1VzZXJzL2pvYi9EZXNrdG9wL3Byb2plY3RfeC9wcm9qZWN0LXNxbC1hZ2VudC9zZXJ2aWNlcy9mcm9udGVuZC9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L3ByZWdlbC9kZWJ1Zy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFUlJPUiwgSU5URVJSVVBULCBSRVRVUk4sIFRBR19ISURERU4gfSBmcm9tIFwiLi4vY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgeyByZWFkQ2hhbm5lbHMgfSBmcm9tIFwiLi9pby5qc1wiO1xuaW1wb3J0IHsgZmluZFN1YmdyYXBoUHJlZ2VsIH0gZnJvbSBcIi4vdXRpbHMvc3ViZ3JhcGguanNcIjtcblxuLy8jcmVnaW9uIHNyYy9wcmVnZWwvZGVidWcudHNcbmNvbnN0IENPTE9SU19NQVAgPSB7XG5cdGJsdWU6IHtcblx0XHRzdGFydDogXCJcXHgxQlszNG1cIixcblx0XHRlbmQ6IFwiXFx4MUJbMG1cIlxuXHR9LFxuXHRncmVlbjoge1xuXHRcdHN0YXJ0OiBcIlxceDFCWzMybVwiLFxuXHRcdGVuZDogXCJcXHgxQlswbVwiXG5cdH0sXG5cdHllbGxvdzoge1xuXHRcdHN0YXJ0OiBcIlxceDFCWzMzOzFtXCIsXG5cdFx0ZW5kOiBcIlxceDFCWzBtXCJcblx0fVxufTtcbi8qKlxuKiBXcmFwIHNvbWUgdGV4dCBpbiBhIGNvbG9yIGZvciBwcmludGluZyB0byB0aGUgY29uc29sZS5cbiovXG5jb25zdCB3cmFwID0gKGNvbG9yLCB0ZXh0KSA9PiBgJHtjb2xvci5zdGFydH0ke3RleHR9JHtjb2xvci5lbmR9YDtcbmZ1bmN0aW9uKiBtYXBEZWJ1Z1Rhc2tzKHRhc2tzKSB7XG5cdGZvciAoY29uc3QgeyBpZCwgbmFtZSwgaW5wdXQsIGNvbmZpZywgdHJpZ2dlcnMsIHdyaXRlcyB9IG9mIHRhc2tzKSB7XG5cdFx0aWYgKGNvbmZpZz8udGFncz8uaW5jbHVkZXMoVEFHX0hJRERFTikpIGNvbnRpbnVlO1xuXHRcdGNvbnN0IGludGVycnVwdHMgPSB3cml0ZXMuZmlsdGVyKChbd3JpdGVJZCwgbl0pID0+IHtcblx0XHRcdHJldHVybiB3cml0ZUlkID09PSBpZCAmJiBuID09PSBJTlRFUlJVUFQ7XG5cdFx0fSkubWFwKChbLCB2XSkgPT4ge1xuXHRcdFx0cmV0dXJuIHY7XG5cdFx0fSk7XG5cdFx0eWllbGQge1xuXHRcdFx0aWQsXG5cdFx0XHRuYW1lLFxuXHRcdFx0aW5wdXQsXG5cdFx0XHR0cmlnZ2Vycyxcblx0XHRcdGludGVycnVwdHNcblx0XHR9O1xuXHR9XG59XG5mdW5jdGlvbiBpc011bHRpcGxlQ2hhbm5lbFdyaXRlKHZhbHVlKSB7XG5cdGlmICh0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgdmFsdWUgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblx0cmV0dXJuIFwiJHdyaXRlc1wiIGluIHZhbHVlICYmIEFycmF5LmlzQXJyYXkodmFsdWUuJHdyaXRlcyk7XG59XG5mdW5jdGlvbiBtYXBUYXNrUmVzdWx0V3JpdGVzKHdyaXRlcykge1xuXHRjb25zdCByZXN1bHQgPSB7fTtcblx0Zm9yIChjb25zdCBbY2hhbm5lbCwgdmFsdWVdIG9mIHdyaXRlcykge1xuXHRcdGNvbnN0IHN0ckNoYW5uZWwgPSBTdHJpbmcoY2hhbm5lbCk7XG5cdFx0aWYgKHN0ckNoYW5uZWwgaW4gcmVzdWx0KSB7XG5cdFx0XHRjb25zdCBjaGFubmVsV3JpdGVzID0gaXNNdWx0aXBsZUNoYW5uZWxXcml0ZShyZXN1bHRbc3RyQ2hhbm5lbF0pID8gcmVzdWx0W3N0ckNoYW5uZWxdLiR3cml0ZXMgOiBbcmVzdWx0W3N0ckNoYW5uZWxdXTtcblx0XHRcdGNoYW5uZWxXcml0ZXMucHVzaCh2YWx1ZSk7XG5cdFx0XHRyZXN1bHRbc3RyQ2hhbm5lbF0gPSB7ICR3cml0ZXM6IGNoYW5uZWxXcml0ZXMgfTtcblx0XHR9IGVsc2UgcmVzdWx0W3N0ckNoYW5uZWxdID0gdmFsdWU7XG5cdH1cblx0cmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uKiBtYXBEZWJ1Z1Rhc2tSZXN1bHRzKHRhc2tzLCBzdHJlYW1DaGFubmVscykge1xuXHRmb3IgKGNvbnN0IFt7IGlkLCBuYW1lLCBjb25maWcgfSwgd3JpdGVzXSBvZiB0YXNrcykge1xuXHRcdGlmIChjb25maWc/LnRhZ3M/LmluY2x1ZGVzKFRBR19ISURERU4pKSBjb250aW51ZTtcblx0XHR5aWVsZCB7XG5cdFx0XHRpZCxcblx0XHRcdG5hbWUsXG5cdFx0XHRyZXN1bHQ6IG1hcFRhc2tSZXN1bHRXcml0ZXMod3JpdGVzLmZpbHRlcigoW2NoYW5uZWxdKSA9PiB7XG5cdFx0XHRcdHJldHVybiBBcnJheS5pc0FycmF5KHN0cmVhbUNoYW5uZWxzKSA/IHN0cmVhbUNoYW5uZWxzLmluY2x1ZGVzKGNoYW5uZWwpIDogY2hhbm5lbCA9PT0gc3RyZWFtQ2hhbm5lbHM7XG5cdFx0XHR9KSksXG5cdFx0XHRpbnRlcnJ1cHRzOiB3cml0ZXMuZmlsdGVyKCh3KSA9PiB3WzBdID09PSBJTlRFUlJVUFQpLm1hcCgodykgPT4gd1sxXSlcblx0XHR9O1xuXHR9XG59XG5mdW5jdGlvbiogbWFwRGVidWdDaGVja3BvaW50KGNvbmZpZywgY2hhbm5lbHMsIHN0cmVhbUNoYW5uZWxzLCBtZXRhZGF0YSwgdGFza3MsIHBlbmRpbmdXcml0ZXMsIHBhcmVudENvbmZpZywgb3V0cHV0S2V5cykge1xuXHRmdW5jdGlvbiBmb3JtYXRDb25maWcoY29uZmlnJDEpIHtcblx0XHRjb25zdCBweUNvbmZpZyA9IHt9O1xuXHRcdGlmIChjb25maWckMS5jYWxsYmFja3MgIT0gbnVsbCkgcHlDb25maWcuY2FsbGJhY2tzID0gY29uZmlnJDEuY2FsbGJhY2tzO1xuXHRcdGlmIChjb25maWckMS5jb25maWd1cmFibGUgIT0gbnVsbCkgcHlDb25maWcuY29uZmlndXJhYmxlID0gY29uZmlnJDEuY29uZmlndXJhYmxlO1xuXHRcdGlmIChjb25maWckMS5tYXhDb25jdXJyZW5jeSAhPSBudWxsKSBweUNvbmZpZy5tYXhfY29uY3VycmVuY3kgPSBjb25maWckMS5tYXhDb25jdXJyZW5jeTtcblx0XHRpZiAoY29uZmlnJDEubWV0YWRhdGEgIT0gbnVsbCkgcHlDb25maWcubWV0YWRhdGEgPSBjb25maWckMS5tZXRhZGF0YTtcblx0XHRpZiAoY29uZmlnJDEucmVjdXJzaW9uTGltaXQgIT0gbnVsbCkgcHlDb25maWcucmVjdXJzaW9uX2xpbWl0ID0gY29uZmlnJDEucmVjdXJzaW9uTGltaXQ7XG5cdFx0aWYgKGNvbmZpZyQxLnJ1bklkICE9IG51bGwpIHB5Q29uZmlnLnJ1bl9pZCA9IGNvbmZpZyQxLnJ1bklkO1xuXHRcdGlmIChjb25maWckMS5ydW5OYW1lICE9IG51bGwpIHB5Q29uZmlnLnJ1bl9uYW1lID0gY29uZmlnJDEucnVuTmFtZTtcblx0XHRpZiAoY29uZmlnJDEudGFncyAhPSBudWxsKSBweUNvbmZpZy50YWdzID0gY29uZmlnJDEudGFncztcblx0XHRyZXR1cm4gcHlDb25maWc7XG5cdH1cblx0Y29uc3QgcGFyZW50TnMgPSBjb25maWcuY29uZmlndXJhYmxlPy5jaGVja3BvaW50X25zO1xuXHRjb25zdCB0YXNrU3RhdGVzID0ge307XG5cdGZvciAoY29uc3QgdGFzayBvZiB0YXNrcykge1xuXHRcdGNvbnN0IGNhbmRpZGF0ZXMgPSB0YXNrLnN1YmdyYXBocz8ubGVuZ3RoID8gdGFzay5zdWJncmFwaHMgOiBbdGFzay5wcm9jXTtcblx0XHRpZiAoIWNhbmRpZGF0ZXMuZmluZChmaW5kU3ViZ3JhcGhQcmVnZWwpKSBjb250aW51ZTtcblx0XHRsZXQgdGFza05zID0gYCR7dGFzay5uYW1lfToke3Rhc2suaWR9YDtcblx0XHRpZiAocGFyZW50TnMpIHRhc2tOcyA9IGAke3BhcmVudE5zfXwke3Rhc2tOc31gO1xuXHRcdHRhc2tTdGF0ZXNbdGFzay5pZF0gPSB7IGNvbmZpZ3VyYWJsZToge1xuXHRcdFx0dGhyZWFkX2lkOiBjb25maWcuY29uZmlndXJhYmxlPy50aHJlYWRfaWQsXG5cdFx0XHRjaGVja3BvaW50X25zOiB0YXNrTnNcblx0XHR9IH07XG5cdH1cblx0eWllbGQge1xuXHRcdGNvbmZpZzogZm9ybWF0Q29uZmlnKGNvbmZpZyksXG5cdFx0dmFsdWVzOiByZWFkQ2hhbm5lbHMoY2hhbm5lbHMsIHN0cmVhbUNoYW5uZWxzKSxcblx0XHRtZXRhZGF0YSxcblx0XHRuZXh0OiB0YXNrcy5tYXAoKHRhc2spID0+IHRhc2submFtZSksXG5cdFx0dGFza3M6IHRhc2tzV2l0aFdyaXRlcyh0YXNrcywgcGVuZGluZ1dyaXRlcywgdGFza1N0YXRlcywgb3V0cHV0S2V5cyksXG5cdFx0cGFyZW50Q29uZmlnOiBwYXJlbnRDb25maWcgPyBmb3JtYXRDb25maWcocGFyZW50Q29uZmlnKSA6IHZvaWQgMFxuXHR9O1xufVxuZnVuY3Rpb24gdGFza3NXaXRoV3JpdGVzKHRhc2tzLCBwZW5kaW5nV3JpdGVzLCBzdGF0ZXMsIG91dHB1dEtleXMpIHtcblx0cmV0dXJuIHRhc2tzLm1hcCgodGFzaykgPT4ge1xuXHRcdGNvbnN0IGVycm9yID0gcGVuZGluZ1dyaXRlcy5maW5kKChbaWQsIG5dKSA9PiBpZCA9PT0gdGFzay5pZCAmJiBuID09PSBFUlJPUik/LlsyXTtcblx0XHRjb25zdCBpbnRlcnJ1cHRzID0gcGVuZGluZ1dyaXRlcy5maWx0ZXIoKFtpZCwgbl0pID0+IGlkID09PSB0YXNrLmlkICYmIG4gPT09IElOVEVSUlVQVCkubWFwKChbLCAsIHZdKSA9PiB2KTtcblx0XHRjb25zdCByZXN1bHQgPSAoKCkgPT4ge1xuXHRcdFx0aWYgKGVycm9yIHx8IGludGVycnVwdHMubGVuZ3RoIHx8ICFwZW5kaW5nV3JpdGVzLmxlbmd0aCkgcmV0dXJuIHZvaWQgMDtcblx0XHRcdGNvbnN0IGlkeCA9IHBlbmRpbmdXcml0ZXMuZmluZEluZGV4KChbdGlkLCBuXSkgPT4gdGlkID09PSB0YXNrLmlkICYmIG4gPT09IFJFVFVSTik7XG5cdFx0XHRpZiAoaWR4ID49IDApIHJldHVybiBwZW5kaW5nV3JpdGVzW2lkeF1bMl07XG5cdFx0XHRpZiAodHlwZW9mIG91dHB1dEtleXMgPT09IFwic3RyaW5nXCIpIHJldHVybiBwZW5kaW5nV3JpdGVzLmZpbmQoKFt0aWQsIG5dKSA9PiB0aWQgPT09IHRhc2suaWQgJiYgbiA9PT0gb3V0cHV0S2V5cyk/LlsyXTtcblx0XHRcdGlmIChBcnJheS5pc0FycmF5KG91dHB1dEtleXMpKSB7XG5cdFx0XHRcdGNvbnN0IHJlc3VsdHMgPSBwZW5kaW5nV3JpdGVzLmZpbHRlcigoW3RpZCwgbl0pID0+IHRpZCA9PT0gdGFzay5pZCAmJiBvdXRwdXRLZXlzLmluY2x1ZGVzKG4pKS5tYXAoKFssIG4sIHZdKSA9PiBbbiwgdl0pO1xuXHRcdFx0XHRpZiAoIXJlc3VsdHMubGVuZ3RoKSByZXR1cm4gdm9pZCAwO1xuXHRcdFx0XHRyZXR1cm4gbWFwVGFza1Jlc3VsdFdyaXRlcyhyZXN1bHRzKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB2b2lkIDA7XG5cdFx0fSkoKTtcblx0XHRpZiAoZXJyb3IpIHJldHVybiB7XG5cdFx0XHRpZDogdGFzay5pZCxcblx0XHRcdG5hbWU6IHRhc2submFtZSxcblx0XHRcdHBhdGg6IHRhc2sucGF0aCxcblx0XHRcdGVycm9yLFxuXHRcdFx0aW50ZXJydXB0cyxcblx0XHRcdHJlc3VsdFxuXHRcdH07XG5cdFx0Y29uc3QgdGFza1N0YXRlID0gc3RhdGVzPy5bdGFzay5pZF07XG5cdFx0cmV0dXJuIHtcblx0XHRcdGlkOiB0YXNrLmlkLFxuXHRcdFx0bmFtZTogdGFzay5uYW1lLFxuXHRcdFx0cGF0aDogdGFzay5wYXRoLFxuXHRcdFx0aW50ZXJydXB0cyxcblx0XHRcdC4uLnRhc2tTdGF0ZSAhPT0gdm9pZCAwID8geyBzdGF0ZTogdGFza1N0YXRlIH0gOiB7fSxcblx0XHRcdHJlc3VsdFxuXHRcdH07XG5cdH0pO1xufVxuZnVuY3Rpb24gcHJpbnRTdGVwQ2hlY2twb2ludChzdGVwLCBjaGFubmVscywgd2hpdGVsaXN0KSB7XG5cdGNvbnNvbGUubG9nKFtcblx0XHRgJHt3cmFwKENPTE9SU19NQVAuYmx1ZSwgYFske3N0ZXB9OmNoZWNrcG9pbnRdYCl9YCxcblx0XHRgXFx4MWJbMW0gU3RhdGUgYXQgdGhlIGVuZCBvZiBzdGVwICR7c3RlcH06XFx4MWJbMG1cXG5gLFxuXHRcdEpTT04uc3RyaW5naWZ5KHJlYWRDaGFubmVscyhjaGFubmVscywgd2hpdGVsaXN0KSwgbnVsbCwgMilcblx0XS5qb2luKFwiXCIpKTtcbn1cbmZ1bmN0aW9uIHByaW50U3RlcFRhc2tzKHN0ZXAsIG5leHRUYXNrcykge1xuXHRjb25zdCBuVGFza3MgPSBuZXh0VGFza3MubGVuZ3RoO1xuXHRjb25zb2xlLmxvZyhbXG5cdFx0YCR7d3JhcChDT0xPUlNfTUFQLmJsdWUsIGBbJHtzdGVwfTp0YXNrc11gKX1gLFxuXHRcdGBcXHgxYlsxbSBTdGFydGluZyBzdGVwICR7c3RlcH0gd2l0aCAke25UYXNrc30gdGFzayR7blRhc2tzID09PSAxID8gXCJcIiA6IFwic1wifTpcXHgxYlswbVxcbmAsXG5cdFx0bmV4dFRhc2tzLm1hcCgodGFzaykgPT4gYC0gJHt3cmFwKENPTE9SU19NQVAuZ3JlZW4sIFN0cmluZyh0YXNrLm5hbWUpKX0gLT4gJHtKU09OLnN0cmluZ2lmeSh0YXNrLmlucHV0LCBudWxsLCAyKX1gKS5qb2luKFwiXFxuXCIpXG5cdF0uam9pbihcIlwiKSk7XG59XG5mdW5jdGlvbiBwcmludFN0ZXBXcml0ZXMoc3RlcCwgd3JpdGVzLCB3aGl0ZWxpc3QpIHtcblx0Y29uc3QgYnlDaGFubmVsID0ge307XG5cdGZvciAoY29uc3QgW2NoYW5uZWwsIHZhbHVlXSBvZiB3cml0ZXMpIGlmICh3aGl0ZWxpc3QuaW5jbHVkZXMoY2hhbm5lbCkpIHtcblx0XHRpZiAoIWJ5Q2hhbm5lbFtjaGFubmVsXSkgYnlDaGFubmVsW2NoYW5uZWxdID0gW107XG5cdFx0YnlDaGFubmVsW2NoYW5uZWxdLnB1c2godmFsdWUpO1xuXHR9XG5cdGNvbnNvbGUubG9nKFtcblx0XHRgJHt3cmFwKENPTE9SU19NQVAuYmx1ZSwgYFske3N0ZXB9OndyaXRlc11gKX1gLFxuXHRcdGBcXHgxYlsxbSBGaW5pc2hlZCBzdGVwICR7c3RlcH0gd2l0aCB3cml0ZXMgdG8gJHtPYmplY3Qua2V5cyhieUNoYW5uZWwpLmxlbmd0aH0gY2hhbm5lbCR7T2JqZWN0LmtleXMoYnlDaGFubmVsKS5sZW5ndGggIT09IDEgPyBcInNcIiA6IFwiXCJ9OlxceDFiWzBtXFxuYCxcblx0XHRPYmplY3QuZW50cmllcyhieUNoYW5uZWwpLm1hcCgoW25hbWUsIHZhbHNdKSA9PiBgLSAke3dyYXAoQ09MT1JTX01BUC55ZWxsb3csIG5hbWUpfSAtPiAke3ZhbHMubWFwKCh2KSA9PiBKU09OLnN0cmluZ2lmeSh2KSkuam9pbihcIiwgXCIpfWApLmpvaW4oXCJcXG5cIilcblx0XS5qb2luKFwiXCIpKTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBtYXBEZWJ1Z0NoZWNrcG9pbnQsIG1hcERlYnVnVGFza1Jlc3VsdHMsIG1hcERlYnVnVGFza3MsIHByaW50U3RlcENoZWNrcG9pbnQsIHByaW50U3RlcFRhc2tzLCBwcmludFN0ZXBXcml0ZXMsIHRhc2tzV2l0aFdyaXRlcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVidWcuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/debug.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/index.js":
/*!************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/index.js ***!
  \************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Channel: () => (/* binding */ Channel),\n/* harmony export */   Pregel: () => (/* binding */ Pregel)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errors.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/errors.js\");\n/* harmony import */ var _channels_base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../channels/base.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/base.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/constants.js\");\n/* harmony import */ var _utils_config_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/config.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/utils/config.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/utils.js\");\n/* harmony import */ var _write_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./write.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/write.js\");\n/* harmony import */ var _read_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./read.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/read.js\");\n/* harmony import */ var _io_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./io.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/io.js\");\n/* harmony import */ var _utils_index_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./utils/index.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/utils/index.js\");\n/* harmony import */ var _algo_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./algo.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/algo.js\");\n/* harmony import */ var _utils_subgraph_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./utils/subgraph.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/utils/subgraph.js\");\n/* harmony import */ var _debug_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./debug.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/debug.js\");\n/* harmony import */ var _stream_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./stream.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/stream.js\");\n/* harmony import */ var _loop_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./loop.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/loop.js\");\n/* harmony import */ var _messages_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./messages.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/messages.js\");\n/* harmony import */ var _runner_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./runner.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/runner.js\");\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./validate.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/validate.js\");\n/* harmony import */ var _channels_topic_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../channels/topic.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/topic.js\");\n/* harmony import */ var _interrupt_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../interrupt.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/interrupt.js\");\n/* harmony import */ var _langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @langchain/langgraph-checkpoint */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph-checkpoint@1.0.0_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12__/node_modules/@langchain/langgraph-checkpoint/dist/index.js\");\n/* harmony import */ var _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @langchain/core/runnables */ \"(ssr)/./node_modules/.pnpm/@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12_/node_modules/@langchain/core/dist/runnables/index.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//#region src/pregel/index.ts\n/**\n* Utility class for working with channels in the Pregel system.\n* Provides static methods for subscribing to channels and writing to them.\n*\n* Channels are the communication pathways between nodes in a Pregel graph.\n* They enable message passing and state updates between different parts of the graph.\n*/\nvar Channel = class {\n\tstatic subscribeTo(channels, options) {\n\t\tconst { key, tags } = {\n\t\t\tkey: void 0,\n\t\t\ttags: void 0,\n\t\t\t...options ?? {}\n\t\t};\n\t\tif (Array.isArray(channels) && key !== void 0) throw new Error(\"Can't specify a key when subscribing to multiple channels\");\n\t\tlet channelMappingOrArray;\n\t\tif (typeof channels === \"string\") if (key) channelMappingOrArray = { [key]: channels };\n\t\telse channelMappingOrArray = [channels];\n\t\telse channelMappingOrArray = Object.fromEntries(channels.map((chan) => [chan, chan]));\n\t\tconst triggers = Array.isArray(channels) ? channels : [channels];\n\t\treturn new _read_js__WEBPACK_IMPORTED_MODULE_6__.PregelNode({\n\t\t\tchannels: channelMappingOrArray,\n\t\t\ttriggers,\n\t\t\ttags\n\t\t});\n\t}\n\t/**\n\t* Creates a ChannelWrite that specifies how to write values to channels.\n\t* This is used to define how nodes send output to channels.\n\t*\n\t* @example\n\t* ```typescript\n\t* // Write to multiple channels\n\t* const write = Channel.writeTo([\"output\", \"state\"]);\n\t*\n\t* // Write with specific values\n\t* const write = Channel.writeTo([\"output\"], {\n\t*   state: \"completed\",\n\t*   result: calculateResult()\n\t* });\n\t*\n\t* // Write with a transformation function\n\t* const write = Channel.writeTo([\"output\"], {\n\t*   result: (x) => processResult(x)\n\t* });\n\t* ```\n\t*\n\t* @param channels - Array of channel names to write to\n\t* @param writes - Optional map of channel names to values or transformations\n\t* @returns A ChannelWrite object that can be used to write to the specified channels\n\t*/\n\tstatic writeTo(channels, writes) {\n\t\tconst channelWriteEntries = [];\n\t\tfor (const channel of channels) channelWriteEntries.push({\n\t\t\tchannel,\n\t\t\tvalue: _write_js__WEBPACK_IMPORTED_MODULE_5__.PASSTHROUGH,\n\t\t\tskipNone: false\n\t\t});\n\t\tfor (const [key, value] of Object.entries(writes ?? {})) if (_langchain_core_runnables__WEBPACK_IMPORTED_MODULE_20__.Runnable.isRunnable(value) || typeof value === \"function\") channelWriteEntries.push({\n\t\t\tchannel: key,\n\t\t\tvalue: _write_js__WEBPACK_IMPORTED_MODULE_5__.PASSTHROUGH,\n\t\t\tskipNone: true,\n\t\t\tmapper: (0,_langchain_core_runnables__WEBPACK_IMPORTED_MODULE_20__._coerceToRunnable)(value)\n\t\t});\n\t\telse channelWriteEntries.push({\n\t\t\tchannel: key,\n\t\t\tvalue,\n\t\t\tskipNone: false\n\t\t});\n\t\treturn new _write_js__WEBPACK_IMPORTED_MODULE_5__.ChannelWrite(channelWriteEntries);\n\t}\n};\nvar PartialRunnable = class extends _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_20__.Runnable {\n\tlc_namespace = [\"langgraph\", \"pregel\"];\n\tinvoke(_input, _options) {\n\t\tthrow new Error(\"Not implemented\");\n\t}\n\twithConfig(_config) {\n\t\treturn super.withConfig(_config);\n\t}\n\tstream(input, options) {\n\t\treturn super.stream(input, options);\n\t}\n};\n/**\n* The Pregel class is the core runtime engine of LangGraph, implementing a message-passing graph computation model\n* inspired by [Google's Pregel system](https://research.google/pubs/pregel-a-system-for-large-scale-graph-processing/).\n* It provides the foundation for building reliable, controllable agent workflows that can evolve state over time.\n*\n* Key features:\n* - Message passing between nodes in discrete \"supersteps\"\n* - Built-in persistence layer through checkpointers\n* - First-class streaming support for values, updates, and events\n* - Human-in-the-loop capabilities via interrupts\n* - Support for parallel node execution within supersteps\n*\n* The Pregel class is not intended to be instantiated directly by consumers. Instead, use the following higher-level APIs:\n* - {@link StateGraph}: The main graph class for building agent workflows\n*   - Compiling a {@link StateGraph} will return a {@link CompiledGraph} instance, which extends `Pregel`\n* - Functional API: A declarative approach using tasks and entrypoints\n*   - A `Pregel` instance is returned by the {@link entrypoint} function\n*\n* @example\n* ```typescript\n* // Using StateGraph API\n* const graph = new StateGraph(annotation)\n*   .addNode(\"nodeA\", myNodeFunction)\n*   .addEdge(\"nodeA\", \"nodeB\")\n*   .compile();\n*\n* // The compiled graph is a Pregel instance\n* const result = await graph.invoke(input);\n* ```\n*\n* @example\n* ```typescript\n* // Using Functional API\n* import { task, entrypoint } from \"@langchain/langgraph\";\n* import { MemorySaver } from \"@langchain/langgraph-checkpoint\";\n*\n* // Define tasks that can be composed\n* const addOne = task(\"add\", async (x: number) => x + 1);\n*\n* // Create a workflow using the entrypoint function\n* const workflow = entrypoint({\n*   name: \"workflow\",\n*   checkpointer: new MemorySaver()\n* }, async (numbers: number[]) => {\n*   // Tasks can be run in parallel\n*   const results = await Promise.all(numbers.map(n => addOne(n)));\n*   return results;\n* });\n*\n* // The workflow is a Pregel instance\n* const result = await workflow.invoke([1, 2, 3]); // Returns [2, 3, 4]\n* ```\n*\n* @typeParam Nodes - Mapping of node names to their {@link PregelNode} implementations\n* @typeParam Channels - Mapping of channel names to their {@link BaseChannel} or {@link ManagedValueSpec} implementations\n* @typeParam ContextType - Type of context that can be passed to the graph\n* @typeParam InputType - Type of input values accepted by the graph\n* @typeParam OutputType - Type of output values produced by the graph\n*/\nvar Pregel = class extends PartialRunnable {\n\t/**\n\t* Name of the class when serialized\n\t* @internal\n\t*/\n\tstatic lc_name() {\n\t\treturn \"LangGraph\";\n\t}\n\t/** @internal LangChain namespace for serialization necessary because Pregel extends Runnable */\n\tlc_namespace = [\"langgraph\", \"pregel\"];\n\t/** @internal Flag indicating this is a Pregel instance - necessary for serialization */\n\tlg_is_pregel = true;\n\t/** The nodes in the graph, mapping node names to their PregelNode instances */\n\tnodes;\n\t/** The channels in the graph, mapping channel names to their BaseChannel or ManagedValueSpec instances */\n\tchannels;\n\t/**\n\t* The input channels for the graph. These channels receive the initial input when the graph is invoked.\n\t* Can be a single channel key or an array of channel keys.\n\t*/\n\tinputChannels;\n\t/**\n\t* The output channels for the graph. These channels contain the final output when the graph completes.\n\t* Can be a single channel key or an array of channel keys.\n\t*/\n\toutputChannels;\n\t/** Whether to automatically validate the graph structure when it is compiled. Defaults to true. */\n\tautoValidate = true;\n\t/**\n\t* The streaming modes enabled for this graph. Defaults to [\"values\"].\n\t* Supported modes:\n\t* - \"values\": Streams the full state after each step\n\t* - \"updates\": Streams state updates after each step\n\t* - \"messages\": Streams messages from within nodes\n\t* - \"custom\": Streams custom events from within nodes\n\t* - \"debug\": Streams events related to the execution of the graph - useful for tracing & debugging graph execution\n\t*/\n\tstreamMode = [\"values\"];\n\t/**\n\t* Optional channels to stream. If not specified, all channels will be streamed.\n\t* Can be a single channel key or an array of channel keys.\n\t*/\n\tstreamChannels;\n\t/**\n\t* Optional array of node names or \"all\" to interrupt after executing these nodes.\n\t* Used for implementing human-in-the-loop workflows.\n\t*/\n\tinterruptAfter;\n\t/**\n\t* Optional array of node names or \"all\" to interrupt before executing these nodes.\n\t* Used for implementing human-in-the-loop workflows.\n\t*/\n\tinterruptBefore;\n\t/** Optional timeout in milliseconds for the execution of each superstep */\n\tstepTimeout;\n\t/** Whether to enable debug logging. Defaults to false. */\n\tdebug = false;\n\t/**\n\t* Optional checkpointer for persisting graph state.\n\t* When provided, saves a checkpoint of the graph state at every superstep.\n\t* When false or undefined, checkpointing is disabled, and the graph will not be able to save or restore state.\n\t*/\n\tcheckpointer;\n\t/** Optional retry policy for handling failures in node execution */\n\tretryPolicy;\n\t/** The default configuration for graph execution, can be overridden on a per-invocation basis */\n\tconfig;\n\t/**\n\t* Optional long-term memory store for the graph, allows for persistence & retrieval of data across threads\n\t*/\n\tstore;\n\t/**\n\t* Optional cache for the graph, useful for caching tasks.\n\t*/\n\tcache;\n\t/**\n\t* Optional interrupt helper function.\n\t* @internal\n\t*/\n\tuserInterrupt;\n\t/**\n\t* The trigger to node mapping for the graph run.\n\t* @internal\n\t*/\n\ttriggerToNodes = {};\n\t/**\n\t* Constructor for Pregel - meant for internal use only.\n\t*\n\t* @internal\n\t*/\n\tconstructor(fields) {\n\t\tsuper(fields);\n\t\tlet { streamMode } = fields;\n\t\tif (streamMode != null && !Array.isArray(streamMode)) streamMode = [streamMode];\n\t\tthis.nodes = fields.nodes;\n\t\tthis.channels = fields.channels;\n\t\tif (_constants_js__WEBPACK_IMPORTED_MODULE_2__.TASKS in this.channels && \"lc_graph_name\" in this.channels[_constants_js__WEBPACK_IMPORTED_MODULE_2__.TASKS] && this.channels[_constants_js__WEBPACK_IMPORTED_MODULE_2__.TASKS].lc_graph_name !== \"Topic\") throw new Error(`Channel '${_constants_js__WEBPACK_IMPORTED_MODULE_2__.TASKS}' is reserved and cannot be used in the graph.`);\n\t\telse this.channels[_constants_js__WEBPACK_IMPORTED_MODULE_2__.TASKS] = new _channels_topic_js__WEBPACK_IMPORTED_MODULE_17__.Topic({ accumulate: false });\n\t\tthis.autoValidate = fields.autoValidate ?? this.autoValidate;\n\t\tthis.streamMode = streamMode ?? this.streamMode;\n\t\tthis.inputChannels = fields.inputChannels;\n\t\tthis.outputChannels = fields.outputChannels;\n\t\tthis.streamChannels = fields.streamChannels ?? this.streamChannels;\n\t\tthis.interruptAfter = fields.interruptAfter;\n\t\tthis.interruptBefore = fields.interruptBefore;\n\t\tthis.stepTimeout = fields.stepTimeout ?? this.stepTimeout;\n\t\tthis.debug = fields.debug ?? this.debug;\n\t\tthis.checkpointer = fields.checkpointer;\n\t\tthis.retryPolicy = fields.retryPolicy;\n\t\tthis.config = fields.config;\n\t\tthis.store = fields.store;\n\t\tthis.cache = fields.cache;\n\t\tthis.name = fields.name;\n\t\tthis.triggerToNodes = fields.triggerToNodes ?? this.triggerToNodes;\n\t\tthis.userInterrupt = fields.userInterrupt;\n\t\tif (this.autoValidate) this.validate();\n\t}\n\t/**\n\t* Creates a new instance of the Pregel graph with updated configuration.\n\t* This method follows the immutable pattern - instead of modifying the current instance,\n\t* it returns a new instance with the merged configuration.\n\t*\n\t* @example\n\t* ```typescript\n\t* // Create a new instance with debug enabled\n\t* const debugGraph = graph.withConfig({ debug: true });\n\t*\n\t* // Create a new instance with a specific thread ID\n\t* const threadGraph = graph.withConfig({\n\t*   configurable: { thread_id: \"123\" }\n\t* });\n\t* ```\n\t*\n\t* @param config - The configuration to merge with the current configuration\n\t* @returns A new Pregel instance with the merged configuration\n\t*/\n\twithConfig(config) {\n\t\tconst mergedConfig = (0,_langchain_core_runnables__WEBPACK_IMPORTED_MODULE_20__.mergeConfigs)(this.config, config);\n\t\treturn new this.constructor({\n\t\t\t...this,\n\t\t\tconfig: mergedConfig\n\t\t});\n\t}\n\t/**\n\t* Validates the graph structure to ensure it is well-formed.\n\t* Checks for:\n\t* - No orphaned nodes\n\t* - Valid input/output channel configurations\n\t* - Valid interrupt configurations\n\t*\n\t* @returns this - The Pregel instance for method chaining\n\t* @throws {GraphValidationError} If the graph structure is invalid\n\t*/\n\tvalidate() {\n\t\t(0,_validate_js__WEBPACK_IMPORTED_MODULE_16__.validateGraph)({\n\t\t\tnodes: this.nodes,\n\t\t\tchannels: this.channels,\n\t\t\toutputChannels: this.outputChannels,\n\t\t\tinputChannels: this.inputChannels,\n\t\t\tstreamChannels: this.streamChannels,\n\t\t\tinterruptAfterNodes: this.interruptAfter,\n\t\t\tinterruptBeforeNodes: this.interruptBefore\n\t\t});\n\t\tfor (const [name, node] of Object.entries(this.nodes)) for (const trigger of node.triggers) {\n\t\t\tthis.triggerToNodes[trigger] ??= [];\n\t\t\tthis.triggerToNodes[trigger].push(name);\n\t\t}\n\t\treturn this;\n\t}\n\t/**\n\t* Gets a list of all channels that should be streamed.\n\t* If streamChannels is specified, returns those channels.\n\t* Otherwise, returns all channels in the graph.\n\t*\n\t* @returns Array of channel keys to stream\n\t*/\n\tget streamChannelsList() {\n\t\tif (Array.isArray(this.streamChannels)) return this.streamChannels;\n\t\telse if (this.streamChannels) return [this.streamChannels];\n\t\telse return Object.keys(this.channels);\n\t}\n\t/**\n\t* Gets the channels to stream in their original format.\n\t* If streamChannels is specified, returns it as-is (either single key or array).\n\t* Otherwise, returns all channels in the graph as an array.\n\t*\n\t* @returns Channel keys to stream, either as a single key or array\n\t*/\n\tget streamChannelsAsIs() {\n\t\tif (this.streamChannels) return this.streamChannels;\n\t\telse return Object.keys(this.channels);\n\t}\n\t/**\n\t* Gets a drawable representation of the graph structure.\n\t* This is an async version of getGraph() and is the preferred method to use.\n\t*\n\t* @param config - Configuration for generating the graph visualization\n\t* @returns A representation of the graph that can be visualized\n\t*/\n\tasync getGraphAsync(config) {\n\t\treturn this.getGraph(config);\n\t}\n\t/**\n\t* Gets all subgraphs within this graph.\n\t* A subgraph is a Pregel instance that is nested within a node of this graph.\n\t*\n\t* @deprecated Use getSubgraphsAsync instead. The async method will become the default in the next minor release.\n\t* @param namespace - Optional namespace to filter subgraphs\n\t* @param recurse - Whether to recursively get subgraphs of subgraphs\n\t* @returns Generator yielding tuples of [name, subgraph]\n\t*/\n\t*getSubgraphs(namespace, recurse) {\n\t\tfor (const [name, node] of Object.entries(this.nodes)) {\n\t\t\tif (namespace !== void 0) {\n\t\t\t\tif (!namespace.startsWith(name)) continue;\n\t\t\t}\n\t\t\tconst candidates = node.subgraphs?.length ? node.subgraphs : [node.bound];\n\t\t\tfor (const candidate of candidates) {\n\t\t\t\tconst graph = (0,_utils_subgraph_js__WEBPACK_IMPORTED_MODULE_10__.findSubgraphPregel)(candidate);\n\t\t\t\tif (graph !== void 0) {\n\t\t\t\t\tif (name === namespace) {\n\t\t\t\t\t\tyield [name, graph];\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (namespace === void 0) yield [name, graph];\n\t\t\t\t\tif (recurse) {\n\t\t\t\t\t\tlet newNamespace = namespace;\n\t\t\t\t\t\tif (namespace !== void 0) newNamespace = namespace.slice(name.length + 1);\n\t\t\t\t\t\tfor (const [subgraphName, subgraph] of graph.getSubgraphs(newNamespace, recurse)) yield [`${name}${_constants_js__WEBPACK_IMPORTED_MODULE_2__.CHECKPOINT_NAMESPACE_SEPARATOR}${subgraphName}`, subgraph];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t/**\n\t* Gets all subgraphs within this graph asynchronously.\n\t* A subgraph is a Pregel instance that is nested within a node of this graph.\n\t*\n\t* @param namespace - Optional namespace to filter subgraphs\n\t* @param recurse - Whether to recursively get subgraphs of subgraphs\n\t* @returns AsyncGenerator yielding tuples of [name, subgraph]\n\t*/\n\tasync *getSubgraphsAsync(namespace, recurse) {\n\t\tyield* this.getSubgraphs(namespace, recurse);\n\t}\n\t/**\n\t* Prepares a state snapshot from saved checkpoint data.\n\t* This is an internal method used by getState and getStateHistory.\n\t*\n\t* @param config - Configuration for preparing the snapshot\n\t* @param saved - Optional saved checkpoint data\n\t* @param subgraphCheckpointer - Optional checkpointer for subgraphs\n\t* @param applyPendingWrites - Whether to apply pending writes to tasks and then to channels\n\t* @returns A snapshot of the graph state\n\t* @internal\n\t*/\n\tasync _prepareStateSnapshot({ config, saved, subgraphCheckpointer, applyPendingWrites = false }) {\n\t\tif (saved === void 0) return {\n\t\t\tvalues: {},\n\t\t\tnext: [],\n\t\t\tconfig,\n\t\t\ttasks: []\n\t\t};\n\t\tconst channels = (0,_channels_base_js__WEBPACK_IMPORTED_MODULE_1__.emptyChannels)(this.channels, saved.checkpoint);\n\t\tif (saved.pendingWrites?.length) {\n\t\t\tconst nullWrites = saved.pendingWrites.filter(([taskId, _]) => taskId === _constants_js__WEBPACK_IMPORTED_MODULE_2__.NULL_TASK_ID).map(([_, channel, value]) => [String(channel), value]);\n\t\t\tif (nullWrites.length > 0) (0,_algo_js__WEBPACK_IMPORTED_MODULE_9__._applyWrites)(saved.checkpoint, channels, [{\n\t\t\t\tname: _constants_js__WEBPACK_IMPORTED_MODULE_2__.INPUT,\n\t\t\t\twrites: nullWrites,\n\t\t\t\ttriggers: []\n\t\t\t}], void 0, this.triggerToNodes);\n\t\t}\n\t\tconst nextTasks = Object.values((0,_algo_js__WEBPACK_IMPORTED_MODULE_9__._prepareNextTasks)(saved.checkpoint, saved.pendingWrites, this.nodes, channels, saved.config, true, {\n\t\t\tstep: (saved.metadata?.step ?? -1) + 1,\n\t\t\tstore: this.store\n\t\t}));\n\t\tconst subgraphs = await (0,_utils_js__WEBPACK_IMPORTED_MODULE_4__.gatherIterator)(this.getSubgraphsAsync());\n\t\tconst parentNamespace = saved.config.configurable?.checkpoint_ns ?? \"\";\n\t\tconst taskStates = {};\n\t\tfor (const task of nextTasks) {\n\t\t\tconst matchingSubgraph = subgraphs.find(([name]) => name === task.name);\n\t\t\tif (!matchingSubgraph) continue;\n\t\t\tlet taskNs = `${String(task.name)}${_constants_js__WEBPACK_IMPORTED_MODULE_2__.CHECKPOINT_NAMESPACE_END}${task.id}`;\n\t\t\tif (parentNamespace) taskNs = `${parentNamespace}${_constants_js__WEBPACK_IMPORTED_MODULE_2__.CHECKPOINT_NAMESPACE_SEPARATOR}${taskNs}`;\n\t\t\tif (subgraphCheckpointer === void 0) {\n\t\t\t\tconst config$1 = { configurable: {\n\t\t\t\t\tthread_id: saved.config.configurable?.thread_id,\n\t\t\t\t\tcheckpoint_ns: taskNs\n\t\t\t\t} };\n\t\t\t\ttaskStates[task.id] = config$1;\n\t\t\t} else {\n\t\t\t\tconst subgraphConfig = { configurable: {\n\t\t\t\t\t[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_CHECKPOINTER]: subgraphCheckpointer,\n\t\t\t\t\tthread_id: saved.config.configurable?.thread_id,\n\t\t\t\t\tcheckpoint_ns: taskNs\n\t\t\t\t} };\n\t\t\t\tconst pregel = matchingSubgraph[1];\n\t\t\t\ttaskStates[task.id] = await pregel.getState(subgraphConfig, { subgraphs: true });\n\t\t\t}\n\t\t}\n\t\tif (applyPendingWrites && saved.pendingWrites?.length) {\n\t\t\tconst nextTaskById = Object.fromEntries(nextTasks.map((task) => [task.id, task]));\n\t\t\tfor (const [taskId, channel, value] of saved.pendingWrites) {\n\t\t\t\tif ([\n\t\t\t\t\t_constants_js__WEBPACK_IMPORTED_MODULE_2__.ERROR,\n\t\t\t\t\t_constants_js__WEBPACK_IMPORTED_MODULE_2__.INTERRUPT,\n\t\t\t\t\t_langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_19__.SCHEDULED\n\t\t\t\t].includes(channel)) continue;\n\t\t\t\tif (!(taskId in nextTaskById)) continue;\n\t\t\t\tnextTaskById[taskId].writes.push([String(channel), value]);\n\t\t\t}\n\t\t\tconst tasksWithWrites$1 = nextTasks.filter((task) => task.writes.length > 0);\n\t\t\tif (tasksWithWrites$1.length > 0) (0,_algo_js__WEBPACK_IMPORTED_MODULE_9__._applyWrites)(saved.checkpoint, channels, tasksWithWrites$1, void 0, this.triggerToNodes);\n\t\t}\n\t\tlet metadata = saved?.metadata;\n\t\tif (metadata && saved?.config?.configurable?.thread_id) metadata = {\n\t\t\t...metadata,\n\t\t\tthread_id: saved.config.configurable.thread_id\n\t\t};\n\t\tconst nextList = nextTasks.filter((task) => task.writes.length === 0).map((task) => task.name);\n\t\treturn {\n\t\t\tvalues: (0,_io_js__WEBPACK_IMPORTED_MODULE_7__.readChannels)(channels, this.streamChannelsAsIs),\n\t\t\tnext: nextList,\n\t\t\ttasks: (0,_debug_js__WEBPACK_IMPORTED_MODULE_11__.tasksWithWrites)(nextTasks, saved?.pendingWrites ?? [], taskStates, this.streamChannelsAsIs),\n\t\t\tmetadata,\n\t\t\tconfig: (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_8__.patchCheckpointMap)(saved.config, saved.metadata),\n\t\t\tcreatedAt: saved.checkpoint.ts,\n\t\t\tparentConfig: saved.parentConfig\n\t\t};\n\t}\n\t/**\n\t* Gets the current state of the graph.\n\t* Requires a checkpointer to be configured.\n\t*\n\t* @param config - Configuration for retrieving the state\n\t* @param options - Additional options\n\t* @returns A snapshot of the current graph state\n\t* @throws {GraphValueError} If no checkpointer is configured\n\t*/\n\tasync getState(config, options) {\n\t\tconst checkpointer = config.configurable?.[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_CHECKPOINTER] ?? this.checkpointer;\n\t\tif (!checkpointer) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.GraphValueError(\"No checkpointer set\", { lc_error_code: \"MISSING_CHECKPOINTER\" });\n\t\tconst checkpointNamespace = config.configurable?.checkpoint_ns ?? \"\";\n\t\tif (checkpointNamespace !== \"\" && config.configurable?.[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_CHECKPOINTER] === void 0) {\n\t\t\tconst recastNamespace = (0,_utils_config_js__WEBPACK_IMPORTED_MODULE_3__.recastCheckpointNamespace)(checkpointNamespace);\n\t\t\tfor await (const [name, subgraph] of this.getSubgraphsAsync(recastNamespace, true)) if (name === recastNamespace) return await subgraph.getState((0,_utils_js__WEBPACK_IMPORTED_MODULE_4__.patchConfigurable)(config, { [_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_CHECKPOINTER]: checkpointer }), { subgraphs: options?.subgraphs });\n\t\t\tthrow new Error(`Subgraph with namespace \"${recastNamespace}\" not found.`);\n\t\t}\n\t\tconst mergedConfig = (0,_langchain_core_runnables__WEBPACK_IMPORTED_MODULE_20__.mergeConfigs)(this.config, config);\n\t\tconst saved = await checkpointer.getTuple(config);\n\t\tconst snapshot = await this._prepareStateSnapshot({\n\t\t\tconfig: mergedConfig,\n\t\t\tsaved,\n\t\t\tsubgraphCheckpointer: options?.subgraphs ? checkpointer : void 0,\n\t\t\tapplyPendingWrites: !config.configurable?.checkpoint_id\n\t\t});\n\t\treturn snapshot;\n\t}\n\t/**\n\t* Gets the history of graph states.\n\t* Requires a checkpointer to be configured.\n\t* Useful for:\n\t* - Debugging execution history\n\t* - Implementing time travel\n\t* - Analyzing graph behavior\n\t*\n\t* @param config - Configuration for retrieving the history\n\t* @param options - Options for filtering the history\n\t* @returns An async iterator of state snapshots\n\t* @throws {Error} If no checkpointer is configured\n\t*/\n\tasync *getStateHistory(config, options) {\n\t\tconst checkpointer = config.configurable?.[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_CHECKPOINTER] ?? this.checkpointer;\n\t\tif (!checkpointer) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.GraphValueError(\"No checkpointer set\", { lc_error_code: \"MISSING_CHECKPOINTER\" });\n\t\tconst checkpointNamespace = config.configurable?.checkpoint_ns ?? \"\";\n\t\tif (checkpointNamespace !== \"\" && config.configurable?.[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_CHECKPOINTER] === void 0) {\n\t\t\tconst recastNamespace = (0,_utils_config_js__WEBPACK_IMPORTED_MODULE_3__.recastCheckpointNamespace)(checkpointNamespace);\n\t\t\tfor await (const [name, pregel] of this.getSubgraphsAsync(recastNamespace, true)) if (name === recastNamespace) {\n\t\t\t\tyield* pregel.getStateHistory((0,_utils_js__WEBPACK_IMPORTED_MODULE_4__.patchConfigurable)(config, { [_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_CHECKPOINTER]: checkpointer }), options);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthrow new Error(`Subgraph with namespace \"${recastNamespace}\" not found.`);\n\t\t}\n\t\tconst mergedConfig = (0,_langchain_core_runnables__WEBPACK_IMPORTED_MODULE_20__.mergeConfigs)(this.config, config, { configurable: { checkpoint_ns: checkpointNamespace } });\n\t\tfor await (const checkpointTuple of checkpointer.list(mergedConfig, options)) yield this._prepareStateSnapshot({\n\t\t\tconfig: checkpointTuple.config,\n\t\t\tsaved: checkpointTuple\n\t\t});\n\t}\n\t/**\n\t* Apply updates to the graph state in bulk.\n\t* Requires a checkpointer to be configured.\n\t*\n\t* This method is useful for recreating a thread\n\t* from a list of updates, especially if a checkpoint\n\t* is created as a result of multiple tasks.\n\t*\n\t* @internal The API might change in the future.\n\t*\n\t* @param startConfig - Configuration for the update\n\t* @param updates - The list of updates to apply to graph state\n\t* @returns Updated configuration\n\t* @throws {GraphValueError} If no checkpointer is configured\n\t* @throws {InvalidUpdateError} If the update cannot be attributed to a node or an update can be only applied in sequence.\n\t*/\n\tasync bulkUpdateState(startConfig, supersteps) {\n\t\tconst checkpointer = startConfig.configurable?.[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_CHECKPOINTER] ?? this.checkpointer;\n\t\tif (!checkpointer) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.GraphValueError(\"No checkpointer set\", { lc_error_code: \"MISSING_CHECKPOINTER\" });\n\t\tif (supersteps.length === 0) throw new Error(\"No supersteps provided\");\n\t\tif (supersteps.some((s) => s.updates.length === 0)) throw new Error(\"No updates provided\");\n\t\tconst checkpointNamespace = startConfig.configurable?.checkpoint_ns ?? \"\";\n\t\tif (checkpointNamespace !== \"\" && startConfig.configurable?.[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_CHECKPOINTER] === void 0) {\n\t\t\tconst recastNamespace = (0,_utils_config_js__WEBPACK_IMPORTED_MODULE_3__.recastCheckpointNamespace)(checkpointNamespace);\n\t\t\tfor await (const [, pregel] of this.getSubgraphsAsync(recastNamespace, true)) return await pregel.bulkUpdateState((0,_utils_js__WEBPACK_IMPORTED_MODULE_4__.patchConfigurable)(startConfig, { [_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_CHECKPOINTER]: checkpointer }), supersteps);\n\t\t\tthrow new Error(`Subgraph \"${recastNamespace}\" not found`);\n\t\t}\n\t\tconst updateSuperStep = async (inputConfig, updates) => {\n\t\t\tconst config = this.config ? (0,_langchain_core_runnables__WEBPACK_IMPORTED_MODULE_20__.mergeConfigs)(this.config, inputConfig) : inputConfig;\n\t\t\tconst saved = await checkpointer.getTuple(config);\n\t\t\tconst checkpoint = saved !== void 0 ? (0,_langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_19__.copyCheckpoint)(saved.checkpoint) : (0,_langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_19__.emptyCheckpoint)();\n\t\t\tconst checkpointPreviousVersions = { ...saved?.checkpoint.channel_versions };\n\t\t\tconst step = saved?.metadata?.step ?? -1;\n\t\t\tlet checkpointConfig = (0,_utils_js__WEBPACK_IMPORTED_MODULE_4__.patchConfigurable)(config, { checkpoint_ns: config.configurable?.checkpoint_ns ?? \"\" });\n\t\t\tlet checkpointMetadata = config.metadata ?? {};\n\t\t\tif (saved?.config.configurable) {\n\t\t\t\tcheckpointConfig = (0,_utils_js__WEBPACK_IMPORTED_MODULE_4__.patchConfigurable)(config, saved.config.configurable);\n\t\t\t\tcheckpointMetadata = {\n\t\t\t\t\t...saved.metadata,\n\t\t\t\t\t...checkpointMetadata\n\t\t\t\t};\n\t\t\t}\n\t\t\tconst { values, asNode } = updates[0];\n\t\t\tif (values == null && asNode === void 0) {\n\t\t\t\tif (updates.length > 1) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.InvalidUpdateError(`Cannot create empty checkpoint with multiple updates`);\n\t\t\t\tconst nextConfig$1 = await checkpointer.put(checkpointConfig, (0,_channels_base_js__WEBPACK_IMPORTED_MODULE_1__.createCheckpoint)(checkpoint, void 0, step), {\n\t\t\t\t\tsource: \"update\",\n\t\t\t\t\tstep: step + 1,\n\t\t\t\t\tparents: saved?.metadata?.parents ?? {}\n\t\t\t\t}, {});\n\t\t\t\treturn (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_8__.patchCheckpointMap)(nextConfig$1, saved ? saved.metadata : void 0);\n\t\t\t}\n\t\t\tconst channels = (0,_channels_base_js__WEBPACK_IMPORTED_MODULE_1__.emptyChannels)(this.channels, checkpoint);\n\t\t\tif (values === null && asNode === _constants_js__WEBPACK_IMPORTED_MODULE_2__.END) {\n\t\t\t\tif (updates.length > 1) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.InvalidUpdateError(`Cannot apply multiple updates when clearing state`);\n\t\t\t\tif (saved) {\n\t\t\t\t\tconst nextTasks = (0,_algo_js__WEBPACK_IMPORTED_MODULE_9__._prepareNextTasks)(checkpoint, saved.pendingWrites || [], this.nodes, channels, saved.config, true, {\n\t\t\t\t\t\tstep: (saved.metadata?.step ?? -1) + 1,\n\t\t\t\t\t\tcheckpointer,\n\t\t\t\t\t\tstore: this.store\n\t\t\t\t\t});\n\t\t\t\t\tconst nullWrites = (saved.pendingWrites || []).filter((w) => w[0] === _constants_js__WEBPACK_IMPORTED_MODULE_2__.NULL_TASK_ID).map((w) => w.slice(1));\n\t\t\t\t\tif (nullWrites.length > 0) (0,_algo_js__WEBPACK_IMPORTED_MODULE_9__._applyWrites)(checkpoint, channels, [{\n\t\t\t\t\t\tname: _constants_js__WEBPACK_IMPORTED_MODULE_2__.INPUT,\n\t\t\t\t\t\twrites: nullWrites,\n\t\t\t\t\t\ttriggers: []\n\t\t\t\t\t}], checkpointer.getNextVersion.bind(checkpointer), this.triggerToNodes);\n\t\t\t\t\tfor (const [taskId, k, v] of saved.pendingWrites || []) {\n\t\t\t\t\t\tif ([\n\t\t\t\t\t\t\t_constants_js__WEBPACK_IMPORTED_MODULE_2__.ERROR,\n\t\t\t\t\t\t\t_constants_js__WEBPACK_IMPORTED_MODULE_2__.INTERRUPT,\n\t\t\t\t\t\t\t_langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_19__.SCHEDULED\n\t\t\t\t\t\t].includes(k)) continue;\n\t\t\t\t\t\tif (!(taskId in nextTasks)) continue;\n\t\t\t\t\t\tnextTasks[taskId].writes.push([k, v]);\n\t\t\t\t\t}\n\t\t\t\t\t(0,_algo_js__WEBPACK_IMPORTED_MODULE_9__._applyWrites)(checkpoint, channels, Object.values(nextTasks), checkpointer.getNextVersion.bind(checkpointer), this.triggerToNodes);\n\t\t\t\t}\n\t\t\t\tconst nextConfig$1 = await checkpointer.put(checkpointConfig, (0,_channels_base_js__WEBPACK_IMPORTED_MODULE_1__.createCheckpoint)(checkpoint, channels, step), {\n\t\t\t\t\t...checkpointMetadata,\n\t\t\t\t\tsource: \"update\",\n\t\t\t\t\tstep: step + 1,\n\t\t\t\t\tparents: saved?.metadata?.parents ?? {}\n\t\t\t\t}, (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_8__.getNewChannelVersions)(checkpointPreviousVersions, checkpoint.channel_versions));\n\t\t\t\treturn (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_8__.patchCheckpointMap)(nextConfig$1, saved ? saved.metadata : void 0);\n\t\t\t}\n\t\t\tif (asNode === _constants_js__WEBPACK_IMPORTED_MODULE_2__.COPY) {\n\t\t\t\tif (updates.length > 1) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.InvalidUpdateError(`Cannot copy checkpoint with multiple updates`);\n\t\t\t\tif (saved == null) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.InvalidUpdateError(`Cannot copy a non-existent checkpoint`);\n\t\t\t\tconst isCopyWithUpdates = (values$1) => {\n\t\t\t\t\tif (!Array.isArray(values$1)) return false;\n\t\t\t\t\tif (values$1.length === 0) return false;\n\t\t\t\t\treturn values$1.every((v) => Array.isArray(v) && v.length === 2);\n\t\t\t\t};\n\t\t\t\tconst nextCheckpoint = (0,_channels_base_js__WEBPACK_IMPORTED_MODULE_1__.createCheckpoint)(checkpoint, void 0, step);\n\t\t\t\tconst nextConfig$1 = await checkpointer.put(saved.parentConfig ?? (0,_utils_js__WEBPACK_IMPORTED_MODULE_4__.patchConfigurable)(saved.config, { checkpoint_id: void 0 }), nextCheckpoint, {\n\t\t\t\t\tsource: \"fork\",\n\t\t\t\t\tstep: step + 1,\n\t\t\t\t\tparents: saved.metadata?.parents ?? {}\n\t\t\t\t}, {});\n\t\t\t\tif (isCopyWithUpdates(values)) {\n\t\t\t\t\tconst nextTasks = (0,_algo_js__WEBPACK_IMPORTED_MODULE_9__._prepareNextTasks)(nextCheckpoint, saved.pendingWrites, this.nodes, channels, nextConfig$1, false, { step: step + 2 });\n\t\t\t\t\tconst tasksGroupBy = Object.values(nextTasks).reduce((acc, { name, id }) => {\n\t\t\t\t\t\tacc[name] ??= [];\n\t\t\t\t\t\tacc[name].push({ id });\n\t\t\t\t\t\treturn acc;\n\t\t\t\t\t}, {});\n\t\t\t\t\tconst userGroupBy = values.reduce((acc, item) => {\n\t\t\t\t\t\tconst [values$1, asNode$1] = item;\n\t\t\t\t\t\tacc[asNode$1] ??= [];\n\t\t\t\t\t\tconst targetIdx = acc[asNode$1].length;\n\t\t\t\t\t\tconst taskId = tasksGroupBy[asNode$1]?.[targetIdx]?.id;\n\t\t\t\t\t\tacc[asNode$1].push({\n\t\t\t\t\t\t\tvalues: values$1,\n\t\t\t\t\t\t\tasNode: asNode$1,\n\t\t\t\t\t\t\ttaskId\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn acc;\n\t\t\t\t\t}, {});\n\t\t\t\t\treturn updateSuperStep((0,_utils_index_js__WEBPACK_IMPORTED_MODULE_8__.patchCheckpointMap)(nextConfig$1, saved.metadata), Object.values(userGroupBy).flat());\n\t\t\t\t}\n\t\t\t\treturn (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_8__.patchCheckpointMap)(nextConfig$1, saved.metadata);\n\t\t\t}\n\t\t\tif (asNode === _constants_js__WEBPACK_IMPORTED_MODULE_2__.INPUT) {\n\t\t\t\tif (updates.length > 1) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.InvalidUpdateError(`Cannot apply multiple updates when updating as input`);\n\t\t\t\tconst inputWrites = await (0,_utils_js__WEBPACK_IMPORTED_MODULE_4__.gatherIterator)((0,_io_js__WEBPACK_IMPORTED_MODULE_7__.mapInput)(this.inputChannels, values));\n\t\t\t\tif (inputWrites.length === 0) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.InvalidUpdateError(`Received no input writes for ${JSON.stringify(this.inputChannels, null, 2)}`);\n\t\t\t\t(0,_algo_js__WEBPACK_IMPORTED_MODULE_9__._applyWrites)(checkpoint, channels, [{\n\t\t\t\t\tname: _constants_js__WEBPACK_IMPORTED_MODULE_2__.INPUT,\n\t\t\t\t\twrites: inputWrites,\n\t\t\t\t\ttriggers: []\n\t\t\t\t}], checkpointer.getNextVersion.bind(this.checkpointer), this.triggerToNodes);\n\t\t\t\tconst nextStep = saved?.metadata?.step != null ? saved.metadata.step + 1 : -1;\n\t\t\t\tconst nextConfig$1 = await checkpointer.put(checkpointConfig, (0,_channels_base_js__WEBPACK_IMPORTED_MODULE_1__.createCheckpoint)(checkpoint, channels, nextStep), {\n\t\t\t\t\tsource: \"input\",\n\t\t\t\t\tstep: nextStep,\n\t\t\t\t\tparents: saved?.metadata?.parents ?? {}\n\t\t\t\t}, (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_8__.getNewChannelVersions)(checkpointPreviousVersions, checkpoint.channel_versions));\n\t\t\t\tawait checkpointer.putWrites(nextConfig$1, inputWrites, (0,_langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_19__.uuid5)(_constants_js__WEBPACK_IMPORTED_MODULE_2__.INPUT, checkpoint.id));\n\t\t\t\treturn (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_8__.patchCheckpointMap)(nextConfig$1, saved ? saved.metadata : void 0);\n\t\t\t}\n\t\t\tif (config.configurable?.checkpoint_id === void 0 && saved?.pendingWrites !== void 0 && saved.pendingWrites.length > 0) {\n\t\t\t\tconst nextTasks = (0,_algo_js__WEBPACK_IMPORTED_MODULE_9__._prepareNextTasks)(checkpoint, saved.pendingWrites, this.nodes, channels, saved.config, true, {\n\t\t\t\t\tstore: this.store,\n\t\t\t\t\tcheckpointer: this.checkpointer,\n\t\t\t\t\tstep: (saved.metadata?.step ?? -1) + 1\n\t\t\t\t});\n\t\t\t\tconst nullWrites = (saved.pendingWrites ?? []).filter((w) => w[0] === _constants_js__WEBPACK_IMPORTED_MODULE_2__.NULL_TASK_ID).map((w) => w.slice(1));\n\t\t\t\tif (nullWrites.length > 0) (0,_algo_js__WEBPACK_IMPORTED_MODULE_9__._applyWrites)(saved.checkpoint, channels, [{\n\t\t\t\t\tname: _constants_js__WEBPACK_IMPORTED_MODULE_2__.INPUT,\n\t\t\t\t\twrites: nullWrites,\n\t\t\t\t\ttriggers: []\n\t\t\t\t}], void 0, this.triggerToNodes);\n\t\t\t\tfor (const [tid, k, v] of saved.pendingWrites) {\n\t\t\t\t\tif ([\n\t\t\t\t\t\t_constants_js__WEBPACK_IMPORTED_MODULE_2__.ERROR,\n\t\t\t\t\t\t_constants_js__WEBPACK_IMPORTED_MODULE_2__.INTERRUPT,\n\t\t\t\t\t\t_langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_19__.SCHEDULED\n\t\t\t\t\t].includes(k) || nextTasks[tid] === void 0) continue;\n\t\t\t\t\tnextTasks[tid].writes.push([k, v]);\n\t\t\t\t}\n\t\t\t\tconst tasks$1 = Object.values(nextTasks).filter((task) => {\n\t\t\t\t\treturn task.writes.length > 0;\n\t\t\t\t});\n\t\t\t\tif (tasks$1.length > 0) (0,_algo_js__WEBPACK_IMPORTED_MODULE_9__._applyWrites)(checkpoint, channels, tasks$1, void 0, this.triggerToNodes);\n\t\t\t}\n\t\t\tconst nonNullVersion = Object.values(checkpoint.versions_seen).map((seenVersions) => {\n\t\t\t\treturn Object.values(seenVersions);\n\t\t\t}).flat().find((v) => !!v);\n\t\t\tconst validUpdates = [];\n\t\t\tif (updates.length === 1) {\n\t\t\t\tlet { values: values$1, asNode: asNode$1, taskId } = updates[0];\n\t\t\t\tif (asNode$1 === void 0 && Object.keys(this.nodes).length === 1) [asNode$1] = Object.keys(this.nodes);\n\t\t\t\telse if (asNode$1 === void 0 && nonNullVersion === void 0) {\n\t\t\t\t\tif (typeof this.inputChannels === \"string\" && this.nodes[this.inputChannels] !== void 0) asNode$1 = this.inputChannels;\n\t\t\t\t} else if (asNode$1 === void 0) {\n\t\t\t\t\tconst lastSeenByNode = Object.entries(checkpoint.versions_seen).map(([n, seen]) => {\n\t\t\t\t\t\treturn Object.values(seen).map((v) => {\n\t\t\t\t\t\t\treturn [v, n];\n\t\t\t\t\t\t});\n\t\t\t\t\t}).flat().filter(([_, v]) => v !== _constants_js__WEBPACK_IMPORTED_MODULE_2__.INTERRUPT).sort(([aNumber], [bNumber]) => (0,_langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_19__.compareChannelVersions)(aNumber, bNumber));\n\t\t\t\t\tif (lastSeenByNode) {\n\t\t\t\t\t\tif (lastSeenByNode.length === 1) asNode$1 = lastSeenByNode[0][1];\n\t\t\t\t\t\telse if (lastSeenByNode[lastSeenByNode.length - 1][0] !== lastSeenByNode[lastSeenByNode.length - 2][0]) asNode$1 = lastSeenByNode[lastSeenByNode.length - 1][1];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (asNode$1 === void 0) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.InvalidUpdateError(`Ambiguous update, specify \"asNode\"`);\n\t\t\t\tvalidUpdates.push({\n\t\t\t\t\tvalues: values$1,\n\t\t\t\t\tasNode: asNode$1,\n\t\t\t\t\ttaskId\n\t\t\t\t});\n\t\t\t} else for (const { asNode: asNode$1, values: values$1, taskId } of updates) {\n\t\t\t\tif (asNode$1 == null) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.InvalidUpdateError(`\"asNode\" is required when applying multiple updates`);\n\t\t\t\tvalidUpdates.push({\n\t\t\t\t\tvalues: values$1,\n\t\t\t\t\tasNode: asNode$1,\n\t\t\t\t\ttaskId\n\t\t\t\t});\n\t\t\t}\n\t\t\tconst tasks = [];\n\t\t\tfor (const { asNode: asNode$1, values: values$1, taskId } of validUpdates) {\n\t\t\t\tif (this.nodes[asNode$1] === void 0) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.InvalidUpdateError(`Node \"${asNode$1.toString()}\" does not exist`);\n\t\t\t\tconst writers = this.nodes[asNode$1].getWriters();\n\t\t\t\tif (!writers.length) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.InvalidUpdateError(`No writers found for node \"${asNode$1.toString()}\"`);\n\t\t\t\ttasks.push({\n\t\t\t\t\tname: asNode$1,\n\t\t\t\t\tinput: values$1,\n\t\t\t\t\tproc: writers.length > 1 ? _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_20__.RunnableSequence.from(writers, { omitSequenceTags: true }) : writers[0],\n\t\t\t\t\twrites: [],\n\t\t\t\t\ttriggers: [_constants_js__WEBPACK_IMPORTED_MODULE_2__.INTERRUPT],\n\t\t\t\t\tid: taskId ?? (0,_langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_19__.uuid5)(_constants_js__WEBPACK_IMPORTED_MODULE_2__.INTERRUPT, checkpoint.id),\n\t\t\t\t\twriters: []\n\t\t\t\t});\n\t\t\t}\n\t\t\tfor (const task of tasks) await task.proc.invoke(task.input, (0,_langchain_core_runnables__WEBPACK_IMPORTED_MODULE_20__.patchConfig)({\n\t\t\t\t...config,\n\t\t\t\tstore: config?.store ?? this.store\n\t\t\t}, {\n\t\t\t\trunName: config.runName ?? `${this.getName()}UpdateState`,\n\t\t\t\tconfigurable: {\n\t\t\t\t\t[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_SEND]: (items) => task.writes.push(...items),\n\t\t\t\t\t[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_READ]: (select_, fresh_ = false) => (0,_algo_js__WEBPACK_IMPORTED_MODULE_9__._localRead)(checkpoint, channels, task, select_, fresh_)\n\t\t\t\t}\n\t\t\t}));\n\t\t\tfor (const task of tasks) {\n\t\t\t\tconst channelWrites = task.writes.filter((w) => w[0] !== _constants_js__WEBPACK_IMPORTED_MODULE_2__.PUSH);\n\t\t\t\tif (saved !== void 0 && channelWrites.length > 0) await checkpointer.putWrites(checkpointConfig, channelWrites, task.id);\n\t\t\t}\n\t\t\t(0,_algo_js__WEBPACK_IMPORTED_MODULE_9__._applyWrites)(checkpoint, channels, tasks, checkpointer.getNextVersion.bind(this.checkpointer), this.triggerToNodes);\n\t\t\tconst newVersions = (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_8__.getNewChannelVersions)(checkpointPreviousVersions, checkpoint.channel_versions);\n\t\t\tconst nextConfig = await checkpointer.put(checkpointConfig, (0,_channels_base_js__WEBPACK_IMPORTED_MODULE_1__.createCheckpoint)(checkpoint, channels, step + 1), {\n\t\t\t\tsource: \"update\",\n\t\t\t\tstep: step + 1,\n\t\t\t\tparents: saved?.metadata?.parents ?? {}\n\t\t\t}, newVersions);\n\t\t\tfor (const task of tasks) {\n\t\t\t\tconst pushWrites = task.writes.filter((w) => w[0] === _constants_js__WEBPACK_IMPORTED_MODULE_2__.PUSH);\n\t\t\t\tif (pushWrites.length > 0) await checkpointer.putWrites(nextConfig, pushWrites, task.id);\n\t\t\t}\n\t\t\treturn (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_8__.patchCheckpointMap)(nextConfig, saved ? saved.metadata : void 0);\n\t\t};\n\t\tlet currentConfig = startConfig;\n\t\tfor (const { updates } of supersteps) currentConfig = await updateSuperStep(currentConfig, updates);\n\t\treturn currentConfig;\n\t}\n\t/**\n\t* Updates the state of the graph with new values.\n\t* Requires a checkpointer to be configured.\n\t*\n\t* This method can be used for:\n\t* - Implementing human-in-the-loop workflows\n\t* - Modifying graph state during breakpoints\n\t* - Integrating external inputs into the graph\n\t*\n\t* @param inputConfig - Configuration for the update\n\t* @param values - The values to update the state with\n\t* @param asNode - Optional node name to attribute the update to\n\t* @returns Updated configuration\n\t* @throws {GraphValueError} If no checkpointer is configured\n\t* @throws {InvalidUpdateError} If the update cannot be attributed to a node\n\t*/\n\tasync updateState(inputConfig, values, asNode) {\n\t\treturn this.bulkUpdateState(inputConfig, [{ updates: [{\n\t\t\tvalues,\n\t\t\tasNode\n\t\t}] }]);\n\t}\n\t/**\n\t* Gets the default values for various graph configuration options.\n\t* This is an internal method used to process and normalize configuration options.\n\t*\n\t* @param config - The input configuration options\n\t* @returns A tuple containing normalized values for:\n\t* - debug mode\n\t* - stream modes\n\t* - input keys\n\t* - output keys\n\t* - remaining config\n\t* - interrupt before nodes\n\t* - interrupt after nodes\n\t* - checkpointer\n\t* - store\n\t* - whether stream mode is single\n\t* - node cache\n\t* - whether checkpoint during is enabled\n\t* @internal\n\t*/\n\t_defaults(config) {\n\t\tconst { debug, streamMode, inputKeys, outputKeys, interruptAfter, interruptBefore,...rest } = config;\n\t\tlet streamModeSingle = true;\n\t\tconst defaultDebug = debug !== void 0 ? debug : this.debug;\n\t\tlet defaultOutputKeys = outputKeys;\n\t\tif (defaultOutputKeys === void 0) defaultOutputKeys = this.streamChannelsAsIs;\n\t\telse (0,_validate_js__WEBPACK_IMPORTED_MODULE_16__.validateKeys)(defaultOutputKeys, this.channels);\n\t\tlet defaultInputKeys = inputKeys;\n\t\tif (defaultInputKeys === void 0) defaultInputKeys = this.inputChannels;\n\t\telse (0,_validate_js__WEBPACK_IMPORTED_MODULE_16__.validateKeys)(defaultInputKeys, this.channels);\n\t\tconst defaultInterruptBefore = interruptBefore ?? this.interruptBefore ?? [];\n\t\tconst defaultInterruptAfter = interruptAfter ?? this.interruptAfter ?? [];\n\t\tlet defaultStreamMode;\n\t\tif (streamMode !== void 0) {\n\t\t\tdefaultStreamMode = Array.isArray(streamMode) ? streamMode : [streamMode];\n\t\t\tstreamModeSingle = typeof streamMode === \"string\";\n\t\t} else {\n\t\t\tif (config.configurable?.[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_TASK_ID] !== void 0) defaultStreamMode = [\"values\"];\n\t\t\telse defaultStreamMode = this.streamMode;\n\t\t\tstreamModeSingle = true;\n\t\t}\n\t\tlet defaultCheckpointer;\n\t\tif (this.checkpointer === false) defaultCheckpointer = void 0;\n\t\telse if (config !== void 0 && config.configurable?.[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_CHECKPOINTER] !== void 0) defaultCheckpointer = config.configurable[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_CHECKPOINTER];\n\t\telse if (this.checkpointer === true) throw new Error(\"checkpointer: true cannot be used for root graphs.\");\n\t\telse defaultCheckpointer = this.checkpointer;\n\t\tconst defaultStore = config.store ?? this.store;\n\t\tconst defaultCache = config.cache ?? this.cache;\n\t\tif (config.durability != null && config.checkpointDuring != null) throw new Error(\"Cannot use both `durability` and `checkpointDuring` at the same time.\");\n\t\tconst checkpointDuringDurability = (() => {\n\t\t\tif (config.checkpointDuring == null) return void 0;\n\t\t\tif (config.checkpointDuring === false) return \"exit\";\n\t\t\treturn \"async\";\n\t\t})();\n\t\tconst defaultDurability = config.durability ?? checkpointDuringDurability ?? config?.configurable?.[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_DURABILITY] ?? \"async\";\n\t\treturn [\n\t\t\tdefaultDebug,\n\t\t\tdefaultStreamMode,\n\t\t\tdefaultInputKeys,\n\t\t\tdefaultOutputKeys,\n\t\t\trest,\n\t\t\tdefaultInterruptBefore,\n\t\t\tdefaultInterruptAfter,\n\t\t\tdefaultCheckpointer,\n\t\t\tdefaultStore,\n\t\t\tstreamModeSingle,\n\t\t\tdefaultCache,\n\t\t\tdefaultDurability\n\t\t];\n\t}\n\t/**\n\t* Streams the execution of the graph, emitting state updates as they occur.\n\t* This is the primary method for observing graph execution in real-time.\n\t*\n\t* Stream modes:\n\t* - \"values\": Emits complete state after each step\n\t* - \"updates\": Emits only state changes after each step\n\t* - \"debug\": Emits detailed debug information\n\t* - \"messages\": Emits messages from within nodes\n\t* - \"custom\": Emits custom events from within nodes\n\t* - \"checkpoints\": Emits checkpoints from within nodes\n\t* - \"tasks\": Emits tasks from within nodes\n\t*\n\t* @param input - The input to start graph execution with\n\t* @param options - Configuration options for streaming\n\t* @returns An async iterable stream of graph state updates\n\t*/\n\tasync stream(input, options) {\n\t\tconst abortController = new AbortController();\n\t\tconst config = {\n\t\t\trecursionLimit: this.config?.recursionLimit,\n\t\t\t...options,\n\t\t\tsignal: (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_8__.combineAbortSignals)(options?.signal, abortController.signal).signal\n\t\t};\n\t\tconst stream = await super.stream(input, config);\n\t\treturn new _stream_js__WEBPACK_IMPORTED_MODULE_12__.IterableReadableStreamWithAbortSignal(options?.encoding === \"text/event-stream\" ? (0,_stream_js__WEBPACK_IMPORTED_MODULE_12__.toEventStream)(stream) : stream, abortController);\n\t}\n\tstreamEvents(input, options, streamOptions) {\n\t\tconst abortController = new AbortController();\n\t\tconst config = {\n\t\t\trecursionLimit: this.config?.recursionLimit,\n\t\t\t...options,\n\t\t\tcallbacks: (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_8__.combineCallbacks)(this.config?.callbacks, options?.callbacks),\n\t\t\tsignal: (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_8__.combineAbortSignals)(options?.signal, abortController.signal).signal\n\t\t};\n\t\treturn new _stream_js__WEBPACK_IMPORTED_MODULE_12__.IterableReadableStreamWithAbortSignal(super.streamEvents(input, config, streamOptions), abortController);\n\t}\n\t/**\n\t* Validates the input for the graph.\n\t* @param input - The input to validate\n\t* @returns The validated input\n\t* @internal\n\t*/\n\tasync _validateInput(input) {\n\t\treturn input;\n\t}\n\t/**\n\t* Validates the context options for the graph.\n\t* @param context - The context options to validate\n\t* @returns The validated context options\n\t* @internal\n\t*/\n\tasync _validateContext(context) {\n\t\treturn context;\n\t}\n\t/**\n\t* Internal iterator used by stream() to generate state updates.\n\t* This method handles the core logic of graph execution and streaming.\n\t*\n\t* @param input - The input to start graph execution with\n\t* @param options - Configuration options for streaming\n\t* @returns AsyncGenerator yielding state updates\n\t* @internal\n\t*/\n\tasync *_streamIterator(input, options) {\n\t\tconst streamEncoding = \"version\" in (options ?? {}) ? void 0 : options?.encoding ?? void 0;\n\t\tconst streamSubgraphs = options?.subgraphs;\n\t\tconst inputConfig = (0,_utils_config_js__WEBPACK_IMPORTED_MODULE_3__.ensureLangGraphConfig)(this.config, options);\n\t\tif (inputConfig.recursionLimit === void 0 || inputConfig.recursionLimit < 1) throw new Error(`Passed \"recursionLimit\" must be at least 1.`);\n\t\tif (this.checkpointer !== void 0 && this.checkpointer !== false && inputConfig.configurable === void 0) throw new Error(`Checkpointer requires one or more of the following \"configurable\" keys: \"thread_id\", \"checkpoint_ns\", \"checkpoint_id\"`);\n\t\tconst validInput = await this._validateInput(input);\n\t\tconst { runId,...restConfig } = inputConfig;\n\t\tconst [debug, streamMode, , outputKeys, config, interruptBefore, interruptAfter, checkpointer, store, streamModeSingle, cache, durability] = this._defaults(restConfig);\n\t\tif (typeof config.context !== \"undefined\") config.context = await this._validateContext(config.context);\n\t\telse config.configurable = await this._validateContext(config.configurable);\n\t\tconst stream = new _stream_js__WEBPACK_IMPORTED_MODULE_12__.IterableReadableWritableStream({ modes: new Set(streamMode) });\n\t\tif (this.checkpointer === true) {\n\t\t\tconfig.configurable ??= {};\n\t\t\tconst ns = config.configurable[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_CHECKPOINT_NS] ?? \"\";\n\t\t\tconfig.configurable[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_CHECKPOINT_NS] = ns.split(_constants_js__WEBPACK_IMPORTED_MODULE_2__.CHECKPOINT_NAMESPACE_SEPARATOR).map((part) => part.split(_constants_js__WEBPACK_IMPORTED_MODULE_2__.CHECKPOINT_NAMESPACE_END)[0]).join(_constants_js__WEBPACK_IMPORTED_MODULE_2__.CHECKPOINT_NAMESPACE_SEPARATOR);\n\t\t}\n\t\tif (streamMode.includes(\"messages\")) {\n\t\t\tconst messageStreamer = new _messages_js__WEBPACK_IMPORTED_MODULE_14__.StreamMessagesHandler((chunk) => stream.push(chunk));\n\t\t\tconst { callbacks } = config;\n\t\t\tif (callbacks === void 0) config.callbacks = [messageStreamer];\n\t\t\telse if (Array.isArray(callbacks)) config.callbacks = callbacks.concat(messageStreamer);\n\t\t\telse {\n\t\t\t\tconst copiedCallbacks = callbacks.copy();\n\t\t\t\tcopiedCallbacks.addHandler(messageStreamer, true);\n\t\t\t\tconfig.callbacks = copiedCallbacks;\n\t\t\t}\n\t\t}\n\t\tconfig.writer ??= (chunk) => {\n\t\t\tif (!streamMode.includes(\"custom\")) return;\n\t\t\tconst ns = ((0,_utils_config_js__WEBPACK_IMPORTED_MODULE_3__.getConfig)()?.configurable?.[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_CHECKPOINT_NS])?.split(_constants_js__WEBPACK_IMPORTED_MODULE_2__.CHECKPOINT_NAMESPACE_SEPARATOR).slice(0, -1);\n\t\t\tstream.push([\n\t\t\t\tns ?? [],\n\t\t\t\t\"custom\",\n\t\t\t\tchunk\n\t\t\t]);\n\t\t};\n\t\tconfig.interrupt ??= this.userInterrupt ?? _interrupt_js__WEBPACK_IMPORTED_MODULE_18__.interrupt;\n\t\tconst callbackManager = await (0,_langchain_core_runnables__WEBPACK_IMPORTED_MODULE_20__.getCallbackManagerForConfig)(config);\n\t\tconst runManager = await callbackManager?.handleChainStart(this.toJSON(), (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_8__._coerceToDict)(input, \"input\"), runId, void 0, void 0, void 0, config?.runName ?? this.getName());\n\t\tconst channelSpecs = (0,_channels_base_js__WEBPACK_IMPORTED_MODULE_1__.getOnlyChannels)(this.channels);\n\t\tlet loop;\n\t\tlet loopError;\n\t\t/**\n\t\t* The PregelLoop will yield events from concurrent tasks as soon as they are\n\t\t* generated. Each task can push multiple events onto the stream in any order.\n\t\t*\n\t\t* We use a separate background method and stream here in order to yield events\n\t\t* from the loop to the main stream and therefore back to the user as soon as\n\t\t* they are available.\n\t\t*/\n\t\tconst createAndRunLoop = async () => {\n\t\t\ttry {\n\t\t\t\tloop = await _loop_js__WEBPACK_IMPORTED_MODULE_13__.PregelLoop.initialize({\n\t\t\t\t\tinput: validInput,\n\t\t\t\t\tconfig,\n\t\t\t\t\tcheckpointer,\n\t\t\t\t\tnodes: this.nodes,\n\t\t\t\t\tchannelSpecs,\n\t\t\t\t\toutputKeys,\n\t\t\t\t\tstreamKeys: this.streamChannelsAsIs,\n\t\t\t\t\tstore,\n\t\t\t\t\tcache,\n\t\t\t\t\tstream,\n\t\t\t\t\tinterruptAfter,\n\t\t\t\t\tinterruptBefore,\n\t\t\t\t\tmanager: runManager,\n\t\t\t\t\tdebug: this.debug,\n\t\t\t\t\ttriggerToNodes: this.triggerToNodes,\n\t\t\t\t\tdurability\n\t\t\t\t});\n\t\t\t\tconst runner = new _runner_js__WEBPACK_IMPORTED_MODULE_15__.PregelRunner({\n\t\t\t\t\tloop,\n\t\t\t\t\tnodeFinished: config.configurable?.[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_NODE_FINISHED]\n\t\t\t\t});\n\t\t\t\tif (options?.subgraphs) loop.config.configurable = {\n\t\t\t\t\t...loop.config.configurable,\n\t\t\t\t\t[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_STREAM]: loop.stream\n\t\t\t\t};\n\t\t\t\tawait this._runLoop({\n\t\t\t\t\tloop,\n\t\t\t\t\trunner,\n\t\t\t\t\tdebug,\n\t\t\t\t\tconfig\n\t\t\t\t});\n\t\t\t\tif (durability === \"sync\") await Promise.all(loop?.checkpointerPromises ?? []);\n\t\t\t} catch (e) {\n\t\t\t\tloopError = e;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (loop) {\n\t\t\t\t\t\tawait loop.store?.stop();\n\t\t\t\t\t\tawait loop.cache?.stop();\n\t\t\t\t\t}\n\t\t\t\t\tawait Promise.all(loop?.checkpointerPromises ?? []);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tloopError = loopError ?? e;\n\t\t\t\t}\n\t\t\t\tif (loopError) stream.error(loopError);\n\t\t\t\telse stream.close();\n\t\t\t}\n\t\t};\n\t\tconst runLoopPromise = createAndRunLoop();\n\t\ttry {\n\t\t\tfor await (const chunk of stream) {\n\t\t\t\tif (chunk === void 0) throw new Error(\"Data structure error.\");\n\t\t\t\tconst [namespace, mode, payload] = chunk;\n\t\t\t\tif (streamMode.includes(mode)) {\n\t\t\t\t\tif (streamEncoding === \"text/event-stream\") {\n\t\t\t\t\t\tif (streamSubgraphs) yield [\n\t\t\t\t\t\t\tnamespace,\n\t\t\t\t\t\t\tmode,\n\t\t\t\t\t\t\tpayload\n\t\t\t\t\t\t];\n\t\t\t\t\t\telse yield [\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tmode,\n\t\t\t\t\t\t\tpayload\n\t\t\t\t\t\t];\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tif (streamSubgraphs && !streamModeSingle) yield [\n\t\t\t\t\t\tnamespace,\n\t\t\t\t\t\tmode,\n\t\t\t\t\t\tpayload\n\t\t\t\t\t];\n\t\t\t\t\telse if (!streamModeSingle) yield [mode, payload];\n\t\t\t\t\telse if (streamSubgraphs) yield [namespace, payload];\n\t\t\t\t\telse yield payload;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tawait runManager?.handleChainError(loopError);\n\t\t\tthrow e;\n\t\t} finally {\n\t\t\tawait runLoopPromise;\n\t\t}\n\t\tawait runManager?.handleChainEnd(loop?.output ?? {}, runId, void 0, void 0, void 0);\n\t}\n\t/**\n\t* Run the graph with a single input and config.\n\t* @param input The input to the graph.\n\t* @param options The configuration to use for the run.\n\t*/\n\tasync invoke(input, options) {\n\t\tconst streamMode = options?.streamMode ?? \"values\";\n\t\tconst config = {\n\t\t\t...options,\n\t\t\toutputKeys: options?.outputKeys ?? this.outputChannels,\n\t\t\tstreamMode,\n\t\t\tencoding: void 0\n\t\t};\n\t\tconst chunks = [];\n\t\tconst stream = await this.stream(input, config);\n\t\tconst interruptChunks = [];\n\t\tlet latest;\n\t\tfor await (const chunk of stream) if (streamMode === \"values\") if ((0,_constants_js__WEBPACK_IMPORTED_MODULE_2__.isInterrupted)(chunk)) interruptChunks.push(chunk[_constants_js__WEBPACK_IMPORTED_MODULE_2__.INTERRUPT]);\n\t\telse latest = chunk;\n\t\telse chunks.push(chunk);\n\t\tif (streamMode === \"values\") {\n\t\t\tif (interruptChunks.length > 0) {\n\t\t\t\tconst interrupts = interruptChunks.flat(1);\n\t\t\t\tif (latest == null) return { [_constants_js__WEBPACK_IMPORTED_MODULE_2__.INTERRUPT]: interrupts };\n\t\t\t\tif (typeof latest === \"object\") return {\n\t\t\t\t\t...latest,\n\t\t\t\t\t[_constants_js__WEBPACK_IMPORTED_MODULE_2__.INTERRUPT]: interrupts\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn latest;\n\t\t}\n\t\treturn chunks;\n\t}\n\tasync _runLoop(params) {\n\t\tconst { loop, runner, debug, config } = params;\n\t\tlet tickError;\n\t\ttry {\n\t\t\twhile (await loop.tick({ inputKeys: this.inputChannels })) {\n\t\t\t\tfor (const { task } of await loop._matchCachedWrites()) loop._outputWrites(task.id, task.writes, true);\n\t\t\t\tif (debug) (0,_debug_js__WEBPACK_IMPORTED_MODULE_11__.printStepCheckpoint)(loop.checkpointMetadata.step, loop.channels, this.streamChannelsList);\n\t\t\t\tif (debug) (0,_debug_js__WEBPACK_IMPORTED_MODULE_11__.printStepTasks)(loop.step, Object.values(loop.tasks));\n\t\t\t\tawait runner.tick({\n\t\t\t\t\ttimeout: this.stepTimeout,\n\t\t\t\t\tretryPolicy: this.retryPolicy,\n\t\t\t\t\tonStepWrite: (step, writes) => {\n\t\t\t\t\t\tif (debug) (0,_debug_js__WEBPACK_IMPORTED_MODULE_11__.printStepWrites)(step, writes, this.streamChannelsList);\n\t\t\t\t\t},\n\t\t\t\t\tmaxConcurrency: config.maxConcurrency,\n\t\t\t\t\tsignal: config.signal\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (loop.status === \"out_of_steps\") throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.GraphRecursionError([\n\t\t\t\t`Recursion limit of ${config.recursionLimit} reached`,\n\t\t\t\t\"without hitting a stop condition. You can increase the\",\n\t\t\t\t`limit by setting the \"recursionLimit\" config key.`\n\t\t\t].join(\" \"), { lc_error_code: \"GRAPH_RECURSION_LIMIT\" });\n\t\t} catch (e) {\n\t\t\ttickError = e;\n\t\t\tconst suppress = await loop.finishAndHandleError(tickError);\n\t\t\tif (!suppress) throw e;\n\t\t} finally {\n\t\t\tif (tickError === void 0) await loop.finishAndHandleError();\n\t\t}\n\t}\n\tasync clearCache() {\n\t\tawait this.cache?.clear([]);\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L3ByZWdlbC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF3RjtBQUNEO0FBQytQO0FBQ3RQO0FBQ2hDO0FBQ1Q7QUFDaEI7QUFDVTtBQUNrRjtBQUMzRDtBQUNmO0FBQzBDO0FBQ2dCO0FBQzVFO0FBQ2U7QUFDWDtBQUNpQjtBQUNmO0FBQ0Q7QUFDZ0Y7QUFDc0I7O0FBRWxKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxZQUFZO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVFQUF1RTtBQUN2RTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGdEQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxrREFBVztBQUNyQjtBQUNBLEdBQUc7QUFDSCx3REFBd0QsT0FBTyxnRUFBUTtBQUN2RTtBQUNBLFVBQVUsa0RBQVc7QUFDckI7QUFDQSxXQUFXLDZFQUFpQjtBQUM1QixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsYUFBYSxtREFBWTtBQUN6QjtBQUNBO0FBQ0Esb0NBQW9DLGdFQUFRO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssaUJBQWlCO0FBQ3RCLG1CQUFtQixrQkFBa0IsZUFBZSxxQkFBcUI7QUFDekU7QUFDQSw4Q0FBOEMsa0JBQWtCO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxtQkFBbUI7QUFDOUIsV0FBVyxjQUFjO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxtREFBbUQ7QUFDbkQ7QUFDQTtBQUNBLHFEQUFxRCxrQkFBa0I7QUFDdkUsMkRBQTJELG1CQUFtQixJQUFJLHdCQUF3QjtBQUMxRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGFBQWE7QUFDckI7QUFDQTtBQUNBO0FBQ0EsTUFBTSxnREFBSyxzREFBc0QsZ0RBQUssbUJBQW1CLGdEQUFLLHlEQUF5RCxnREFBSyxDQUFDO0FBQzdKLHFCQUFxQixnREFBSyxRQUFRLHNEQUFLLEdBQUcsbUJBQW1CO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxhQUFhO0FBQ3REO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHdFQUFZO0FBQ25DO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHNCQUFzQjtBQUNsQztBQUNBO0FBQ0EsRUFBRSw0REFBYTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHVFQUFrQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrR0FBa0csS0FBSyxFQUFFLHlFQUE4QixDQUFDLEVBQUUsYUFBYTtBQUN2SjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsaUVBQWlFO0FBQ2hHO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGdFQUFhO0FBQ2hDO0FBQ0EsNkVBQTZFLHVEQUFZO0FBQ3pGLDhCQUE4QixzREFBWTtBQUMxQyxVQUFVLGdEQUFLO0FBQ2Y7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLGtDQUFrQywyREFBaUI7QUFDbkQ7QUFDQTtBQUNBLEdBQUc7QUFDSCwwQkFBMEIseURBQWM7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixrQkFBa0IsRUFBRSxtRUFBd0IsQ0FBQyxFQUFFLFFBQVE7QUFDMUUsb0NBQW9DLGdCQUFnQixFQUFFLHlFQUE4QixDQUFDLEVBQUUsT0FBTztBQUM5RjtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCw2QkFBNkI7QUFDN0IsTUFBTSxrRUFBdUI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0UsaUJBQWlCO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssZ0RBQUs7QUFDVixLQUFLLG9EQUFTO0FBQ2QsS0FBSyx1RUFBUztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsc0RBQVk7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsb0RBQVk7QUFDdkI7QUFDQSxVQUFVLDJEQUFlO0FBQ3pCO0FBQ0EsV0FBVyxtRUFBa0I7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksaUJBQWlCO0FBQzdCO0FBQ0E7QUFDQSw2Q0FBNkMsa0VBQXVCO0FBQ3BFLCtCQUErQix1REFBZSwwQkFBMEIsdUNBQXVDO0FBQy9HO0FBQ0EsMERBQTBELGtFQUF1QjtBQUNqRiwyQkFBMkIsMkVBQXlCO0FBQ3BELG9KQUFvSiw0REFBaUIsV0FBVyxDQUFDLGtFQUF1QixpQkFBaUIsS0FBSywrQkFBK0I7QUFDN1AsK0NBQStDLGdCQUFnQjtBQUMvRDtBQUNBLHVCQUF1Qix3RUFBWTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLE9BQU87QUFDbkI7QUFDQTtBQUNBLDZDQUE2QyxrRUFBdUI7QUFDcEUsK0JBQStCLHVEQUFlLDBCQUEwQix1Q0FBdUM7QUFDL0c7QUFDQSwwREFBMEQsa0VBQXVCO0FBQ2pGLDJCQUEyQiwyRUFBeUI7QUFDcEQ7QUFDQSxrQ0FBa0MsNERBQWlCLFdBQVcsQ0FBQyxrRUFBdUIsaUJBQWlCO0FBQ3ZHO0FBQ0E7QUFDQSwrQ0FBK0MsZ0JBQWdCO0FBQy9EO0FBQ0EsdUJBQXVCLHdFQUFZLHdCQUF3QixnQkFBZ0Isc0NBQXNDO0FBQ2pIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxpQkFBaUI7QUFDN0IsWUFBWSxvQkFBb0I7QUFDaEM7QUFDQTtBQUNBLGtEQUFrRCxrRUFBdUI7QUFDekUsK0JBQStCLHVEQUFlLDBCQUEwQix1Q0FBdUM7QUFDL0c7QUFDQTtBQUNBO0FBQ0EsK0RBQStELGtFQUF1QjtBQUN0RiwyQkFBMkIsMkVBQXlCO0FBQ3BELHFIQUFxSCw0REFBaUIsZ0JBQWdCLENBQUMsa0VBQXVCLGlCQUFpQjtBQUMvTCxnQ0FBZ0MsZ0JBQWdCO0FBQ2hEO0FBQ0E7QUFDQSxnQ0FBZ0Msd0VBQVk7QUFDNUM7QUFDQSx5Q0FBeUMsZ0ZBQWMscUJBQXFCLGlGQUFlO0FBQzNGLHdDQUF3QztBQUN4QztBQUNBLDBCQUEwQiw0REFBaUIsV0FBVyx5REFBeUQ7QUFDL0c7QUFDQTtBQUNBLHVCQUF1Qiw0REFBaUI7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUJBQWlCO0FBQzVCO0FBQ0Esc0NBQXNDLDBEQUFrQjtBQUN4RCxrRUFBa0UsbUVBQWdCO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBLEtBQUssSUFBSTtBQUNULFdBQVcsbUVBQWtCO0FBQzdCO0FBQ0Esb0JBQW9CLGdFQUFhO0FBQ2pDLHFDQUFxQyw4Q0FBRztBQUN4QyxzQ0FBc0MsMERBQWtCO0FBQ3hEO0FBQ0EsdUJBQXVCLDJEQUFpQjtBQUN4QztBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sMkVBQTJFLHVEQUFZO0FBQ3ZGLGdDQUFnQyxzREFBWTtBQUM1QyxZQUFZLGdEQUFLO0FBQ2pCO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE9BQU8sZ0RBQUs7QUFDWixPQUFPLG9EQUFTO0FBQ2hCLE9BQU8sdUVBQVM7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLHNEQUFZO0FBQ2pCO0FBQ0Esa0VBQWtFLG1FQUFnQjtBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssRUFBRSxzRUFBcUI7QUFDNUIsV0FBVyxtRUFBa0I7QUFDN0I7QUFDQSxrQkFBa0IsK0NBQUk7QUFDdEIsc0NBQXNDLDBEQUFrQjtBQUN4RCxpQ0FBaUMsMERBQWtCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsbUVBQWdCO0FBQzNDLHNFQUFzRSw0REFBaUIsaUJBQWlCLHVCQUF1QjtBQUMvSDtBQUNBO0FBQ0E7QUFDQSxLQUFLLElBQUk7QUFDVDtBQUNBLHVCQUF1QiwyREFBaUIsbUZBQW1GLGdCQUFnQjtBQUMzSSxrRUFBa0UsVUFBVTtBQUM1RTtBQUNBLHVCQUF1QixJQUFJO0FBQzNCO0FBQ0EsTUFBTSxJQUFJO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsTUFBTSxJQUFJO0FBQ1YsNEJBQTRCLG1FQUFrQjtBQUM5QztBQUNBLFdBQVcsbUVBQWtCO0FBQzdCO0FBQ0Esa0JBQWtCLGdEQUFLO0FBQ3ZCLHNDQUFzQywwREFBa0I7QUFDeEQsOEJBQThCLHlEQUFjLENBQUMsZ0RBQVE7QUFDckQsNENBQTRDLDBEQUFrQixpQ0FBaUMsNENBQTRDO0FBQzNJLElBQUksc0RBQVk7QUFDaEIsV0FBVyxnREFBSztBQUNoQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esa0VBQWtFLG1FQUFnQjtBQUNsRjtBQUNBO0FBQ0E7QUFDQSxLQUFLLEVBQUUsc0VBQXFCO0FBQzVCLDREQUE0RCx1RUFBSyxDQUFDLGdEQUFLO0FBQ3ZFLFdBQVcsbUVBQWtCO0FBQzdCO0FBQ0E7QUFDQSxzQkFBc0IsMkRBQWlCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCwwRUFBMEUsdURBQVk7QUFDdEYsK0JBQStCLHNEQUFZO0FBQzNDLFdBQVcsZ0RBQUs7QUFDaEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsTUFBTSxnREFBSztBQUNYLE1BQU0sb0RBQVM7QUFDZixNQUFNLHVFQUFTO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCw0QkFBNEIsc0RBQVk7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxVQUFVLDZDQUE2QztBQUN2RDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU0sa0NBQWtDLG9EQUFTLGlDQUFpQyx3RkFBc0I7QUFDeEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QywwREFBa0I7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsS0FBSyxrQkFBa0IsNkNBQTZDO0FBQ3BFLG9DQUFvQywwREFBa0I7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGdCQUFnQiw2Q0FBNkM7QUFDN0QsbURBQW1ELDBEQUFrQixVQUFVLG9CQUFvQjtBQUNuRztBQUNBLG1DQUFtQywwREFBa0IsK0JBQStCLG9CQUFvQjtBQUN4RztBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msd0VBQWdCLGlCQUFpQix3QkFBd0I7QUFDekY7QUFDQSxnQkFBZ0Isb0RBQVM7QUFDekIsbUJBQW1CLHVFQUFLLENBQUMsb0RBQVM7QUFDbEM7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRUFBZ0UsdUVBQVc7QUFDM0U7QUFDQTtBQUNBLElBQUk7QUFDSixrQ0FBa0MsZUFBZTtBQUNqRDtBQUNBLE1BQU0sMERBQWU7QUFDckIsTUFBTSwwREFBZSxnQ0FBZ0Msb0RBQVU7QUFDL0Q7QUFDQSxJQUFJO0FBQ0o7QUFDQSw2REFBNkQsK0NBQUk7QUFDakU7QUFDQTtBQUNBLEdBQUcsc0RBQVk7QUFDZix1QkFBdUIsc0VBQXFCO0FBQzVDLCtEQUErRCxtRUFBZ0I7QUFDL0U7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsMERBQTBELCtDQUFJO0FBQzlEO0FBQ0E7QUFDQSxVQUFVLG1FQUFrQjtBQUM1QjtBQUNBO0FBQ0EsZUFBZSxVQUFVO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksaUJBQWlCO0FBQzdCLFlBQVksb0JBQW9CO0FBQ2hDO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUM7QUFDQTtBQUNBLEdBQUcsR0FBRztBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxvRkFBb0Y7QUFDOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLDJEQUFZO0FBQ25CO0FBQ0E7QUFDQSxPQUFPLDJEQUFZO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSiw2QkFBNkIsNkRBQWtCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0Qsa0VBQXVCLHdEQUF3RCxrRUFBdUI7QUFDNUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILHNHQUFzRyxnRUFBcUI7QUFDM0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG9FQUFtQjtBQUM5QjtBQUNBO0FBQ0EsYUFBYSw4RUFBcUMsNkNBQTZDLDBEQUFhO0FBQzVHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsaUVBQWdCO0FBQzlCLFdBQVcsb0VBQW1CO0FBQzlCO0FBQ0EsYUFBYSw4RUFBcUM7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRDtBQUNwRDtBQUNBLHNCQUFzQix1RUFBcUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0EsVUFBVSxzQkFBc0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHVFQUE4QixHQUFHLDRCQUE0QjtBQUNsRjtBQUNBO0FBQ0Esa0NBQWtDLG1FQUF3QjtBQUMxRCx1QkFBdUIsbUVBQXdCLGFBQWEseUVBQThCLDJCQUEyQixtRUFBd0IsV0FBVyx5RUFBOEI7QUFDdEw7QUFDQTtBQUNBLCtCQUErQixnRUFBcUI7QUFDcEQsV0FBVyxZQUFZO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSwyREFBUyxtQkFBbUIsbUVBQXdCLFVBQVUseUVBQThCO0FBQzNHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxxREFBUztBQUN0RCxnQ0FBZ0MsdUZBQTJCO0FBQzNELDRFQUE0RSw4REFBYTtBQUN6Rix1QkFBdUIsa0VBQWU7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGlEQUFVO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLHVCQUF1QixxREFBWTtBQUNuQztBQUNBLHlDQUF5QyxtRUFBd0I7QUFDakUsS0FBSztBQUNMO0FBQ0E7QUFDQSxNQUFNLDREQUFpQjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EscURBQXFEO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRSw0REFBYSxvQ0FBb0Msb0RBQVM7QUFDL0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxDQUFDLG9EQUFTO0FBQzNDO0FBQ0E7QUFDQSxNQUFNLG9EQUFTO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLDhCQUE4QjtBQUN4QztBQUNBO0FBQ0EsNEJBQTRCLCtCQUErQjtBQUMzRCxpQkFBaUIsT0FBTztBQUN4QixlQUFlLCtEQUFtQjtBQUNsQyxlQUFlLDBEQUFjO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDJEQUFlO0FBQ2hDLE1BQU07QUFDTjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsaURBQWlELDJEQUFtQjtBQUNwRSwwQkFBMEIsdUJBQXVCO0FBQ2pEO0FBQ0E7QUFDQSxrQkFBa0Isd0NBQXdDO0FBQzFELElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDMkI7QUFDM0IiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2IvRGVza3RvcC9wcm9qZWN0X3gvcHJvamVjdC1zcWwtYWdlbnQvc2VydmljZXMvZnJvbnRlbmQvbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rbGFuZ2dyYXBoQDEuMC4xX0BsYW5nY2hhaW4rY29yZUAxLjAuMl9vcGVuYWlANC4xMDAuMF93c0A4LjE4LjJfem9kQDQuMS4xMl9fX19lZmE0ZThmODY1NThlNWQyOWViZGVjM2QyZjAwNGVkOS9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9sYW5nZ3JhcGgvZGlzdC9wcmVnZWwvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR3JhcGhSZWN1cnNpb25FcnJvciwgR3JhcGhWYWx1ZUVycm9yLCBJbnZhbGlkVXBkYXRlRXJyb3IgfSBmcm9tIFwiLi4vZXJyb3JzLmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVDaGVja3BvaW50LCBlbXB0eUNoYW5uZWxzLCBnZXRPbmx5Q2hhbm5lbHMgfSBmcm9tIFwiLi4vY2hhbm5lbHMvYmFzZS5qc1wiO1xuaW1wb3J0IHsgQ0hFQ0tQT0lOVF9OQU1FU1BBQ0VfRU5ELCBDSEVDS1BPSU5UX05BTUVTUEFDRV9TRVBBUkFUT1IsIENPTkZJR19LRVlfQ0hFQ0tQT0lOVEVSLCBDT05GSUdfS0VZX0NIRUNLUE9JTlRfTlMsIENPTkZJR19LRVlfRFVSQUJJTElUWSwgQ09ORklHX0tFWV9OT0RFX0ZJTklTSEVELCBDT05GSUdfS0VZX1JFQUQsIENPTkZJR19LRVlfU0VORCwgQ09ORklHX0tFWV9TVFJFQU0sIENPTkZJR19LRVlfVEFTS19JRCwgQ09QWSwgRU5ELCBFUlJPUiwgSU5QVVQsIElOVEVSUlVQVCwgTlVMTF9UQVNLX0lELCBQVVNILCBUQVNLUywgaXNJbnRlcnJ1cHRlZCB9IGZyb20gXCIuLi9jb25zdGFudHMuanNcIjtcbmltcG9ydCB7IGVuc3VyZUxhbmdHcmFwaENvbmZpZywgZ2V0Q29uZmlnLCByZWNhc3RDaGVja3BvaW50TmFtZXNwYWNlIH0gZnJvbSBcIi4vdXRpbHMvY29uZmlnLmpzXCI7XG5pbXBvcnQgeyBnYXRoZXJJdGVyYXRvciwgcGF0Y2hDb25maWd1cmFibGUgfSBmcm9tIFwiLi4vdXRpbHMuanNcIjtcbmltcG9ydCB7IENoYW5uZWxXcml0ZSwgUEFTU1RIUk9VR0ggfSBmcm9tIFwiLi93cml0ZS5qc1wiO1xuaW1wb3J0IHsgUHJlZ2VsTm9kZSB9IGZyb20gXCIuL3JlYWQuanNcIjtcbmltcG9ydCB7IG1hcElucHV0LCByZWFkQ2hhbm5lbHMgfSBmcm9tIFwiLi9pby5qc1wiO1xuaW1wb3J0IHsgX2NvZXJjZVRvRGljdCwgY29tYmluZUFib3J0U2lnbmFscywgY29tYmluZUNhbGxiYWNrcywgZ2V0TmV3Q2hhbm5lbFZlcnNpb25zLCBwYXRjaENoZWNrcG9pbnRNYXAgfSBmcm9tIFwiLi91dGlscy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgX2FwcGx5V3JpdGVzLCBfbG9jYWxSZWFkLCBfcHJlcGFyZU5leHRUYXNrcyB9IGZyb20gXCIuL2FsZ28uanNcIjtcbmltcG9ydCB7IGZpbmRTdWJncmFwaFByZWdlbCB9IGZyb20gXCIuL3V0aWxzL3N1YmdyYXBoLmpzXCI7XG5pbXBvcnQgeyBwcmludFN0ZXBDaGVja3BvaW50LCBwcmludFN0ZXBUYXNrcywgcHJpbnRTdGVwV3JpdGVzLCB0YXNrc1dpdGhXcml0ZXMgfSBmcm9tIFwiLi9kZWJ1Zy5qc1wiO1xuaW1wb3J0IHsgSXRlcmFibGVSZWFkYWJsZVN0cmVhbVdpdGhBYm9ydFNpZ25hbCwgSXRlcmFibGVSZWFkYWJsZVdyaXRhYmxlU3RyZWFtLCB0b0V2ZW50U3RyZWFtIH0gZnJvbSBcIi4vc3RyZWFtLmpzXCI7XG5pbXBvcnQgeyBQcmVnZWxMb29wIH0gZnJvbSBcIi4vbG9vcC5qc1wiO1xuaW1wb3J0IHsgU3RyZWFtTWVzc2FnZXNIYW5kbGVyIH0gZnJvbSBcIi4vbWVzc2FnZXMuanNcIjtcbmltcG9ydCB7IFByZWdlbFJ1bm5lciB9IGZyb20gXCIuL3J1bm5lci5qc1wiO1xuaW1wb3J0IHsgdmFsaWRhdGVHcmFwaCwgdmFsaWRhdGVLZXlzIH0gZnJvbSBcIi4vdmFsaWRhdGUuanNcIjtcbmltcG9ydCB7IFRvcGljIH0gZnJvbSBcIi4uL2NoYW5uZWxzL3RvcGljLmpzXCI7XG5pbXBvcnQgeyBpbnRlcnJ1cHQgfSBmcm9tIFwiLi4vaW50ZXJydXB0LmpzXCI7XG5pbXBvcnQgeyBTQ0hFRFVMRUQsIGNvbXBhcmVDaGFubmVsVmVyc2lvbnMsIGNvcHlDaGVja3BvaW50LCBlbXB0eUNoZWNrcG9pbnQsIHV1aWQ1IH0gZnJvbSBcIkBsYW5nY2hhaW4vbGFuZ2dyYXBoLWNoZWNrcG9pbnRcIjtcbmltcG9ydCB7IFJ1bm5hYmxlLCBSdW5uYWJsZVNlcXVlbmNlLCBfY29lcmNlVG9SdW5uYWJsZSwgZ2V0Q2FsbGJhY2tNYW5hZ2VyRm9yQ29uZmlnLCBtZXJnZUNvbmZpZ3MsIHBhdGNoQ29uZmlnIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9ydW5uYWJsZXNcIjtcblxuLy8jcmVnaW9uIHNyYy9wcmVnZWwvaW5kZXgudHNcbi8qKlxuKiBVdGlsaXR5IGNsYXNzIGZvciB3b3JraW5nIHdpdGggY2hhbm5lbHMgaW4gdGhlIFByZWdlbCBzeXN0ZW0uXG4qIFByb3ZpZGVzIHN0YXRpYyBtZXRob2RzIGZvciBzdWJzY3JpYmluZyB0byBjaGFubmVscyBhbmQgd3JpdGluZyB0byB0aGVtLlxuKlxuKiBDaGFubmVscyBhcmUgdGhlIGNvbW11bmljYXRpb24gcGF0aHdheXMgYmV0d2VlbiBub2RlcyBpbiBhIFByZWdlbCBncmFwaC5cbiogVGhleSBlbmFibGUgbWVzc2FnZSBwYXNzaW5nIGFuZCBzdGF0ZSB1cGRhdGVzIGJldHdlZW4gZGlmZmVyZW50IHBhcnRzIG9mIHRoZSBncmFwaC5cbiovXG52YXIgQ2hhbm5lbCA9IGNsYXNzIHtcblx0c3RhdGljIHN1YnNjcmliZVRvKGNoYW5uZWxzLCBvcHRpb25zKSB7XG5cdFx0Y29uc3QgeyBrZXksIHRhZ3MgfSA9IHtcblx0XHRcdGtleTogdm9pZCAwLFxuXHRcdFx0dGFnczogdm9pZCAwLFxuXHRcdFx0Li4ub3B0aW9ucyA/PyB7fVxuXHRcdH07XG5cdFx0aWYgKEFycmF5LmlzQXJyYXkoY2hhbm5lbHMpICYmIGtleSAhPT0gdm9pZCAwKSB0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBzcGVjaWZ5IGEga2V5IHdoZW4gc3Vic2NyaWJpbmcgdG8gbXVsdGlwbGUgY2hhbm5lbHNcIik7XG5cdFx0bGV0IGNoYW5uZWxNYXBwaW5nT3JBcnJheTtcblx0XHRpZiAodHlwZW9mIGNoYW5uZWxzID09PSBcInN0cmluZ1wiKSBpZiAoa2V5KSBjaGFubmVsTWFwcGluZ09yQXJyYXkgPSB7IFtrZXldOiBjaGFubmVscyB9O1xuXHRcdGVsc2UgY2hhbm5lbE1hcHBpbmdPckFycmF5ID0gW2NoYW5uZWxzXTtcblx0XHRlbHNlIGNoYW5uZWxNYXBwaW5nT3JBcnJheSA9IE9iamVjdC5mcm9tRW50cmllcyhjaGFubmVscy5tYXAoKGNoYW4pID0+IFtjaGFuLCBjaGFuXSkpO1xuXHRcdGNvbnN0IHRyaWdnZXJzID0gQXJyYXkuaXNBcnJheShjaGFubmVscykgPyBjaGFubmVscyA6IFtjaGFubmVsc107XG5cdFx0cmV0dXJuIG5ldyBQcmVnZWxOb2RlKHtcblx0XHRcdGNoYW5uZWxzOiBjaGFubmVsTWFwcGluZ09yQXJyYXksXG5cdFx0XHR0cmlnZ2Vycyxcblx0XHRcdHRhZ3Ncblx0XHR9KTtcblx0fVxuXHQvKipcblx0KiBDcmVhdGVzIGEgQ2hhbm5lbFdyaXRlIHRoYXQgc3BlY2lmaWVzIGhvdyB0byB3cml0ZSB2YWx1ZXMgdG8gY2hhbm5lbHMuXG5cdCogVGhpcyBpcyB1c2VkIHRvIGRlZmluZSBob3cgbm9kZXMgc2VuZCBvdXRwdXQgdG8gY2hhbm5lbHMuXG5cdCpcblx0KiBAZXhhbXBsZVxuXHQqIGBgYHR5cGVzY3JpcHRcblx0KiAvLyBXcml0ZSB0byBtdWx0aXBsZSBjaGFubmVsc1xuXHQqIGNvbnN0IHdyaXRlID0gQ2hhbm5lbC53cml0ZVRvKFtcIm91dHB1dFwiLCBcInN0YXRlXCJdKTtcblx0KlxuXHQqIC8vIFdyaXRlIHdpdGggc3BlY2lmaWMgdmFsdWVzXG5cdCogY29uc3Qgd3JpdGUgPSBDaGFubmVsLndyaXRlVG8oW1wib3V0cHV0XCJdLCB7XG5cdCogICBzdGF0ZTogXCJjb21wbGV0ZWRcIixcblx0KiAgIHJlc3VsdDogY2FsY3VsYXRlUmVzdWx0KClcblx0KiB9KTtcblx0KlxuXHQqIC8vIFdyaXRlIHdpdGggYSB0cmFuc2Zvcm1hdGlvbiBmdW5jdGlvblxuXHQqIGNvbnN0IHdyaXRlID0gQ2hhbm5lbC53cml0ZVRvKFtcIm91dHB1dFwiXSwge1xuXHQqICAgcmVzdWx0OiAoeCkgPT4gcHJvY2Vzc1Jlc3VsdCh4KVxuXHQqIH0pO1xuXHQqIGBgYFxuXHQqXG5cdCogQHBhcmFtIGNoYW5uZWxzIC0gQXJyYXkgb2YgY2hhbm5lbCBuYW1lcyB0byB3cml0ZSB0b1xuXHQqIEBwYXJhbSB3cml0ZXMgLSBPcHRpb25hbCBtYXAgb2YgY2hhbm5lbCBuYW1lcyB0byB2YWx1ZXMgb3IgdHJhbnNmb3JtYXRpb25zXG5cdCogQHJldHVybnMgQSBDaGFubmVsV3JpdGUgb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgdG8gd3JpdGUgdG8gdGhlIHNwZWNpZmllZCBjaGFubmVsc1xuXHQqL1xuXHRzdGF0aWMgd3JpdGVUbyhjaGFubmVscywgd3JpdGVzKSB7XG5cdFx0Y29uc3QgY2hhbm5lbFdyaXRlRW50cmllcyA9IFtdO1xuXHRcdGZvciAoY29uc3QgY2hhbm5lbCBvZiBjaGFubmVscykgY2hhbm5lbFdyaXRlRW50cmllcy5wdXNoKHtcblx0XHRcdGNoYW5uZWwsXG5cdFx0XHR2YWx1ZTogUEFTU1RIUk9VR0gsXG5cdFx0XHRza2lwTm9uZTogZmFsc2Vcblx0XHR9KTtcblx0XHRmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyh3cml0ZXMgPz8ge30pKSBpZiAoUnVubmFibGUuaXNSdW5uYWJsZSh2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIpIGNoYW5uZWxXcml0ZUVudHJpZXMucHVzaCh7XG5cdFx0XHRjaGFubmVsOiBrZXksXG5cdFx0XHR2YWx1ZTogUEFTU1RIUk9VR0gsXG5cdFx0XHRza2lwTm9uZTogdHJ1ZSxcblx0XHRcdG1hcHBlcjogX2NvZXJjZVRvUnVubmFibGUodmFsdWUpXG5cdFx0fSk7XG5cdFx0ZWxzZSBjaGFubmVsV3JpdGVFbnRyaWVzLnB1c2goe1xuXHRcdFx0Y2hhbm5lbDoga2V5LFxuXHRcdFx0dmFsdWUsXG5cdFx0XHRza2lwTm9uZTogZmFsc2Vcblx0XHR9KTtcblx0XHRyZXR1cm4gbmV3IENoYW5uZWxXcml0ZShjaGFubmVsV3JpdGVFbnRyaWVzKTtcblx0fVxufTtcbnZhciBQYXJ0aWFsUnVubmFibGUgPSBjbGFzcyBleHRlbmRzIFJ1bm5hYmxlIHtcblx0bGNfbmFtZXNwYWNlID0gW1wibGFuZ2dyYXBoXCIsIFwicHJlZ2VsXCJdO1xuXHRpbnZva2UoX2lucHV0LCBfb3B0aW9ucykge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZFwiKTtcblx0fVxuXHR3aXRoQ29uZmlnKF9jb25maWcpIHtcblx0XHRyZXR1cm4gc3VwZXIud2l0aENvbmZpZyhfY29uZmlnKTtcblx0fVxuXHRzdHJlYW0oaW5wdXQsIG9wdGlvbnMpIHtcblx0XHRyZXR1cm4gc3VwZXIuc3RyZWFtKGlucHV0LCBvcHRpb25zKTtcblx0fVxufTtcbi8qKlxuKiBUaGUgUHJlZ2VsIGNsYXNzIGlzIHRoZSBjb3JlIHJ1bnRpbWUgZW5naW5lIG9mIExhbmdHcmFwaCwgaW1wbGVtZW50aW5nIGEgbWVzc2FnZS1wYXNzaW5nIGdyYXBoIGNvbXB1dGF0aW9uIG1vZGVsXG4qIGluc3BpcmVkIGJ5IFtHb29nbGUncyBQcmVnZWwgc3lzdGVtXShodHRwczovL3Jlc2VhcmNoLmdvb2dsZS9wdWJzL3ByZWdlbC1hLXN5c3RlbS1mb3ItbGFyZ2Utc2NhbGUtZ3JhcGgtcHJvY2Vzc2luZy8pLlxuKiBJdCBwcm92aWRlcyB0aGUgZm91bmRhdGlvbiBmb3IgYnVpbGRpbmcgcmVsaWFibGUsIGNvbnRyb2xsYWJsZSBhZ2VudCB3b3JrZmxvd3MgdGhhdCBjYW4gZXZvbHZlIHN0YXRlIG92ZXIgdGltZS5cbipcbiogS2V5IGZlYXR1cmVzOlxuKiAtIE1lc3NhZ2UgcGFzc2luZyBiZXR3ZWVuIG5vZGVzIGluIGRpc2NyZXRlIFwic3VwZXJzdGVwc1wiXG4qIC0gQnVpbHQtaW4gcGVyc2lzdGVuY2UgbGF5ZXIgdGhyb3VnaCBjaGVja3BvaW50ZXJzXG4qIC0gRmlyc3QtY2xhc3Mgc3RyZWFtaW5nIHN1cHBvcnQgZm9yIHZhbHVlcywgdXBkYXRlcywgYW5kIGV2ZW50c1xuKiAtIEh1bWFuLWluLXRoZS1sb29wIGNhcGFiaWxpdGllcyB2aWEgaW50ZXJydXB0c1xuKiAtIFN1cHBvcnQgZm9yIHBhcmFsbGVsIG5vZGUgZXhlY3V0aW9uIHdpdGhpbiBzdXBlcnN0ZXBzXG4qXG4qIFRoZSBQcmVnZWwgY2xhc3MgaXMgbm90IGludGVuZGVkIHRvIGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseSBieSBjb25zdW1lcnMuIEluc3RlYWQsIHVzZSB0aGUgZm9sbG93aW5nIGhpZ2hlci1sZXZlbCBBUElzOlxuKiAtIHtAbGluayBTdGF0ZUdyYXBofTogVGhlIG1haW4gZ3JhcGggY2xhc3MgZm9yIGJ1aWxkaW5nIGFnZW50IHdvcmtmbG93c1xuKiAgIC0gQ29tcGlsaW5nIGEge0BsaW5rIFN0YXRlR3JhcGh9IHdpbGwgcmV0dXJuIGEge0BsaW5rIENvbXBpbGVkR3JhcGh9IGluc3RhbmNlLCB3aGljaCBleHRlbmRzIGBQcmVnZWxgXG4qIC0gRnVuY3Rpb25hbCBBUEk6IEEgZGVjbGFyYXRpdmUgYXBwcm9hY2ggdXNpbmcgdGFza3MgYW5kIGVudHJ5cG9pbnRzXG4qICAgLSBBIGBQcmVnZWxgIGluc3RhbmNlIGlzIHJldHVybmVkIGJ5IHRoZSB7QGxpbmsgZW50cnlwb2ludH0gZnVuY3Rpb25cbipcbiogQGV4YW1wbGVcbiogYGBgdHlwZXNjcmlwdFxuKiAvLyBVc2luZyBTdGF0ZUdyYXBoIEFQSVxuKiBjb25zdCBncmFwaCA9IG5ldyBTdGF0ZUdyYXBoKGFubm90YXRpb24pXG4qICAgLmFkZE5vZGUoXCJub2RlQVwiLCBteU5vZGVGdW5jdGlvbilcbiogICAuYWRkRWRnZShcIm5vZGVBXCIsIFwibm9kZUJcIilcbiogICAuY29tcGlsZSgpO1xuKlxuKiAvLyBUaGUgY29tcGlsZWQgZ3JhcGggaXMgYSBQcmVnZWwgaW5zdGFuY2VcbiogY29uc3QgcmVzdWx0ID0gYXdhaXQgZ3JhcGguaW52b2tlKGlucHV0KTtcbiogYGBgXG4qXG4qIEBleGFtcGxlXG4qIGBgYHR5cGVzY3JpcHRcbiogLy8gVXNpbmcgRnVuY3Rpb25hbCBBUElcbiogaW1wb3J0IHsgdGFzaywgZW50cnlwb2ludCB9IGZyb20gXCJAbGFuZ2NoYWluL2xhbmdncmFwaFwiO1xuKiBpbXBvcnQgeyBNZW1vcnlTYXZlciB9IGZyb20gXCJAbGFuZ2NoYWluL2xhbmdncmFwaC1jaGVja3BvaW50XCI7XG4qXG4qIC8vIERlZmluZSB0YXNrcyB0aGF0IGNhbiBiZSBjb21wb3NlZFxuKiBjb25zdCBhZGRPbmUgPSB0YXNrKFwiYWRkXCIsIGFzeW5jICh4OiBudW1iZXIpID0+IHggKyAxKTtcbipcbiogLy8gQ3JlYXRlIGEgd29ya2Zsb3cgdXNpbmcgdGhlIGVudHJ5cG9pbnQgZnVuY3Rpb25cbiogY29uc3Qgd29ya2Zsb3cgPSBlbnRyeXBvaW50KHtcbiogICBuYW1lOiBcIndvcmtmbG93XCIsXG4qICAgY2hlY2twb2ludGVyOiBuZXcgTWVtb3J5U2F2ZXIoKVxuKiB9LCBhc3luYyAobnVtYmVyczogbnVtYmVyW10pID0+IHtcbiogICAvLyBUYXNrcyBjYW4gYmUgcnVuIGluIHBhcmFsbGVsXG4qICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKG51bWJlcnMubWFwKG4gPT4gYWRkT25lKG4pKSk7XG4qICAgcmV0dXJuIHJlc3VsdHM7XG4qIH0pO1xuKlxuKiAvLyBUaGUgd29ya2Zsb3cgaXMgYSBQcmVnZWwgaW5zdGFuY2VcbiogY29uc3QgcmVzdWx0ID0gYXdhaXQgd29ya2Zsb3cuaW52b2tlKFsxLCAyLCAzXSk7IC8vIFJldHVybnMgWzIsIDMsIDRdXG4qIGBgYFxuKlxuKiBAdHlwZVBhcmFtIE5vZGVzIC0gTWFwcGluZyBvZiBub2RlIG5hbWVzIHRvIHRoZWlyIHtAbGluayBQcmVnZWxOb2RlfSBpbXBsZW1lbnRhdGlvbnNcbiogQHR5cGVQYXJhbSBDaGFubmVscyAtIE1hcHBpbmcgb2YgY2hhbm5lbCBuYW1lcyB0byB0aGVpciB7QGxpbmsgQmFzZUNoYW5uZWx9IG9yIHtAbGluayBNYW5hZ2VkVmFsdWVTcGVjfSBpbXBsZW1lbnRhdGlvbnNcbiogQHR5cGVQYXJhbSBDb250ZXh0VHlwZSAtIFR5cGUgb2YgY29udGV4dCB0aGF0IGNhbiBiZSBwYXNzZWQgdG8gdGhlIGdyYXBoXG4qIEB0eXBlUGFyYW0gSW5wdXRUeXBlIC0gVHlwZSBvZiBpbnB1dCB2YWx1ZXMgYWNjZXB0ZWQgYnkgdGhlIGdyYXBoXG4qIEB0eXBlUGFyYW0gT3V0cHV0VHlwZSAtIFR5cGUgb2Ygb3V0cHV0IHZhbHVlcyBwcm9kdWNlZCBieSB0aGUgZ3JhcGhcbiovXG52YXIgUHJlZ2VsID0gY2xhc3MgZXh0ZW5kcyBQYXJ0aWFsUnVubmFibGUge1xuXHQvKipcblx0KiBOYW1lIG9mIHRoZSBjbGFzcyB3aGVuIHNlcmlhbGl6ZWRcblx0KiBAaW50ZXJuYWxcblx0Ki9cblx0c3RhdGljIGxjX25hbWUoKSB7XG5cdFx0cmV0dXJuIFwiTGFuZ0dyYXBoXCI7XG5cdH1cblx0LyoqIEBpbnRlcm5hbCBMYW5nQ2hhaW4gbmFtZXNwYWNlIGZvciBzZXJpYWxpemF0aW9uIG5lY2Vzc2FyeSBiZWNhdXNlIFByZWdlbCBleHRlbmRzIFJ1bm5hYmxlICovXG5cdGxjX25hbWVzcGFjZSA9IFtcImxhbmdncmFwaFwiLCBcInByZWdlbFwiXTtcblx0LyoqIEBpbnRlcm5hbCBGbGFnIGluZGljYXRpbmcgdGhpcyBpcyBhIFByZWdlbCBpbnN0YW5jZSAtIG5lY2Vzc2FyeSBmb3Igc2VyaWFsaXphdGlvbiAqL1xuXHRsZ19pc19wcmVnZWwgPSB0cnVlO1xuXHQvKiogVGhlIG5vZGVzIGluIHRoZSBncmFwaCwgbWFwcGluZyBub2RlIG5hbWVzIHRvIHRoZWlyIFByZWdlbE5vZGUgaW5zdGFuY2VzICovXG5cdG5vZGVzO1xuXHQvKiogVGhlIGNoYW5uZWxzIGluIHRoZSBncmFwaCwgbWFwcGluZyBjaGFubmVsIG5hbWVzIHRvIHRoZWlyIEJhc2VDaGFubmVsIG9yIE1hbmFnZWRWYWx1ZVNwZWMgaW5zdGFuY2VzICovXG5cdGNoYW5uZWxzO1xuXHQvKipcblx0KiBUaGUgaW5wdXQgY2hhbm5lbHMgZm9yIHRoZSBncmFwaC4gVGhlc2UgY2hhbm5lbHMgcmVjZWl2ZSB0aGUgaW5pdGlhbCBpbnB1dCB3aGVuIHRoZSBncmFwaCBpcyBpbnZva2VkLlxuXHQqIENhbiBiZSBhIHNpbmdsZSBjaGFubmVsIGtleSBvciBhbiBhcnJheSBvZiBjaGFubmVsIGtleXMuXG5cdCovXG5cdGlucHV0Q2hhbm5lbHM7XG5cdC8qKlxuXHQqIFRoZSBvdXRwdXQgY2hhbm5lbHMgZm9yIHRoZSBncmFwaC4gVGhlc2UgY2hhbm5lbHMgY29udGFpbiB0aGUgZmluYWwgb3V0cHV0IHdoZW4gdGhlIGdyYXBoIGNvbXBsZXRlcy5cblx0KiBDYW4gYmUgYSBzaW5nbGUgY2hhbm5lbCBrZXkgb3IgYW4gYXJyYXkgb2YgY2hhbm5lbCBrZXlzLlxuXHQqL1xuXHRvdXRwdXRDaGFubmVscztcblx0LyoqIFdoZXRoZXIgdG8gYXV0b21hdGljYWxseSB2YWxpZGF0ZSB0aGUgZ3JhcGggc3RydWN0dXJlIHdoZW4gaXQgaXMgY29tcGlsZWQuIERlZmF1bHRzIHRvIHRydWUuICovXG5cdGF1dG9WYWxpZGF0ZSA9IHRydWU7XG5cdC8qKlxuXHQqIFRoZSBzdHJlYW1pbmcgbW9kZXMgZW5hYmxlZCBmb3IgdGhpcyBncmFwaC4gRGVmYXVsdHMgdG8gW1widmFsdWVzXCJdLlxuXHQqIFN1cHBvcnRlZCBtb2Rlczpcblx0KiAtIFwidmFsdWVzXCI6IFN0cmVhbXMgdGhlIGZ1bGwgc3RhdGUgYWZ0ZXIgZWFjaCBzdGVwXG5cdCogLSBcInVwZGF0ZXNcIjogU3RyZWFtcyBzdGF0ZSB1cGRhdGVzIGFmdGVyIGVhY2ggc3RlcFxuXHQqIC0gXCJtZXNzYWdlc1wiOiBTdHJlYW1zIG1lc3NhZ2VzIGZyb20gd2l0aGluIG5vZGVzXG5cdCogLSBcImN1c3RvbVwiOiBTdHJlYW1zIGN1c3RvbSBldmVudHMgZnJvbSB3aXRoaW4gbm9kZXNcblx0KiAtIFwiZGVidWdcIjogU3RyZWFtcyBldmVudHMgcmVsYXRlZCB0byB0aGUgZXhlY3V0aW9uIG9mIHRoZSBncmFwaCAtIHVzZWZ1bCBmb3IgdHJhY2luZyAmIGRlYnVnZ2luZyBncmFwaCBleGVjdXRpb25cblx0Ki9cblx0c3RyZWFtTW9kZSA9IFtcInZhbHVlc1wiXTtcblx0LyoqXG5cdCogT3B0aW9uYWwgY2hhbm5lbHMgdG8gc3RyZWFtLiBJZiBub3Qgc3BlY2lmaWVkLCBhbGwgY2hhbm5lbHMgd2lsbCBiZSBzdHJlYW1lZC5cblx0KiBDYW4gYmUgYSBzaW5nbGUgY2hhbm5lbCBrZXkgb3IgYW4gYXJyYXkgb2YgY2hhbm5lbCBrZXlzLlxuXHQqL1xuXHRzdHJlYW1DaGFubmVscztcblx0LyoqXG5cdCogT3B0aW9uYWwgYXJyYXkgb2Ygbm9kZSBuYW1lcyBvciBcImFsbFwiIHRvIGludGVycnVwdCBhZnRlciBleGVjdXRpbmcgdGhlc2Ugbm9kZXMuXG5cdCogVXNlZCBmb3IgaW1wbGVtZW50aW5nIGh1bWFuLWluLXRoZS1sb29wIHdvcmtmbG93cy5cblx0Ki9cblx0aW50ZXJydXB0QWZ0ZXI7XG5cdC8qKlxuXHQqIE9wdGlvbmFsIGFycmF5IG9mIG5vZGUgbmFtZXMgb3IgXCJhbGxcIiB0byBpbnRlcnJ1cHQgYmVmb3JlIGV4ZWN1dGluZyB0aGVzZSBub2Rlcy5cblx0KiBVc2VkIGZvciBpbXBsZW1lbnRpbmcgaHVtYW4taW4tdGhlLWxvb3Agd29ya2Zsb3dzLlxuXHQqL1xuXHRpbnRlcnJ1cHRCZWZvcmU7XG5cdC8qKiBPcHRpb25hbCB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIGV4ZWN1dGlvbiBvZiBlYWNoIHN1cGVyc3RlcCAqL1xuXHRzdGVwVGltZW91dDtcblx0LyoqIFdoZXRoZXIgdG8gZW5hYmxlIGRlYnVnIGxvZ2dpbmcuIERlZmF1bHRzIHRvIGZhbHNlLiAqL1xuXHRkZWJ1ZyA9IGZhbHNlO1xuXHQvKipcblx0KiBPcHRpb25hbCBjaGVja3BvaW50ZXIgZm9yIHBlcnNpc3RpbmcgZ3JhcGggc3RhdGUuXG5cdCogV2hlbiBwcm92aWRlZCwgc2F2ZXMgYSBjaGVja3BvaW50IG9mIHRoZSBncmFwaCBzdGF0ZSBhdCBldmVyeSBzdXBlcnN0ZXAuXG5cdCogV2hlbiBmYWxzZSBvciB1bmRlZmluZWQsIGNoZWNrcG9pbnRpbmcgaXMgZGlzYWJsZWQsIGFuZCB0aGUgZ3JhcGggd2lsbCBub3QgYmUgYWJsZSB0byBzYXZlIG9yIHJlc3RvcmUgc3RhdGUuXG5cdCovXG5cdGNoZWNrcG9pbnRlcjtcblx0LyoqIE9wdGlvbmFsIHJldHJ5IHBvbGljeSBmb3IgaGFuZGxpbmcgZmFpbHVyZXMgaW4gbm9kZSBleGVjdXRpb24gKi9cblx0cmV0cnlQb2xpY3k7XG5cdC8qKiBUaGUgZGVmYXVsdCBjb25maWd1cmF0aW9uIGZvciBncmFwaCBleGVjdXRpb24sIGNhbiBiZSBvdmVycmlkZGVuIG9uIGEgcGVyLWludm9jYXRpb24gYmFzaXMgKi9cblx0Y29uZmlnO1xuXHQvKipcblx0KiBPcHRpb25hbCBsb25nLXRlcm0gbWVtb3J5IHN0b3JlIGZvciB0aGUgZ3JhcGgsIGFsbG93cyBmb3IgcGVyc2lzdGVuY2UgJiByZXRyaWV2YWwgb2YgZGF0YSBhY3Jvc3MgdGhyZWFkc1xuXHQqL1xuXHRzdG9yZTtcblx0LyoqXG5cdCogT3B0aW9uYWwgY2FjaGUgZm9yIHRoZSBncmFwaCwgdXNlZnVsIGZvciBjYWNoaW5nIHRhc2tzLlxuXHQqL1xuXHRjYWNoZTtcblx0LyoqXG5cdCogT3B0aW9uYWwgaW50ZXJydXB0IGhlbHBlciBmdW5jdGlvbi5cblx0KiBAaW50ZXJuYWxcblx0Ki9cblx0dXNlckludGVycnVwdDtcblx0LyoqXG5cdCogVGhlIHRyaWdnZXIgdG8gbm9kZSBtYXBwaW5nIGZvciB0aGUgZ3JhcGggcnVuLlxuXHQqIEBpbnRlcm5hbFxuXHQqL1xuXHR0cmlnZ2VyVG9Ob2RlcyA9IHt9O1xuXHQvKipcblx0KiBDb25zdHJ1Y3RvciBmb3IgUHJlZ2VsIC0gbWVhbnQgZm9yIGludGVybmFsIHVzZSBvbmx5LlxuXHQqXG5cdCogQGludGVybmFsXG5cdCovXG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdHN1cGVyKGZpZWxkcyk7XG5cdFx0bGV0IHsgc3RyZWFtTW9kZSB9ID0gZmllbGRzO1xuXHRcdGlmIChzdHJlYW1Nb2RlICE9IG51bGwgJiYgIUFycmF5LmlzQXJyYXkoc3RyZWFtTW9kZSkpIHN0cmVhbU1vZGUgPSBbc3RyZWFtTW9kZV07XG5cdFx0dGhpcy5ub2RlcyA9IGZpZWxkcy5ub2Rlcztcblx0XHR0aGlzLmNoYW5uZWxzID0gZmllbGRzLmNoYW5uZWxzO1xuXHRcdGlmIChUQVNLUyBpbiB0aGlzLmNoYW5uZWxzICYmIFwibGNfZ3JhcGhfbmFtZVwiIGluIHRoaXMuY2hhbm5lbHNbVEFTS1NdICYmIHRoaXMuY2hhbm5lbHNbVEFTS1NdLmxjX2dyYXBoX25hbWUgIT09IFwiVG9waWNcIikgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsICcke1RBU0tTfScgaXMgcmVzZXJ2ZWQgYW5kIGNhbm5vdCBiZSB1c2VkIGluIHRoZSBncmFwaC5gKTtcblx0XHRlbHNlIHRoaXMuY2hhbm5lbHNbVEFTS1NdID0gbmV3IFRvcGljKHsgYWNjdW11bGF0ZTogZmFsc2UgfSk7XG5cdFx0dGhpcy5hdXRvVmFsaWRhdGUgPSBmaWVsZHMuYXV0b1ZhbGlkYXRlID8/IHRoaXMuYXV0b1ZhbGlkYXRlO1xuXHRcdHRoaXMuc3RyZWFtTW9kZSA9IHN0cmVhbU1vZGUgPz8gdGhpcy5zdHJlYW1Nb2RlO1xuXHRcdHRoaXMuaW5wdXRDaGFubmVscyA9IGZpZWxkcy5pbnB1dENoYW5uZWxzO1xuXHRcdHRoaXMub3V0cHV0Q2hhbm5lbHMgPSBmaWVsZHMub3V0cHV0Q2hhbm5lbHM7XG5cdFx0dGhpcy5zdHJlYW1DaGFubmVscyA9IGZpZWxkcy5zdHJlYW1DaGFubmVscyA/PyB0aGlzLnN0cmVhbUNoYW5uZWxzO1xuXHRcdHRoaXMuaW50ZXJydXB0QWZ0ZXIgPSBmaWVsZHMuaW50ZXJydXB0QWZ0ZXI7XG5cdFx0dGhpcy5pbnRlcnJ1cHRCZWZvcmUgPSBmaWVsZHMuaW50ZXJydXB0QmVmb3JlO1xuXHRcdHRoaXMuc3RlcFRpbWVvdXQgPSBmaWVsZHMuc3RlcFRpbWVvdXQgPz8gdGhpcy5zdGVwVGltZW91dDtcblx0XHR0aGlzLmRlYnVnID0gZmllbGRzLmRlYnVnID8/IHRoaXMuZGVidWc7XG5cdFx0dGhpcy5jaGVja3BvaW50ZXIgPSBmaWVsZHMuY2hlY2twb2ludGVyO1xuXHRcdHRoaXMucmV0cnlQb2xpY3kgPSBmaWVsZHMucmV0cnlQb2xpY3k7XG5cdFx0dGhpcy5jb25maWcgPSBmaWVsZHMuY29uZmlnO1xuXHRcdHRoaXMuc3RvcmUgPSBmaWVsZHMuc3RvcmU7XG5cdFx0dGhpcy5jYWNoZSA9IGZpZWxkcy5jYWNoZTtcblx0XHR0aGlzLm5hbWUgPSBmaWVsZHMubmFtZTtcblx0XHR0aGlzLnRyaWdnZXJUb05vZGVzID0gZmllbGRzLnRyaWdnZXJUb05vZGVzID8/IHRoaXMudHJpZ2dlclRvTm9kZXM7XG5cdFx0dGhpcy51c2VySW50ZXJydXB0ID0gZmllbGRzLnVzZXJJbnRlcnJ1cHQ7XG5cdFx0aWYgKHRoaXMuYXV0b1ZhbGlkYXRlKSB0aGlzLnZhbGlkYXRlKCk7XG5cdH1cblx0LyoqXG5cdCogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgUHJlZ2VsIGdyYXBoIHdpdGggdXBkYXRlZCBjb25maWd1cmF0aW9uLlxuXHQqIFRoaXMgbWV0aG9kIGZvbGxvd3MgdGhlIGltbXV0YWJsZSBwYXR0ZXJuIC0gaW5zdGVhZCBvZiBtb2RpZnlpbmcgdGhlIGN1cnJlbnQgaW5zdGFuY2UsXG5cdCogaXQgcmV0dXJucyBhIG5ldyBpbnN0YW5jZSB3aXRoIHRoZSBtZXJnZWQgY29uZmlndXJhdGlvbi5cblx0KlxuXHQqIEBleGFtcGxlXG5cdCogYGBgdHlwZXNjcmlwdFxuXHQqIC8vIENyZWF0ZSBhIG5ldyBpbnN0YW5jZSB3aXRoIGRlYnVnIGVuYWJsZWRcblx0KiBjb25zdCBkZWJ1Z0dyYXBoID0gZ3JhcGgud2l0aENvbmZpZyh7IGRlYnVnOiB0cnVlIH0pO1xuXHQqXG5cdCogLy8gQ3JlYXRlIGEgbmV3IGluc3RhbmNlIHdpdGggYSBzcGVjaWZpYyB0aHJlYWQgSURcblx0KiBjb25zdCB0aHJlYWRHcmFwaCA9IGdyYXBoLndpdGhDb25maWcoe1xuXHQqICAgY29uZmlndXJhYmxlOiB7IHRocmVhZF9pZDogXCIxMjNcIiB9XG5cdCogfSk7XG5cdCogYGBgXG5cdCpcblx0KiBAcGFyYW0gY29uZmlnIC0gVGhlIGNvbmZpZ3VyYXRpb24gdG8gbWVyZ2Ugd2l0aCB0aGUgY3VycmVudCBjb25maWd1cmF0aW9uXG5cdCogQHJldHVybnMgQSBuZXcgUHJlZ2VsIGluc3RhbmNlIHdpdGggdGhlIG1lcmdlZCBjb25maWd1cmF0aW9uXG5cdCovXG5cdHdpdGhDb25maWcoY29uZmlnKSB7XG5cdFx0Y29uc3QgbWVyZ2VkQ29uZmlnID0gbWVyZ2VDb25maWdzKHRoaXMuY29uZmlnLCBjb25maWcpO1xuXHRcdHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih7XG5cdFx0XHQuLi50aGlzLFxuXHRcdFx0Y29uZmlnOiBtZXJnZWRDb25maWdcblx0XHR9KTtcblx0fVxuXHQvKipcblx0KiBWYWxpZGF0ZXMgdGhlIGdyYXBoIHN0cnVjdHVyZSB0byBlbnN1cmUgaXQgaXMgd2VsbC1mb3JtZWQuXG5cdCogQ2hlY2tzIGZvcjpcblx0KiAtIE5vIG9ycGhhbmVkIG5vZGVzXG5cdCogLSBWYWxpZCBpbnB1dC9vdXRwdXQgY2hhbm5lbCBjb25maWd1cmF0aW9uc1xuXHQqIC0gVmFsaWQgaW50ZXJydXB0IGNvbmZpZ3VyYXRpb25zXG5cdCpcblx0KiBAcmV0dXJucyB0aGlzIC0gVGhlIFByZWdlbCBpbnN0YW5jZSBmb3IgbWV0aG9kIGNoYWluaW5nXG5cdCogQHRocm93cyB7R3JhcGhWYWxpZGF0aW9uRXJyb3J9IElmIHRoZSBncmFwaCBzdHJ1Y3R1cmUgaXMgaW52YWxpZFxuXHQqL1xuXHR2YWxpZGF0ZSgpIHtcblx0XHR2YWxpZGF0ZUdyYXBoKHtcblx0XHRcdG5vZGVzOiB0aGlzLm5vZGVzLFxuXHRcdFx0Y2hhbm5lbHM6IHRoaXMuY2hhbm5lbHMsXG5cdFx0XHRvdXRwdXRDaGFubmVsczogdGhpcy5vdXRwdXRDaGFubmVscyxcblx0XHRcdGlucHV0Q2hhbm5lbHM6IHRoaXMuaW5wdXRDaGFubmVscyxcblx0XHRcdHN0cmVhbUNoYW5uZWxzOiB0aGlzLnN0cmVhbUNoYW5uZWxzLFxuXHRcdFx0aW50ZXJydXB0QWZ0ZXJOb2RlczogdGhpcy5pbnRlcnJ1cHRBZnRlcixcblx0XHRcdGludGVycnVwdEJlZm9yZU5vZGVzOiB0aGlzLmludGVycnVwdEJlZm9yZVxuXHRcdH0pO1xuXHRcdGZvciAoY29uc3QgW25hbWUsIG5vZGVdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMubm9kZXMpKSBmb3IgKGNvbnN0IHRyaWdnZXIgb2Ygbm9kZS50cmlnZ2Vycykge1xuXHRcdFx0dGhpcy50cmlnZ2VyVG9Ob2Rlc1t0cmlnZ2VyXSA/Pz0gW107XG5cdFx0XHR0aGlzLnRyaWdnZXJUb05vZGVzW3RyaWdnZXJdLnB1c2gobmFtZSk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cdC8qKlxuXHQqIEdldHMgYSBsaXN0IG9mIGFsbCBjaGFubmVscyB0aGF0IHNob3VsZCBiZSBzdHJlYW1lZC5cblx0KiBJZiBzdHJlYW1DaGFubmVscyBpcyBzcGVjaWZpZWQsIHJldHVybnMgdGhvc2UgY2hhbm5lbHMuXG5cdCogT3RoZXJ3aXNlLCByZXR1cm5zIGFsbCBjaGFubmVscyBpbiB0aGUgZ3JhcGguXG5cdCpcblx0KiBAcmV0dXJucyBBcnJheSBvZiBjaGFubmVsIGtleXMgdG8gc3RyZWFtXG5cdCovXG5cdGdldCBzdHJlYW1DaGFubmVsc0xpc3QoKSB7XG5cdFx0aWYgKEFycmF5LmlzQXJyYXkodGhpcy5zdHJlYW1DaGFubmVscykpIHJldHVybiB0aGlzLnN0cmVhbUNoYW5uZWxzO1xuXHRcdGVsc2UgaWYgKHRoaXMuc3RyZWFtQ2hhbm5lbHMpIHJldHVybiBbdGhpcy5zdHJlYW1DaGFubmVsc107XG5cdFx0ZWxzZSByZXR1cm4gT2JqZWN0LmtleXModGhpcy5jaGFubmVscyk7XG5cdH1cblx0LyoqXG5cdCogR2V0cyB0aGUgY2hhbm5lbHMgdG8gc3RyZWFtIGluIHRoZWlyIG9yaWdpbmFsIGZvcm1hdC5cblx0KiBJZiBzdHJlYW1DaGFubmVscyBpcyBzcGVjaWZpZWQsIHJldHVybnMgaXQgYXMtaXMgKGVpdGhlciBzaW5nbGUga2V5IG9yIGFycmF5KS5cblx0KiBPdGhlcndpc2UsIHJldHVybnMgYWxsIGNoYW5uZWxzIGluIHRoZSBncmFwaCBhcyBhbiBhcnJheS5cblx0KlxuXHQqIEByZXR1cm5zIENoYW5uZWwga2V5cyB0byBzdHJlYW0sIGVpdGhlciBhcyBhIHNpbmdsZSBrZXkgb3IgYXJyYXlcblx0Ki9cblx0Z2V0IHN0cmVhbUNoYW5uZWxzQXNJcygpIHtcblx0XHRpZiAodGhpcy5zdHJlYW1DaGFubmVscykgcmV0dXJuIHRoaXMuc3RyZWFtQ2hhbm5lbHM7XG5cdFx0ZWxzZSByZXR1cm4gT2JqZWN0LmtleXModGhpcy5jaGFubmVscyk7XG5cdH1cblx0LyoqXG5cdCogR2V0cyBhIGRyYXdhYmxlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBncmFwaCBzdHJ1Y3R1cmUuXG5cdCogVGhpcyBpcyBhbiBhc3luYyB2ZXJzaW9uIG9mIGdldEdyYXBoKCkgYW5kIGlzIHRoZSBwcmVmZXJyZWQgbWV0aG9kIHRvIHVzZS5cblx0KlxuXHQqIEBwYXJhbSBjb25maWcgLSBDb25maWd1cmF0aW9uIGZvciBnZW5lcmF0aW5nIHRoZSBncmFwaCB2aXN1YWxpemF0aW9uXG5cdCogQHJldHVybnMgQSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ3JhcGggdGhhdCBjYW4gYmUgdmlzdWFsaXplZFxuXHQqL1xuXHRhc3luYyBnZXRHcmFwaEFzeW5jKGNvbmZpZykge1xuXHRcdHJldHVybiB0aGlzLmdldEdyYXBoKGNvbmZpZyk7XG5cdH1cblx0LyoqXG5cdCogR2V0cyBhbGwgc3ViZ3JhcGhzIHdpdGhpbiB0aGlzIGdyYXBoLlxuXHQqIEEgc3ViZ3JhcGggaXMgYSBQcmVnZWwgaW5zdGFuY2UgdGhhdCBpcyBuZXN0ZWQgd2l0aGluIGEgbm9kZSBvZiB0aGlzIGdyYXBoLlxuXHQqXG5cdCogQGRlcHJlY2F0ZWQgVXNlIGdldFN1YmdyYXBoc0FzeW5jIGluc3RlYWQuIFRoZSBhc3luYyBtZXRob2Qgd2lsbCBiZWNvbWUgdGhlIGRlZmF1bHQgaW4gdGhlIG5leHQgbWlub3IgcmVsZWFzZS5cblx0KiBAcGFyYW0gbmFtZXNwYWNlIC0gT3B0aW9uYWwgbmFtZXNwYWNlIHRvIGZpbHRlciBzdWJncmFwaHNcblx0KiBAcGFyYW0gcmVjdXJzZSAtIFdoZXRoZXIgdG8gcmVjdXJzaXZlbHkgZ2V0IHN1YmdyYXBocyBvZiBzdWJncmFwaHNcblx0KiBAcmV0dXJucyBHZW5lcmF0b3IgeWllbGRpbmcgdHVwbGVzIG9mIFtuYW1lLCBzdWJncmFwaF1cblx0Ki9cblx0KmdldFN1YmdyYXBocyhuYW1lc3BhY2UsIHJlY3Vyc2UpIHtcblx0XHRmb3IgKGNvbnN0IFtuYW1lLCBub2RlXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLm5vZGVzKSkge1xuXHRcdFx0aWYgKG5hbWVzcGFjZSAhPT0gdm9pZCAwKSB7XG5cdFx0XHRcdGlmICghbmFtZXNwYWNlLnN0YXJ0c1dpdGgobmFtZSkpIGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3QgY2FuZGlkYXRlcyA9IG5vZGUuc3ViZ3JhcGhzPy5sZW5ndGggPyBub2RlLnN1YmdyYXBocyA6IFtub2RlLmJvdW5kXTtcblx0XHRcdGZvciAoY29uc3QgY2FuZGlkYXRlIG9mIGNhbmRpZGF0ZXMpIHtcblx0XHRcdFx0Y29uc3QgZ3JhcGggPSBmaW5kU3ViZ3JhcGhQcmVnZWwoY2FuZGlkYXRlKTtcblx0XHRcdFx0aWYgKGdyYXBoICE9PSB2b2lkIDApIHtcblx0XHRcdFx0XHRpZiAobmFtZSA9PT0gbmFtZXNwYWNlKSB7XG5cdFx0XHRcdFx0XHR5aWVsZCBbbmFtZSwgZ3JhcGhdO1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAobmFtZXNwYWNlID09PSB2b2lkIDApIHlpZWxkIFtuYW1lLCBncmFwaF07XG5cdFx0XHRcdFx0aWYgKHJlY3Vyc2UpIHtcblx0XHRcdFx0XHRcdGxldCBuZXdOYW1lc3BhY2UgPSBuYW1lc3BhY2U7XG5cdFx0XHRcdFx0XHRpZiAobmFtZXNwYWNlICE9PSB2b2lkIDApIG5ld05hbWVzcGFjZSA9IG5hbWVzcGFjZS5zbGljZShuYW1lLmxlbmd0aCArIDEpO1xuXHRcdFx0XHRcdFx0Zm9yIChjb25zdCBbc3ViZ3JhcGhOYW1lLCBzdWJncmFwaF0gb2YgZ3JhcGguZ2V0U3ViZ3JhcGhzKG5ld05hbWVzcGFjZSwgcmVjdXJzZSkpIHlpZWxkIFtgJHtuYW1lfSR7Q0hFQ0tQT0lOVF9OQU1FU1BBQ0VfU0VQQVJBVE9SfSR7c3ViZ3JhcGhOYW1lfWAsIHN1YmdyYXBoXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblx0LyoqXG5cdCogR2V0cyBhbGwgc3ViZ3JhcGhzIHdpdGhpbiB0aGlzIGdyYXBoIGFzeW5jaHJvbm91c2x5LlxuXHQqIEEgc3ViZ3JhcGggaXMgYSBQcmVnZWwgaW5zdGFuY2UgdGhhdCBpcyBuZXN0ZWQgd2l0aGluIGEgbm9kZSBvZiB0aGlzIGdyYXBoLlxuXHQqXG5cdCogQHBhcmFtIG5hbWVzcGFjZSAtIE9wdGlvbmFsIG5hbWVzcGFjZSB0byBmaWx0ZXIgc3ViZ3JhcGhzXG5cdCogQHBhcmFtIHJlY3Vyc2UgLSBXaGV0aGVyIHRvIHJlY3Vyc2l2ZWx5IGdldCBzdWJncmFwaHMgb2Ygc3ViZ3JhcGhzXG5cdCogQHJldHVybnMgQXN5bmNHZW5lcmF0b3IgeWllbGRpbmcgdHVwbGVzIG9mIFtuYW1lLCBzdWJncmFwaF1cblx0Ki9cblx0YXN5bmMgKmdldFN1YmdyYXBoc0FzeW5jKG5hbWVzcGFjZSwgcmVjdXJzZSkge1xuXHRcdHlpZWxkKiB0aGlzLmdldFN1YmdyYXBocyhuYW1lc3BhY2UsIHJlY3Vyc2UpO1xuXHR9XG5cdC8qKlxuXHQqIFByZXBhcmVzIGEgc3RhdGUgc25hcHNob3QgZnJvbSBzYXZlZCBjaGVja3BvaW50IGRhdGEuXG5cdCogVGhpcyBpcyBhbiBpbnRlcm5hbCBtZXRob2QgdXNlZCBieSBnZXRTdGF0ZSBhbmQgZ2V0U3RhdGVIaXN0b3J5LlxuXHQqXG5cdCogQHBhcmFtIGNvbmZpZyAtIENvbmZpZ3VyYXRpb24gZm9yIHByZXBhcmluZyB0aGUgc25hcHNob3Rcblx0KiBAcGFyYW0gc2F2ZWQgLSBPcHRpb25hbCBzYXZlZCBjaGVja3BvaW50IGRhdGFcblx0KiBAcGFyYW0gc3ViZ3JhcGhDaGVja3BvaW50ZXIgLSBPcHRpb25hbCBjaGVja3BvaW50ZXIgZm9yIHN1YmdyYXBoc1xuXHQqIEBwYXJhbSBhcHBseVBlbmRpbmdXcml0ZXMgLSBXaGV0aGVyIHRvIGFwcGx5IHBlbmRpbmcgd3JpdGVzIHRvIHRhc2tzIGFuZCB0aGVuIHRvIGNoYW5uZWxzXG5cdCogQHJldHVybnMgQSBzbmFwc2hvdCBvZiB0aGUgZ3JhcGggc3RhdGVcblx0KiBAaW50ZXJuYWxcblx0Ki9cblx0YXN5bmMgX3ByZXBhcmVTdGF0ZVNuYXBzaG90KHsgY29uZmlnLCBzYXZlZCwgc3ViZ3JhcGhDaGVja3BvaW50ZXIsIGFwcGx5UGVuZGluZ1dyaXRlcyA9IGZhbHNlIH0pIHtcblx0XHRpZiAoc2F2ZWQgPT09IHZvaWQgMCkgcmV0dXJuIHtcblx0XHRcdHZhbHVlczoge30sXG5cdFx0XHRuZXh0OiBbXSxcblx0XHRcdGNvbmZpZyxcblx0XHRcdHRhc2tzOiBbXVxuXHRcdH07XG5cdFx0Y29uc3QgY2hhbm5lbHMgPSBlbXB0eUNoYW5uZWxzKHRoaXMuY2hhbm5lbHMsIHNhdmVkLmNoZWNrcG9pbnQpO1xuXHRcdGlmIChzYXZlZC5wZW5kaW5nV3JpdGVzPy5sZW5ndGgpIHtcblx0XHRcdGNvbnN0IG51bGxXcml0ZXMgPSBzYXZlZC5wZW5kaW5nV3JpdGVzLmZpbHRlcigoW3Rhc2tJZCwgX10pID0+IHRhc2tJZCA9PT0gTlVMTF9UQVNLX0lEKS5tYXAoKFtfLCBjaGFubmVsLCB2YWx1ZV0pID0+IFtTdHJpbmcoY2hhbm5lbCksIHZhbHVlXSk7XG5cdFx0XHRpZiAobnVsbFdyaXRlcy5sZW5ndGggPiAwKSBfYXBwbHlXcml0ZXMoc2F2ZWQuY2hlY2twb2ludCwgY2hhbm5lbHMsIFt7XG5cdFx0XHRcdG5hbWU6IElOUFVULFxuXHRcdFx0XHR3cml0ZXM6IG51bGxXcml0ZXMsXG5cdFx0XHRcdHRyaWdnZXJzOiBbXVxuXHRcdFx0fV0sIHZvaWQgMCwgdGhpcy50cmlnZ2VyVG9Ob2Rlcyk7XG5cdFx0fVxuXHRcdGNvbnN0IG5leHRUYXNrcyA9IE9iamVjdC52YWx1ZXMoX3ByZXBhcmVOZXh0VGFza3Moc2F2ZWQuY2hlY2twb2ludCwgc2F2ZWQucGVuZGluZ1dyaXRlcywgdGhpcy5ub2RlcywgY2hhbm5lbHMsIHNhdmVkLmNvbmZpZywgdHJ1ZSwge1xuXHRcdFx0c3RlcDogKHNhdmVkLm1ldGFkYXRhPy5zdGVwID8/IC0xKSArIDEsXG5cdFx0XHRzdG9yZTogdGhpcy5zdG9yZVxuXHRcdH0pKTtcblx0XHRjb25zdCBzdWJncmFwaHMgPSBhd2FpdCBnYXRoZXJJdGVyYXRvcih0aGlzLmdldFN1YmdyYXBoc0FzeW5jKCkpO1xuXHRcdGNvbnN0IHBhcmVudE5hbWVzcGFjZSA9IHNhdmVkLmNvbmZpZy5jb25maWd1cmFibGU/LmNoZWNrcG9pbnRfbnMgPz8gXCJcIjtcblx0XHRjb25zdCB0YXNrU3RhdGVzID0ge307XG5cdFx0Zm9yIChjb25zdCB0YXNrIG9mIG5leHRUYXNrcykge1xuXHRcdFx0Y29uc3QgbWF0Y2hpbmdTdWJncmFwaCA9IHN1YmdyYXBocy5maW5kKChbbmFtZV0pID0+IG5hbWUgPT09IHRhc2submFtZSk7XG5cdFx0XHRpZiAoIW1hdGNoaW5nU3ViZ3JhcGgpIGNvbnRpbnVlO1xuXHRcdFx0bGV0IHRhc2tOcyA9IGAke1N0cmluZyh0YXNrLm5hbWUpfSR7Q0hFQ0tQT0lOVF9OQU1FU1BBQ0VfRU5EfSR7dGFzay5pZH1gO1xuXHRcdFx0aWYgKHBhcmVudE5hbWVzcGFjZSkgdGFza05zID0gYCR7cGFyZW50TmFtZXNwYWNlfSR7Q0hFQ0tQT0lOVF9OQU1FU1BBQ0VfU0VQQVJBVE9SfSR7dGFza05zfWA7XG5cdFx0XHRpZiAoc3ViZ3JhcGhDaGVja3BvaW50ZXIgPT09IHZvaWQgMCkge1xuXHRcdFx0XHRjb25zdCBjb25maWckMSA9IHsgY29uZmlndXJhYmxlOiB7XG5cdFx0XHRcdFx0dGhyZWFkX2lkOiBzYXZlZC5jb25maWcuY29uZmlndXJhYmxlPy50aHJlYWRfaWQsXG5cdFx0XHRcdFx0Y2hlY2twb2ludF9uczogdGFza05zXG5cdFx0XHRcdH0gfTtcblx0XHRcdFx0dGFza1N0YXRlc1t0YXNrLmlkXSA9IGNvbmZpZyQxO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc3Qgc3ViZ3JhcGhDb25maWcgPSB7IGNvbmZpZ3VyYWJsZToge1xuXHRcdFx0XHRcdFtDT05GSUdfS0VZX0NIRUNLUE9JTlRFUl06IHN1YmdyYXBoQ2hlY2twb2ludGVyLFxuXHRcdFx0XHRcdHRocmVhZF9pZDogc2F2ZWQuY29uZmlnLmNvbmZpZ3VyYWJsZT8udGhyZWFkX2lkLFxuXHRcdFx0XHRcdGNoZWNrcG9pbnRfbnM6IHRhc2tOc1xuXHRcdFx0XHR9IH07XG5cdFx0XHRcdGNvbnN0IHByZWdlbCA9IG1hdGNoaW5nU3ViZ3JhcGhbMV07XG5cdFx0XHRcdHRhc2tTdGF0ZXNbdGFzay5pZF0gPSBhd2FpdCBwcmVnZWwuZ2V0U3RhdGUoc3ViZ3JhcGhDb25maWcsIHsgc3ViZ3JhcGhzOiB0cnVlIH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoYXBwbHlQZW5kaW5nV3JpdGVzICYmIHNhdmVkLnBlbmRpbmdXcml0ZXM/Lmxlbmd0aCkge1xuXHRcdFx0Y29uc3QgbmV4dFRhc2tCeUlkID0gT2JqZWN0LmZyb21FbnRyaWVzKG5leHRUYXNrcy5tYXAoKHRhc2spID0+IFt0YXNrLmlkLCB0YXNrXSkpO1xuXHRcdFx0Zm9yIChjb25zdCBbdGFza0lkLCBjaGFubmVsLCB2YWx1ZV0gb2Ygc2F2ZWQucGVuZGluZ1dyaXRlcykge1xuXHRcdFx0XHRpZiAoW1xuXHRcdFx0XHRcdEVSUk9SLFxuXHRcdFx0XHRcdElOVEVSUlVQVCxcblx0XHRcdFx0XHRTQ0hFRFVMRURcblx0XHRcdFx0XS5pbmNsdWRlcyhjaGFubmVsKSkgY29udGludWU7XG5cdFx0XHRcdGlmICghKHRhc2tJZCBpbiBuZXh0VGFza0J5SWQpKSBjb250aW51ZTtcblx0XHRcdFx0bmV4dFRhc2tCeUlkW3Rhc2tJZF0ud3JpdGVzLnB1c2goW1N0cmluZyhjaGFubmVsKSwgdmFsdWVdKTtcblx0XHRcdH1cblx0XHRcdGNvbnN0IHRhc2tzV2l0aFdyaXRlcyQxID0gbmV4dFRhc2tzLmZpbHRlcigodGFzaykgPT4gdGFzay53cml0ZXMubGVuZ3RoID4gMCk7XG5cdFx0XHRpZiAodGFza3NXaXRoV3JpdGVzJDEubGVuZ3RoID4gMCkgX2FwcGx5V3JpdGVzKHNhdmVkLmNoZWNrcG9pbnQsIGNoYW5uZWxzLCB0YXNrc1dpdGhXcml0ZXMkMSwgdm9pZCAwLCB0aGlzLnRyaWdnZXJUb05vZGVzKTtcblx0XHR9XG5cdFx0bGV0IG1ldGFkYXRhID0gc2F2ZWQ/Lm1ldGFkYXRhO1xuXHRcdGlmIChtZXRhZGF0YSAmJiBzYXZlZD8uY29uZmlnPy5jb25maWd1cmFibGU/LnRocmVhZF9pZCkgbWV0YWRhdGEgPSB7XG5cdFx0XHQuLi5tZXRhZGF0YSxcblx0XHRcdHRocmVhZF9pZDogc2F2ZWQuY29uZmlnLmNvbmZpZ3VyYWJsZS50aHJlYWRfaWRcblx0XHR9O1xuXHRcdGNvbnN0IG5leHRMaXN0ID0gbmV4dFRhc2tzLmZpbHRlcigodGFzaykgPT4gdGFzay53cml0ZXMubGVuZ3RoID09PSAwKS5tYXAoKHRhc2spID0+IHRhc2submFtZSk7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHZhbHVlczogcmVhZENoYW5uZWxzKGNoYW5uZWxzLCB0aGlzLnN0cmVhbUNoYW5uZWxzQXNJcyksXG5cdFx0XHRuZXh0OiBuZXh0TGlzdCxcblx0XHRcdHRhc2tzOiB0YXNrc1dpdGhXcml0ZXMobmV4dFRhc2tzLCBzYXZlZD8ucGVuZGluZ1dyaXRlcyA/PyBbXSwgdGFza1N0YXRlcywgdGhpcy5zdHJlYW1DaGFubmVsc0FzSXMpLFxuXHRcdFx0bWV0YWRhdGEsXG5cdFx0XHRjb25maWc6IHBhdGNoQ2hlY2twb2ludE1hcChzYXZlZC5jb25maWcsIHNhdmVkLm1ldGFkYXRhKSxcblx0XHRcdGNyZWF0ZWRBdDogc2F2ZWQuY2hlY2twb2ludC50cyxcblx0XHRcdHBhcmVudENvbmZpZzogc2F2ZWQucGFyZW50Q29uZmlnXG5cdFx0fTtcblx0fVxuXHQvKipcblx0KiBHZXRzIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBncmFwaC5cblx0KiBSZXF1aXJlcyBhIGNoZWNrcG9pbnRlciB0byBiZSBjb25maWd1cmVkLlxuXHQqXG5cdCogQHBhcmFtIGNvbmZpZyAtIENvbmZpZ3VyYXRpb24gZm9yIHJldHJpZXZpbmcgdGhlIHN0YXRlXG5cdCogQHBhcmFtIG9wdGlvbnMgLSBBZGRpdGlvbmFsIG9wdGlvbnNcblx0KiBAcmV0dXJucyBBIHNuYXBzaG90IG9mIHRoZSBjdXJyZW50IGdyYXBoIHN0YXRlXG5cdCogQHRocm93cyB7R3JhcGhWYWx1ZUVycm9yfSBJZiBubyBjaGVja3BvaW50ZXIgaXMgY29uZmlndXJlZFxuXHQqL1xuXHRhc3luYyBnZXRTdGF0ZShjb25maWcsIG9wdGlvbnMpIHtcblx0XHRjb25zdCBjaGVja3BvaW50ZXIgPSBjb25maWcuY29uZmlndXJhYmxlPy5bQ09ORklHX0tFWV9DSEVDS1BPSU5URVJdID8/IHRoaXMuY2hlY2twb2ludGVyO1xuXHRcdGlmICghY2hlY2twb2ludGVyKSB0aHJvdyBuZXcgR3JhcGhWYWx1ZUVycm9yKFwiTm8gY2hlY2twb2ludGVyIHNldFwiLCB7IGxjX2Vycm9yX2NvZGU6IFwiTUlTU0lOR19DSEVDS1BPSU5URVJcIiB9KTtcblx0XHRjb25zdCBjaGVja3BvaW50TmFtZXNwYWNlID0gY29uZmlnLmNvbmZpZ3VyYWJsZT8uY2hlY2twb2ludF9ucyA/PyBcIlwiO1xuXHRcdGlmIChjaGVja3BvaW50TmFtZXNwYWNlICE9PSBcIlwiICYmIGNvbmZpZy5jb25maWd1cmFibGU/LltDT05GSUdfS0VZX0NIRUNLUE9JTlRFUl0gPT09IHZvaWQgMCkge1xuXHRcdFx0Y29uc3QgcmVjYXN0TmFtZXNwYWNlID0gcmVjYXN0Q2hlY2twb2ludE5hbWVzcGFjZShjaGVja3BvaW50TmFtZXNwYWNlKTtcblx0XHRcdGZvciBhd2FpdCAoY29uc3QgW25hbWUsIHN1YmdyYXBoXSBvZiB0aGlzLmdldFN1YmdyYXBoc0FzeW5jKHJlY2FzdE5hbWVzcGFjZSwgdHJ1ZSkpIGlmIChuYW1lID09PSByZWNhc3ROYW1lc3BhY2UpIHJldHVybiBhd2FpdCBzdWJncmFwaC5nZXRTdGF0ZShwYXRjaENvbmZpZ3VyYWJsZShjb25maWcsIHsgW0NPTkZJR19LRVlfQ0hFQ0tQT0lOVEVSXTogY2hlY2twb2ludGVyIH0pLCB7IHN1YmdyYXBoczogb3B0aW9ucz8uc3ViZ3JhcGhzIH0pO1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBTdWJncmFwaCB3aXRoIG5hbWVzcGFjZSBcIiR7cmVjYXN0TmFtZXNwYWNlfVwiIG5vdCBmb3VuZC5gKTtcblx0XHR9XG5cdFx0Y29uc3QgbWVyZ2VkQ29uZmlnID0gbWVyZ2VDb25maWdzKHRoaXMuY29uZmlnLCBjb25maWcpO1xuXHRcdGNvbnN0IHNhdmVkID0gYXdhaXQgY2hlY2twb2ludGVyLmdldFR1cGxlKGNvbmZpZyk7XG5cdFx0Y29uc3Qgc25hcHNob3QgPSBhd2FpdCB0aGlzLl9wcmVwYXJlU3RhdGVTbmFwc2hvdCh7XG5cdFx0XHRjb25maWc6IG1lcmdlZENvbmZpZyxcblx0XHRcdHNhdmVkLFxuXHRcdFx0c3ViZ3JhcGhDaGVja3BvaW50ZXI6IG9wdGlvbnM/LnN1YmdyYXBocyA/IGNoZWNrcG9pbnRlciA6IHZvaWQgMCxcblx0XHRcdGFwcGx5UGVuZGluZ1dyaXRlczogIWNvbmZpZy5jb25maWd1cmFibGU/LmNoZWNrcG9pbnRfaWRcblx0XHR9KTtcblx0XHRyZXR1cm4gc25hcHNob3Q7XG5cdH1cblx0LyoqXG5cdCogR2V0cyB0aGUgaGlzdG9yeSBvZiBncmFwaCBzdGF0ZXMuXG5cdCogUmVxdWlyZXMgYSBjaGVja3BvaW50ZXIgdG8gYmUgY29uZmlndXJlZC5cblx0KiBVc2VmdWwgZm9yOlxuXHQqIC0gRGVidWdnaW5nIGV4ZWN1dGlvbiBoaXN0b3J5XG5cdCogLSBJbXBsZW1lbnRpbmcgdGltZSB0cmF2ZWxcblx0KiAtIEFuYWx5emluZyBncmFwaCBiZWhhdmlvclxuXHQqXG5cdCogQHBhcmFtIGNvbmZpZyAtIENvbmZpZ3VyYXRpb24gZm9yIHJldHJpZXZpbmcgdGhlIGhpc3Rvcnlcblx0KiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgZm9yIGZpbHRlcmluZyB0aGUgaGlzdG9yeVxuXHQqIEByZXR1cm5zIEFuIGFzeW5jIGl0ZXJhdG9yIG9mIHN0YXRlIHNuYXBzaG90c1xuXHQqIEB0aHJvd3Mge0Vycm9yfSBJZiBubyBjaGVja3BvaW50ZXIgaXMgY29uZmlndXJlZFxuXHQqL1xuXHRhc3luYyAqZ2V0U3RhdGVIaXN0b3J5KGNvbmZpZywgb3B0aW9ucykge1xuXHRcdGNvbnN0IGNoZWNrcG9pbnRlciA9IGNvbmZpZy5jb25maWd1cmFibGU/LltDT05GSUdfS0VZX0NIRUNLUE9JTlRFUl0gPz8gdGhpcy5jaGVja3BvaW50ZXI7XG5cdFx0aWYgKCFjaGVja3BvaW50ZXIpIHRocm93IG5ldyBHcmFwaFZhbHVlRXJyb3IoXCJObyBjaGVja3BvaW50ZXIgc2V0XCIsIHsgbGNfZXJyb3JfY29kZTogXCJNSVNTSU5HX0NIRUNLUE9JTlRFUlwiIH0pO1xuXHRcdGNvbnN0IGNoZWNrcG9pbnROYW1lc3BhY2UgPSBjb25maWcuY29uZmlndXJhYmxlPy5jaGVja3BvaW50X25zID8/IFwiXCI7XG5cdFx0aWYgKGNoZWNrcG9pbnROYW1lc3BhY2UgIT09IFwiXCIgJiYgY29uZmlnLmNvbmZpZ3VyYWJsZT8uW0NPTkZJR19LRVlfQ0hFQ0tQT0lOVEVSXSA9PT0gdm9pZCAwKSB7XG5cdFx0XHRjb25zdCByZWNhc3ROYW1lc3BhY2UgPSByZWNhc3RDaGVja3BvaW50TmFtZXNwYWNlKGNoZWNrcG9pbnROYW1lc3BhY2UpO1xuXHRcdFx0Zm9yIGF3YWl0IChjb25zdCBbbmFtZSwgcHJlZ2VsXSBvZiB0aGlzLmdldFN1YmdyYXBoc0FzeW5jKHJlY2FzdE5hbWVzcGFjZSwgdHJ1ZSkpIGlmIChuYW1lID09PSByZWNhc3ROYW1lc3BhY2UpIHtcblx0XHRcdFx0eWllbGQqIHByZWdlbC5nZXRTdGF0ZUhpc3RvcnkocGF0Y2hDb25maWd1cmFibGUoY29uZmlnLCB7IFtDT05GSUdfS0VZX0NIRUNLUE9JTlRFUl06IGNoZWNrcG9pbnRlciB9KSwgb3B0aW9ucyk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdHRocm93IG5ldyBFcnJvcihgU3ViZ3JhcGggd2l0aCBuYW1lc3BhY2UgXCIke3JlY2FzdE5hbWVzcGFjZX1cIiBub3QgZm91bmQuYCk7XG5cdFx0fVxuXHRcdGNvbnN0IG1lcmdlZENvbmZpZyA9IG1lcmdlQ29uZmlncyh0aGlzLmNvbmZpZywgY29uZmlnLCB7IGNvbmZpZ3VyYWJsZTogeyBjaGVja3BvaW50X25zOiBjaGVja3BvaW50TmFtZXNwYWNlIH0gfSk7XG5cdFx0Zm9yIGF3YWl0IChjb25zdCBjaGVja3BvaW50VHVwbGUgb2YgY2hlY2twb2ludGVyLmxpc3QobWVyZ2VkQ29uZmlnLCBvcHRpb25zKSkgeWllbGQgdGhpcy5fcHJlcGFyZVN0YXRlU25hcHNob3Qoe1xuXHRcdFx0Y29uZmlnOiBjaGVja3BvaW50VHVwbGUuY29uZmlnLFxuXHRcdFx0c2F2ZWQ6IGNoZWNrcG9pbnRUdXBsZVxuXHRcdH0pO1xuXHR9XG5cdC8qKlxuXHQqIEFwcGx5IHVwZGF0ZXMgdG8gdGhlIGdyYXBoIHN0YXRlIGluIGJ1bGsuXG5cdCogUmVxdWlyZXMgYSBjaGVja3BvaW50ZXIgdG8gYmUgY29uZmlndXJlZC5cblx0KlxuXHQqIFRoaXMgbWV0aG9kIGlzIHVzZWZ1bCBmb3IgcmVjcmVhdGluZyBhIHRocmVhZFxuXHQqIGZyb20gYSBsaXN0IG9mIHVwZGF0ZXMsIGVzcGVjaWFsbHkgaWYgYSBjaGVja3BvaW50XG5cdCogaXMgY3JlYXRlZCBhcyBhIHJlc3VsdCBvZiBtdWx0aXBsZSB0YXNrcy5cblx0KlxuXHQqIEBpbnRlcm5hbCBUaGUgQVBJIG1pZ2h0IGNoYW5nZSBpbiB0aGUgZnV0dXJlLlxuXHQqXG5cdCogQHBhcmFtIHN0YXJ0Q29uZmlnIC0gQ29uZmlndXJhdGlvbiBmb3IgdGhlIHVwZGF0ZVxuXHQqIEBwYXJhbSB1cGRhdGVzIC0gVGhlIGxpc3Qgb2YgdXBkYXRlcyB0byBhcHBseSB0byBncmFwaCBzdGF0ZVxuXHQqIEByZXR1cm5zIFVwZGF0ZWQgY29uZmlndXJhdGlvblxuXHQqIEB0aHJvd3Mge0dyYXBoVmFsdWVFcnJvcn0gSWYgbm8gY2hlY2twb2ludGVyIGlzIGNvbmZpZ3VyZWRcblx0KiBAdGhyb3dzIHtJbnZhbGlkVXBkYXRlRXJyb3J9IElmIHRoZSB1cGRhdGUgY2Fubm90IGJlIGF0dHJpYnV0ZWQgdG8gYSBub2RlIG9yIGFuIHVwZGF0ZSBjYW4gYmUgb25seSBhcHBsaWVkIGluIHNlcXVlbmNlLlxuXHQqL1xuXHRhc3luYyBidWxrVXBkYXRlU3RhdGUoc3RhcnRDb25maWcsIHN1cGVyc3RlcHMpIHtcblx0XHRjb25zdCBjaGVja3BvaW50ZXIgPSBzdGFydENvbmZpZy5jb25maWd1cmFibGU/LltDT05GSUdfS0VZX0NIRUNLUE9JTlRFUl0gPz8gdGhpcy5jaGVja3BvaW50ZXI7XG5cdFx0aWYgKCFjaGVja3BvaW50ZXIpIHRocm93IG5ldyBHcmFwaFZhbHVlRXJyb3IoXCJObyBjaGVja3BvaW50ZXIgc2V0XCIsIHsgbGNfZXJyb3JfY29kZTogXCJNSVNTSU5HX0NIRUNLUE9JTlRFUlwiIH0pO1xuXHRcdGlmIChzdXBlcnN0ZXBzLmxlbmd0aCA9PT0gMCkgdGhyb3cgbmV3IEVycm9yKFwiTm8gc3VwZXJzdGVwcyBwcm92aWRlZFwiKTtcblx0XHRpZiAoc3VwZXJzdGVwcy5zb21lKChzKSA9PiBzLnVwZGF0ZXMubGVuZ3RoID09PSAwKSkgdGhyb3cgbmV3IEVycm9yKFwiTm8gdXBkYXRlcyBwcm92aWRlZFwiKTtcblx0XHRjb25zdCBjaGVja3BvaW50TmFtZXNwYWNlID0gc3RhcnRDb25maWcuY29uZmlndXJhYmxlPy5jaGVja3BvaW50X25zID8/IFwiXCI7XG5cdFx0aWYgKGNoZWNrcG9pbnROYW1lc3BhY2UgIT09IFwiXCIgJiYgc3RhcnRDb25maWcuY29uZmlndXJhYmxlPy5bQ09ORklHX0tFWV9DSEVDS1BPSU5URVJdID09PSB2b2lkIDApIHtcblx0XHRcdGNvbnN0IHJlY2FzdE5hbWVzcGFjZSA9IHJlY2FzdENoZWNrcG9pbnROYW1lc3BhY2UoY2hlY2twb2ludE5hbWVzcGFjZSk7XG5cdFx0XHRmb3IgYXdhaXQgKGNvbnN0IFssIHByZWdlbF0gb2YgdGhpcy5nZXRTdWJncmFwaHNBc3luYyhyZWNhc3ROYW1lc3BhY2UsIHRydWUpKSByZXR1cm4gYXdhaXQgcHJlZ2VsLmJ1bGtVcGRhdGVTdGF0ZShwYXRjaENvbmZpZ3VyYWJsZShzdGFydENvbmZpZywgeyBbQ09ORklHX0tFWV9DSEVDS1BPSU5URVJdOiBjaGVja3BvaW50ZXIgfSksIHN1cGVyc3RlcHMpO1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBTdWJncmFwaCBcIiR7cmVjYXN0TmFtZXNwYWNlfVwiIG5vdCBmb3VuZGApO1xuXHRcdH1cblx0XHRjb25zdCB1cGRhdGVTdXBlclN0ZXAgPSBhc3luYyAoaW5wdXRDb25maWcsIHVwZGF0ZXMpID0+IHtcblx0XHRcdGNvbnN0IGNvbmZpZyA9IHRoaXMuY29uZmlnID8gbWVyZ2VDb25maWdzKHRoaXMuY29uZmlnLCBpbnB1dENvbmZpZykgOiBpbnB1dENvbmZpZztcblx0XHRcdGNvbnN0IHNhdmVkID0gYXdhaXQgY2hlY2twb2ludGVyLmdldFR1cGxlKGNvbmZpZyk7XG5cdFx0XHRjb25zdCBjaGVja3BvaW50ID0gc2F2ZWQgIT09IHZvaWQgMCA/IGNvcHlDaGVja3BvaW50KHNhdmVkLmNoZWNrcG9pbnQpIDogZW1wdHlDaGVja3BvaW50KCk7XG5cdFx0XHRjb25zdCBjaGVja3BvaW50UHJldmlvdXNWZXJzaW9ucyA9IHsgLi4uc2F2ZWQ/LmNoZWNrcG9pbnQuY2hhbm5lbF92ZXJzaW9ucyB9O1xuXHRcdFx0Y29uc3Qgc3RlcCA9IHNhdmVkPy5tZXRhZGF0YT8uc3RlcCA/PyAtMTtcblx0XHRcdGxldCBjaGVja3BvaW50Q29uZmlnID0gcGF0Y2hDb25maWd1cmFibGUoY29uZmlnLCB7IGNoZWNrcG9pbnRfbnM6IGNvbmZpZy5jb25maWd1cmFibGU/LmNoZWNrcG9pbnRfbnMgPz8gXCJcIiB9KTtcblx0XHRcdGxldCBjaGVja3BvaW50TWV0YWRhdGEgPSBjb25maWcubWV0YWRhdGEgPz8ge307XG5cdFx0XHRpZiAoc2F2ZWQ/LmNvbmZpZy5jb25maWd1cmFibGUpIHtcblx0XHRcdFx0Y2hlY2twb2ludENvbmZpZyA9IHBhdGNoQ29uZmlndXJhYmxlKGNvbmZpZywgc2F2ZWQuY29uZmlnLmNvbmZpZ3VyYWJsZSk7XG5cdFx0XHRcdGNoZWNrcG9pbnRNZXRhZGF0YSA9IHtcblx0XHRcdFx0XHQuLi5zYXZlZC5tZXRhZGF0YSxcblx0XHRcdFx0XHQuLi5jaGVja3BvaW50TWV0YWRhdGFcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHRcdGNvbnN0IHsgdmFsdWVzLCBhc05vZGUgfSA9IHVwZGF0ZXNbMF07XG5cdFx0XHRpZiAodmFsdWVzID09IG51bGwgJiYgYXNOb2RlID09PSB2b2lkIDApIHtcblx0XHRcdFx0aWYgKHVwZGF0ZXMubGVuZ3RoID4gMSkgdGhyb3cgbmV3IEludmFsaWRVcGRhdGVFcnJvcihgQ2Fubm90IGNyZWF0ZSBlbXB0eSBjaGVja3BvaW50IHdpdGggbXVsdGlwbGUgdXBkYXRlc2ApO1xuXHRcdFx0XHRjb25zdCBuZXh0Q29uZmlnJDEgPSBhd2FpdCBjaGVja3BvaW50ZXIucHV0KGNoZWNrcG9pbnRDb25maWcsIGNyZWF0ZUNoZWNrcG9pbnQoY2hlY2twb2ludCwgdm9pZCAwLCBzdGVwKSwge1xuXHRcdFx0XHRcdHNvdXJjZTogXCJ1cGRhdGVcIixcblx0XHRcdFx0XHRzdGVwOiBzdGVwICsgMSxcblx0XHRcdFx0XHRwYXJlbnRzOiBzYXZlZD8ubWV0YWRhdGE/LnBhcmVudHMgPz8ge31cblx0XHRcdFx0fSwge30pO1xuXHRcdFx0XHRyZXR1cm4gcGF0Y2hDaGVja3BvaW50TWFwKG5leHRDb25maWckMSwgc2F2ZWQgPyBzYXZlZC5tZXRhZGF0YSA6IHZvaWQgMCk7XG5cdFx0XHR9XG5cdFx0XHRjb25zdCBjaGFubmVscyA9IGVtcHR5Q2hhbm5lbHModGhpcy5jaGFubmVscywgY2hlY2twb2ludCk7XG5cdFx0XHRpZiAodmFsdWVzID09PSBudWxsICYmIGFzTm9kZSA9PT0gRU5EKSB7XG5cdFx0XHRcdGlmICh1cGRhdGVzLmxlbmd0aCA+IDEpIHRocm93IG5ldyBJbnZhbGlkVXBkYXRlRXJyb3IoYENhbm5vdCBhcHBseSBtdWx0aXBsZSB1cGRhdGVzIHdoZW4gY2xlYXJpbmcgc3RhdGVgKTtcblx0XHRcdFx0aWYgKHNhdmVkKSB7XG5cdFx0XHRcdFx0Y29uc3QgbmV4dFRhc2tzID0gX3ByZXBhcmVOZXh0VGFza3MoY2hlY2twb2ludCwgc2F2ZWQucGVuZGluZ1dyaXRlcyB8fCBbXSwgdGhpcy5ub2RlcywgY2hhbm5lbHMsIHNhdmVkLmNvbmZpZywgdHJ1ZSwge1xuXHRcdFx0XHRcdFx0c3RlcDogKHNhdmVkLm1ldGFkYXRhPy5zdGVwID8/IC0xKSArIDEsXG5cdFx0XHRcdFx0XHRjaGVja3BvaW50ZXIsXG5cdFx0XHRcdFx0XHRzdG9yZTogdGhpcy5zdG9yZVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdGNvbnN0IG51bGxXcml0ZXMgPSAoc2F2ZWQucGVuZGluZ1dyaXRlcyB8fCBbXSkuZmlsdGVyKCh3KSA9PiB3WzBdID09PSBOVUxMX1RBU0tfSUQpLm1hcCgodykgPT4gdy5zbGljZSgxKSk7XG5cdFx0XHRcdFx0aWYgKG51bGxXcml0ZXMubGVuZ3RoID4gMCkgX2FwcGx5V3JpdGVzKGNoZWNrcG9pbnQsIGNoYW5uZWxzLCBbe1xuXHRcdFx0XHRcdFx0bmFtZTogSU5QVVQsXG5cdFx0XHRcdFx0XHR3cml0ZXM6IG51bGxXcml0ZXMsXG5cdFx0XHRcdFx0XHR0cmlnZ2VyczogW11cblx0XHRcdFx0XHR9XSwgY2hlY2twb2ludGVyLmdldE5leHRWZXJzaW9uLmJpbmQoY2hlY2twb2ludGVyKSwgdGhpcy50cmlnZ2VyVG9Ob2Rlcyk7XG5cdFx0XHRcdFx0Zm9yIChjb25zdCBbdGFza0lkLCBrLCB2XSBvZiBzYXZlZC5wZW5kaW5nV3JpdGVzIHx8IFtdKSB7XG5cdFx0XHRcdFx0XHRpZiAoW1xuXHRcdFx0XHRcdFx0XHRFUlJPUixcblx0XHRcdFx0XHRcdFx0SU5URVJSVVBULFxuXHRcdFx0XHRcdFx0XHRTQ0hFRFVMRURcblx0XHRcdFx0XHRcdF0uaW5jbHVkZXMoaykpIGNvbnRpbnVlO1xuXHRcdFx0XHRcdFx0aWYgKCEodGFza0lkIGluIG5leHRUYXNrcykpIGNvbnRpbnVlO1xuXHRcdFx0XHRcdFx0bmV4dFRhc2tzW3Rhc2tJZF0ud3JpdGVzLnB1c2goW2ssIHZdKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0X2FwcGx5V3JpdGVzKGNoZWNrcG9pbnQsIGNoYW5uZWxzLCBPYmplY3QudmFsdWVzKG5leHRUYXNrcyksIGNoZWNrcG9pbnRlci5nZXROZXh0VmVyc2lvbi5iaW5kKGNoZWNrcG9pbnRlciksIHRoaXMudHJpZ2dlclRvTm9kZXMpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnN0IG5leHRDb25maWckMSA9IGF3YWl0IGNoZWNrcG9pbnRlci5wdXQoY2hlY2twb2ludENvbmZpZywgY3JlYXRlQ2hlY2twb2ludChjaGVja3BvaW50LCBjaGFubmVscywgc3RlcCksIHtcblx0XHRcdFx0XHQuLi5jaGVja3BvaW50TWV0YWRhdGEsXG5cdFx0XHRcdFx0c291cmNlOiBcInVwZGF0ZVwiLFxuXHRcdFx0XHRcdHN0ZXA6IHN0ZXAgKyAxLFxuXHRcdFx0XHRcdHBhcmVudHM6IHNhdmVkPy5tZXRhZGF0YT8ucGFyZW50cyA/PyB7fVxuXHRcdFx0XHR9LCBnZXROZXdDaGFubmVsVmVyc2lvbnMoY2hlY2twb2ludFByZXZpb3VzVmVyc2lvbnMsIGNoZWNrcG9pbnQuY2hhbm5lbF92ZXJzaW9ucykpO1xuXHRcdFx0XHRyZXR1cm4gcGF0Y2hDaGVja3BvaW50TWFwKG5leHRDb25maWckMSwgc2F2ZWQgPyBzYXZlZC5tZXRhZGF0YSA6IHZvaWQgMCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoYXNOb2RlID09PSBDT1BZKSB7XG5cdFx0XHRcdGlmICh1cGRhdGVzLmxlbmd0aCA+IDEpIHRocm93IG5ldyBJbnZhbGlkVXBkYXRlRXJyb3IoYENhbm5vdCBjb3B5IGNoZWNrcG9pbnQgd2l0aCBtdWx0aXBsZSB1cGRhdGVzYCk7XG5cdFx0XHRcdGlmIChzYXZlZCA9PSBudWxsKSB0aHJvdyBuZXcgSW52YWxpZFVwZGF0ZUVycm9yKGBDYW5ub3QgY29weSBhIG5vbi1leGlzdGVudCBjaGVja3BvaW50YCk7XG5cdFx0XHRcdGNvbnN0IGlzQ29weVdpdGhVcGRhdGVzID0gKHZhbHVlcyQxKSA9PiB7XG5cdFx0XHRcdFx0aWYgKCFBcnJheS5pc0FycmF5KHZhbHVlcyQxKSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdGlmICh2YWx1ZXMkMS5sZW5ndGggPT09IDApIHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRyZXR1cm4gdmFsdWVzJDEuZXZlcnkoKHYpID0+IEFycmF5LmlzQXJyYXkodikgJiYgdi5sZW5ndGggPT09IDIpO1xuXHRcdFx0XHR9O1xuXHRcdFx0XHRjb25zdCBuZXh0Q2hlY2twb2ludCA9IGNyZWF0ZUNoZWNrcG9pbnQoY2hlY2twb2ludCwgdm9pZCAwLCBzdGVwKTtcblx0XHRcdFx0Y29uc3QgbmV4dENvbmZpZyQxID0gYXdhaXQgY2hlY2twb2ludGVyLnB1dChzYXZlZC5wYXJlbnRDb25maWcgPz8gcGF0Y2hDb25maWd1cmFibGUoc2F2ZWQuY29uZmlnLCB7IGNoZWNrcG9pbnRfaWQ6IHZvaWQgMCB9KSwgbmV4dENoZWNrcG9pbnQsIHtcblx0XHRcdFx0XHRzb3VyY2U6IFwiZm9ya1wiLFxuXHRcdFx0XHRcdHN0ZXA6IHN0ZXAgKyAxLFxuXHRcdFx0XHRcdHBhcmVudHM6IHNhdmVkLm1ldGFkYXRhPy5wYXJlbnRzID8/IHt9XG5cdFx0XHRcdH0sIHt9KTtcblx0XHRcdFx0aWYgKGlzQ29weVdpdGhVcGRhdGVzKHZhbHVlcykpIHtcblx0XHRcdFx0XHRjb25zdCBuZXh0VGFza3MgPSBfcHJlcGFyZU5leHRUYXNrcyhuZXh0Q2hlY2twb2ludCwgc2F2ZWQucGVuZGluZ1dyaXRlcywgdGhpcy5ub2RlcywgY2hhbm5lbHMsIG5leHRDb25maWckMSwgZmFsc2UsIHsgc3RlcDogc3RlcCArIDIgfSk7XG5cdFx0XHRcdFx0Y29uc3QgdGFza3NHcm91cEJ5ID0gT2JqZWN0LnZhbHVlcyhuZXh0VGFza3MpLnJlZHVjZSgoYWNjLCB7IG5hbWUsIGlkIH0pID0+IHtcblx0XHRcdFx0XHRcdGFjY1tuYW1lXSA/Pz0gW107XG5cdFx0XHRcdFx0XHRhY2NbbmFtZV0ucHVzaCh7IGlkIH0pO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGFjYztcblx0XHRcdFx0XHR9LCB7fSk7XG5cdFx0XHRcdFx0Y29uc3QgdXNlckdyb3VwQnkgPSB2YWx1ZXMucmVkdWNlKChhY2MsIGl0ZW0pID0+IHtcblx0XHRcdFx0XHRcdGNvbnN0IFt2YWx1ZXMkMSwgYXNOb2RlJDFdID0gaXRlbTtcblx0XHRcdFx0XHRcdGFjY1thc05vZGUkMV0gPz89IFtdO1xuXHRcdFx0XHRcdFx0Y29uc3QgdGFyZ2V0SWR4ID0gYWNjW2FzTm9kZSQxXS5sZW5ndGg7XG5cdFx0XHRcdFx0XHRjb25zdCB0YXNrSWQgPSB0YXNrc0dyb3VwQnlbYXNOb2RlJDFdPy5bdGFyZ2V0SWR4XT8uaWQ7XG5cdFx0XHRcdFx0XHRhY2NbYXNOb2RlJDFdLnB1c2goe1xuXHRcdFx0XHRcdFx0XHR2YWx1ZXM6IHZhbHVlcyQxLFxuXHRcdFx0XHRcdFx0XHRhc05vZGU6IGFzTm9kZSQxLFxuXHRcdFx0XHRcdFx0XHR0YXNrSWRcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGFjYztcblx0XHRcdFx0XHR9LCB7fSk7XG5cdFx0XHRcdFx0cmV0dXJuIHVwZGF0ZVN1cGVyU3RlcChwYXRjaENoZWNrcG9pbnRNYXAobmV4dENvbmZpZyQxLCBzYXZlZC5tZXRhZGF0YSksIE9iamVjdC52YWx1ZXModXNlckdyb3VwQnkpLmZsYXQoKSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHBhdGNoQ2hlY2twb2ludE1hcChuZXh0Q29uZmlnJDEsIHNhdmVkLm1ldGFkYXRhKTtcblx0XHRcdH1cblx0XHRcdGlmIChhc05vZGUgPT09IElOUFVUKSB7XG5cdFx0XHRcdGlmICh1cGRhdGVzLmxlbmd0aCA+IDEpIHRocm93IG5ldyBJbnZhbGlkVXBkYXRlRXJyb3IoYENhbm5vdCBhcHBseSBtdWx0aXBsZSB1cGRhdGVzIHdoZW4gdXBkYXRpbmcgYXMgaW5wdXRgKTtcblx0XHRcdFx0Y29uc3QgaW5wdXRXcml0ZXMgPSBhd2FpdCBnYXRoZXJJdGVyYXRvcihtYXBJbnB1dCh0aGlzLmlucHV0Q2hhbm5lbHMsIHZhbHVlcykpO1xuXHRcdFx0XHRpZiAoaW5wdXRXcml0ZXMubGVuZ3RoID09PSAwKSB0aHJvdyBuZXcgSW52YWxpZFVwZGF0ZUVycm9yKGBSZWNlaXZlZCBubyBpbnB1dCB3cml0ZXMgZm9yICR7SlNPTi5zdHJpbmdpZnkodGhpcy5pbnB1dENoYW5uZWxzLCBudWxsLCAyKX1gKTtcblx0XHRcdFx0X2FwcGx5V3JpdGVzKGNoZWNrcG9pbnQsIGNoYW5uZWxzLCBbe1xuXHRcdFx0XHRcdG5hbWU6IElOUFVULFxuXHRcdFx0XHRcdHdyaXRlczogaW5wdXRXcml0ZXMsXG5cdFx0XHRcdFx0dHJpZ2dlcnM6IFtdXG5cdFx0XHRcdH1dLCBjaGVja3BvaW50ZXIuZ2V0TmV4dFZlcnNpb24uYmluZCh0aGlzLmNoZWNrcG9pbnRlciksIHRoaXMudHJpZ2dlclRvTm9kZXMpO1xuXHRcdFx0XHRjb25zdCBuZXh0U3RlcCA9IHNhdmVkPy5tZXRhZGF0YT8uc3RlcCAhPSBudWxsID8gc2F2ZWQubWV0YWRhdGEuc3RlcCArIDEgOiAtMTtcblx0XHRcdFx0Y29uc3QgbmV4dENvbmZpZyQxID0gYXdhaXQgY2hlY2twb2ludGVyLnB1dChjaGVja3BvaW50Q29uZmlnLCBjcmVhdGVDaGVja3BvaW50KGNoZWNrcG9pbnQsIGNoYW5uZWxzLCBuZXh0U3RlcCksIHtcblx0XHRcdFx0XHRzb3VyY2U6IFwiaW5wdXRcIixcblx0XHRcdFx0XHRzdGVwOiBuZXh0U3RlcCxcblx0XHRcdFx0XHRwYXJlbnRzOiBzYXZlZD8ubWV0YWRhdGE/LnBhcmVudHMgPz8ge31cblx0XHRcdFx0fSwgZ2V0TmV3Q2hhbm5lbFZlcnNpb25zKGNoZWNrcG9pbnRQcmV2aW91c1ZlcnNpb25zLCBjaGVja3BvaW50LmNoYW5uZWxfdmVyc2lvbnMpKTtcblx0XHRcdFx0YXdhaXQgY2hlY2twb2ludGVyLnB1dFdyaXRlcyhuZXh0Q29uZmlnJDEsIGlucHV0V3JpdGVzLCB1dWlkNShJTlBVVCwgY2hlY2twb2ludC5pZCkpO1xuXHRcdFx0XHRyZXR1cm4gcGF0Y2hDaGVja3BvaW50TWFwKG5leHRDb25maWckMSwgc2F2ZWQgPyBzYXZlZC5tZXRhZGF0YSA6IHZvaWQgMCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoY29uZmlnLmNvbmZpZ3VyYWJsZT8uY2hlY2twb2ludF9pZCA9PT0gdm9pZCAwICYmIHNhdmVkPy5wZW5kaW5nV3JpdGVzICE9PSB2b2lkIDAgJiYgc2F2ZWQucGVuZGluZ1dyaXRlcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdGNvbnN0IG5leHRUYXNrcyA9IF9wcmVwYXJlTmV4dFRhc2tzKGNoZWNrcG9pbnQsIHNhdmVkLnBlbmRpbmdXcml0ZXMsIHRoaXMubm9kZXMsIGNoYW5uZWxzLCBzYXZlZC5jb25maWcsIHRydWUsIHtcblx0XHRcdFx0XHRzdG9yZTogdGhpcy5zdG9yZSxcblx0XHRcdFx0XHRjaGVja3BvaW50ZXI6IHRoaXMuY2hlY2twb2ludGVyLFxuXHRcdFx0XHRcdHN0ZXA6IChzYXZlZC5tZXRhZGF0YT8uc3RlcCA/PyAtMSkgKyAxXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRjb25zdCBudWxsV3JpdGVzID0gKHNhdmVkLnBlbmRpbmdXcml0ZXMgPz8gW10pLmZpbHRlcigodykgPT4gd1swXSA9PT0gTlVMTF9UQVNLX0lEKS5tYXAoKHcpID0+IHcuc2xpY2UoMSkpO1xuXHRcdFx0XHRpZiAobnVsbFdyaXRlcy5sZW5ndGggPiAwKSBfYXBwbHlXcml0ZXMoc2F2ZWQuY2hlY2twb2ludCwgY2hhbm5lbHMsIFt7XG5cdFx0XHRcdFx0bmFtZTogSU5QVVQsXG5cdFx0XHRcdFx0d3JpdGVzOiBudWxsV3JpdGVzLFxuXHRcdFx0XHRcdHRyaWdnZXJzOiBbXVxuXHRcdFx0XHR9XSwgdm9pZCAwLCB0aGlzLnRyaWdnZXJUb05vZGVzKTtcblx0XHRcdFx0Zm9yIChjb25zdCBbdGlkLCBrLCB2XSBvZiBzYXZlZC5wZW5kaW5nV3JpdGVzKSB7XG5cdFx0XHRcdFx0aWYgKFtcblx0XHRcdFx0XHRcdEVSUk9SLFxuXHRcdFx0XHRcdFx0SU5URVJSVVBULFxuXHRcdFx0XHRcdFx0U0NIRURVTEVEXG5cdFx0XHRcdFx0XS5pbmNsdWRlcyhrKSB8fCBuZXh0VGFza3NbdGlkXSA9PT0gdm9pZCAwKSBjb250aW51ZTtcblx0XHRcdFx0XHRuZXh0VGFza3NbdGlkXS53cml0ZXMucHVzaChbaywgdl0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnN0IHRhc2tzJDEgPSBPYmplY3QudmFsdWVzKG5leHRUYXNrcykuZmlsdGVyKCh0YXNrKSA9PiB7XG5cdFx0XHRcdFx0cmV0dXJuIHRhc2sud3JpdGVzLmxlbmd0aCA+IDA7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRpZiAodGFza3MkMS5sZW5ndGggPiAwKSBfYXBwbHlXcml0ZXMoY2hlY2twb2ludCwgY2hhbm5lbHMsIHRhc2tzJDEsIHZvaWQgMCwgdGhpcy50cmlnZ2VyVG9Ob2Rlcyk7XG5cdFx0XHR9XG5cdFx0XHRjb25zdCBub25OdWxsVmVyc2lvbiA9IE9iamVjdC52YWx1ZXMoY2hlY2twb2ludC52ZXJzaW9uc19zZWVuKS5tYXAoKHNlZW5WZXJzaW9ucykgPT4ge1xuXHRcdFx0XHRyZXR1cm4gT2JqZWN0LnZhbHVlcyhzZWVuVmVyc2lvbnMpO1xuXHRcdFx0fSkuZmxhdCgpLmZpbmQoKHYpID0+ICEhdik7XG5cdFx0XHRjb25zdCB2YWxpZFVwZGF0ZXMgPSBbXTtcblx0XHRcdGlmICh1cGRhdGVzLmxlbmd0aCA9PT0gMSkge1xuXHRcdFx0XHRsZXQgeyB2YWx1ZXM6IHZhbHVlcyQxLCBhc05vZGU6IGFzTm9kZSQxLCB0YXNrSWQgfSA9IHVwZGF0ZXNbMF07XG5cdFx0XHRcdGlmIChhc05vZGUkMSA9PT0gdm9pZCAwICYmIE9iamVjdC5rZXlzKHRoaXMubm9kZXMpLmxlbmd0aCA9PT0gMSkgW2FzTm9kZSQxXSA9IE9iamVjdC5rZXlzKHRoaXMubm9kZXMpO1xuXHRcdFx0XHRlbHNlIGlmIChhc05vZGUkMSA9PT0gdm9pZCAwICYmIG5vbk51bGxWZXJzaW9uID09PSB2b2lkIDApIHtcblx0XHRcdFx0XHRpZiAodHlwZW9mIHRoaXMuaW5wdXRDaGFubmVscyA9PT0gXCJzdHJpbmdcIiAmJiB0aGlzLm5vZGVzW3RoaXMuaW5wdXRDaGFubmVsc10gIT09IHZvaWQgMCkgYXNOb2RlJDEgPSB0aGlzLmlucHV0Q2hhbm5lbHM7XG5cdFx0XHRcdH0gZWxzZSBpZiAoYXNOb2RlJDEgPT09IHZvaWQgMCkge1xuXHRcdFx0XHRcdGNvbnN0IGxhc3RTZWVuQnlOb2RlID0gT2JqZWN0LmVudHJpZXMoY2hlY2twb2ludC52ZXJzaW9uc19zZWVuKS5tYXAoKFtuLCBzZWVuXSkgPT4ge1xuXHRcdFx0XHRcdFx0cmV0dXJuIE9iamVjdC52YWx1ZXMoc2VlbikubWFwKCh2KSA9PiB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBbdiwgbl07XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9KS5mbGF0KCkuZmlsdGVyKChbXywgdl0pID0+IHYgIT09IElOVEVSUlVQVCkuc29ydCgoW2FOdW1iZXJdLCBbYk51bWJlcl0pID0+IGNvbXBhcmVDaGFubmVsVmVyc2lvbnMoYU51bWJlciwgYk51bWJlcikpO1xuXHRcdFx0XHRcdGlmIChsYXN0U2VlbkJ5Tm9kZSkge1xuXHRcdFx0XHRcdFx0aWYgKGxhc3RTZWVuQnlOb2RlLmxlbmd0aCA9PT0gMSkgYXNOb2RlJDEgPSBsYXN0U2VlbkJ5Tm9kZVswXVsxXTtcblx0XHRcdFx0XHRcdGVsc2UgaWYgKGxhc3RTZWVuQnlOb2RlW2xhc3RTZWVuQnlOb2RlLmxlbmd0aCAtIDFdWzBdICE9PSBsYXN0U2VlbkJ5Tm9kZVtsYXN0U2VlbkJ5Tm9kZS5sZW5ndGggLSAyXVswXSkgYXNOb2RlJDEgPSBsYXN0U2VlbkJ5Tm9kZVtsYXN0U2VlbkJ5Tm9kZS5sZW5ndGggLSAxXVsxXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGFzTm9kZSQxID09PSB2b2lkIDApIHRocm93IG5ldyBJbnZhbGlkVXBkYXRlRXJyb3IoYEFtYmlndW91cyB1cGRhdGUsIHNwZWNpZnkgXCJhc05vZGVcImApO1xuXHRcdFx0XHR2YWxpZFVwZGF0ZXMucHVzaCh7XG5cdFx0XHRcdFx0dmFsdWVzOiB2YWx1ZXMkMSxcblx0XHRcdFx0XHRhc05vZGU6IGFzTm9kZSQxLFxuXHRcdFx0XHRcdHRhc2tJZFxuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSBmb3IgKGNvbnN0IHsgYXNOb2RlOiBhc05vZGUkMSwgdmFsdWVzOiB2YWx1ZXMkMSwgdGFza0lkIH0gb2YgdXBkYXRlcykge1xuXHRcdFx0XHRpZiAoYXNOb2RlJDEgPT0gbnVsbCkgdGhyb3cgbmV3IEludmFsaWRVcGRhdGVFcnJvcihgXCJhc05vZGVcIiBpcyByZXF1aXJlZCB3aGVuIGFwcGx5aW5nIG11bHRpcGxlIHVwZGF0ZXNgKTtcblx0XHRcdFx0dmFsaWRVcGRhdGVzLnB1c2goe1xuXHRcdFx0XHRcdHZhbHVlczogdmFsdWVzJDEsXG5cdFx0XHRcdFx0YXNOb2RlOiBhc05vZGUkMSxcblx0XHRcdFx0XHR0YXNrSWRcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHRjb25zdCB0YXNrcyA9IFtdO1xuXHRcdFx0Zm9yIChjb25zdCB7IGFzTm9kZTogYXNOb2RlJDEsIHZhbHVlczogdmFsdWVzJDEsIHRhc2tJZCB9IG9mIHZhbGlkVXBkYXRlcykge1xuXHRcdFx0XHRpZiAodGhpcy5ub2Rlc1thc05vZGUkMV0gPT09IHZvaWQgMCkgdGhyb3cgbmV3IEludmFsaWRVcGRhdGVFcnJvcihgTm9kZSBcIiR7YXNOb2RlJDEudG9TdHJpbmcoKX1cIiBkb2VzIG5vdCBleGlzdGApO1xuXHRcdFx0XHRjb25zdCB3cml0ZXJzID0gdGhpcy5ub2Rlc1thc05vZGUkMV0uZ2V0V3JpdGVycygpO1xuXHRcdFx0XHRpZiAoIXdyaXRlcnMubGVuZ3RoKSB0aHJvdyBuZXcgSW52YWxpZFVwZGF0ZUVycm9yKGBObyB3cml0ZXJzIGZvdW5kIGZvciBub2RlIFwiJHthc05vZGUkMS50b1N0cmluZygpfVwiYCk7XG5cdFx0XHRcdHRhc2tzLnB1c2goe1xuXHRcdFx0XHRcdG5hbWU6IGFzTm9kZSQxLFxuXHRcdFx0XHRcdGlucHV0OiB2YWx1ZXMkMSxcblx0XHRcdFx0XHRwcm9jOiB3cml0ZXJzLmxlbmd0aCA+IDEgPyBSdW5uYWJsZVNlcXVlbmNlLmZyb20od3JpdGVycywgeyBvbWl0U2VxdWVuY2VUYWdzOiB0cnVlIH0pIDogd3JpdGVyc1swXSxcblx0XHRcdFx0XHR3cml0ZXM6IFtdLFxuXHRcdFx0XHRcdHRyaWdnZXJzOiBbSU5URVJSVVBUXSxcblx0XHRcdFx0XHRpZDogdGFza0lkID8/IHV1aWQ1KElOVEVSUlVQVCwgY2hlY2twb2ludC5pZCksXG5cdFx0XHRcdFx0d3JpdGVyczogW11cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHRmb3IgKGNvbnN0IHRhc2sgb2YgdGFza3MpIGF3YWl0IHRhc2sucHJvYy5pbnZva2UodGFzay5pbnB1dCwgcGF0Y2hDb25maWcoe1xuXHRcdFx0XHQuLi5jb25maWcsXG5cdFx0XHRcdHN0b3JlOiBjb25maWc/LnN0b3JlID8/IHRoaXMuc3RvcmVcblx0XHRcdH0sIHtcblx0XHRcdFx0cnVuTmFtZTogY29uZmlnLnJ1bk5hbWUgPz8gYCR7dGhpcy5nZXROYW1lKCl9VXBkYXRlU3RhdGVgLFxuXHRcdFx0XHRjb25maWd1cmFibGU6IHtcblx0XHRcdFx0XHRbQ09ORklHX0tFWV9TRU5EXTogKGl0ZW1zKSA9PiB0YXNrLndyaXRlcy5wdXNoKC4uLml0ZW1zKSxcblx0XHRcdFx0XHRbQ09ORklHX0tFWV9SRUFEXTogKHNlbGVjdF8sIGZyZXNoXyA9IGZhbHNlKSA9PiBfbG9jYWxSZWFkKGNoZWNrcG9pbnQsIGNoYW5uZWxzLCB0YXNrLCBzZWxlY3RfLCBmcmVzaF8pXG5cdFx0XHRcdH1cblx0XHRcdH0pKTtcblx0XHRcdGZvciAoY29uc3QgdGFzayBvZiB0YXNrcykge1xuXHRcdFx0XHRjb25zdCBjaGFubmVsV3JpdGVzID0gdGFzay53cml0ZXMuZmlsdGVyKCh3KSA9PiB3WzBdICE9PSBQVVNIKTtcblx0XHRcdFx0aWYgKHNhdmVkICE9PSB2b2lkIDAgJiYgY2hhbm5lbFdyaXRlcy5sZW5ndGggPiAwKSBhd2FpdCBjaGVja3BvaW50ZXIucHV0V3JpdGVzKGNoZWNrcG9pbnRDb25maWcsIGNoYW5uZWxXcml0ZXMsIHRhc2suaWQpO1xuXHRcdFx0fVxuXHRcdFx0X2FwcGx5V3JpdGVzKGNoZWNrcG9pbnQsIGNoYW5uZWxzLCB0YXNrcywgY2hlY2twb2ludGVyLmdldE5leHRWZXJzaW9uLmJpbmQodGhpcy5jaGVja3BvaW50ZXIpLCB0aGlzLnRyaWdnZXJUb05vZGVzKTtcblx0XHRcdGNvbnN0IG5ld1ZlcnNpb25zID0gZ2V0TmV3Q2hhbm5lbFZlcnNpb25zKGNoZWNrcG9pbnRQcmV2aW91c1ZlcnNpb25zLCBjaGVja3BvaW50LmNoYW5uZWxfdmVyc2lvbnMpO1xuXHRcdFx0Y29uc3QgbmV4dENvbmZpZyA9IGF3YWl0IGNoZWNrcG9pbnRlci5wdXQoY2hlY2twb2ludENvbmZpZywgY3JlYXRlQ2hlY2twb2ludChjaGVja3BvaW50LCBjaGFubmVscywgc3RlcCArIDEpLCB7XG5cdFx0XHRcdHNvdXJjZTogXCJ1cGRhdGVcIixcblx0XHRcdFx0c3RlcDogc3RlcCArIDEsXG5cdFx0XHRcdHBhcmVudHM6IHNhdmVkPy5tZXRhZGF0YT8ucGFyZW50cyA/PyB7fVxuXHRcdFx0fSwgbmV3VmVyc2lvbnMpO1xuXHRcdFx0Zm9yIChjb25zdCB0YXNrIG9mIHRhc2tzKSB7XG5cdFx0XHRcdGNvbnN0IHB1c2hXcml0ZXMgPSB0YXNrLndyaXRlcy5maWx0ZXIoKHcpID0+IHdbMF0gPT09IFBVU0gpO1xuXHRcdFx0XHRpZiAocHVzaFdyaXRlcy5sZW5ndGggPiAwKSBhd2FpdCBjaGVja3BvaW50ZXIucHV0V3JpdGVzKG5leHRDb25maWcsIHB1c2hXcml0ZXMsIHRhc2suaWQpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHBhdGNoQ2hlY2twb2ludE1hcChuZXh0Q29uZmlnLCBzYXZlZCA/IHNhdmVkLm1ldGFkYXRhIDogdm9pZCAwKTtcblx0XHR9O1xuXHRcdGxldCBjdXJyZW50Q29uZmlnID0gc3RhcnRDb25maWc7XG5cdFx0Zm9yIChjb25zdCB7IHVwZGF0ZXMgfSBvZiBzdXBlcnN0ZXBzKSBjdXJyZW50Q29uZmlnID0gYXdhaXQgdXBkYXRlU3VwZXJTdGVwKGN1cnJlbnRDb25maWcsIHVwZGF0ZXMpO1xuXHRcdHJldHVybiBjdXJyZW50Q29uZmlnO1xuXHR9XG5cdC8qKlxuXHQqIFVwZGF0ZXMgdGhlIHN0YXRlIG9mIHRoZSBncmFwaCB3aXRoIG5ldyB2YWx1ZXMuXG5cdCogUmVxdWlyZXMgYSBjaGVja3BvaW50ZXIgdG8gYmUgY29uZmlndXJlZC5cblx0KlxuXHQqIFRoaXMgbWV0aG9kIGNhbiBiZSB1c2VkIGZvcjpcblx0KiAtIEltcGxlbWVudGluZyBodW1hbi1pbi10aGUtbG9vcCB3b3JrZmxvd3Ncblx0KiAtIE1vZGlmeWluZyBncmFwaCBzdGF0ZSBkdXJpbmcgYnJlYWtwb2ludHNcblx0KiAtIEludGVncmF0aW5nIGV4dGVybmFsIGlucHV0cyBpbnRvIHRoZSBncmFwaFxuXHQqXG5cdCogQHBhcmFtIGlucHV0Q29uZmlnIC0gQ29uZmlndXJhdGlvbiBmb3IgdGhlIHVwZGF0ZVxuXHQqIEBwYXJhbSB2YWx1ZXMgLSBUaGUgdmFsdWVzIHRvIHVwZGF0ZSB0aGUgc3RhdGUgd2l0aFxuXHQqIEBwYXJhbSBhc05vZGUgLSBPcHRpb25hbCBub2RlIG5hbWUgdG8gYXR0cmlidXRlIHRoZSB1cGRhdGUgdG9cblx0KiBAcmV0dXJucyBVcGRhdGVkIGNvbmZpZ3VyYXRpb25cblx0KiBAdGhyb3dzIHtHcmFwaFZhbHVlRXJyb3J9IElmIG5vIGNoZWNrcG9pbnRlciBpcyBjb25maWd1cmVkXG5cdCogQHRocm93cyB7SW52YWxpZFVwZGF0ZUVycm9yfSBJZiB0aGUgdXBkYXRlIGNhbm5vdCBiZSBhdHRyaWJ1dGVkIHRvIGEgbm9kZVxuXHQqL1xuXHRhc3luYyB1cGRhdGVTdGF0ZShpbnB1dENvbmZpZywgdmFsdWVzLCBhc05vZGUpIHtcblx0XHRyZXR1cm4gdGhpcy5idWxrVXBkYXRlU3RhdGUoaW5wdXRDb25maWcsIFt7IHVwZGF0ZXM6IFt7XG5cdFx0XHR2YWx1ZXMsXG5cdFx0XHRhc05vZGVcblx0XHR9XSB9XSk7XG5cdH1cblx0LyoqXG5cdCogR2V0cyB0aGUgZGVmYXVsdCB2YWx1ZXMgZm9yIHZhcmlvdXMgZ3JhcGggY29uZmlndXJhdGlvbiBvcHRpb25zLlxuXHQqIFRoaXMgaXMgYW4gaW50ZXJuYWwgbWV0aG9kIHVzZWQgdG8gcHJvY2VzcyBhbmQgbm9ybWFsaXplIGNvbmZpZ3VyYXRpb24gb3B0aW9ucy5cblx0KlxuXHQqIEBwYXJhbSBjb25maWcgLSBUaGUgaW5wdXQgY29uZmlndXJhdGlvbiBvcHRpb25zXG5cdCogQHJldHVybnMgQSB0dXBsZSBjb250YWluaW5nIG5vcm1hbGl6ZWQgdmFsdWVzIGZvcjpcblx0KiAtIGRlYnVnIG1vZGVcblx0KiAtIHN0cmVhbSBtb2Rlc1xuXHQqIC0gaW5wdXQga2V5c1xuXHQqIC0gb3V0cHV0IGtleXNcblx0KiAtIHJlbWFpbmluZyBjb25maWdcblx0KiAtIGludGVycnVwdCBiZWZvcmUgbm9kZXNcblx0KiAtIGludGVycnVwdCBhZnRlciBub2Rlc1xuXHQqIC0gY2hlY2twb2ludGVyXG5cdCogLSBzdG9yZVxuXHQqIC0gd2hldGhlciBzdHJlYW0gbW9kZSBpcyBzaW5nbGVcblx0KiAtIG5vZGUgY2FjaGVcblx0KiAtIHdoZXRoZXIgY2hlY2twb2ludCBkdXJpbmcgaXMgZW5hYmxlZFxuXHQqIEBpbnRlcm5hbFxuXHQqL1xuXHRfZGVmYXVsdHMoY29uZmlnKSB7XG5cdFx0Y29uc3QgeyBkZWJ1Zywgc3RyZWFtTW9kZSwgaW5wdXRLZXlzLCBvdXRwdXRLZXlzLCBpbnRlcnJ1cHRBZnRlciwgaW50ZXJydXB0QmVmb3JlLC4uLnJlc3QgfSA9IGNvbmZpZztcblx0XHRsZXQgc3RyZWFtTW9kZVNpbmdsZSA9IHRydWU7XG5cdFx0Y29uc3QgZGVmYXVsdERlYnVnID0gZGVidWcgIT09IHZvaWQgMCA/IGRlYnVnIDogdGhpcy5kZWJ1Zztcblx0XHRsZXQgZGVmYXVsdE91dHB1dEtleXMgPSBvdXRwdXRLZXlzO1xuXHRcdGlmIChkZWZhdWx0T3V0cHV0S2V5cyA9PT0gdm9pZCAwKSBkZWZhdWx0T3V0cHV0S2V5cyA9IHRoaXMuc3RyZWFtQ2hhbm5lbHNBc0lzO1xuXHRcdGVsc2UgdmFsaWRhdGVLZXlzKGRlZmF1bHRPdXRwdXRLZXlzLCB0aGlzLmNoYW5uZWxzKTtcblx0XHRsZXQgZGVmYXVsdElucHV0S2V5cyA9IGlucHV0S2V5cztcblx0XHRpZiAoZGVmYXVsdElucHV0S2V5cyA9PT0gdm9pZCAwKSBkZWZhdWx0SW5wdXRLZXlzID0gdGhpcy5pbnB1dENoYW5uZWxzO1xuXHRcdGVsc2UgdmFsaWRhdGVLZXlzKGRlZmF1bHRJbnB1dEtleXMsIHRoaXMuY2hhbm5lbHMpO1xuXHRcdGNvbnN0IGRlZmF1bHRJbnRlcnJ1cHRCZWZvcmUgPSBpbnRlcnJ1cHRCZWZvcmUgPz8gdGhpcy5pbnRlcnJ1cHRCZWZvcmUgPz8gW107XG5cdFx0Y29uc3QgZGVmYXVsdEludGVycnVwdEFmdGVyID0gaW50ZXJydXB0QWZ0ZXIgPz8gdGhpcy5pbnRlcnJ1cHRBZnRlciA/PyBbXTtcblx0XHRsZXQgZGVmYXVsdFN0cmVhbU1vZGU7XG5cdFx0aWYgKHN0cmVhbU1vZGUgIT09IHZvaWQgMCkge1xuXHRcdFx0ZGVmYXVsdFN0cmVhbU1vZGUgPSBBcnJheS5pc0FycmF5KHN0cmVhbU1vZGUpID8gc3RyZWFtTW9kZSA6IFtzdHJlYW1Nb2RlXTtcblx0XHRcdHN0cmVhbU1vZGVTaW5nbGUgPSB0eXBlb2Ygc3RyZWFtTW9kZSA9PT0gXCJzdHJpbmdcIjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKGNvbmZpZy5jb25maWd1cmFibGU/LltDT05GSUdfS0VZX1RBU0tfSURdICE9PSB2b2lkIDApIGRlZmF1bHRTdHJlYW1Nb2RlID0gW1widmFsdWVzXCJdO1xuXHRcdFx0ZWxzZSBkZWZhdWx0U3RyZWFtTW9kZSA9IHRoaXMuc3RyZWFtTW9kZTtcblx0XHRcdHN0cmVhbU1vZGVTaW5nbGUgPSB0cnVlO1xuXHRcdH1cblx0XHRsZXQgZGVmYXVsdENoZWNrcG9pbnRlcjtcblx0XHRpZiAodGhpcy5jaGVja3BvaW50ZXIgPT09IGZhbHNlKSBkZWZhdWx0Q2hlY2twb2ludGVyID0gdm9pZCAwO1xuXHRcdGVsc2UgaWYgKGNvbmZpZyAhPT0gdm9pZCAwICYmIGNvbmZpZy5jb25maWd1cmFibGU/LltDT05GSUdfS0VZX0NIRUNLUE9JTlRFUl0gIT09IHZvaWQgMCkgZGVmYXVsdENoZWNrcG9pbnRlciA9IGNvbmZpZy5jb25maWd1cmFibGVbQ09ORklHX0tFWV9DSEVDS1BPSU5URVJdO1xuXHRcdGVsc2UgaWYgKHRoaXMuY2hlY2twb2ludGVyID09PSB0cnVlKSB0aHJvdyBuZXcgRXJyb3IoXCJjaGVja3BvaW50ZXI6IHRydWUgY2Fubm90IGJlIHVzZWQgZm9yIHJvb3QgZ3JhcGhzLlwiKTtcblx0XHRlbHNlIGRlZmF1bHRDaGVja3BvaW50ZXIgPSB0aGlzLmNoZWNrcG9pbnRlcjtcblx0XHRjb25zdCBkZWZhdWx0U3RvcmUgPSBjb25maWcuc3RvcmUgPz8gdGhpcy5zdG9yZTtcblx0XHRjb25zdCBkZWZhdWx0Q2FjaGUgPSBjb25maWcuY2FjaGUgPz8gdGhpcy5jYWNoZTtcblx0XHRpZiAoY29uZmlnLmR1cmFiaWxpdHkgIT0gbnVsbCAmJiBjb25maWcuY2hlY2twb2ludER1cmluZyAhPSBudWxsKSB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgdXNlIGJvdGggYGR1cmFiaWxpdHlgIGFuZCBgY2hlY2twb2ludER1cmluZ2AgYXQgdGhlIHNhbWUgdGltZS5cIik7XG5cdFx0Y29uc3QgY2hlY2twb2ludER1cmluZ0R1cmFiaWxpdHkgPSAoKCkgPT4ge1xuXHRcdFx0aWYgKGNvbmZpZy5jaGVja3BvaW50RHVyaW5nID09IG51bGwpIHJldHVybiB2b2lkIDA7XG5cdFx0XHRpZiAoY29uZmlnLmNoZWNrcG9pbnREdXJpbmcgPT09IGZhbHNlKSByZXR1cm4gXCJleGl0XCI7XG5cdFx0XHRyZXR1cm4gXCJhc3luY1wiO1xuXHRcdH0pKCk7XG5cdFx0Y29uc3QgZGVmYXVsdER1cmFiaWxpdHkgPSBjb25maWcuZHVyYWJpbGl0eSA/PyBjaGVja3BvaW50RHVyaW5nRHVyYWJpbGl0eSA/PyBjb25maWc/LmNvbmZpZ3VyYWJsZT8uW0NPTkZJR19LRVlfRFVSQUJJTElUWV0gPz8gXCJhc3luY1wiO1xuXHRcdHJldHVybiBbXG5cdFx0XHRkZWZhdWx0RGVidWcsXG5cdFx0XHRkZWZhdWx0U3RyZWFtTW9kZSxcblx0XHRcdGRlZmF1bHRJbnB1dEtleXMsXG5cdFx0XHRkZWZhdWx0T3V0cHV0S2V5cyxcblx0XHRcdHJlc3QsXG5cdFx0XHRkZWZhdWx0SW50ZXJydXB0QmVmb3JlLFxuXHRcdFx0ZGVmYXVsdEludGVycnVwdEFmdGVyLFxuXHRcdFx0ZGVmYXVsdENoZWNrcG9pbnRlcixcblx0XHRcdGRlZmF1bHRTdG9yZSxcblx0XHRcdHN0cmVhbU1vZGVTaW5nbGUsXG5cdFx0XHRkZWZhdWx0Q2FjaGUsXG5cdFx0XHRkZWZhdWx0RHVyYWJpbGl0eVxuXHRcdF07XG5cdH1cblx0LyoqXG5cdCogU3RyZWFtcyB0aGUgZXhlY3V0aW9uIG9mIHRoZSBncmFwaCwgZW1pdHRpbmcgc3RhdGUgdXBkYXRlcyBhcyB0aGV5IG9jY3VyLlxuXHQqIFRoaXMgaXMgdGhlIHByaW1hcnkgbWV0aG9kIGZvciBvYnNlcnZpbmcgZ3JhcGggZXhlY3V0aW9uIGluIHJlYWwtdGltZS5cblx0KlxuXHQqIFN0cmVhbSBtb2Rlczpcblx0KiAtIFwidmFsdWVzXCI6IEVtaXRzIGNvbXBsZXRlIHN0YXRlIGFmdGVyIGVhY2ggc3RlcFxuXHQqIC0gXCJ1cGRhdGVzXCI6IEVtaXRzIG9ubHkgc3RhdGUgY2hhbmdlcyBhZnRlciBlYWNoIHN0ZXBcblx0KiAtIFwiZGVidWdcIjogRW1pdHMgZGV0YWlsZWQgZGVidWcgaW5mb3JtYXRpb25cblx0KiAtIFwibWVzc2FnZXNcIjogRW1pdHMgbWVzc2FnZXMgZnJvbSB3aXRoaW4gbm9kZXNcblx0KiAtIFwiY3VzdG9tXCI6IEVtaXRzIGN1c3RvbSBldmVudHMgZnJvbSB3aXRoaW4gbm9kZXNcblx0KiAtIFwiY2hlY2twb2ludHNcIjogRW1pdHMgY2hlY2twb2ludHMgZnJvbSB3aXRoaW4gbm9kZXNcblx0KiAtIFwidGFza3NcIjogRW1pdHMgdGFza3MgZnJvbSB3aXRoaW4gbm9kZXNcblx0KlxuXHQqIEBwYXJhbSBpbnB1dCAtIFRoZSBpbnB1dCB0byBzdGFydCBncmFwaCBleGVjdXRpb24gd2l0aFxuXHQqIEBwYXJhbSBvcHRpb25zIC0gQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciBzdHJlYW1pbmdcblx0KiBAcmV0dXJucyBBbiBhc3luYyBpdGVyYWJsZSBzdHJlYW0gb2YgZ3JhcGggc3RhdGUgdXBkYXRlc1xuXHQqL1xuXHRhc3luYyBzdHJlYW0oaW5wdXQsIG9wdGlvbnMpIHtcblx0XHRjb25zdCBhYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG5cdFx0Y29uc3QgY29uZmlnID0ge1xuXHRcdFx0cmVjdXJzaW9uTGltaXQ6IHRoaXMuY29uZmlnPy5yZWN1cnNpb25MaW1pdCxcblx0XHRcdC4uLm9wdGlvbnMsXG5cdFx0XHRzaWduYWw6IGNvbWJpbmVBYm9ydFNpZ25hbHMob3B0aW9ucz8uc2lnbmFsLCBhYm9ydENvbnRyb2xsZXIuc2lnbmFsKS5zaWduYWxcblx0XHR9O1xuXHRcdGNvbnN0IHN0cmVhbSA9IGF3YWl0IHN1cGVyLnN0cmVhbShpbnB1dCwgY29uZmlnKTtcblx0XHRyZXR1cm4gbmV3IEl0ZXJhYmxlUmVhZGFibGVTdHJlYW1XaXRoQWJvcnRTaWduYWwob3B0aW9ucz8uZW5jb2RpbmcgPT09IFwidGV4dC9ldmVudC1zdHJlYW1cIiA/IHRvRXZlbnRTdHJlYW0oc3RyZWFtKSA6IHN0cmVhbSwgYWJvcnRDb250cm9sbGVyKTtcblx0fVxuXHRzdHJlYW1FdmVudHMoaW5wdXQsIG9wdGlvbnMsIHN0cmVhbU9wdGlvbnMpIHtcblx0XHRjb25zdCBhYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG5cdFx0Y29uc3QgY29uZmlnID0ge1xuXHRcdFx0cmVjdXJzaW9uTGltaXQ6IHRoaXMuY29uZmlnPy5yZWN1cnNpb25MaW1pdCxcblx0XHRcdC4uLm9wdGlvbnMsXG5cdFx0XHRjYWxsYmFja3M6IGNvbWJpbmVDYWxsYmFja3ModGhpcy5jb25maWc/LmNhbGxiYWNrcywgb3B0aW9ucz8uY2FsbGJhY2tzKSxcblx0XHRcdHNpZ25hbDogY29tYmluZUFib3J0U2lnbmFscyhvcHRpb25zPy5zaWduYWwsIGFib3J0Q29udHJvbGxlci5zaWduYWwpLnNpZ25hbFxuXHRcdH07XG5cdFx0cmV0dXJuIG5ldyBJdGVyYWJsZVJlYWRhYmxlU3RyZWFtV2l0aEFib3J0U2lnbmFsKHN1cGVyLnN0cmVhbUV2ZW50cyhpbnB1dCwgY29uZmlnLCBzdHJlYW1PcHRpb25zKSwgYWJvcnRDb250cm9sbGVyKTtcblx0fVxuXHQvKipcblx0KiBWYWxpZGF0ZXMgdGhlIGlucHV0IGZvciB0aGUgZ3JhcGguXG5cdCogQHBhcmFtIGlucHV0IC0gVGhlIGlucHV0IHRvIHZhbGlkYXRlXG5cdCogQHJldHVybnMgVGhlIHZhbGlkYXRlZCBpbnB1dFxuXHQqIEBpbnRlcm5hbFxuXHQqL1xuXHRhc3luYyBfdmFsaWRhdGVJbnB1dChpbnB1dCkge1xuXHRcdHJldHVybiBpbnB1dDtcblx0fVxuXHQvKipcblx0KiBWYWxpZGF0ZXMgdGhlIGNvbnRleHQgb3B0aW9ucyBmb3IgdGhlIGdyYXBoLlxuXHQqIEBwYXJhbSBjb250ZXh0IC0gVGhlIGNvbnRleHQgb3B0aW9ucyB0byB2YWxpZGF0ZVxuXHQqIEByZXR1cm5zIFRoZSB2YWxpZGF0ZWQgY29udGV4dCBvcHRpb25zXG5cdCogQGludGVybmFsXG5cdCovXG5cdGFzeW5jIF92YWxpZGF0ZUNvbnRleHQoY29udGV4dCkge1xuXHRcdHJldHVybiBjb250ZXh0O1xuXHR9XG5cdC8qKlxuXHQqIEludGVybmFsIGl0ZXJhdG9yIHVzZWQgYnkgc3RyZWFtKCkgdG8gZ2VuZXJhdGUgc3RhdGUgdXBkYXRlcy5cblx0KiBUaGlzIG1ldGhvZCBoYW5kbGVzIHRoZSBjb3JlIGxvZ2ljIG9mIGdyYXBoIGV4ZWN1dGlvbiBhbmQgc3RyZWFtaW5nLlxuXHQqXG5cdCogQHBhcmFtIGlucHV0IC0gVGhlIGlucHV0IHRvIHN0YXJ0IGdyYXBoIGV4ZWN1dGlvbiB3aXRoXG5cdCogQHBhcmFtIG9wdGlvbnMgLSBDb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHN0cmVhbWluZ1xuXHQqIEByZXR1cm5zIEFzeW5jR2VuZXJhdG9yIHlpZWxkaW5nIHN0YXRlIHVwZGF0ZXNcblx0KiBAaW50ZXJuYWxcblx0Ki9cblx0YXN5bmMgKl9zdHJlYW1JdGVyYXRvcihpbnB1dCwgb3B0aW9ucykge1xuXHRcdGNvbnN0IHN0cmVhbUVuY29kaW5nID0gXCJ2ZXJzaW9uXCIgaW4gKG9wdGlvbnMgPz8ge30pID8gdm9pZCAwIDogb3B0aW9ucz8uZW5jb2RpbmcgPz8gdm9pZCAwO1xuXHRcdGNvbnN0IHN0cmVhbVN1YmdyYXBocyA9IG9wdGlvbnM/LnN1YmdyYXBocztcblx0XHRjb25zdCBpbnB1dENvbmZpZyA9IGVuc3VyZUxhbmdHcmFwaENvbmZpZyh0aGlzLmNvbmZpZywgb3B0aW9ucyk7XG5cdFx0aWYgKGlucHV0Q29uZmlnLnJlY3Vyc2lvbkxpbWl0ID09PSB2b2lkIDAgfHwgaW5wdXRDb25maWcucmVjdXJzaW9uTGltaXQgPCAxKSB0aHJvdyBuZXcgRXJyb3IoYFBhc3NlZCBcInJlY3Vyc2lvbkxpbWl0XCIgbXVzdCBiZSBhdCBsZWFzdCAxLmApO1xuXHRcdGlmICh0aGlzLmNoZWNrcG9pbnRlciAhPT0gdm9pZCAwICYmIHRoaXMuY2hlY2twb2ludGVyICE9PSBmYWxzZSAmJiBpbnB1dENvbmZpZy5jb25maWd1cmFibGUgPT09IHZvaWQgMCkgdGhyb3cgbmV3IEVycm9yKGBDaGVja3BvaW50ZXIgcmVxdWlyZXMgb25lIG9yIG1vcmUgb2YgdGhlIGZvbGxvd2luZyBcImNvbmZpZ3VyYWJsZVwiIGtleXM6IFwidGhyZWFkX2lkXCIsIFwiY2hlY2twb2ludF9uc1wiLCBcImNoZWNrcG9pbnRfaWRcImApO1xuXHRcdGNvbnN0IHZhbGlkSW5wdXQgPSBhd2FpdCB0aGlzLl92YWxpZGF0ZUlucHV0KGlucHV0KTtcblx0XHRjb25zdCB7IHJ1bklkLC4uLnJlc3RDb25maWcgfSA9IGlucHV0Q29uZmlnO1xuXHRcdGNvbnN0IFtkZWJ1Zywgc3RyZWFtTW9kZSwgLCBvdXRwdXRLZXlzLCBjb25maWcsIGludGVycnVwdEJlZm9yZSwgaW50ZXJydXB0QWZ0ZXIsIGNoZWNrcG9pbnRlciwgc3RvcmUsIHN0cmVhbU1vZGVTaW5nbGUsIGNhY2hlLCBkdXJhYmlsaXR5XSA9IHRoaXMuX2RlZmF1bHRzKHJlc3RDb25maWcpO1xuXHRcdGlmICh0eXBlb2YgY29uZmlnLmNvbnRleHQgIT09IFwidW5kZWZpbmVkXCIpIGNvbmZpZy5jb250ZXh0ID0gYXdhaXQgdGhpcy5fdmFsaWRhdGVDb250ZXh0KGNvbmZpZy5jb250ZXh0KTtcblx0XHRlbHNlIGNvbmZpZy5jb25maWd1cmFibGUgPSBhd2FpdCB0aGlzLl92YWxpZGF0ZUNvbnRleHQoY29uZmlnLmNvbmZpZ3VyYWJsZSk7XG5cdFx0Y29uc3Qgc3RyZWFtID0gbmV3IEl0ZXJhYmxlUmVhZGFibGVXcml0YWJsZVN0cmVhbSh7IG1vZGVzOiBuZXcgU2V0KHN0cmVhbU1vZGUpIH0pO1xuXHRcdGlmICh0aGlzLmNoZWNrcG9pbnRlciA9PT0gdHJ1ZSkge1xuXHRcdFx0Y29uZmlnLmNvbmZpZ3VyYWJsZSA/Pz0ge307XG5cdFx0XHRjb25zdCBucyA9IGNvbmZpZy5jb25maWd1cmFibGVbQ09ORklHX0tFWV9DSEVDS1BPSU5UX05TXSA/PyBcIlwiO1xuXHRcdFx0Y29uZmlnLmNvbmZpZ3VyYWJsZVtDT05GSUdfS0VZX0NIRUNLUE9JTlRfTlNdID0gbnMuc3BsaXQoQ0hFQ0tQT0lOVF9OQU1FU1BBQ0VfU0VQQVJBVE9SKS5tYXAoKHBhcnQpID0+IHBhcnQuc3BsaXQoQ0hFQ0tQT0lOVF9OQU1FU1BBQ0VfRU5EKVswXSkuam9pbihDSEVDS1BPSU5UX05BTUVTUEFDRV9TRVBBUkFUT1IpO1xuXHRcdH1cblx0XHRpZiAoc3RyZWFtTW9kZS5pbmNsdWRlcyhcIm1lc3NhZ2VzXCIpKSB7XG5cdFx0XHRjb25zdCBtZXNzYWdlU3RyZWFtZXIgPSBuZXcgU3RyZWFtTWVzc2FnZXNIYW5kbGVyKChjaHVuaykgPT4gc3RyZWFtLnB1c2goY2h1bmspKTtcblx0XHRcdGNvbnN0IHsgY2FsbGJhY2tzIH0gPSBjb25maWc7XG5cdFx0XHRpZiAoY2FsbGJhY2tzID09PSB2b2lkIDApIGNvbmZpZy5jYWxsYmFja3MgPSBbbWVzc2FnZVN0cmVhbWVyXTtcblx0XHRcdGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY2FsbGJhY2tzKSkgY29uZmlnLmNhbGxiYWNrcyA9IGNhbGxiYWNrcy5jb25jYXQobWVzc2FnZVN0cmVhbWVyKTtcblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRjb25zdCBjb3BpZWRDYWxsYmFja3MgPSBjYWxsYmFja3MuY29weSgpO1xuXHRcdFx0XHRjb3BpZWRDYWxsYmFja3MuYWRkSGFuZGxlcihtZXNzYWdlU3RyZWFtZXIsIHRydWUpO1xuXHRcdFx0XHRjb25maWcuY2FsbGJhY2tzID0gY29waWVkQ2FsbGJhY2tzO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRjb25maWcud3JpdGVyID8/PSAoY2h1bmspID0+IHtcblx0XHRcdGlmICghc3RyZWFtTW9kZS5pbmNsdWRlcyhcImN1c3RvbVwiKSkgcmV0dXJuO1xuXHRcdFx0Y29uc3QgbnMgPSAoZ2V0Q29uZmlnKCk/LmNvbmZpZ3VyYWJsZT8uW0NPTkZJR19LRVlfQ0hFQ0tQT0lOVF9OU10pPy5zcGxpdChDSEVDS1BPSU5UX05BTUVTUEFDRV9TRVBBUkFUT1IpLnNsaWNlKDAsIC0xKTtcblx0XHRcdHN0cmVhbS5wdXNoKFtcblx0XHRcdFx0bnMgPz8gW10sXG5cdFx0XHRcdFwiY3VzdG9tXCIsXG5cdFx0XHRcdGNodW5rXG5cdFx0XHRdKTtcblx0XHR9O1xuXHRcdGNvbmZpZy5pbnRlcnJ1cHQgPz89IHRoaXMudXNlckludGVycnVwdCA/PyBpbnRlcnJ1cHQ7XG5cdFx0Y29uc3QgY2FsbGJhY2tNYW5hZ2VyID0gYXdhaXQgZ2V0Q2FsbGJhY2tNYW5hZ2VyRm9yQ29uZmlnKGNvbmZpZyk7XG5cdFx0Y29uc3QgcnVuTWFuYWdlciA9IGF3YWl0IGNhbGxiYWNrTWFuYWdlcj8uaGFuZGxlQ2hhaW5TdGFydCh0aGlzLnRvSlNPTigpLCBfY29lcmNlVG9EaWN0KGlucHV0LCBcImlucHV0XCIpLCBydW5JZCwgdm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgY29uZmlnPy5ydW5OYW1lID8/IHRoaXMuZ2V0TmFtZSgpKTtcblx0XHRjb25zdCBjaGFubmVsU3BlY3MgPSBnZXRPbmx5Q2hhbm5lbHModGhpcy5jaGFubmVscyk7XG5cdFx0bGV0IGxvb3A7XG5cdFx0bGV0IGxvb3BFcnJvcjtcblx0XHQvKipcblx0XHQqIFRoZSBQcmVnZWxMb29wIHdpbGwgeWllbGQgZXZlbnRzIGZyb20gY29uY3VycmVudCB0YXNrcyBhcyBzb29uIGFzIHRoZXkgYXJlXG5cdFx0KiBnZW5lcmF0ZWQuIEVhY2ggdGFzayBjYW4gcHVzaCBtdWx0aXBsZSBldmVudHMgb250byB0aGUgc3RyZWFtIGluIGFueSBvcmRlci5cblx0XHQqXG5cdFx0KiBXZSB1c2UgYSBzZXBhcmF0ZSBiYWNrZ3JvdW5kIG1ldGhvZCBhbmQgc3RyZWFtIGhlcmUgaW4gb3JkZXIgdG8geWllbGQgZXZlbnRzXG5cdFx0KiBmcm9tIHRoZSBsb29wIHRvIHRoZSBtYWluIHN0cmVhbSBhbmQgdGhlcmVmb3JlIGJhY2sgdG8gdGhlIHVzZXIgYXMgc29vbiBhc1xuXHRcdCogdGhleSBhcmUgYXZhaWxhYmxlLlxuXHRcdCovXG5cdFx0Y29uc3QgY3JlYXRlQW5kUnVuTG9vcCA9IGFzeW5jICgpID0+IHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGxvb3AgPSBhd2FpdCBQcmVnZWxMb29wLmluaXRpYWxpemUoe1xuXHRcdFx0XHRcdGlucHV0OiB2YWxpZElucHV0LFxuXHRcdFx0XHRcdGNvbmZpZyxcblx0XHRcdFx0XHRjaGVja3BvaW50ZXIsXG5cdFx0XHRcdFx0bm9kZXM6IHRoaXMubm9kZXMsXG5cdFx0XHRcdFx0Y2hhbm5lbFNwZWNzLFxuXHRcdFx0XHRcdG91dHB1dEtleXMsXG5cdFx0XHRcdFx0c3RyZWFtS2V5czogdGhpcy5zdHJlYW1DaGFubmVsc0FzSXMsXG5cdFx0XHRcdFx0c3RvcmUsXG5cdFx0XHRcdFx0Y2FjaGUsXG5cdFx0XHRcdFx0c3RyZWFtLFxuXHRcdFx0XHRcdGludGVycnVwdEFmdGVyLFxuXHRcdFx0XHRcdGludGVycnVwdEJlZm9yZSxcblx0XHRcdFx0XHRtYW5hZ2VyOiBydW5NYW5hZ2VyLFxuXHRcdFx0XHRcdGRlYnVnOiB0aGlzLmRlYnVnLFxuXHRcdFx0XHRcdHRyaWdnZXJUb05vZGVzOiB0aGlzLnRyaWdnZXJUb05vZGVzLFxuXHRcdFx0XHRcdGR1cmFiaWxpdHlcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGNvbnN0IHJ1bm5lciA9IG5ldyBQcmVnZWxSdW5uZXIoe1xuXHRcdFx0XHRcdGxvb3AsXG5cdFx0XHRcdFx0bm9kZUZpbmlzaGVkOiBjb25maWcuY29uZmlndXJhYmxlPy5bQ09ORklHX0tFWV9OT0RFX0ZJTklTSEVEXVxuXHRcdFx0XHR9KTtcblx0XHRcdFx0aWYgKG9wdGlvbnM/LnN1YmdyYXBocykgbG9vcC5jb25maWcuY29uZmlndXJhYmxlID0ge1xuXHRcdFx0XHRcdC4uLmxvb3AuY29uZmlnLmNvbmZpZ3VyYWJsZSxcblx0XHRcdFx0XHRbQ09ORklHX0tFWV9TVFJFQU1dOiBsb29wLnN0cmVhbVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRhd2FpdCB0aGlzLl9ydW5Mb29wKHtcblx0XHRcdFx0XHRsb29wLFxuXHRcdFx0XHRcdHJ1bm5lcixcblx0XHRcdFx0XHRkZWJ1Zyxcblx0XHRcdFx0XHRjb25maWdcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGlmIChkdXJhYmlsaXR5ID09PSBcInN5bmNcIikgYXdhaXQgUHJvbWlzZS5hbGwobG9vcD8uY2hlY2twb2ludGVyUHJvbWlzZXMgPz8gW10pO1xuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRsb29wRXJyb3IgPSBlO1xuXHRcdFx0fSBmaW5hbGx5IHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRpZiAobG9vcCkge1xuXHRcdFx0XHRcdFx0YXdhaXQgbG9vcC5zdG9yZT8uc3RvcCgpO1xuXHRcdFx0XHRcdFx0YXdhaXQgbG9vcC5jYWNoZT8uc3RvcCgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRhd2FpdCBQcm9taXNlLmFsbChsb29wPy5jaGVja3BvaW50ZXJQcm9taXNlcyA/PyBbXSk7XG5cdFx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0XHRsb29wRXJyb3IgPSBsb29wRXJyb3IgPz8gZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAobG9vcEVycm9yKSBzdHJlYW0uZXJyb3IobG9vcEVycm9yKTtcblx0XHRcdFx0ZWxzZSBzdHJlYW0uY2xvc2UoKTtcblx0XHRcdH1cblx0XHR9O1xuXHRcdGNvbnN0IHJ1bkxvb3BQcm9taXNlID0gY3JlYXRlQW5kUnVuTG9vcCgpO1xuXHRcdHRyeSB7XG5cdFx0XHRmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHN0cmVhbSkge1xuXHRcdFx0XHRpZiAoY2h1bmsgPT09IHZvaWQgMCkgdGhyb3cgbmV3IEVycm9yKFwiRGF0YSBzdHJ1Y3R1cmUgZXJyb3IuXCIpO1xuXHRcdFx0XHRjb25zdCBbbmFtZXNwYWNlLCBtb2RlLCBwYXlsb2FkXSA9IGNodW5rO1xuXHRcdFx0XHRpZiAoc3RyZWFtTW9kZS5pbmNsdWRlcyhtb2RlKSkge1xuXHRcdFx0XHRcdGlmIChzdHJlYW1FbmNvZGluZyA9PT0gXCJ0ZXh0L2V2ZW50LXN0cmVhbVwiKSB7XG5cdFx0XHRcdFx0XHRpZiAoc3RyZWFtU3ViZ3JhcGhzKSB5aWVsZCBbXG5cdFx0XHRcdFx0XHRcdG5hbWVzcGFjZSxcblx0XHRcdFx0XHRcdFx0bW9kZSxcblx0XHRcdFx0XHRcdFx0cGF5bG9hZFxuXHRcdFx0XHRcdFx0XTtcblx0XHRcdFx0XHRcdGVsc2UgeWllbGQgW1xuXHRcdFx0XHRcdFx0XHRudWxsLFxuXHRcdFx0XHRcdFx0XHRtb2RlLFxuXHRcdFx0XHRcdFx0XHRwYXlsb2FkXG5cdFx0XHRcdFx0XHRdO1xuXHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChzdHJlYW1TdWJncmFwaHMgJiYgIXN0cmVhbU1vZGVTaW5nbGUpIHlpZWxkIFtcblx0XHRcdFx0XHRcdG5hbWVzcGFjZSxcblx0XHRcdFx0XHRcdG1vZGUsXG5cdFx0XHRcdFx0XHRwYXlsb2FkXG5cdFx0XHRcdFx0XTtcblx0XHRcdFx0XHRlbHNlIGlmICghc3RyZWFtTW9kZVNpbmdsZSkgeWllbGQgW21vZGUsIHBheWxvYWRdO1xuXHRcdFx0XHRcdGVsc2UgaWYgKHN0cmVhbVN1YmdyYXBocykgeWllbGQgW25hbWVzcGFjZSwgcGF5bG9hZF07XG5cdFx0XHRcdFx0ZWxzZSB5aWVsZCBwYXlsb2FkO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0YXdhaXQgcnVuTWFuYWdlcj8uaGFuZGxlQ2hhaW5FcnJvcihsb29wRXJyb3IpO1xuXHRcdFx0dGhyb3cgZTtcblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0YXdhaXQgcnVuTG9vcFByb21pc2U7XG5cdFx0fVxuXHRcdGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRW5kKGxvb3A/Lm91dHB1dCA/PyB7fSwgcnVuSWQsIHZvaWQgMCwgdm9pZCAwLCB2b2lkIDApO1xuXHR9XG5cdC8qKlxuXHQqIFJ1biB0aGUgZ3JhcGggd2l0aCBhIHNpbmdsZSBpbnB1dCBhbmQgY29uZmlnLlxuXHQqIEBwYXJhbSBpbnB1dCBUaGUgaW5wdXQgdG8gdGhlIGdyYXBoLlxuXHQqIEBwYXJhbSBvcHRpb25zIFRoZSBjb25maWd1cmF0aW9uIHRvIHVzZSBmb3IgdGhlIHJ1bi5cblx0Ki9cblx0YXN5bmMgaW52b2tlKGlucHV0LCBvcHRpb25zKSB7XG5cdFx0Y29uc3Qgc3RyZWFtTW9kZSA9IG9wdGlvbnM/LnN0cmVhbU1vZGUgPz8gXCJ2YWx1ZXNcIjtcblx0XHRjb25zdCBjb25maWcgPSB7XG5cdFx0XHQuLi5vcHRpb25zLFxuXHRcdFx0b3V0cHV0S2V5czogb3B0aW9ucz8ub3V0cHV0S2V5cyA/PyB0aGlzLm91dHB1dENoYW5uZWxzLFxuXHRcdFx0c3RyZWFtTW9kZSxcblx0XHRcdGVuY29kaW5nOiB2b2lkIDBcblx0XHR9O1xuXHRcdGNvbnN0IGNodW5rcyA9IFtdO1xuXHRcdGNvbnN0IHN0cmVhbSA9IGF3YWl0IHRoaXMuc3RyZWFtKGlucHV0LCBjb25maWcpO1xuXHRcdGNvbnN0IGludGVycnVwdENodW5rcyA9IFtdO1xuXHRcdGxldCBsYXRlc3Q7XG5cdFx0Zm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBzdHJlYW0pIGlmIChzdHJlYW1Nb2RlID09PSBcInZhbHVlc1wiKSBpZiAoaXNJbnRlcnJ1cHRlZChjaHVuaykpIGludGVycnVwdENodW5rcy5wdXNoKGNodW5rW0lOVEVSUlVQVF0pO1xuXHRcdGVsc2UgbGF0ZXN0ID0gY2h1bms7XG5cdFx0ZWxzZSBjaHVua3MucHVzaChjaHVuayk7XG5cdFx0aWYgKHN0cmVhbU1vZGUgPT09IFwidmFsdWVzXCIpIHtcblx0XHRcdGlmIChpbnRlcnJ1cHRDaHVua3MubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRjb25zdCBpbnRlcnJ1cHRzID0gaW50ZXJydXB0Q2h1bmtzLmZsYXQoMSk7XG5cdFx0XHRcdGlmIChsYXRlc3QgPT0gbnVsbCkgcmV0dXJuIHsgW0lOVEVSUlVQVF06IGludGVycnVwdHMgfTtcblx0XHRcdFx0aWYgKHR5cGVvZiBsYXRlc3QgPT09IFwib2JqZWN0XCIpIHJldHVybiB7XG5cdFx0XHRcdFx0Li4ubGF0ZXN0LFxuXHRcdFx0XHRcdFtJTlRFUlJVUFRdOiBpbnRlcnJ1cHRzXG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbGF0ZXN0O1xuXHRcdH1cblx0XHRyZXR1cm4gY2h1bmtzO1xuXHR9XG5cdGFzeW5jIF9ydW5Mb29wKHBhcmFtcykge1xuXHRcdGNvbnN0IHsgbG9vcCwgcnVubmVyLCBkZWJ1ZywgY29uZmlnIH0gPSBwYXJhbXM7XG5cdFx0bGV0IHRpY2tFcnJvcjtcblx0XHR0cnkge1xuXHRcdFx0d2hpbGUgKGF3YWl0IGxvb3AudGljayh7IGlucHV0S2V5czogdGhpcy5pbnB1dENoYW5uZWxzIH0pKSB7XG5cdFx0XHRcdGZvciAoY29uc3QgeyB0YXNrIH0gb2YgYXdhaXQgbG9vcC5fbWF0Y2hDYWNoZWRXcml0ZXMoKSkgbG9vcC5fb3V0cHV0V3JpdGVzKHRhc2suaWQsIHRhc2sud3JpdGVzLCB0cnVlKTtcblx0XHRcdFx0aWYgKGRlYnVnKSBwcmludFN0ZXBDaGVja3BvaW50KGxvb3AuY2hlY2twb2ludE1ldGFkYXRhLnN0ZXAsIGxvb3AuY2hhbm5lbHMsIHRoaXMuc3RyZWFtQ2hhbm5lbHNMaXN0KTtcblx0XHRcdFx0aWYgKGRlYnVnKSBwcmludFN0ZXBUYXNrcyhsb29wLnN0ZXAsIE9iamVjdC52YWx1ZXMobG9vcC50YXNrcykpO1xuXHRcdFx0XHRhd2FpdCBydW5uZXIudGljayh7XG5cdFx0XHRcdFx0dGltZW91dDogdGhpcy5zdGVwVGltZW91dCxcblx0XHRcdFx0XHRyZXRyeVBvbGljeTogdGhpcy5yZXRyeVBvbGljeSxcblx0XHRcdFx0XHRvblN0ZXBXcml0ZTogKHN0ZXAsIHdyaXRlcykgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKGRlYnVnKSBwcmludFN0ZXBXcml0ZXMoc3RlcCwgd3JpdGVzLCB0aGlzLnN0cmVhbUNoYW5uZWxzTGlzdCk7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRtYXhDb25jdXJyZW5jeTogY29uZmlnLm1heENvbmN1cnJlbmN5LFxuXHRcdFx0XHRcdHNpZ25hbDogY29uZmlnLnNpZ25hbFxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHRcdGlmIChsb29wLnN0YXR1cyA9PT0gXCJvdXRfb2Zfc3RlcHNcIikgdGhyb3cgbmV3IEdyYXBoUmVjdXJzaW9uRXJyb3IoW1xuXHRcdFx0XHRgUmVjdXJzaW9uIGxpbWl0IG9mICR7Y29uZmlnLnJlY3Vyc2lvbkxpbWl0fSByZWFjaGVkYCxcblx0XHRcdFx0XCJ3aXRob3V0IGhpdHRpbmcgYSBzdG9wIGNvbmRpdGlvbi4gWW91IGNhbiBpbmNyZWFzZSB0aGVcIixcblx0XHRcdFx0YGxpbWl0IGJ5IHNldHRpbmcgdGhlIFwicmVjdXJzaW9uTGltaXRcIiBjb25maWcga2V5LmBcblx0XHRcdF0uam9pbihcIiBcIiksIHsgbGNfZXJyb3JfY29kZTogXCJHUkFQSF9SRUNVUlNJT05fTElNSVRcIiB9KTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHR0aWNrRXJyb3IgPSBlO1xuXHRcdFx0Y29uc3Qgc3VwcHJlc3MgPSBhd2FpdCBsb29wLmZpbmlzaEFuZEhhbmRsZUVycm9yKHRpY2tFcnJvcik7XG5cdFx0XHRpZiAoIXN1cHByZXNzKSB0aHJvdyBlO1xuXHRcdH0gZmluYWxseSB7XG5cdFx0XHRpZiAodGlja0Vycm9yID09PSB2b2lkIDApIGF3YWl0IGxvb3AuZmluaXNoQW5kSGFuZGxlRXJyb3IoKTtcblx0XHR9XG5cdH1cblx0YXN5bmMgY2xlYXJDYWNoZSgpIHtcblx0XHRhd2FpdCB0aGlzLmNhY2hlPy5jbGVhcihbXSk7XG5cdH1cbn07XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgQ2hhbm5lbCwgUHJlZ2VsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/io.js":
/*!*********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/io.js ***!
  \*********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   mapCommand: () => (/* binding */ mapCommand),\n/* harmony export */   mapInput: () => (/* binding */ mapInput),\n/* harmony export */   mapOutputUpdates: () => (/* binding */ mapOutputUpdates),\n/* harmony export */   mapOutputValues: () => (/* binding */ mapOutputValues),\n/* harmony export */   readChannel: () => (/* binding */ readChannel),\n/* harmony export */   readChannels: () => (/* binding */ readChannels)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errors.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/errors.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/constants.js\");\n/* harmony import */ var _hash_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../hash.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/hash.js\");\n\n\n\n\n//#region src/pregel/io.ts\nfunction readChannel(channels, chan, catchErrors = true, returnException = false) {\n\ttry {\n\t\treturn channels[chan].get();\n\t} catch (e) {\n\t\tif (e.name === _errors_js__WEBPACK_IMPORTED_MODULE_0__.EmptyChannelError.unminifiable_name) {\n\t\t\tif (returnException) return e;\n\t\t\telse if (catchErrors) return null;\n\t\t}\n\t\tthrow e;\n\t}\n}\nfunction readChannels(channels, select, skipEmpty = true) {\n\tif (Array.isArray(select)) {\n\t\tconst values = {};\n\t\tfor (const k of select) try {\n\t\t\tvalues[k] = readChannel(channels, k, !skipEmpty);\n\t\t} catch (e) {\n\t\t\tif (e.name === _errors_js__WEBPACK_IMPORTED_MODULE_0__.EmptyChannelError.unminifiable_name) continue;\n\t\t}\n\t\treturn values;\n\t} else return readChannel(channels, select);\n}\n/**\n* Map input chunk to a sequence of pending writes in the form (channel, value).\n*/\nfunction* mapCommand(cmd, pendingWrites) {\n\tif (cmd.graph === _constants_js__WEBPACK_IMPORTED_MODULE_1__.Command.PARENT) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.InvalidUpdateError(\"There is no parent graph.\");\n\tif (cmd.goto) {\n\t\tlet sends;\n\t\tif (Array.isArray(cmd.goto)) sends = cmd.goto;\n\t\telse sends = [cmd.goto];\n\t\tfor (const send of sends) if ((0,_constants_js__WEBPACK_IMPORTED_MODULE_1__._isSend)(send)) yield [\n\t\t\t_constants_js__WEBPACK_IMPORTED_MODULE_1__.NULL_TASK_ID,\n\t\t\t_constants_js__WEBPACK_IMPORTED_MODULE_1__.TASKS,\n\t\t\tsend\n\t\t];\n\t\telse if (typeof send === \"string\") yield [\n\t\t\t_constants_js__WEBPACK_IMPORTED_MODULE_1__.NULL_TASK_ID,\n\t\t\t`branch:to:${send}`,\n\t\t\t\"__start__\"\n\t\t];\n\t\telse throw new Error(`In Command.send, expected Send or string, got ${typeof send}`);\n\t}\n\tif (cmd.resume) if (typeof cmd.resume === \"object\" && Object.keys(cmd.resume).length && Object.keys(cmd.resume).every(_hash_js__WEBPACK_IMPORTED_MODULE_2__.isXXH3)) for (const [tid, resume] of Object.entries(cmd.resume)) {\n\t\tconst existing = pendingWrites.filter((w) => w[0] === tid && w[1] === _constants_js__WEBPACK_IMPORTED_MODULE_1__.RESUME).map((w) => w[2]).slice(0, 1) ?? [];\n\t\texisting.push(resume);\n\t\tyield [\n\t\t\ttid,\n\t\t\t_constants_js__WEBPACK_IMPORTED_MODULE_1__.RESUME,\n\t\t\texisting\n\t\t];\n\t}\n\telse yield [\n\t\t_constants_js__WEBPACK_IMPORTED_MODULE_1__.NULL_TASK_ID,\n\t\t_constants_js__WEBPACK_IMPORTED_MODULE_1__.RESUME,\n\t\tcmd.resume\n\t];\n\tif (cmd.update) {\n\t\tif (typeof cmd.update !== \"object\" || !cmd.update) throw new Error(\"Expected cmd.update to be a dict mapping channel names to update values\");\n\t\tif (Array.isArray(cmd.update)) for (const [k, v] of cmd.update) yield [\n\t\t\t_constants_js__WEBPACK_IMPORTED_MODULE_1__.NULL_TASK_ID,\n\t\t\tk,\n\t\t\tv\n\t\t];\n\t\telse for (const [k, v] of Object.entries(cmd.update)) yield [\n\t\t\t_constants_js__WEBPACK_IMPORTED_MODULE_1__.NULL_TASK_ID,\n\t\t\tk,\n\t\t\tv\n\t\t];\n\t}\n}\n/**\n* Map input chunk to a sequence of pending writes in the form [channel, value].\n*/\nfunction* mapInput(inputChannels, chunk) {\n\tif (chunk !== void 0 && chunk !== null) if (Array.isArray(inputChannels) && typeof chunk === \"object\" && !Array.isArray(chunk)) {\n\t\tfor (const k in chunk) if (inputChannels.includes(k)) yield [k, chunk[k]];\n\t} else if (Array.isArray(inputChannels)) throw new Error(`Input chunk must be an object when \"inputChannels\" is an array`);\n\telse yield [inputChannels, chunk];\n}\n/**\n* Map pending writes (a sequence of tuples (channel, value)) to output chunk.\n*/\nfunction* mapOutputValues(outputChannels, pendingWrites, channels) {\n\tif (Array.isArray(outputChannels)) {\n\t\tif (pendingWrites === true || pendingWrites.find(([chan, _]) => outputChannels.includes(chan))) yield readChannels(channels, outputChannels);\n\t} else if (pendingWrites === true || pendingWrites.some(([chan, _]) => chan === outputChannels)) yield readChannel(channels, outputChannels);\n}\n/**\n* Map pending writes (a sequence of tuples (channel, value)) to output chunk.\n* @internal\n*\n* @param outputChannels - The channels to output.\n* @param tasks - The tasks to output.\n* @param cached - Whether the output is cached.\n*\n* @returns A generator that yields the output chunk (if any).\n*/\nfunction* mapOutputUpdates(outputChannels, tasks, cached) {\n\tconst outputTasks = tasks.filter(([task, ww]) => {\n\t\treturn (task.config === void 0 || !task.config.tags?.includes(_constants_js__WEBPACK_IMPORTED_MODULE_1__.TAG_HIDDEN)) && ww[0][0] !== _constants_js__WEBPACK_IMPORTED_MODULE_1__.ERROR && ww[0][0] !== _constants_js__WEBPACK_IMPORTED_MODULE_1__.INTERRUPT;\n\t});\n\tif (!outputTasks.length) return;\n\tlet updated;\n\tif (outputTasks.some(([task]) => task.writes.some(([chan, _]) => chan === _constants_js__WEBPACK_IMPORTED_MODULE_1__.RETURN))) updated = outputTasks.flatMap(([task]) => task.writes.filter(([chan, _]) => chan === _constants_js__WEBPACK_IMPORTED_MODULE_1__.RETURN).map(([_, value]) => [task.name, value]));\n\telse if (!Array.isArray(outputChannels)) updated = outputTasks.flatMap(([task]) => task.writes.filter(([chan, _]) => chan === outputChannels).map(([_, value]) => [task.name, value]));\n\telse updated = outputTasks.flatMap(([task]) => {\n\t\tconst { writes } = task;\n\t\tconst counts = {};\n\t\tfor (const [chan] of writes) if (outputChannels.includes(chan)) counts[chan] = (counts[chan] || 0) + 1;\n\t\tif (Object.values(counts).some((count) => count > 1)) return writes.filter(([chan]) => outputChannels.includes(chan)).map(([chan, value]) => [task.name, { [chan]: value }]);\n\t\telse return [[task.name, Object.fromEntries(writes.filter(([chan]) => outputChannels.includes(chan)))]];\n\t});\n\tconst grouped = {};\n\tfor (const [node, value] of updated) {\n\t\tif (!(node in grouped)) grouped[node] = [];\n\t\tgrouped[node].push(value);\n\t}\n\tconst flattened = {};\n\tfor (const node in grouped) if (grouped[node].length === 1) {\n\t\tconst [write] = grouped[node];\n\t\tflattened[node] = write;\n\t} else flattened[node] = grouped[node];\n\tif (cached) flattened[\"__metadata__\"] = { cached };\n\tyield flattened;\n}\n\n//#endregion\n\n//# sourceMappingURL=io.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L3ByZWdlbC9pby5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBcUU7QUFDaUQ7QUFDbEY7O0FBRXBDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILGlCQUFpQix5REFBaUI7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixrQkFBa0IseURBQWlCO0FBQ25DO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixrREFBTyxtQkFBbUIsMERBQWtCO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHNEQUFPO0FBQ3ZDLEdBQUcsdURBQVk7QUFDZixHQUFHLGdEQUFLO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsR0FBRyx1REFBWTtBQUNmLGdCQUFnQixLQUFLO0FBQ3JCO0FBQ0E7QUFDQSx3RUFBd0UsWUFBWTtBQUNwRjtBQUNBLHVIQUF1SCw0Q0FBTTtBQUM3SCx3RUFBd0UsaURBQU07QUFDOUU7QUFDQTtBQUNBO0FBQ0EsR0FBRyxpREFBTTtBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSx1REFBWTtBQUNkLEVBQUUsaURBQU07QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyx1REFBWTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyx1REFBWTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSxxREFBVSxtQkFBbUIsZ0RBQUssaUJBQWlCLG9EQUFTO0FBQzVILEVBQUU7QUFDRjtBQUNBO0FBQ0EsMkVBQTJFLGlEQUFNLHlGQUF5RixpREFBTTtBQUNoTDtBQUNBO0FBQ0EsVUFBVSxTQUFTO0FBQ25CO0FBQ0E7QUFDQSw2SkFBNkosZUFBZTtBQUM1SztBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsMkNBQTJDO0FBQzNDO0FBQ0E7O0FBRUE7QUFDOEY7QUFDOUYiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2IvRGVza3RvcC9wcm9qZWN0X3gvcHJvamVjdC1zcWwtYWdlbnQvc2VydmljZXMvZnJvbnRlbmQvbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rbGFuZ2dyYXBoQDEuMC4xX0BsYW5nY2hhaW4rY29yZUAxLjAuMl9vcGVuYWlANC4xMDAuMF93c0A4LjE4LjJfem9kQDQuMS4xMl9fX19lZmE0ZThmODY1NThlNWQyOWViZGVjM2QyZjAwNGVkOS9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9sYW5nZ3JhcGgvZGlzdC9wcmVnZWwvaW8uanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRW1wdHlDaGFubmVsRXJyb3IsIEludmFsaWRVcGRhdGVFcnJvciB9IGZyb20gXCIuLi9lcnJvcnMuanNcIjtcbmltcG9ydCB7IENvbW1hbmQsIEVSUk9SLCBJTlRFUlJVUFQsIE5VTExfVEFTS19JRCwgUkVTVU1FLCBSRVRVUk4sIFRBR19ISURERU4sIFRBU0tTLCBfaXNTZW5kIH0gZnJvbSBcIi4uL2NvbnN0YW50cy5qc1wiO1xuaW1wb3J0IHsgaXNYWEgzIH0gZnJvbSBcIi4uL2hhc2guanNcIjtcblxuLy8jcmVnaW9uIHNyYy9wcmVnZWwvaW8udHNcbmZ1bmN0aW9uIHJlYWRDaGFubmVsKGNoYW5uZWxzLCBjaGFuLCBjYXRjaEVycm9ycyA9IHRydWUsIHJldHVybkV4Y2VwdGlvbiA9IGZhbHNlKSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIGNoYW5uZWxzW2NoYW5dLmdldCgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKGUubmFtZSA9PT0gRW1wdHlDaGFubmVsRXJyb3IudW5taW5pZmlhYmxlX25hbWUpIHtcblx0XHRcdGlmIChyZXR1cm5FeGNlcHRpb24pIHJldHVybiBlO1xuXHRcdFx0ZWxzZSBpZiAoY2F0Y2hFcnJvcnMpIHJldHVybiBudWxsO1xuXHRcdH1cblx0XHR0aHJvdyBlO1xuXHR9XG59XG5mdW5jdGlvbiByZWFkQ2hhbm5lbHMoY2hhbm5lbHMsIHNlbGVjdCwgc2tpcEVtcHR5ID0gdHJ1ZSkge1xuXHRpZiAoQXJyYXkuaXNBcnJheShzZWxlY3QpKSB7XG5cdFx0Y29uc3QgdmFsdWVzID0ge307XG5cdFx0Zm9yIChjb25zdCBrIG9mIHNlbGVjdCkgdHJ5IHtcblx0XHRcdHZhbHVlc1trXSA9IHJlYWRDaGFubmVsKGNoYW5uZWxzLCBrLCAhc2tpcEVtcHR5KTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRpZiAoZS5uYW1lID09PSBFbXB0eUNoYW5uZWxFcnJvci51bm1pbmlmaWFibGVfbmFtZSkgY29udGludWU7XG5cdFx0fVxuXHRcdHJldHVybiB2YWx1ZXM7XG5cdH0gZWxzZSByZXR1cm4gcmVhZENoYW5uZWwoY2hhbm5lbHMsIHNlbGVjdCk7XG59XG4vKipcbiogTWFwIGlucHV0IGNodW5rIHRvIGEgc2VxdWVuY2Ugb2YgcGVuZGluZyB3cml0ZXMgaW4gdGhlIGZvcm0gKGNoYW5uZWwsIHZhbHVlKS5cbiovXG5mdW5jdGlvbiogbWFwQ29tbWFuZChjbWQsIHBlbmRpbmdXcml0ZXMpIHtcblx0aWYgKGNtZC5ncmFwaCA9PT0gQ29tbWFuZC5QQVJFTlQpIHRocm93IG5ldyBJbnZhbGlkVXBkYXRlRXJyb3IoXCJUaGVyZSBpcyBubyBwYXJlbnQgZ3JhcGguXCIpO1xuXHRpZiAoY21kLmdvdG8pIHtcblx0XHRsZXQgc2VuZHM7XG5cdFx0aWYgKEFycmF5LmlzQXJyYXkoY21kLmdvdG8pKSBzZW5kcyA9IGNtZC5nb3RvO1xuXHRcdGVsc2Ugc2VuZHMgPSBbY21kLmdvdG9dO1xuXHRcdGZvciAoY29uc3Qgc2VuZCBvZiBzZW5kcykgaWYgKF9pc1NlbmQoc2VuZCkpIHlpZWxkIFtcblx0XHRcdE5VTExfVEFTS19JRCxcblx0XHRcdFRBU0tTLFxuXHRcdFx0c2VuZFxuXHRcdF07XG5cdFx0ZWxzZSBpZiAodHlwZW9mIHNlbmQgPT09IFwic3RyaW5nXCIpIHlpZWxkIFtcblx0XHRcdE5VTExfVEFTS19JRCxcblx0XHRcdGBicmFuY2g6dG86JHtzZW5kfWAsXG5cdFx0XHRcIl9fc3RhcnRfX1wiXG5cdFx0XTtcblx0XHRlbHNlIHRocm93IG5ldyBFcnJvcihgSW4gQ29tbWFuZC5zZW5kLCBleHBlY3RlZCBTZW5kIG9yIHN0cmluZywgZ290ICR7dHlwZW9mIHNlbmR9YCk7XG5cdH1cblx0aWYgKGNtZC5yZXN1bWUpIGlmICh0eXBlb2YgY21kLnJlc3VtZSA9PT0gXCJvYmplY3RcIiAmJiBPYmplY3Qua2V5cyhjbWQucmVzdW1lKS5sZW5ndGggJiYgT2JqZWN0LmtleXMoY21kLnJlc3VtZSkuZXZlcnkoaXNYWEgzKSkgZm9yIChjb25zdCBbdGlkLCByZXN1bWVdIG9mIE9iamVjdC5lbnRyaWVzKGNtZC5yZXN1bWUpKSB7XG5cdFx0Y29uc3QgZXhpc3RpbmcgPSBwZW5kaW5nV3JpdGVzLmZpbHRlcigodykgPT4gd1swXSA9PT0gdGlkICYmIHdbMV0gPT09IFJFU1VNRSkubWFwKCh3KSA9PiB3WzJdKS5zbGljZSgwLCAxKSA/PyBbXTtcblx0XHRleGlzdGluZy5wdXNoKHJlc3VtZSk7XG5cdFx0eWllbGQgW1xuXHRcdFx0dGlkLFxuXHRcdFx0UkVTVU1FLFxuXHRcdFx0ZXhpc3Rpbmdcblx0XHRdO1xuXHR9XG5cdGVsc2UgeWllbGQgW1xuXHRcdE5VTExfVEFTS19JRCxcblx0XHRSRVNVTUUsXG5cdFx0Y21kLnJlc3VtZVxuXHRdO1xuXHRpZiAoY21kLnVwZGF0ZSkge1xuXHRcdGlmICh0eXBlb2YgY21kLnVwZGF0ZSAhPT0gXCJvYmplY3RcIiB8fCAhY21kLnVwZGF0ZSkgdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgY21kLnVwZGF0ZSB0byBiZSBhIGRpY3QgbWFwcGluZyBjaGFubmVsIG5hbWVzIHRvIHVwZGF0ZSB2YWx1ZXNcIik7XG5cdFx0aWYgKEFycmF5LmlzQXJyYXkoY21kLnVwZGF0ZSkpIGZvciAoY29uc3QgW2ssIHZdIG9mIGNtZC51cGRhdGUpIHlpZWxkIFtcblx0XHRcdE5VTExfVEFTS19JRCxcblx0XHRcdGssXG5cdFx0XHR2XG5cdFx0XTtcblx0XHRlbHNlIGZvciAoY29uc3QgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKGNtZC51cGRhdGUpKSB5aWVsZCBbXG5cdFx0XHROVUxMX1RBU0tfSUQsXG5cdFx0XHRrLFxuXHRcdFx0dlxuXHRcdF07XG5cdH1cbn1cbi8qKlxuKiBNYXAgaW5wdXQgY2h1bmsgdG8gYSBzZXF1ZW5jZSBvZiBwZW5kaW5nIHdyaXRlcyBpbiB0aGUgZm9ybSBbY2hhbm5lbCwgdmFsdWVdLlxuKi9cbmZ1bmN0aW9uKiBtYXBJbnB1dChpbnB1dENoYW5uZWxzLCBjaHVuaykge1xuXHRpZiAoY2h1bmsgIT09IHZvaWQgMCAmJiBjaHVuayAhPT0gbnVsbCkgaWYgKEFycmF5LmlzQXJyYXkoaW5wdXRDaGFubmVscykgJiYgdHlwZW9mIGNodW5rID09PSBcIm9iamVjdFwiICYmICFBcnJheS5pc0FycmF5KGNodW5rKSkge1xuXHRcdGZvciAoY29uc3QgayBpbiBjaHVuaykgaWYgKGlucHV0Q2hhbm5lbHMuaW5jbHVkZXMoaykpIHlpZWxkIFtrLCBjaHVua1trXV07XG5cdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShpbnB1dENoYW5uZWxzKSkgdGhyb3cgbmV3IEVycm9yKGBJbnB1dCBjaHVuayBtdXN0IGJlIGFuIG9iamVjdCB3aGVuIFwiaW5wdXRDaGFubmVsc1wiIGlzIGFuIGFycmF5YCk7XG5cdGVsc2UgeWllbGQgW2lucHV0Q2hhbm5lbHMsIGNodW5rXTtcbn1cbi8qKlxuKiBNYXAgcGVuZGluZyB3cml0ZXMgKGEgc2VxdWVuY2Ugb2YgdHVwbGVzIChjaGFubmVsLCB2YWx1ZSkpIHRvIG91dHB1dCBjaHVuay5cbiovXG5mdW5jdGlvbiogbWFwT3V0cHV0VmFsdWVzKG91dHB1dENoYW5uZWxzLCBwZW5kaW5nV3JpdGVzLCBjaGFubmVscykge1xuXHRpZiAoQXJyYXkuaXNBcnJheShvdXRwdXRDaGFubmVscykpIHtcblx0XHRpZiAocGVuZGluZ1dyaXRlcyA9PT0gdHJ1ZSB8fCBwZW5kaW5nV3JpdGVzLmZpbmQoKFtjaGFuLCBfXSkgPT4gb3V0cHV0Q2hhbm5lbHMuaW5jbHVkZXMoY2hhbikpKSB5aWVsZCByZWFkQ2hhbm5lbHMoY2hhbm5lbHMsIG91dHB1dENoYW5uZWxzKTtcblx0fSBlbHNlIGlmIChwZW5kaW5nV3JpdGVzID09PSB0cnVlIHx8IHBlbmRpbmdXcml0ZXMuc29tZSgoW2NoYW4sIF9dKSA9PiBjaGFuID09PSBvdXRwdXRDaGFubmVscykpIHlpZWxkIHJlYWRDaGFubmVsKGNoYW5uZWxzLCBvdXRwdXRDaGFubmVscyk7XG59XG4vKipcbiogTWFwIHBlbmRpbmcgd3JpdGVzIChhIHNlcXVlbmNlIG9mIHR1cGxlcyAoY2hhbm5lbCwgdmFsdWUpKSB0byBvdXRwdXQgY2h1bmsuXG4qIEBpbnRlcm5hbFxuKlxuKiBAcGFyYW0gb3V0cHV0Q2hhbm5lbHMgLSBUaGUgY2hhbm5lbHMgdG8gb3V0cHV0LlxuKiBAcGFyYW0gdGFza3MgLSBUaGUgdGFza3MgdG8gb3V0cHV0LlxuKiBAcGFyYW0gY2FjaGVkIC0gV2hldGhlciB0aGUgb3V0cHV0IGlzIGNhY2hlZC5cbipcbiogQHJldHVybnMgQSBnZW5lcmF0b3IgdGhhdCB5aWVsZHMgdGhlIG91dHB1dCBjaHVuayAoaWYgYW55KS5cbiovXG5mdW5jdGlvbiogbWFwT3V0cHV0VXBkYXRlcyhvdXRwdXRDaGFubmVscywgdGFza3MsIGNhY2hlZCkge1xuXHRjb25zdCBvdXRwdXRUYXNrcyA9IHRhc2tzLmZpbHRlcigoW3Rhc2ssIHd3XSkgPT4ge1xuXHRcdHJldHVybiAodGFzay5jb25maWcgPT09IHZvaWQgMCB8fCAhdGFzay5jb25maWcudGFncz8uaW5jbHVkZXMoVEFHX0hJRERFTikpICYmIHd3WzBdWzBdICE9PSBFUlJPUiAmJiB3d1swXVswXSAhPT0gSU5URVJSVVBUO1xuXHR9KTtcblx0aWYgKCFvdXRwdXRUYXNrcy5sZW5ndGgpIHJldHVybjtcblx0bGV0IHVwZGF0ZWQ7XG5cdGlmIChvdXRwdXRUYXNrcy5zb21lKChbdGFza10pID0+IHRhc2sud3JpdGVzLnNvbWUoKFtjaGFuLCBfXSkgPT4gY2hhbiA9PT0gUkVUVVJOKSkpIHVwZGF0ZWQgPSBvdXRwdXRUYXNrcy5mbGF0TWFwKChbdGFza10pID0+IHRhc2sud3JpdGVzLmZpbHRlcigoW2NoYW4sIF9dKSA9PiBjaGFuID09PSBSRVRVUk4pLm1hcCgoW18sIHZhbHVlXSkgPT4gW3Rhc2submFtZSwgdmFsdWVdKSk7XG5cdGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KG91dHB1dENoYW5uZWxzKSkgdXBkYXRlZCA9IG91dHB1dFRhc2tzLmZsYXRNYXAoKFt0YXNrXSkgPT4gdGFzay53cml0ZXMuZmlsdGVyKChbY2hhbiwgX10pID0+IGNoYW4gPT09IG91dHB1dENoYW5uZWxzKS5tYXAoKFtfLCB2YWx1ZV0pID0+IFt0YXNrLm5hbWUsIHZhbHVlXSkpO1xuXHRlbHNlIHVwZGF0ZWQgPSBvdXRwdXRUYXNrcy5mbGF0TWFwKChbdGFza10pID0+IHtcblx0XHRjb25zdCB7IHdyaXRlcyB9ID0gdGFzaztcblx0XHRjb25zdCBjb3VudHMgPSB7fTtcblx0XHRmb3IgKGNvbnN0IFtjaGFuXSBvZiB3cml0ZXMpIGlmIChvdXRwdXRDaGFubmVscy5pbmNsdWRlcyhjaGFuKSkgY291bnRzW2NoYW5dID0gKGNvdW50c1tjaGFuXSB8fCAwKSArIDE7XG5cdFx0aWYgKE9iamVjdC52YWx1ZXMoY291bnRzKS5zb21lKChjb3VudCkgPT4gY291bnQgPiAxKSkgcmV0dXJuIHdyaXRlcy5maWx0ZXIoKFtjaGFuXSkgPT4gb3V0cHV0Q2hhbm5lbHMuaW5jbHVkZXMoY2hhbikpLm1hcCgoW2NoYW4sIHZhbHVlXSkgPT4gW3Rhc2submFtZSwgeyBbY2hhbl06IHZhbHVlIH1dKTtcblx0XHRlbHNlIHJldHVybiBbW3Rhc2submFtZSwgT2JqZWN0LmZyb21FbnRyaWVzKHdyaXRlcy5maWx0ZXIoKFtjaGFuXSkgPT4gb3V0cHV0Q2hhbm5lbHMuaW5jbHVkZXMoY2hhbikpKV1dO1xuXHR9KTtcblx0Y29uc3QgZ3JvdXBlZCA9IHt9O1xuXHRmb3IgKGNvbnN0IFtub2RlLCB2YWx1ZV0gb2YgdXBkYXRlZCkge1xuXHRcdGlmICghKG5vZGUgaW4gZ3JvdXBlZCkpIGdyb3VwZWRbbm9kZV0gPSBbXTtcblx0XHRncm91cGVkW25vZGVdLnB1c2godmFsdWUpO1xuXHR9XG5cdGNvbnN0IGZsYXR0ZW5lZCA9IHt9O1xuXHRmb3IgKGNvbnN0IG5vZGUgaW4gZ3JvdXBlZCkgaWYgKGdyb3VwZWRbbm9kZV0ubGVuZ3RoID09PSAxKSB7XG5cdFx0Y29uc3QgW3dyaXRlXSA9IGdyb3VwZWRbbm9kZV07XG5cdFx0ZmxhdHRlbmVkW25vZGVdID0gd3JpdGU7XG5cdH0gZWxzZSBmbGF0dGVuZWRbbm9kZV0gPSBncm91cGVkW25vZGVdO1xuXHRpZiAoY2FjaGVkKSBmbGF0dGVuZWRbXCJfX21ldGFkYXRhX19cIl0gPSB7IGNhY2hlZCB9O1xuXHR5aWVsZCBmbGF0dGVuZWQ7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgbWFwQ29tbWFuZCwgbWFwSW5wdXQsIG1hcE91dHB1dFVwZGF0ZXMsIG1hcE91dHB1dFZhbHVlcywgcmVhZENoYW5uZWwsIHJlYWRDaGFubmVscyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW8uanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/io.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/loop.js":
/*!***********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/loop.js ***!
  \***********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PregelLoop: () => (/* binding */ PregelLoop)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errors.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/errors.js\");\n/* harmony import */ var _channels_base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../channels/base.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/base.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/constants.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/utils.js\");\n/* harmony import */ var _hash_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../hash.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/hash.js\");\n/* harmony import */ var _io_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./io.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/io.js\");\n/* harmony import */ var _utils_index_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils/index.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/utils/index.js\");\n/* harmony import */ var _algo_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./algo.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/algo.js\");\n/* harmony import */ var _debug_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./debug.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/debug.js\");\n/* harmony import */ var _stream_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./stream.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/stream.js\");\n/* harmony import */ var _langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @langchain/langgraph-checkpoint */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph-checkpoint@1.0.0_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12__/node_modules/@langchain/langgraph-checkpoint/dist/index.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n//#region src/pregel/loop.ts\nconst INPUT_DONE = Symbol.for(\"INPUT_DONE\");\nconst INPUT_RESUMING = Symbol.for(\"INPUT_RESUMING\");\nconst DEFAULT_LOOP_LIMIT = 25;\nfunction createDuplexStream(...streams) {\n\treturn new _stream_js__WEBPACK_IMPORTED_MODULE_9__.IterableReadableWritableStream({\n\t\tpassthroughFn: (value) => {\n\t\t\tfor (const stream of streams) if (stream.modes.has(value[1])) stream.push(value);\n\t\t},\n\t\tmodes: new Set(streams.flatMap((s) => Array.from(s.modes)))\n\t});\n}\nvar AsyncBatchedCache = class extends _langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_10__.BaseCache {\n\tcache;\n\tqueue = Promise.resolve();\n\tconstructor(cache) {\n\t\tsuper();\n\t\tthis.cache = cache;\n\t}\n\tasync get(keys) {\n\t\treturn this.enqueueOperation(\"get\", keys);\n\t}\n\tasync set(pairs) {\n\t\treturn this.enqueueOperation(\"set\", pairs);\n\t}\n\tasync clear(namespaces) {\n\t\treturn this.enqueueOperation(\"clear\", namespaces);\n\t}\n\tasync stop() {\n\t\tawait this.queue;\n\t}\n\tenqueueOperation(type, ...args) {\n\t\tconst newPromise = this.queue.then(() => {\n\t\t\treturn this.cache[type](...args);\n\t\t});\n\t\tthis.queue = newPromise.then(() => void 0, () => void 0);\n\t\treturn newPromise;\n\t}\n};\nvar PregelLoop = class PregelLoop {\n\tinput;\n\toutput;\n\tconfig;\n\tcheckpointer;\n\tcheckpointerGetNextVersion;\n\tchannels;\n\tcheckpoint;\n\tcheckpointIdSaved;\n\tcheckpointConfig;\n\tcheckpointMetadata;\n\tcheckpointNamespace;\n\tcheckpointPendingWrites = [];\n\tcheckpointPreviousVersions;\n\tstep;\n\tstop;\n\tdurability;\n\toutputKeys;\n\tstreamKeys;\n\tnodes;\n\tskipDoneTasks;\n\tprevCheckpointConfig;\n\tupdatedChannels;\n\tstatus = \"pending\";\n\ttasks = {};\n\tstream;\n\tcheckpointerPromises = [];\n\tisNested;\n\t_checkpointerChainedPromise = Promise.resolve();\n\tstore;\n\tcache;\n\tmanager;\n\tinterruptAfter;\n\tinterruptBefore;\n\ttoInterrupt = [];\n\tdebug = false;\n\ttriggerToNodes;\n\tget isResuming() {\n\t\tlet hasChannelVersions = false;\n\t\tif (_constants_js__WEBPACK_IMPORTED_MODULE_2__.START in this.checkpoint.channel_versions) hasChannelVersions = true;\n\t\telse for (const chan in this.checkpoint.channel_versions) if (Object.prototype.hasOwnProperty.call(this.checkpoint.channel_versions, chan)) {\n\t\t\thasChannelVersions = true;\n\t\t\tbreak;\n\t\t}\n\t\tconst configHasResumingFlag = this.config.configurable?.[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_RESUMING] !== void 0;\n\t\tconst configIsResuming = configHasResumingFlag && this.config.configurable?.[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_RESUMING];\n\t\tconst inputIsNullOrUndefined = this.input === null || this.input === void 0;\n\t\tconst inputIsCommandResuming = (0,_constants_js__WEBPACK_IMPORTED_MODULE_2__.isCommand)(this.input) && this.input.resume != null;\n\t\tconst inputIsResuming = this.input === INPUT_RESUMING;\n\t\tconst runIdMatchesPrevious = !this.isNested && this.config.metadata?.run_id !== void 0 && this.checkpointMetadata?.run_id !== void 0 && this.config.metadata.run_id === this.checkpointMetadata?.run_id;\n\t\treturn hasChannelVersions && (configIsResuming || inputIsNullOrUndefined || inputIsCommandResuming || inputIsResuming || runIdMatchesPrevious);\n\t}\n\tconstructor(params) {\n\t\tthis.input = params.input;\n\t\tthis.checkpointer = params.checkpointer;\n\t\tif (this.checkpointer !== void 0) this.checkpointerGetNextVersion = this.checkpointer.getNextVersion.bind(this.checkpointer);\n\t\telse this.checkpointerGetNextVersion = _algo_js__WEBPACK_IMPORTED_MODULE_7__.increment;\n\t\tthis.checkpoint = params.checkpoint;\n\t\tthis.checkpointMetadata = params.checkpointMetadata;\n\t\tthis.checkpointPreviousVersions = params.checkpointPreviousVersions;\n\t\tthis.channels = params.channels;\n\t\tthis.checkpointPendingWrites = params.checkpointPendingWrites;\n\t\tthis.step = params.step;\n\t\tthis.stop = params.stop;\n\t\tthis.config = params.config;\n\t\tthis.checkpointConfig = params.checkpointConfig;\n\t\tthis.isNested = params.isNested;\n\t\tthis.manager = params.manager;\n\t\tthis.outputKeys = params.outputKeys;\n\t\tthis.streamKeys = params.streamKeys;\n\t\tthis.nodes = params.nodes;\n\t\tthis.skipDoneTasks = params.skipDoneTasks;\n\t\tthis.store = params.store;\n\t\tthis.cache = params.cache ? new AsyncBatchedCache(params.cache) : void 0;\n\t\tthis.stream = params.stream;\n\t\tthis.checkpointNamespace = params.checkpointNamespace;\n\t\tthis.prevCheckpointConfig = params.prevCheckpointConfig;\n\t\tthis.interruptAfter = params.interruptAfter;\n\t\tthis.interruptBefore = params.interruptBefore;\n\t\tthis.durability = params.durability;\n\t\tthis.debug = params.debug;\n\t\tthis.triggerToNodes = params.triggerToNodes;\n\t}\n\tstatic async initialize(params) {\n\t\tlet { config, stream } = params;\n\t\tif (stream !== void 0 && config.configurable?.[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_STREAM] !== void 0) stream = createDuplexStream(stream, config.configurable[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_STREAM]);\n\t\tconst skipDoneTasks = config.configurable ? !(\"checkpoint_id\" in config.configurable) : true;\n\t\tconst scratchpad = config.configurable?.[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_SCRATCHPAD];\n\t\tif (config.configurable && scratchpad) {\n\t\t\tif (scratchpad.subgraphCounter > 0) config = (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_6__.patchConfigurable)(config, { [_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_CHECKPOINT_NS]: [config.configurable[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_CHECKPOINT_NS], scratchpad.subgraphCounter.toString()].join(_constants_js__WEBPACK_IMPORTED_MODULE_2__.CHECKPOINT_NAMESPACE_SEPARATOR) });\n\t\t\tscratchpad.subgraphCounter += 1;\n\t\t}\n\t\tconst isNested = _constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_READ in (config.configurable ?? {});\n\t\tif (!isNested && config.configurable?.checkpoint_ns !== void 0 && config.configurable?.checkpoint_ns !== \"\") config = (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_6__.patchConfigurable)(config, {\n\t\t\tcheckpoint_ns: \"\",\n\t\t\tcheckpoint_id: void 0\n\t\t});\n\t\tlet checkpointConfig = config;\n\t\tif (config.configurable?.[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_CHECKPOINT_MAP] !== void 0 && config.configurable?.[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_CHECKPOINT_MAP]?.[config.configurable?.checkpoint_ns]) checkpointConfig = (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_6__.patchConfigurable)(config, { checkpoint_id: config.configurable[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_CHECKPOINT_MAP][config.configurable?.checkpoint_ns] });\n\t\tconst checkpointNamespace = config.configurable?.checkpoint_ns?.split(_constants_js__WEBPACK_IMPORTED_MODULE_2__.CHECKPOINT_NAMESPACE_SEPARATOR) ?? [];\n\t\tconst saved = await params.checkpointer?.getTuple(checkpointConfig) ?? {\n\t\t\tconfig,\n\t\t\tcheckpoint: (0,_langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_10__.emptyCheckpoint)(),\n\t\t\tmetadata: {\n\t\t\t\tsource: \"input\",\n\t\t\t\tstep: -2,\n\t\t\t\tparents: {}\n\t\t\t},\n\t\t\tpendingWrites: []\n\t\t};\n\t\tcheckpointConfig = {\n\t\t\t...config,\n\t\t\t...saved.config,\n\t\t\tconfigurable: {\n\t\t\t\tcheckpoint_ns: \"\",\n\t\t\t\t...config.configurable,\n\t\t\t\t...saved.config.configurable\n\t\t\t}\n\t\t};\n\t\tconst prevCheckpointConfig = saved.parentConfig;\n\t\tconst checkpoint = (0,_langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_10__.copyCheckpoint)(saved.checkpoint);\n\t\tconst checkpointMetadata = { ...saved.metadata };\n\t\tconst checkpointPendingWrites = saved.pendingWrites ?? [];\n\t\tconst channels = (0,_channels_base_js__WEBPACK_IMPORTED_MODULE_1__.emptyChannels)(params.channelSpecs, checkpoint);\n\t\tconst step = (checkpointMetadata.step ?? 0) + 1;\n\t\tconst stop = step + (config.recursionLimit ?? DEFAULT_LOOP_LIMIT) + 1;\n\t\tconst checkpointPreviousVersions = { ...checkpoint.channel_versions };\n\t\tconst store = params.store ? new _langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_10__.AsyncBatchedStore(params.store) : void 0;\n\t\tif (store) await store.start();\n\t\treturn new PregelLoop({\n\t\t\tinput: params.input,\n\t\t\tconfig,\n\t\t\tcheckpointer: params.checkpointer,\n\t\t\tcheckpoint,\n\t\t\tcheckpointMetadata,\n\t\t\tcheckpointConfig,\n\t\t\tprevCheckpointConfig,\n\t\t\tcheckpointNamespace,\n\t\t\tchannels,\n\t\t\tisNested,\n\t\t\tmanager: params.manager,\n\t\t\tskipDoneTasks,\n\t\t\tstep,\n\t\t\tstop,\n\t\t\tcheckpointPreviousVersions,\n\t\t\tcheckpointPendingWrites,\n\t\t\toutputKeys: params.outputKeys ?? [],\n\t\t\tstreamKeys: params.streamKeys ?? [],\n\t\t\tnodes: params.nodes,\n\t\t\tstream,\n\t\t\tstore,\n\t\t\tcache: params.cache,\n\t\t\tinterruptAfter: params.interruptAfter,\n\t\t\tinterruptBefore: params.interruptBefore,\n\t\t\tdurability: params.durability,\n\t\t\tdebug: params.debug,\n\t\t\ttriggerToNodes: params.triggerToNodes\n\t\t});\n\t}\n\t_checkpointerPutAfterPrevious(input) {\n\t\tthis._checkpointerChainedPromise = this._checkpointerChainedPromise.then(() => {\n\t\t\treturn this.checkpointer?.put(input.config, input.checkpoint, input.metadata, input.newVersions);\n\t\t});\n\t\tthis.checkpointerPromises.push(this._checkpointerChainedPromise);\n\t}\n\t/**\n\t* Put writes for a task, to be read by the next tick.\n\t* @param taskId\n\t* @param writes\n\t*/\n\tputWrites(taskId, writes) {\n\t\tlet writesCopy = writes;\n\t\tif (writesCopy.length === 0) return;\n\t\tif (writesCopy.every(([key]) => key in _langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_10__.WRITES_IDX_MAP)) writesCopy = Array.from(new Map(writesCopy.map((w) => [w[0], w])).values());\n\t\tthis.checkpointPendingWrites = this.checkpointPendingWrites.filter((w) => w[0] !== taskId);\n\t\tfor (const [c, v] of writesCopy) this.checkpointPendingWrites.push([\n\t\t\ttaskId,\n\t\t\tc,\n\t\t\tv\n\t\t]);\n\t\tconst config = (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_6__.patchConfigurable)(this.checkpointConfig, {\n\t\t\t[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_CHECKPOINT_NS]: this.config.configurable?.checkpoint_ns ?? \"\",\n\t\t\t[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_CHECKPOINT_ID]: this.checkpoint.id\n\t\t});\n\t\tif (this.durability !== \"exit\" && this.checkpointer != null) this.checkpointerPromises.push(this.checkpointer.putWrites(config, writesCopy, taskId));\n\t\tif (this.tasks) this._outputWrites(taskId, writesCopy);\n\t\tif (!writes.length || !this.cache || !this.tasks) return;\n\t\tconst task = this.tasks[taskId];\n\t\tif (task == null || task.cache_key == null) return;\n\t\tif (writes[0][0] === _constants_js__WEBPACK_IMPORTED_MODULE_2__.ERROR || writes[0][0] === _constants_js__WEBPACK_IMPORTED_MODULE_2__.INTERRUPT) return;\n\t\tthis.cache.set([{\n\t\t\tkey: [task.cache_key.ns, task.cache_key.key],\n\t\t\tvalue: task.writes,\n\t\t\tttl: task.cache_key.ttl\n\t\t}]);\n\t}\n\t_outputWrites(taskId, writes, cached = false) {\n\t\tconst task = this.tasks[taskId];\n\t\tif (task !== void 0) {\n\t\t\tif (task.config !== void 0 && (task.config.tags ?? []).includes(_constants_js__WEBPACK_IMPORTED_MODULE_2__.TAG_HIDDEN)) return;\n\t\t\tif (writes.length > 0) {\n\t\t\t\tif (writes[0][0] === _constants_js__WEBPACK_IMPORTED_MODULE_2__.INTERRUPT) {\n\t\t\t\t\tif (task.path?.[0] === _constants_js__WEBPACK_IMPORTED_MODULE_2__.PUSH && task.path?.at(-1) === true) return;\n\t\t\t\t\tconst interruptWrites = writes.filter((w) => w[0] === _constants_js__WEBPACK_IMPORTED_MODULE_2__.INTERRUPT).flatMap((w) => w[1]);\n\t\t\t\t\tthis._emit([[\"updates\", { [_constants_js__WEBPACK_IMPORTED_MODULE_2__.INTERRUPT]: interruptWrites }], [\"values\", { [_constants_js__WEBPACK_IMPORTED_MODULE_2__.INTERRUPT]: interruptWrites }]]);\n\t\t\t\t} else if (writes[0][0] !== _constants_js__WEBPACK_IMPORTED_MODULE_2__.ERROR) this._emit((0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.gatherIteratorSync)((0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.prefixGenerator)((0,_io_js__WEBPACK_IMPORTED_MODULE_5__.mapOutputUpdates)(this.outputKeys, [[task, writes]], cached), \"updates\")));\n\t\t\t}\n\t\t\tif (!cached) this._emit((0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.gatherIteratorSync)((0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.prefixGenerator)((0,_debug_js__WEBPACK_IMPORTED_MODULE_8__.mapDebugTaskResults)([[task, writes]], this.streamKeys), \"tasks\")));\n\t\t}\n\t}\n\tasync _matchCachedWrites() {\n\t\tif (!this.cache) return [];\n\t\tconst matched = [];\n\t\tconst serializeKey = ([ns, key]) => {\n\t\t\treturn `ns:${ns.join(\",\")}|key:${key}`;\n\t\t};\n\t\tconst keys = [];\n\t\tconst keyMap = {};\n\t\tfor (const task of Object.values(this.tasks)) if (task.cache_key != null && !task.writes.length) {\n\t\t\tkeys.push([task.cache_key.ns, task.cache_key.key]);\n\t\t\tkeyMap[serializeKey([task.cache_key.ns, task.cache_key.key])] = task;\n\t\t}\n\t\tif (keys.length === 0) return [];\n\t\tconst cache = await this.cache.get(keys);\n\t\tfor (const { key, value } of cache) {\n\t\t\tconst task = keyMap[serializeKey(key)];\n\t\t\tif (task != null) {\n\t\t\t\ttask.writes.push(...value);\n\t\t\t\tmatched.push({\n\t\t\t\t\ttask,\n\t\t\t\t\tresult: value\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn matched;\n\t}\n\t/**\n\t* Execute a single iteration of the Pregel loop.\n\t* Returns true if more iterations are needed.\n\t* @param params\n\t*/\n\tasync tick(params) {\n\t\tif (this.store && !this.store.isRunning) await this.store?.start();\n\t\tconst { inputKeys = [] } = params;\n\t\tif (this.status !== \"pending\") throw new Error(`Cannot tick when status is no longer \"pending\". Current status: \"${this.status}\"`);\n\t\tif (![INPUT_DONE, INPUT_RESUMING].includes(this.input)) await this._first(inputKeys);\n\t\telse if (this.toInterrupt.length > 0) {\n\t\t\tthis.status = \"interrupt_before\";\n\t\t\tthrow new _errors_js__WEBPACK_IMPORTED_MODULE_0__.GraphInterrupt();\n\t\t} else if (Object.values(this.tasks).every((task) => task.writes.length > 0)) {\n\t\t\tconst writes = Object.values(this.tasks).flatMap((t) => t.writes);\n\t\t\tthis.updatedChannels = (0,_algo_js__WEBPACK_IMPORTED_MODULE_7__._applyWrites)(this.checkpoint, this.channels, Object.values(this.tasks), this.checkpointerGetNextVersion, this.triggerToNodes);\n\t\t\tconst valuesOutput = await (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.gatherIterator)((0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.prefixGenerator)((0,_io_js__WEBPACK_IMPORTED_MODULE_5__.mapOutputValues)(this.outputKeys, writes, this.channels), \"values\"));\n\t\t\tthis._emit(valuesOutput);\n\t\t\tthis.checkpointPendingWrites = [];\n\t\t\tawait this._putCheckpoint({ source: \"loop\" });\n\t\t\tif ((0,_algo_js__WEBPACK_IMPORTED_MODULE_7__.shouldInterrupt)(this.checkpoint, this.interruptAfter, Object.values(this.tasks))) {\n\t\t\t\tthis.status = \"interrupt_after\";\n\t\t\t\tthrow new _errors_js__WEBPACK_IMPORTED_MODULE_0__.GraphInterrupt();\n\t\t\t}\n\t\t\tif (this.config.configurable?.[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_RESUMING] !== void 0) delete this.config.configurable?.[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_RESUMING];\n\t\t} else return false;\n\t\tif (this.step > this.stop) {\n\t\t\tthis.status = \"out_of_steps\";\n\t\t\treturn false;\n\t\t}\n\t\tconst nextTasks = (0,_algo_js__WEBPACK_IMPORTED_MODULE_7__._prepareNextTasks)(this.checkpoint, this.checkpointPendingWrites, this.nodes, this.channels, this.config, true, {\n\t\t\tstep: this.step,\n\t\t\tcheckpointer: this.checkpointer,\n\t\t\tisResuming: this.isResuming,\n\t\t\tmanager: this.manager,\n\t\t\tstore: this.store,\n\t\t\tstream: this.stream,\n\t\t\ttriggerToNodes: this.triggerToNodes,\n\t\t\tupdatedChannels: this.updatedChannels\n\t\t});\n\t\tthis.tasks = nextTasks;\n\t\tif (this.checkpointer) this._emit(await (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.gatherIterator)((0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.prefixGenerator)((0,_debug_js__WEBPACK_IMPORTED_MODULE_8__.mapDebugCheckpoint)(this.checkpointConfig, this.channels, this.streamKeys, this.checkpointMetadata, Object.values(this.tasks), this.checkpointPendingWrites, this.prevCheckpointConfig, this.outputKeys), \"checkpoints\")));\n\t\tif (Object.values(this.tasks).length === 0) {\n\t\t\tthis.status = \"done\";\n\t\t\treturn false;\n\t\t}\n\t\tif (this.skipDoneTasks && this.checkpointPendingWrites.length > 0) {\n\t\t\tfor (const [tid, k, v] of this.checkpointPendingWrites) {\n\t\t\t\tif (k === _constants_js__WEBPACK_IMPORTED_MODULE_2__.ERROR || k === _constants_js__WEBPACK_IMPORTED_MODULE_2__.INTERRUPT || k === _constants_js__WEBPACK_IMPORTED_MODULE_2__.RESUME) continue;\n\t\t\t\tconst task = Object.values(this.tasks).find((t) => t.id === tid);\n\t\t\t\tif (task) task.writes.push([k, v]);\n\t\t\t}\n\t\t\tfor (const task of Object.values(this.tasks)) if (task.writes.length > 0) this._outputWrites(task.id, task.writes, true);\n\t\t}\n\t\tif (Object.values(this.tasks).every((task) => task.writes.length > 0)) return this.tick({ inputKeys });\n\t\tif ((0,_algo_js__WEBPACK_IMPORTED_MODULE_7__.shouldInterrupt)(this.checkpoint, this.interruptBefore, Object.values(this.tasks))) {\n\t\t\tthis.status = \"interrupt_before\";\n\t\t\tthrow new _errors_js__WEBPACK_IMPORTED_MODULE_0__.GraphInterrupt();\n\t\t}\n\t\tconst debugOutput = await (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.gatherIterator)((0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.prefixGenerator)((0,_debug_js__WEBPACK_IMPORTED_MODULE_8__.mapDebugTasks)(Object.values(this.tasks)), \"tasks\"));\n\t\tthis._emit(debugOutput);\n\t\treturn true;\n\t}\n\tasync finishAndHandleError(error) {\n\t\tif (this.durability === \"exit\" && (!this.isNested || typeof error !== \"undefined\" || this.checkpointNamespace.every((part) => !part.includes(_constants_js__WEBPACK_IMPORTED_MODULE_2__.CHECKPOINT_NAMESPACE_END)))) {\n\t\t\tthis._putCheckpoint(this.checkpointMetadata);\n\t\t\tthis._flushPendingWrites();\n\t\t}\n\t\tconst suppress = this._suppressInterrupt(error);\n\t\tif (suppress || error === void 0) this.output = (0,_io_js__WEBPACK_IMPORTED_MODULE_5__.readChannels)(this.channels, this.outputKeys);\n\t\tif (suppress) {\n\t\t\tif (this.tasks !== void 0 && this.checkpointPendingWrites.length > 0 && Object.values(this.tasks).some((task) => task.writes.length > 0)) {\n\t\t\t\tthis.updatedChannels = (0,_algo_js__WEBPACK_IMPORTED_MODULE_7__._applyWrites)(this.checkpoint, this.channels, Object.values(this.tasks), this.checkpointerGetNextVersion, this.triggerToNodes);\n\t\t\t\tthis._emit((0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.gatherIteratorSync)((0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.prefixGenerator)((0,_io_js__WEBPACK_IMPORTED_MODULE_5__.mapOutputValues)(this.outputKeys, Object.values(this.tasks).flatMap((t) => t.writes), this.channels), \"values\")));\n\t\t\t}\n\t\t\tif ((0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.isGraphInterrupt)(error) && !error.interrupts.length) this._emit([[\"updates\", { [_constants_js__WEBPACK_IMPORTED_MODULE_2__.INTERRUPT]: [] }], [\"values\", { [_constants_js__WEBPACK_IMPORTED_MODULE_2__.INTERRUPT]: [] }]]);\n\t\t}\n\t\treturn suppress;\n\t}\n\tasync acceptPush(task, writeIdx, call) {\n\t\tif (this.interruptAfter?.length > 0 && (0,_algo_js__WEBPACK_IMPORTED_MODULE_7__.shouldInterrupt)(this.checkpoint, this.interruptAfter, [task])) {\n\t\t\tthis.toInterrupt.push(task);\n\t\t\treturn;\n\t\t}\n\t\tconst pushed = (0,_algo_js__WEBPACK_IMPORTED_MODULE_7__._prepareSingleTask)([\n\t\t\t_constants_js__WEBPACK_IMPORTED_MODULE_2__.PUSH,\n\t\t\ttask.path ?? [],\n\t\t\twriteIdx,\n\t\t\ttask.id,\n\t\t\tcall\n\t\t], this.checkpoint, this.checkpointPendingWrites, this.nodes, this.channels, task.config ?? {}, true, {\n\t\t\tstep: this.step,\n\t\t\tcheckpointer: this.checkpointer,\n\t\t\tmanager: this.manager,\n\t\t\tstore: this.store,\n\t\t\tstream: this.stream\n\t\t});\n\t\tif (!pushed) return;\n\t\tif (this.interruptBefore?.length > 0 && (0,_algo_js__WEBPACK_IMPORTED_MODULE_7__.shouldInterrupt)(this.checkpoint, this.interruptBefore, [pushed])) {\n\t\t\tthis.toInterrupt.push(pushed);\n\t\t\treturn;\n\t\t}\n\t\tthis._emit((0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.gatherIteratorSync)((0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.prefixGenerator)((0,_debug_js__WEBPACK_IMPORTED_MODULE_8__.mapDebugTasks)([pushed]), \"tasks\")));\n\t\tif (this.debug) (0,_debug_js__WEBPACK_IMPORTED_MODULE_8__.printStepTasks)(this.step, [pushed]);\n\t\tthis.tasks[pushed.id] = pushed;\n\t\tif (this.skipDoneTasks) this._matchWrites({ [pushed.id]: pushed });\n\t\tconst tasks = await this._matchCachedWrites();\n\t\tfor (const { task: task$1 } of tasks) this._outputWrites(task$1.id, task$1.writes, true);\n\t\treturn pushed;\n\t}\n\t_suppressInterrupt(e) {\n\t\treturn (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.isGraphInterrupt)(e) && !this.isNested;\n\t}\n\tasync _first(inputKeys) {\n\t\tconst { configurable } = this.config;\n\t\tconst scratchpad = configurable?.[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_SCRATCHPAD];\n\t\tif (scratchpad && scratchpad.nullResume !== void 0) this.putWrites(_constants_js__WEBPACK_IMPORTED_MODULE_2__.NULL_TASK_ID, [[_constants_js__WEBPACK_IMPORTED_MODULE_2__.RESUME, scratchpad.nullResume]]);\n\t\tif ((0,_constants_js__WEBPACK_IMPORTED_MODULE_2__.isCommand)(this.input)) {\n\t\t\tconst hasResume = this.input.resume != null;\n\t\t\tif (this.input.resume != null && typeof this.input.resume === \"object\" && Object.keys(this.input.resume).every(_hash_js__WEBPACK_IMPORTED_MODULE_4__.isXXH3)) {\n\t\t\t\tthis.config.configurable ??= {};\n\t\t\t\tthis.config.configurable[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_RESUME_MAP] = this.input.resume;\n\t\t\t}\n\t\t\tif (hasResume && this.checkpointer == null) throw new Error(\"Cannot use Command(resume=...) without checkpointer\");\n\t\t\tconst writes = {};\n\t\t\tfor (const [tid, key, value] of (0,_io_js__WEBPACK_IMPORTED_MODULE_5__.mapCommand)(this.input, this.checkpointPendingWrites)) {\n\t\t\t\twrites[tid] ??= [];\n\t\t\t\twrites[tid].push([key, value]);\n\t\t\t}\n\t\t\tif (Object.keys(writes).length === 0) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.EmptyInputError(\"Received empty Command input\");\n\t\t\tfor (const [tid, ws] of Object.entries(writes)) this.putWrites(tid, ws);\n\t\t}\n\t\tconst nullWrites = (this.checkpointPendingWrites ?? []).filter((w) => w[0] === _constants_js__WEBPACK_IMPORTED_MODULE_2__.NULL_TASK_ID).map((w) => w.slice(1));\n\t\tif (nullWrites.length > 0) (0,_algo_js__WEBPACK_IMPORTED_MODULE_7__._applyWrites)(this.checkpoint, this.channels, [{\n\t\t\tname: _constants_js__WEBPACK_IMPORTED_MODULE_2__.INPUT,\n\t\t\twrites: nullWrites,\n\t\t\ttriggers: []\n\t\t}], this.checkpointerGetNextVersion, this.triggerToNodes);\n\t\tconst isCommandUpdateOrGoto = (0,_constants_js__WEBPACK_IMPORTED_MODULE_2__.isCommand)(this.input) && nullWrites.length > 0;\n\t\tif (this.isResuming || isCommandUpdateOrGoto) {\n\t\t\tfor (const channelName in this.channels) {\n\t\t\t\tif (!Object.prototype.hasOwnProperty.call(this.channels, channelName)) continue;\n\t\t\t\tif (this.checkpoint.channel_versions[channelName] !== void 0) {\n\t\t\t\t\tconst version = this.checkpoint.channel_versions[channelName];\n\t\t\t\t\tthis.checkpoint.versions_seen[_constants_js__WEBPACK_IMPORTED_MODULE_2__.INTERRUPT] = {\n\t\t\t\t\t\t...this.checkpoint.versions_seen[_constants_js__WEBPACK_IMPORTED_MODULE_2__.INTERRUPT],\n\t\t\t\t\t\t[channelName]: version\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst valuesOutput = await (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.gatherIterator)((0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.prefixGenerator)((0,_io_js__WEBPACK_IMPORTED_MODULE_5__.mapOutputValues)(this.outputKeys, true, this.channels), \"values\"));\n\t\t\tthis._emit(valuesOutput);\n\t\t}\n\t\tif (this.isResuming) this.input = INPUT_RESUMING;\n\t\telse if (isCommandUpdateOrGoto) {\n\t\t\tawait this._putCheckpoint({ source: \"input\" });\n\t\t\tthis.input = INPUT_DONE;\n\t\t} else {\n\t\t\tconst inputWrites = await (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.gatherIterator)((0,_io_js__WEBPACK_IMPORTED_MODULE_5__.mapInput)(inputKeys, this.input));\n\t\t\tif (inputWrites.length > 0) {\n\t\t\t\tconst discardTasks = (0,_algo_js__WEBPACK_IMPORTED_MODULE_7__._prepareNextTasks)(this.checkpoint, this.checkpointPendingWrites, this.nodes, this.channels, this.config, true, { step: this.step });\n\t\t\t\tthis.updatedChannels = (0,_algo_js__WEBPACK_IMPORTED_MODULE_7__._applyWrites)(this.checkpoint, this.channels, Object.values(discardTasks).concat([{\n\t\t\t\t\tname: _constants_js__WEBPACK_IMPORTED_MODULE_2__.INPUT,\n\t\t\t\t\twrites: inputWrites,\n\t\t\t\t\ttriggers: []\n\t\t\t\t}]), this.checkpointerGetNextVersion, this.triggerToNodes);\n\t\t\t\tawait this._putCheckpoint({ source: \"input\" });\n\t\t\t\tthis.input = INPUT_DONE;\n\t\t\t} else if (!(_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_RESUMING in (this.config.configurable ?? {}))) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.EmptyInputError(`Received no input writes for ${JSON.stringify(inputKeys, null, 2)}`);\n\t\t\telse this.input = INPUT_DONE;\n\t\t}\n\t\tif (!this.isNested) this.config = (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_6__.patchConfigurable)(this.config, { [_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_RESUMING]: this.isResuming });\n\t}\n\t_emit(values) {\n\t\tfor (const [mode, payload] of values) {\n\t\t\tif (this.stream.modes.has(mode)) this.stream.push([\n\t\t\t\tthis.checkpointNamespace,\n\t\t\t\tmode,\n\t\t\t\tpayload\n\t\t\t]);\n\t\t\tif ((mode === \"checkpoints\" || mode === \"tasks\") && this.stream.modes.has(\"debug\")) {\n\t\t\t\tconst step = mode === \"checkpoints\" ? this.step - 1 : this.step;\n\t\t\t\tconst timestamp = (/* @__PURE__ */ new Date()).toISOString();\n\t\t\t\tconst type = (() => {\n\t\t\t\t\tif (mode === \"checkpoints\") return \"checkpoint\";\n\t\t\t\t\telse if (typeof payload === \"object\" && payload != null && \"result\" in payload) return \"task_result\";\n\t\t\t\t\telse return \"task\";\n\t\t\t\t})();\n\t\t\t\tthis.stream.push([\n\t\t\t\t\tthis.checkpointNamespace,\n\t\t\t\t\t\"debug\",\n\t\t\t\t\t{\n\t\t\t\t\t\tstep,\n\t\t\t\t\t\ttype,\n\t\t\t\t\t\ttimestamp,\n\t\t\t\t\t\tpayload\n\t\t\t\t\t}\n\t\t\t\t]);\n\t\t\t}\n\t\t}\n\t}\n\t_putCheckpoint(inputMetadata) {\n\t\tconst exiting = this.checkpointMetadata === inputMetadata;\n\t\tconst doCheckpoint = this.checkpointer != null && (this.durability !== \"exit\" || exiting);\n\t\tconst storeCheckpoint = (checkpoint) => {\n\t\t\tthis.prevCheckpointConfig = this.checkpointConfig?.configurable?.checkpoint_id ? this.checkpointConfig : void 0;\n\t\t\tthis.checkpointConfig = (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_6__.patchConfigurable)(this.checkpointConfig, { [_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_CHECKPOINT_NS]: this.config.configurable?.checkpoint_ns ?? \"\" });\n\t\t\tconst channelVersions = { ...this.checkpoint.channel_versions };\n\t\t\tconst newVersions = (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_6__.getNewChannelVersions)(this.checkpointPreviousVersions, channelVersions);\n\t\t\tthis.checkpointPreviousVersions = channelVersions;\n\t\t\tthis._checkpointerPutAfterPrevious({\n\t\t\t\tconfig: { ...this.checkpointConfig },\n\t\t\t\tcheckpoint: (0,_langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_10__.copyCheckpoint)(checkpoint),\n\t\t\t\tmetadata: { ...this.checkpointMetadata },\n\t\t\t\tnewVersions\n\t\t\t});\n\t\t\tthis.checkpointConfig = {\n\t\t\t\t...this.checkpointConfig,\n\t\t\t\tconfigurable: {\n\t\t\t\t\t...this.checkpointConfig.configurable,\n\t\t\t\t\tcheckpoint_id: this.checkpoint.id\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\t\tif (!exiting) this.checkpointMetadata = {\n\t\t\t...inputMetadata,\n\t\t\tstep: this.step,\n\t\t\tparents: this.config.configurable?.[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_CHECKPOINT_MAP] ?? {}\n\t\t};\n\t\tthis.checkpoint = (0,_channels_base_js__WEBPACK_IMPORTED_MODULE_1__.createCheckpoint)(this.checkpoint, doCheckpoint ? this.channels : void 0, this.step, exiting ? { id: this.checkpoint.id } : void 0);\n\t\tif (doCheckpoint) storeCheckpoint(this.checkpoint);\n\t\tif (!exiting) this.step += 1;\n\t}\n\t_flushPendingWrites() {\n\t\tif (this.checkpointer == null) return;\n\t\tif (this.checkpointPendingWrites.length === 0) return;\n\t\tconst config = (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_6__.patchConfigurable)(this.checkpointConfig, {\n\t\t\t[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_CHECKPOINT_NS]: this.config.configurable?.checkpoint_ns ?? \"\",\n\t\t\t[_constants_js__WEBPACK_IMPORTED_MODULE_2__.CONFIG_KEY_CHECKPOINT_ID]: this.checkpoint.id\n\t\t});\n\t\tconst byTask = {};\n\t\tfor (const [tid, key, value] of this.checkpointPendingWrites) {\n\t\t\tbyTask[tid] ??= [];\n\t\t\tbyTask[tid].push([key, value]);\n\t\t}\n\t\tfor (const [tid, ws] of Object.entries(byTask)) this.checkpointerPromises.push(this.checkpointer.putWrites(config, ws, tid));\n\t}\n\t_matchWrites(tasks) {\n\t\tfor (const [tid, k, v] of this.checkpointPendingWrites) {\n\t\t\tif (k === _constants_js__WEBPACK_IMPORTED_MODULE_2__.ERROR || k === _constants_js__WEBPACK_IMPORTED_MODULE_2__.INTERRUPT || k === _constants_js__WEBPACK_IMPORTED_MODULE_2__.RESUME) continue;\n\t\t\tconst task = Object.values(tasks).find((t) => t.id === tid);\n\t\t\tif (task) task.writes.push([k, v]);\n\t\t}\n\t\tfor (const task of Object.values(tasks)) if (task.writes.length > 0) this._outputWrites(task.id, task.writes, true);\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=loop.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L3ByZWdlbC9sb29wLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFpRjtBQUNYO0FBQzhSO0FBQ2xSO0FBQzlDO0FBQzREO0FBQ3BCO0FBQ2dDO0FBQ1I7QUFDdkM7QUFDbUU7O0FBRWhJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHNFQUE4QjtBQUMxQztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsRUFBRTtBQUNGO0FBQ0Esc0NBQXNDLHVFQUFTO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sZ0RBQUs7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCw4REFBbUI7QUFDOUUsK0VBQStFLDhEQUFtQjtBQUNsRztBQUNBLGlDQUFpQyx3REFBUztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLCtDQUFTO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUJBQWlCO0FBQ3pCLGlEQUFpRCw0REFBaUIsc0VBQXNFLDREQUFpQjtBQUN6SjtBQUNBLDJDQUEyQyxnRUFBcUI7QUFDaEU7QUFDQSxnREFBZ0Qsa0VBQWlCLFdBQVcsQ0FBQyxtRUFBd0Isd0JBQXdCLG1FQUF3QiwrQ0FBK0MseUVBQThCLEdBQUc7QUFDck87QUFDQTtBQUNBLG1CQUFtQiwwREFBZSw4QkFBOEI7QUFDaEUsd0hBQXdILGtFQUFpQjtBQUN6STtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsNEJBQTRCLG9FQUF5QixzQ0FBc0Msb0VBQXlCLDREQUE0RCxrRUFBaUIsV0FBVyxtQ0FBbUMsb0VBQXlCLHVDQUF1QztBQUMvUyx3RUFBd0UseUVBQThCO0FBQ3RHO0FBQ0E7QUFDQSxlQUFlLGlGQUFlO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixnRkFBYztBQUNuQywrQkFBK0I7QUFDL0I7QUFDQSxtQkFBbUIsZ0VBQWE7QUFDaEM7QUFDQTtBQUNBLHVDQUF1QztBQUN2QyxtQ0FBbUMsK0VBQWlCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsNEVBQWM7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGtFQUFpQjtBQUNsQyxJQUFJLG1FQUF3QjtBQUM1QixJQUFJLG1FQUF3QjtBQUM1QixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixnREFBSyxxQkFBcUIsb0RBQVM7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUscURBQVU7QUFDN0U7QUFDQSx5QkFBeUIsb0RBQVM7QUFDbEMsNEJBQTRCLCtDQUFJO0FBQ2hDLDJEQUEyRCxvREFBUztBQUNwRSwrQkFBK0IsQ0FBQyxvREFBUyxvQkFBb0IsZ0JBQWdCLENBQUMsb0RBQVMsb0JBQW9CO0FBQzNHLE1BQU0sMEJBQTBCLGdEQUFLLGFBQWEsNkRBQWtCLENBQUMsMERBQWUsQ0FBQyx3REFBZ0I7QUFDckc7QUFDQSwyQkFBMkIsNkRBQWtCLENBQUMsMERBQWUsQ0FBQyw4REFBbUI7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGFBQWEsT0FBTyxJQUFJO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsYUFBYTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsaUJBQWlCO0FBQzNCLHFIQUFxSCxZQUFZO0FBQ2pJO0FBQ0E7QUFDQTtBQUNBLGFBQWEsc0RBQWM7QUFDM0IsSUFBSTtBQUNKO0FBQ0EsMEJBQTBCLHNEQUFZO0FBQ3RDLDhCQUE4Qix5REFBYyxDQUFDLDBEQUFlLENBQUMsdURBQWU7QUFDNUU7QUFDQTtBQUNBLCtCQUErQixnQkFBZ0I7QUFDL0MsT0FBTyx5REFBZTtBQUN0QjtBQUNBLGNBQWMsc0RBQWM7QUFDNUI7QUFDQSxrQ0FBa0MsOERBQW1CLGdEQUFnRCw4REFBbUI7QUFDeEgsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDJEQUFpQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsMENBQTBDLHlEQUFjLENBQUMsMERBQWUsQ0FBQyw2REFBa0I7QUFDM0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxnREFBSyxVQUFVLG9EQUFTLFVBQVUsaURBQU07QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRGQUE0RixXQUFXO0FBQ3ZHLE1BQU0seURBQWU7QUFDckI7QUFDQSxhQUFhLHNEQUFjO0FBQzNCO0FBQ0EsNEJBQTRCLHlEQUFjLENBQUMsMERBQWUsQ0FBQyx3REFBYTtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtJQUErSSxtRUFBd0I7QUFDdks7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Qsb0RBQVk7QUFDOUQ7QUFDQTtBQUNBLDJCQUEyQixzREFBWTtBQUN2QyxlQUFlLDZEQUFrQixDQUFDLDBEQUFlLENBQUMsdURBQWU7QUFDakU7QUFDQSxPQUFPLDREQUFnQiwrREFBK0QsQ0FBQyxvREFBUyxPQUFPLGdCQUFnQixDQUFDLG9EQUFTLE9BQU87QUFDeEk7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMseURBQWU7QUFDeEQ7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDREQUFrQjtBQUNuQyxHQUFHLCtDQUFJO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnR0FBZ0c7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLDBDQUEwQyx5REFBZTtBQUN6RDtBQUNBO0FBQ0E7QUFDQSxhQUFhLDZEQUFrQixDQUFDLDBEQUFlLENBQUMsd0RBQWE7QUFDN0Qsa0JBQWtCLHlEQUFjO0FBQ2hDO0FBQ0EsOENBQThDLHFCQUFxQjtBQUNuRTtBQUNBLGVBQWUsZUFBZTtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxTQUFTLDREQUFnQjtBQUN6QjtBQUNBO0FBQ0EsVUFBVSxlQUFlO0FBQ3pCLG9DQUFvQyxnRUFBcUI7QUFDekQscUVBQXFFLHVEQUFZLElBQUksaURBQU07QUFDM0YsTUFBTSx3REFBUztBQUNmO0FBQ0Esa0hBQWtILDRDQUFNO0FBQ3hIO0FBQ0EsNkJBQTZCLGdFQUFxQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsa0RBQVU7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELHVEQUFlO0FBQ2xFO0FBQ0E7QUFDQSxpRkFBaUYsdURBQVk7QUFDN0YsNkJBQTZCLHNEQUFZO0FBQ3pDLFNBQVMsZ0RBQUs7QUFDZDtBQUNBO0FBQ0EsR0FBRztBQUNILGdDQUFnQyx3REFBUztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLG9EQUFTO0FBQzVDLHVDQUF1QyxvREFBUztBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qix5REFBYyxDQUFDLDBEQUFlLENBQUMsdURBQWU7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsaUJBQWlCO0FBQ2hEO0FBQ0EsSUFBSTtBQUNKLDZCQUE2Qix5REFBYyxDQUFDLGdEQUFRO0FBQ3BEO0FBQ0EseUJBQXlCLDJEQUFpQixnR0FBZ0csaUJBQWlCO0FBQzNKLDJCQUEyQixzREFBWTtBQUN2QyxXQUFXLGdEQUFLO0FBQ2hCO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsZ0NBQWdDLGlCQUFpQjtBQUNqRDtBQUNBLEtBQUssV0FBVyw4REFBbUIsbUNBQW1DLGNBQWMsdURBQWUsaUNBQWlDLG1DQUFtQztBQUN2SztBQUNBO0FBQ0Esb0NBQW9DLGtFQUFpQixnQkFBZ0IsQ0FBQyw4REFBbUIsb0JBQW9CO0FBQzdHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsa0VBQWlCLDBCQUEwQixDQUFDLG1FQUF3QixrREFBa0Q7QUFDakosNkJBQTZCO0FBQzdCLHVCQUF1QixzRUFBcUI7QUFDNUM7QUFDQTtBQUNBLGNBQWMsMEJBQTBCO0FBQ3hDLGdCQUFnQixnRkFBYztBQUM5QixnQkFBZ0IsNEJBQTRCO0FBQzVDO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsb0VBQXlCO0FBQ2hFO0FBQ0Esb0JBQW9CLG1FQUFnQixnRkFBZ0YseUJBQXlCO0FBQzdJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixrRUFBaUI7QUFDbEMsSUFBSSxtRUFBd0I7QUFDNUIsSUFBSSxtRUFBd0I7QUFDNUIsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsZ0RBQUssVUFBVSxvREFBUyxVQUFVLGlEQUFNO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNzQjtBQUN0QiIsInNvdXJjZXMiOlsiL1VzZXJzL2pvYi9EZXNrdG9wL3Byb2plY3RfeC9wcm9qZWN0LXNxbC1hZ2VudC9zZXJ2aWNlcy9mcm9udGVuZC9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L3ByZWdlbC9sb29wLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVtcHR5SW5wdXRFcnJvciwgR3JhcGhJbnRlcnJ1cHQsIGlzR3JhcGhJbnRlcnJ1cHQgfSBmcm9tIFwiLi4vZXJyb3JzLmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVDaGVja3BvaW50LCBlbXB0eUNoYW5uZWxzIH0gZnJvbSBcIi4uL2NoYW5uZWxzL2Jhc2UuanNcIjtcbmltcG9ydCB7IENIRUNLUE9JTlRfTkFNRVNQQUNFX0VORCwgQ0hFQ0tQT0lOVF9OQU1FU1BBQ0VfU0VQQVJBVE9SLCBDT05GSUdfS0VZX0NIRUNLUE9JTlRfSUQsIENPTkZJR19LRVlfQ0hFQ0tQT0lOVF9NQVAsIENPTkZJR19LRVlfQ0hFQ0tQT0lOVF9OUywgQ09ORklHX0tFWV9SRUFELCBDT05GSUdfS0VZX1JFU1VNRV9NQVAsIENPTkZJR19LRVlfUkVTVU1JTkcsIENPTkZJR19LRVlfU0NSQVRDSFBBRCwgQ09ORklHX0tFWV9TVFJFQU0sIEVSUk9SLCBJTlBVVCwgSU5URVJSVVBULCBOVUxMX1RBU0tfSUQsIFBVU0gsIFJFU1VNRSwgU1RBUlQsIFRBR19ISURERU4sIGlzQ29tbWFuZCB9IGZyb20gXCIuLi9jb25zdGFudHMuanNcIjtcbmltcG9ydCB7IGdhdGhlckl0ZXJhdG9yLCBnYXRoZXJJdGVyYXRvclN5bmMsIHByZWZpeEdlbmVyYXRvciB9IGZyb20gXCIuLi91dGlscy5qc1wiO1xuaW1wb3J0IHsgaXNYWEgzIH0gZnJvbSBcIi4uL2hhc2guanNcIjtcbmltcG9ydCB7IG1hcENvbW1hbmQsIG1hcElucHV0LCBtYXBPdXRwdXRVcGRhdGVzLCBtYXBPdXRwdXRWYWx1ZXMsIHJlYWRDaGFubmVscyB9IGZyb20gXCIuL2lvLmpzXCI7XG5pbXBvcnQgeyBnZXROZXdDaGFubmVsVmVyc2lvbnMsIHBhdGNoQ29uZmlndXJhYmxlIH0gZnJvbSBcIi4vdXRpbHMvaW5kZXguanNcIjtcbmltcG9ydCB7IF9hcHBseVdyaXRlcywgX3ByZXBhcmVOZXh0VGFza3MsIF9wcmVwYXJlU2luZ2xlVGFzaywgaW5jcmVtZW50LCBzaG91bGRJbnRlcnJ1cHQgfSBmcm9tIFwiLi9hbGdvLmpzXCI7XG5pbXBvcnQgeyBtYXBEZWJ1Z0NoZWNrcG9pbnQsIG1hcERlYnVnVGFza1Jlc3VsdHMsIG1hcERlYnVnVGFza3MsIHByaW50U3RlcFRhc2tzIH0gZnJvbSBcIi4vZGVidWcuanNcIjtcbmltcG9ydCB7IEl0ZXJhYmxlUmVhZGFibGVXcml0YWJsZVN0cmVhbSB9IGZyb20gXCIuL3N0cmVhbS5qc1wiO1xuaW1wb3J0IHsgQXN5bmNCYXRjaGVkU3RvcmUsIEJhc2VDYWNoZSwgV1JJVEVTX0lEWF9NQVAsIGNvcHlDaGVja3BvaW50LCBlbXB0eUNoZWNrcG9pbnQgfSBmcm9tIFwiQGxhbmdjaGFpbi9sYW5nZ3JhcGgtY2hlY2twb2ludFwiO1xuXG4vLyNyZWdpb24gc3JjL3ByZWdlbC9sb29wLnRzXG5jb25zdCBJTlBVVF9ET05FID0gU3ltYm9sLmZvcihcIklOUFVUX0RPTkVcIik7XG5jb25zdCBJTlBVVF9SRVNVTUlORyA9IFN5bWJvbC5mb3IoXCJJTlBVVF9SRVNVTUlOR1wiKTtcbmNvbnN0IERFRkFVTFRfTE9PUF9MSU1JVCA9IDI1O1xuZnVuY3Rpb24gY3JlYXRlRHVwbGV4U3RyZWFtKC4uLnN0cmVhbXMpIHtcblx0cmV0dXJuIG5ldyBJdGVyYWJsZVJlYWRhYmxlV3JpdGFibGVTdHJlYW0oe1xuXHRcdHBhc3N0aHJvdWdoRm46ICh2YWx1ZSkgPT4ge1xuXHRcdFx0Zm9yIChjb25zdCBzdHJlYW0gb2Ygc3RyZWFtcykgaWYgKHN0cmVhbS5tb2Rlcy5oYXModmFsdWVbMV0pKSBzdHJlYW0ucHVzaCh2YWx1ZSk7XG5cdFx0fSxcblx0XHRtb2RlczogbmV3IFNldChzdHJlYW1zLmZsYXRNYXAoKHMpID0+IEFycmF5LmZyb20ocy5tb2RlcykpKVxuXHR9KTtcbn1cbnZhciBBc3luY0JhdGNoZWRDYWNoZSA9IGNsYXNzIGV4dGVuZHMgQmFzZUNhY2hlIHtcblx0Y2FjaGU7XG5cdHF1ZXVlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG5cdGNvbnN0cnVjdG9yKGNhY2hlKSB7XG5cdFx0c3VwZXIoKTtcblx0XHR0aGlzLmNhY2hlID0gY2FjaGU7XG5cdH1cblx0YXN5bmMgZ2V0KGtleXMpIHtcblx0XHRyZXR1cm4gdGhpcy5lbnF1ZXVlT3BlcmF0aW9uKFwiZ2V0XCIsIGtleXMpO1xuXHR9XG5cdGFzeW5jIHNldChwYWlycykge1xuXHRcdHJldHVybiB0aGlzLmVucXVldWVPcGVyYXRpb24oXCJzZXRcIiwgcGFpcnMpO1xuXHR9XG5cdGFzeW5jIGNsZWFyKG5hbWVzcGFjZXMpIHtcblx0XHRyZXR1cm4gdGhpcy5lbnF1ZXVlT3BlcmF0aW9uKFwiY2xlYXJcIiwgbmFtZXNwYWNlcyk7XG5cdH1cblx0YXN5bmMgc3RvcCgpIHtcblx0XHRhd2FpdCB0aGlzLnF1ZXVlO1xuXHR9XG5cdGVucXVldWVPcGVyYXRpb24odHlwZSwgLi4uYXJncykge1xuXHRcdGNvbnN0IG5ld1Byb21pc2UgPSB0aGlzLnF1ZXVlLnRoZW4oKCkgPT4ge1xuXHRcdFx0cmV0dXJuIHRoaXMuY2FjaGVbdHlwZV0oLi4uYXJncyk7XG5cdFx0fSk7XG5cdFx0dGhpcy5xdWV1ZSA9IG5ld1Byb21pc2UudGhlbigoKSA9PiB2b2lkIDAsICgpID0+IHZvaWQgMCk7XG5cdFx0cmV0dXJuIG5ld1Byb21pc2U7XG5cdH1cbn07XG52YXIgUHJlZ2VsTG9vcCA9IGNsYXNzIFByZWdlbExvb3Age1xuXHRpbnB1dDtcblx0b3V0cHV0O1xuXHRjb25maWc7XG5cdGNoZWNrcG9pbnRlcjtcblx0Y2hlY2twb2ludGVyR2V0TmV4dFZlcnNpb247XG5cdGNoYW5uZWxzO1xuXHRjaGVja3BvaW50O1xuXHRjaGVja3BvaW50SWRTYXZlZDtcblx0Y2hlY2twb2ludENvbmZpZztcblx0Y2hlY2twb2ludE1ldGFkYXRhO1xuXHRjaGVja3BvaW50TmFtZXNwYWNlO1xuXHRjaGVja3BvaW50UGVuZGluZ1dyaXRlcyA9IFtdO1xuXHRjaGVja3BvaW50UHJldmlvdXNWZXJzaW9ucztcblx0c3RlcDtcblx0c3RvcDtcblx0ZHVyYWJpbGl0eTtcblx0b3V0cHV0S2V5cztcblx0c3RyZWFtS2V5cztcblx0bm9kZXM7XG5cdHNraXBEb25lVGFza3M7XG5cdHByZXZDaGVja3BvaW50Q29uZmlnO1xuXHR1cGRhdGVkQ2hhbm5lbHM7XG5cdHN0YXR1cyA9IFwicGVuZGluZ1wiO1xuXHR0YXNrcyA9IHt9O1xuXHRzdHJlYW07XG5cdGNoZWNrcG9pbnRlclByb21pc2VzID0gW107XG5cdGlzTmVzdGVkO1xuXHRfY2hlY2twb2ludGVyQ2hhaW5lZFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcblx0c3RvcmU7XG5cdGNhY2hlO1xuXHRtYW5hZ2VyO1xuXHRpbnRlcnJ1cHRBZnRlcjtcblx0aW50ZXJydXB0QmVmb3JlO1xuXHR0b0ludGVycnVwdCA9IFtdO1xuXHRkZWJ1ZyA9IGZhbHNlO1xuXHR0cmlnZ2VyVG9Ob2Rlcztcblx0Z2V0IGlzUmVzdW1pbmcoKSB7XG5cdFx0bGV0IGhhc0NoYW5uZWxWZXJzaW9ucyA9IGZhbHNlO1xuXHRcdGlmIChTVEFSVCBpbiB0aGlzLmNoZWNrcG9pbnQuY2hhbm5lbF92ZXJzaW9ucykgaGFzQ2hhbm5lbFZlcnNpb25zID0gdHJ1ZTtcblx0XHRlbHNlIGZvciAoY29uc3QgY2hhbiBpbiB0aGlzLmNoZWNrcG9pbnQuY2hhbm5lbF92ZXJzaW9ucykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmNoZWNrcG9pbnQuY2hhbm5lbF92ZXJzaW9ucywgY2hhbikpIHtcblx0XHRcdGhhc0NoYW5uZWxWZXJzaW9ucyA9IHRydWU7XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdFx0Y29uc3QgY29uZmlnSGFzUmVzdW1pbmdGbGFnID0gdGhpcy5jb25maWcuY29uZmlndXJhYmxlPy5bQ09ORklHX0tFWV9SRVNVTUlOR10gIT09IHZvaWQgMDtcblx0XHRjb25zdCBjb25maWdJc1Jlc3VtaW5nID0gY29uZmlnSGFzUmVzdW1pbmdGbGFnICYmIHRoaXMuY29uZmlnLmNvbmZpZ3VyYWJsZT8uW0NPTkZJR19LRVlfUkVTVU1JTkddO1xuXHRcdGNvbnN0IGlucHV0SXNOdWxsT3JVbmRlZmluZWQgPSB0aGlzLmlucHV0ID09PSBudWxsIHx8IHRoaXMuaW5wdXQgPT09IHZvaWQgMDtcblx0XHRjb25zdCBpbnB1dElzQ29tbWFuZFJlc3VtaW5nID0gaXNDb21tYW5kKHRoaXMuaW5wdXQpICYmIHRoaXMuaW5wdXQucmVzdW1lICE9IG51bGw7XG5cdFx0Y29uc3QgaW5wdXRJc1Jlc3VtaW5nID0gdGhpcy5pbnB1dCA9PT0gSU5QVVRfUkVTVU1JTkc7XG5cdFx0Y29uc3QgcnVuSWRNYXRjaGVzUHJldmlvdXMgPSAhdGhpcy5pc05lc3RlZCAmJiB0aGlzLmNvbmZpZy5tZXRhZGF0YT8ucnVuX2lkICE9PSB2b2lkIDAgJiYgdGhpcy5jaGVja3BvaW50TWV0YWRhdGE/LnJ1bl9pZCAhPT0gdm9pZCAwICYmIHRoaXMuY29uZmlnLm1ldGFkYXRhLnJ1bl9pZCA9PT0gdGhpcy5jaGVja3BvaW50TWV0YWRhdGE/LnJ1bl9pZDtcblx0XHRyZXR1cm4gaGFzQ2hhbm5lbFZlcnNpb25zICYmIChjb25maWdJc1Jlc3VtaW5nIHx8IGlucHV0SXNOdWxsT3JVbmRlZmluZWQgfHwgaW5wdXRJc0NvbW1hbmRSZXN1bWluZyB8fCBpbnB1dElzUmVzdW1pbmcgfHwgcnVuSWRNYXRjaGVzUHJldmlvdXMpO1xuXHR9XG5cdGNvbnN0cnVjdG9yKHBhcmFtcykge1xuXHRcdHRoaXMuaW5wdXQgPSBwYXJhbXMuaW5wdXQ7XG5cdFx0dGhpcy5jaGVja3BvaW50ZXIgPSBwYXJhbXMuY2hlY2twb2ludGVyO1xuXHRcdGlmICh0aGlzLmNoZWNrcG9pbnRlciAhPT0gdm9pZCAwKSB0aGlzLmNoZWNrcG9pbnRlckdldE5leHRWZXJzaW9uID0gdGhpcy5jaGVja3BvaW50ZXIuZ2V0TmV4dFZlcnNpb24uYmluZCh0aGlzLmNoZWNrcG9pbnRlcik7XG5cdFx0ZWxzZSB0aGlzLmNoZWNrcG9pbnRlckdldE5leHRWZXJzaW9uID0gaW5jcmVtZW50O1xuXHRcdHRoaXMuY2hlY2twb2ludCA9IHBhcmFtcy5jaGVja3BvaW50O1xuXHRcdHRoaXMuY2hlY2twb2ludE1ldGFkYXRhID0gcGFyYW1zLmNoZWNrcG9pbnRNZXRhZGF0YTtcblx0XHR0aGlzLmNoZWNrcG9pbnRQcmV2aW91c1ZlcnNpb25zID0gcGFyYW1zLmNoZWNrcG9pbnRQcmV2aW91c1ZlcnNpb25zO1xuXHRcdHRoaXMuY2hhbm5lbHMgPSBwYXJhbXMuY2hhbm5lbHM7XG5cdFx0dGhpcy5jaGVja3BvaW50UGVuZGluZ1dyaXRlcyA9IHBhcmFtcy5jaGVja3BvaW50UGVuZGluZ1dyaXRlcztcblx0XHR0aGlzLnN0ZXAgPSBwYXJhbXMuc3RlcDtcblx0XHR0aGlzLnN0b3AgPSBwYXJhbXMuc3RvcDtcblx0XHR0aGlzLmNvbmZpZyA9IHBhcmFtcy5jb25maWc7XG5cdFx0dGhpcy5jaGVja3BvaW50Q29uZmlnID0gcGFyYW1zLmNoZWNrcG9pbnRDb25maWc7XG5cdFx0dGhpcy5pc05lc3RlZCA9IHBhcmFtcy5pc05lc3RlZDtcblx0XHR0aGlzLm1hbmFnZXIgPSBwYXJhbXMubWFuYWdlcjtcblx0XHR0aGlzLm91dHB1dEtleXMgPSBwYXJhbXMub3V0cHV0S2V5cztcblx0XHR0aGlzLnN0cmVhbUtleXMgPSBwYXJhbXMuc3RyZWFtS2V5cztcblx0XHR0aGlzLm5vZGVzID0gcGFyYW1zLm5vZGVzO1xuXHRcdHRoaXMuc2tpcERvbmVUYXNrcyA9IHBhcmFtcy5za2lwRG9uZVRhc2tzO1xuXHRcdHRoaXMuc3RvcmUgPSBwYXJhbXMuc3RvcmU7XG5cdFx0dGhpcy5jYWNoZSA9IHBhcmFtcy5jYWNoZSA/IG5ldyBBc3luY0JhdGNoZWRDYWNoZShwYXJhbXMuY2FjaGUpIDogdm9pZCAwO1xuXHRcdHRoaXMuc3RyZWFtID0gcGFyYW1zLnN0cmVhbTtcblx0XHR0aGlzLmNoZWNrcG9pbnROYW1lc3BhY2UgPSBwYXJhbXMuY2hlY2twb2ludE5hbWVzcGFjZTtcblx0XHR0aGlzLnByZXZDaGVja3BvaW50Q29uZmlnID0gcGFyYW1zLnByZXZDaGVja3BvaW50Q29uZmlnO1xuXHRcdHRoaXMuaW50ZXJydXB0QWZ0ZXIgPSBwYXJhbXMuaW50ZXJydXB0QWZ0ZXI7XG5cdFx0dGhpcy5pbnRlcnJ1cHRCZWZvcmUgPSBwYXJhbXMuaW50ZXJydXB0QmVmb3JlO1xuXHRcdHRoaXMuZHVyYWJpbGl0eSA9IHBhcmFtcy5kdXJhYmlsaXR5O1xuXHRcdHRoaXMuZGVidWcgPSBwYXJhbXMuZGVidWc7XG5cdFx0dGhpcy50cmlnZ2VyVG9Ob2RlcyA9IHBhcmFtcy50cmlnZ2VyVG9Ob2Rlcztcblx0fVxuXHRzdGF0aWMgYXN5bmMgaW5pdGlhbGl6ZShwYXJhbXMpIHtcblx0XHRsZXQgeyBjb25maWcsIHN0cmVhbSB9ID0gcGFyYW1zO1xuXHRcdGlmIChzdHJlYW0gIT09IHZvaWQgMCAmJiBjb25maWcuY29uZmlndXJhYmxlPy5bQ09ORklHX0tFWV9TVFJFQU1dICE9PSB2b2lkIDApIHN0cmVhbSA9IGNyZWF0ZUR1cGxleFN0cmVhbShzdHJlYW0sIGNvbmZpZy5jb25maWd1cmFibGVbQ09ORklHX0tFWV9TVFJFQU1dKTtcblx0XHRjb25zdCBza2lwRG9uZVRhc2tzID0gY29uZmlnLmNvbmZpZ3VyYWJsZSA/ICEoXCJjaGVja3BvaW50X2lkXCIgaW4gY29uZmlnLmNvbmZpZ3VyYWJsZSkgOiB0cnVlO1xuXHRcdGNvbnN0IHNjcmF0Y2hwYWQgPSBjb25maWcuY29uZmlndXJhYmxlPy5bQ09ORklHX0tFWV9TQ1JBVENIUEFEXTtcblx0XHRpZiAoY29uZmlnLmNvbmZpZ3VyYWJsZSAmJiBzY3JhdGNocGFkKSB7XG5cdFx0XHRpZiAoc2NyYXRjaHBhZC5zdWJncmFwaENvdW50ZXIgPiAwKSBjb25maWcgPSBwYXRjaENvbmZpZ3VyYWJsZShjb25maWcsIHsgW0NPTkZJR19LRVlfQ0hFQ0tQT0lOVF9OU106IFtjb25maWcuY29uZmlndXJhYmxlW0NPTkZJR19LRVlfQ0hFQ0tQT0lOVF9OU10sIHNjcmF0Y2hwYWQuc3ViZ3JhcGhDb3VudGVyLnRvU3RyaW5nKCldLmpvaW4oQ0hFQ0tQT0lOVF9OQU1FU1BBQ0VfU0VQQVJBVE9SKSB9KTtcblx0XHRcdHNjcmF0Y2hwYWQuc3ViZ3JhcGhDb3VudGVyICs9IDE7XG5cdFx0fVxuXHRcdGNvbnN0IGlzTmVzdGVkID0gQ09ORklHX0tFWV9SRUFEIGluIChjb25maWcuY29uZmlndXJhYmxlID8/IHt9KTtcblx0XHRpZiAoIWlzTmVzdGVkICYmIGNvbmZpZy5jb25maWd1cmFibGU/LmNoZWNrcG9pbnRfbnMgIT09IHZvaWQgMCAmJiBjb25maWcuY29uZmlndXJhYmxlPy5jaGVja3BvaW50X25zICE9PSBcIlwiKSBjb25maWcgPSBwYXRjaENvbmZpZ3VyYWJsZShjb25maWcsIHtcblx0XHRcdGNoZWNrcG9pbnRfbnM6IFwiXCIsXG5cdFx0XHRjaGVja3BvaW50X2lkOiB2b2lkIDBcblx0XHR9KTtcblx0XHRsZXQgY2hlY2twb2ludENvbmZpZyA9IGNvbmZpZztcblx0XHRpZiAoY29uZmlnLmNvbmZpZ3VyYWJsZT8uW0NPTkZJR19LRVlfQ0hFQ0tQT0lOVF9NQVBdICE9PSB2b2lkIDAgJiYgY29uZmlnLmNvbmZpZ3VyYWJsZT8uW0NPTkZJR19LRVlfQ0hFQ0tQT0lOVF9NQVBdPy5bY29uZmlnLmNvbmZpZ3VyYWJsZT8uY2hlY2twb2ludF9uc10pIGNoZWNrcG9pbnRDb25maWcgPSBwYXRjaENvbmZpZ3VyYWJsZShjb25maWcsIHsgY2hlY2twb2ludF9pZDogY29uZmlnLmNvbmZpZ3VyYWJsZVtDT05GSUdfS0VZX0NIRUNLUE9JTlRfTUFQXVtjb25maWcuY29uZmlndXJhYmxlPy5jaGVja3BvaW50X25zXSB9KTtcblx0XHRjb25zdCBjaGVja3BvaW50TmFtZXNwYWNlID0gY29uZmlnLmNvbmZpZ3VyYWJsZT8uY2hlY2twb2ludF9ucz8uc3BsaXQoQ0hFQ0tQT0lOVF9OQU1FU1BBQ0VfU0VQQVJBVE9SKSA/PyBbXTtcblx0XHRjb25zdCBzYXZlZCA9IGF3YWl0IHBhcmFtcy5jaGVja3BvaW50ZXI/LmdldFR1cGxlKGNoZWNrcG9pbnRDb25maWcpID8/IHtcblx0XHRcdGNvbmZpZyxcblx0XHRcdGNoZWNrcG9pbnQ6IGVtcHR5Q2hlY2twb2ludCgpLFxuXHRcdFx0bWV0YWRhdGE6IHtcblx0XHRcdFx0c291cmNlOiBcImlucHV0XCIsXG5cdFx0XHRcdHN0ZXA6IC0yLFxuXHRcdFx0XHRwYXJlbnRzOiB7fVxuXHRcdFx0fSxcblx0XHRcdHBlbmRpbmdXcml0ZXM6IFtdXG5cdFx0fTtcblx0XHRjaGVja3BvaW50Q29uZmlnID0ge1xuXHRcdFx0Li4uY29uZmlnLFxuXHRcdFx0Li4uc2F2ZWQuY29uZmlnLFxuXHRcdFx0Y29uZmlndXJhYmxlOiB7XG5cdFx0XHRcdGNoZWNrcG9pbnRfbnM6IFwiXCIsXG5cdFx0XHRcdC4uLmNvbmZpZy5jb25maWd1cmFibGUsXG5cdFx0XHRcdC4uLnNhdmVkLmNvbmZpZy5jb25maWd1cmFibGVcblx0XHRcdH1cblx0XHR9O1xuXHRcdGNvbnN0IHByZXZDaGVja3BvaW50Q29uZmlnID0gc2F2ZWQucGFyZW50Q29uZmlnO1xuXHRcdGNvbnN0IGNoZWNrcG9pbnQgPSBjb3B5Q2hlY2twb2ludChzYXZlZC5jaGVja3BvaW50KTtcblx0XHRjb25zdCBjaGVja3BvaW50TWV0YWRhdGEgPSB7IC4uLnNhdmVkLm1ldGFkYXRhIH07XG5cdFx0Y29uc3QgY2hlY2twb2ludFBlbmRpbmdXcml0ZXMgPSBzYXZlZC5wZW5kaW5nV3JpdGVzID8/IFtdO1xuXHRcdGNvbnN0IGNoYW5uZWxzID0gZW1wdHlDaGFubmVscyhwYXJhbXMuY2hhbm5lbFNwZWNzLCBjaGVja3BvaW50KTtcblx0XHRjb25zdCBzdGVwID0gKGNoZWNrcG9pbnRNZXRhZGF0YS5zdGVwID8/IDApICsgMTtcblx0XHRjb25zdCBzdG9wID0gc3RlcCArIChjb25maWcucmVjdXJzaW9uTGltaXQgPz8gREVGQVVMVF9MT09QX0xJTUlUKSArIDE7XG5cdFx0Y29uc3QgY2hlY2twb2ludFByZXZpb3VzVmVyc2lvbnMgPSB7IC4uLmNoZWNrcG9pbnQuY2hhbm5lbF92ZXJzaW9ucyB9O1xuXHRcdGNvbnN0IHN0b3JlID0gcGFyYW1zLnN0b3JlID8gbmV3IEFzeW5jQmF0Y2hlZFN0b3JlKHBhcmFtcy5zdG9yZSkgOiB2b2lkIDA7XG5cdFx0aWYgKHN0b3JlKSBhd2FpdCBzdG9yZS5zdGFydCgpO1xuXHRcdHJldHVybiBuZXcgUHJlZ2VsTG9vcCh7XG5cdFx0XHRpbnB1dDogcGFyYW1zLmlucHV0LFxuXHRcdFx0Y29uZmlnLFxuXHRcdFx0Y2hlY2twb2ludGVyOiBwYXJhbXMuY2hlY2twb2ludGVyLFxuXHRcdFx0Y2hlY2twb2ludCxcblx0XHRcdGNoZWNrcG9pbnRNZXRhZGF0YSxcblx0XHRcdGNoZWNrcG9pbnRDb25maWcsXG5cdFx0XHRwcmV2Q2hlY2twb2ludENvbmZpZyxcblx0XHRcdGNoZWNrcG9pbnROYW1lc3BhY2UsXG5cdFx0XHRjaGFubmVscyxcblx0XHRcdGlzTmVzdGVkLFxuXHRcdFx0bWFuYWdlcjogcGFyYW1zLm1hbmFnZXIsXG5cdFx0XHRza2lwRG9uZVRhc2tzLFxuXHRcdFx0c3RlcCxcblx0XHRcdHN0b3AsXG5cdFx0XHRjaGVja3BvaW50UHJldmlvdXNWZXJzaW9ucyxcblx0XHRcdGNoZWNrcG9pbnRQZW5kaW5nV3JpdGVzLFxuXHRcdFx0b3V0cHV0S2V5czogcGFyYW1zLm91dHB1dEtleXMgPz8gW10sXG5cdFx0XHRzdHJlYW1LZXlzOiBwYXJhbXMuc3RyZWFtS2V5cyA/PyBbXSxcblx0XHRcdG5vZGVzOiBwYXJhbXMubm9kZXMsXG5cdFx0XHRzdHJlYW0sXG5cdFx0XHRzdG9yZSxcblx0XHRcdGNhY2hlOiBwYXJhbXMuY2FjaGUsXG5cdFx0XHRpbnRlcnJ1cHRBZnRlcjogcGFyYW1zLmludGVycnVwdEFmdGVyLFxuXHRcdFx0aW50ZXJydXB0QmVmb3JlOiBwYXJhbXMuaW50ZXJydXB0QmVmb3JlLFxuXHRcdFx0ZHVyYWJpbGl0eTogcGFyYW1zLmR1cmFiaWxpdHksXG5cdFx0XHRkZWJ1ZzogcGFyYW1zLmRlYnVnLFxuXHRcdFx0dHJpZ2dlclRvTm9kZXM6IHBhcmFtcy50cmlnZ2VyVG9Ob2Rlc1xuXHRcdH0pO1xuXHR9XG5cdF9jaGVja3BvaW50ZXJQdXRBZnRlclByZXZpb3VzKGlucHV0KSB7XG5cdFx0dGhpcy5fY2hlY2twb2ludGVyQ2hhaW5lZFByb21pc2UgPSB0aGlzLl9jaGVja3BvaW50ZXJDaGFpbmVkUHJvbWlzZS50aGVuKCgpID0+IHtcblx0XHRcdHJldHVybiB0aGlzLmNoZWNrcG9pbnRlcj8ucHV0KGlucHV0LmNvbmZpZywgaW5wdXQuY2hlY2twb2ludCwgaW5wdXQubWV0YWRhdGEsIGlucHV0Lm5ld1ZlcnNpb25zKTtcblx0XHR9KTtcblx0XHR0aGlzLmNoZWNrcG9pbnRlclByb21pc2VzLnB1c2godGhpcy5fY2hlY2twb2ludGVyQ2hhaW5lZFByb21pc2UpO1xuXHR9XG5cdC8qKlxuXHQqIFB1dCB3cml0ZXMgZm9yIGEgdGFzaywgdG8gYmUgcmVhZCBieSB0aGUgbmV4dCB0aWNrLlxuXHQqIEBwYXJhbSB0YXNrSWRcblx0KiBAcGFyYW0gd3JpdGVzXG5cdCovXG5cdHB1dFdyaXRlcyh0YXNrSWQsIHdyaXRlcykge1xuXHRcdGxldCB3cml0ZXNDb3B5ID0gd3JpdGVzO1xuXHRcdGlmICh3cml0ZXNDb3B5Lmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXHRcdGlmICh3cml0ZXNDb3B5LmV2ZXJ5KChba2V5XSkgPT4ga2V5IGluIFdSSVRFU19JRFhfTUFQKSkgd3JpdGVzQ29weSA9IEFycmF5LmZyb20obmV3IE1hcCh3cml0ZXNDb3B5Lm1hcCgodykgPT4gW3dbMF0sIHddKSkudmFsdWVzKCkpO1xuXHRcdHRoaXMuY2hlY2twb2ludFBlbmRpbmdXcml0ZXMgPSB0aGlzLmNoZWNrcG9pbnRQZW5kaW5nV3JpdGVzLmZpbHRlcigodykgPT4gd1swXSAhPT0gdGFza0lkKTtcblx0XHRmb3IgKGNvbnN0IFtjLCB2XSBvZiB3cml0ZXNDb3B5KSB0aGlzLmNoZWNrcG9pbnRQZW5kaW5nV3JpdGVzLnB1c2goW1xuXHRcdFx0dGFza0lkLFxuXHRcdFx0Yyxcblx0XHRcdHZcblx0XHRdKTtcblx0XHRjb25zdCBjb25maWcgPSBwYXRjaENvbmZpZ3VyYWJsZSh0aGlzLmNoZWNrcG9pbnRDb25maWcsIHtcblx0XHRcdFtDT05GSUdfS0VZX0NIRUNLUE9JTlRfTlNdOiB0aGlzLmNvbmZpZy5jb25maWd1cmFibGU/LmNoZWNrcG9pbnRfbnMgPz8gXCJcIixcblx0XHRcdFtDT05GSUdfS0VZX0NIRUNLUE9JTlRfSURdOiB0aGlzLmNoZWNrcG9pbnQuaWRcblx0XHR9KTtcblx0XHRpZiAodGhpcy5kdXJhYmlsaXR5ICE9PSBcImV4aXRcIiAmJiB0aGlzLmNoZWNrcG9pbnRlciAhPSBudWxsKSB0aGlzLmNoZWNrcG9pbnRlclByb21pc2VzLnB1c2godGhpcy5jaGVja3BvaW50ZXIucHV0V3JpdGVzKGNvbmZpZywgd3JpdGVzQ29weSwgdGFza0lkKSk7XG5cdFx0aWYgKHRoaXMudGFza3MpIHRoaXMuX291dHB1dFdyaXRlcyh0YXNrSWQsIHdyaXRlc0NvcHkpO1xuXHRcdGlmICghd3JpdGVzLmxlbmd0aCB8fCAhdGhpcy5jYWNoZSB8fCAhdGhpcy50YXNrcykgcmV0dXJuO1xuXHRcdGNvbnN0IHRhc2sgPSB0aGlzLnRhc2tzW3Rhc2tJZF07XG5cdFx0aWYgKHRhc2sgPT0gbnVsbCB8fCB0YXNrLmNhY2hlX2tleSA9PSBudWxsKSByZXR1cm47XG5cdFx0aWYgKHdyaXRlc1swXVswXSA9PT0gRVJST1IgfHwgd3JpdGVzWzBdWzBdID09PSBJTlRFUlJVUFQpIHJldHVybjtcblx0XHR0aGlzLmNhY2hlLnNldChbe1xuXHRcdFx0a2V5OiBbdGFzay5jYWNoZV9rZXkubnMsIHRhc2suY2FjaGVfa2V5LmtleV0sXG5cdFx0XHR2YWx1ZTogdGFzay53cml0ZXMsXG5cdFx0XHR0dGw6IHRhc2suY2FjaGVfa2V5LnR0bFxuXHRcdH1dKTtcblx0fVxuXHRfb3V0cHV0V3JpdGVzKHRhc2tJZCwgd3JpdGVzLCBjYWNoZWQgPSBmYWxzZSkge1xuXHRcdGNvbnN0IHRhc2sgPSB0aGlzLnRhc2tzW3Rhc2tJZF07XG5cdFx0aWYgKHRhc2sgIT09IHZvaWQgMCkge1xuXHRcdFx0aWYgKHRhc2suY29uZmlnICE9PSB2b2lkIDAgJiYgKHRhc2suY29uZmlnLnRhZ3MgPz8gW10pLmluY2x1ZGVzKFRBR19ISURERU4pKSByZXR1cm47XG5cdFx0XHRpZiAod3JpdGVzLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0aWYgKHdyaXRlc1swXVswXSA9PT0gSU5URVJSVVBUKSB7XG5cdFx0XHRcdFx0aWYgKHRhc2sucGF0aD8uWzBdID09PSBQVVNIICYmIHRhc2sucGF0aD8uYXQoLTEpID09PSB0cnVlKSByZXR1cm47XG5cdFx0XHRcdFx0Y29uc3QgaW50ZXJydXB0V3JpdGVzID0gd3JpdGVzLmZpbHRlcigodykgPT4gd1swXSA9PT0gSU5URVJSVVBUKS5mbGF0TWFwKCh3KSA9PiB3WzFdKTtcblx0XHRcdFx0XHR0aGlzLl9lbWl0KFtbXCJ1cGRhdGVzXCIsIHsgW0lOVEVSUlVQVF06IGludGVycnVwdFdyaXRlcyB9XSwgW1widmFsdWVzXCIsIHsgW0lOVEVSUlVQVF06IGludGVycnVwdFdyaXRlcyB9XV0pO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHdyaXRlc1swXVswXSAhPT0gRVJST1IpIHRoaXMuX2VtaXQoZ2F0aGVySXRlcmF0b3JTeW5jKHByZWZpeEdlbmVyYXRvcihtYXBPdXRwdXRVcGRhdGVzKHRoaXMub3V0cHV0S2V5cywgW1t0YXNrLCB3cml0ZXNdXSwgY2FjaGVkKSwgXCJ1cGRhdGVzXCIpKSk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIWNhY2hlZCkgdGhpcy5fZW1pdChnYXRoZXJJdGVyYXRvclN5bmMocHJlZml4R2VuZXJhdG9yKG1hcERlYnVnVGFza1Jlc3VsdHMoW1t0YXNrLCB3cml0ZXNdXSwgdGhpcy5zdHJlYW1LZXlzKSwgXCJ0YXNrc1wiKSkpO1xuXHRcdH1cblx0fVxuXHRhc3luYyBfbWF0Y2hDYWNoZWRXcml0ZXMoKSB7XG5cdFx0aWYgKCF0aGlzLmNhY2hlKSByZXR1cm4gW107XG5cdFx0Y29uc3QgbWF0Y2hlZCA9IFtdO1xuXHRcdGNvbnN0IHNlcmlhbGl6ZUtleSA9IChbbnMsIGtleV0pID0+IHtcblx0XHRcdHJldHVybiBgbnM6JHtucy5qb2luKFwiLFwiKX18a2V5OiR7a2V5fWA7XG5cdFx0fTtcblx0XHRjb25zdCBrZXlzID0gW107XG5cdFx0Y29uc3Qga2V5TWFwID0ge307XG5cdFx0Zm9yIChjb25zdCB0YXNrIG9mIE9iamVjdC52YWx1ZXModGhpcy50YXNrcykpIGlmICh0YXNrLmNhY2hlX2tleSAhPSBudWxsICYmICF0YXNrLndyaXRlcy5sZW5ndGgpIHtcblx0XHRcdGtleXMucHVzaChbdGFzay5jYWNoZV9rZXkubnMsIHRhc2suY2FjaGVfa2V5LmtleV0pO1xuXHRcdFx0a2V5TWFwW3NlcmlhbGl6ZUtleShbdGFzay5jYWNoZV9rZXkubnMsIHRhc2suY2FjaGVfa2V5LmtleV0pXSA9IHRhc2s7XG5cdFx0fVxuXHRcdGlmIChrZXlzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIFtdO1xuXHRcdGNvbnN0IGNhY2hlID0gYXdhaXQgdGhpcy5jYWNoZS5nZXQoa2V5cyk7XG5cdFx0Zm9yIChjb25zdCB7IGtleSwgdmFsdWUgfSBvZiBjYWNoZSkge1xuXHRcdFx0Y29uc3QgdGFzayA9IGtleU1hcFtzZXJpYWxpemVLZXkoa2V5KV07XG5cdFx0XHRpZiAodGFzayAhPSBudWxsKSB7XG5cdFx0XHRcdHRhc2sud3JpdGVzLnB1c2goLi4udmFsdWUpO1xuXHRcdFx0XHRtYXRjaGVkLnB1c2goe1xuXHRcdFx0XHRcdHRhc2ssXG5cdFx0XHRcdFx0cmVzdWx0OiB2YWx1ZVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIG1hdGNoZWQ7XG5cdH1cblx0LyoqXG5cdCogRXhlY3V0ZSBhIHNpbmdsZSBpdGVyYXRpb24gb2YgdGhlIFByZWdlbCBsb29wLlxuXHQqIFJldHVybnMgdHJ1ZSBpZiBtb3JlIGl0ZXJhdGlvbnMgYXJlIG5lZWRlZC5cblx0KiBAcGFyYW0gcGFyYW1zXG5cdCovXG5cdGFzeW5jIHRpY2socGFyYW1zKSB7XG5cdFx0aWYgKHRoaXMuc3RvcmUgJiYgIXRoaXMuc3RvcmUuaXNSdW5uaW5nKSBhd2FpdCB0aGlzLnN0b3JlPy5zdGFydCgpO1xuXHRcdGNvbnN0IHsgaW5wdXRLZXlzID0gW10gfSA9IHBhcmFtcztcblx0XHRpZiAodGhpcy5zdGF0dXMgIT09IFwicGVuZGluZ1wiKSB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCB0aWNrIHdoZW4gc3RhdHVzIGlzIG5vIGxvbmdlciBcInBlbmRpbmdcIi4gQ3VycmVudCBzdGF0dXM6IFwiJHt0aGlzLnN0YXR1c31cImApO1xuXHRcdGlmICghW0lOUFVUX0RPTkUsIElOUFVUX1JFU1VNSU5HXS5pbmNsdWRlcyh0aGlzLmlucHV0KSkgYXdhaXQgdGhpcy5fZmlyc3QoaW5wdXRLZXlzKTtcblx0XHRlbHNlIGlmICh0aGlzLnRvSW50ZXJydXB0Lmxlbmd0aCA+IDApIHtcblx0XHRcdHRoaXMuc3RhdHVzID0gXCJpbnRlcnJ1cHRfYmVmb3JlXCI7XG5cdFx0XHR0aHJvdyBuZXcgR3JhcGhJbnRlcnJ1cHQoKTtcblx0XHR9IGVsc2UgaWYgKE9iamVjdC52YWx1ZXModGhpcy50YXNrcykuZXZlcnkoKHRhc2spID0+IHRhc2sud3JpdGVzLmxlbmd0aCA+IDApKSB7XG5cdFx0XHRjb25zdCB3cml0ZXMgPSBPYmplY3QudmFsdWVzKHRoaXMudGFza3MpLmZsYXRNYXAoKHQpID0+IHQud3JpdGVzKTtcblx0XHRcdHRoaXMudXBkYXRlZENoYW5uZWxzID0gX2FwcGx5V3JpdGVzKHRoaXMuY2hlY2twb2ludCwgdGhpcy5jaGFubmVscywgT2JqZWN0LnZhbHVlcyh0aGlzLnRhc2tzKSwgdGhpcy5jaGVja3BvaW50ZXJHZXROZXh0VmVyc2lvbiwgdGhpcy50cmlnZ2VyVG9Ob2Rlcyk7XG5cdFx0XHRjb25zdCB2YWx1ZXNPdXRwdXQgPSBhd2FpdCBnYXRoZXJJdGVyYXRvcihwcmVmaXhHZW5lcmF0b3IobWFwT3V0cHV0VmFsdWVzKHRoaXMub3V0cHV0S2V5cywgd3JpdGVzLCB0aGlzLmNoYW5uZWxzKSwgXCJ2YWx1ZXNcIikpO1xuXHRcdFx0dGhpcy5fZW1pdCh2YWx1ZXNPdXRwdXQpO1xuXHRcdFx0dGhpcy5jaGVja3BvaW50UGVuZGluZ1dyaXRlcyA9IFtdO1xuXHRcdFx0YXdhaXQgdGhpcy5fcHV0Q2hlY2twb2ludCh7IHNvdXJjZTogXCJsb29wXCIgfSk7XG5cdFx0XHRpZiAoc2hvdWxkSW50ZXJydXB0KHRoaXMuY2hlY2twb2ludCwgdGhpcy5pbnRlcnJ1cHRBZnRlciwgT2JqZWN0LnZhbHVlcyh0aGlzLnRhc2tzKSkpIHtcblx0XHRcdFx0dGhpcy5zdGF0dXMgPSBcImludGVycnVwdF9hZnRlclwiO1xuXHRcdFx0XHR0aHJvdyBuZXcgR3JhcGhJbnRlcnJ1cHQoKTtcblx0XHRcdH1cblx0XHRcdGlmICh0aGlzLmNvbmZpZy5jb25maWd1cmFibGU/LltDT05GSUdfS0VZX1JFU1VNSU5HXSAhPT0gdm9pZCAwKSBkZWxldGUgdGhpcy5jb25maWcuY29uZmlndXJhYmxlPy5bQ09ORklHX0tFWV9SRVNVTUlOR107XG5cdFx0fSBlbHNlIHJldHVybiBmYWxzZTtcblx0XHRpZiAodGhpcy5zdGVwID4gdGhpcy5zdG9wKSB7XG5cdFx0XHR0aGlzLnN0YXR1cyA9IFwib3V0X29mX3N0ZXBzXCI7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcdGNvbnN0IG5leHRUYXNrcyA9IF9wcmVwYXJlTmV4dFRhc2tzKHRoaXMuY2hlY2twb2ludCwgdGhpcy5jaGVja3BvaW50UGVuZGluZ1dyaXRlcywgdGhpcy5ub2RlcywgdGhpcy5jaGFubmVscywgdGhpcy5jb25maWcsIHRydWUsIHtcblx0XHRcdHN0ZXA6IHRoaXMuc3RlcCxcblx0XHRcdGNoZWNrcG9pbnRlcjogdGhpcy5jaGVja3BvaW50ZXIsXG5cdFx0XHRpc1Jlc3VtaW5nOiB0aGlzLmlzUmVzdW1pbmcsXG5cdFx0XHRtYW5hZ2VyOiB0aGlzLm1hbmFnZXIsXG5cdFx0XHRzdG9yZTogdGhpcy5zdG9yZSxcblx0XHRcdHN0cmVhbTogdGhpcy5zdHJlYW0sXG5cdFx0XHR0cmlnZ2VyVG9Ob2RlczogdGhpcy50cmlnZ2VyVG9Ob2Rlcyxcblx0XHRcdHVwZGF0ZWRDaGFubmVsczogdGhpcy51cGRhdGVkQ2hhbm5lbHNcblx0XHR9KTtcblx0XHR0aGlzLnRhc2tzID0gbmV4dFRhc2tzO1xuXHRcdGlmICh0aGlzLmNoZWNrcG9pbnRlcikgdGhpcy5fZW1pdChhd2FpdCBnYXRoZXJJdGVyYXRvcihwcmVmaXhHZW5lcmF0b3IobWFwRGVidWdDaGVja3BvaW50KHRoaXMuY2hlY2twb2ludENvbmZpZywgdGhpcy5jaGFubmVscywgdGhpcy5zdHJlYW1LZXlzLCB0aGlzLmNoZWNrcG9pbnRNZXRhZGF0YSwgT2JqZWN0LnZhbHVlcyh0aGlzLnRhc2tzKSwgdGhpcy5jaGVja3BvaW50UGVuZGluZ1dyaXRlcywgdGhpcy5wcmV2Q2hlY2twb2ludENvbmZpZywgdGhpcy5vdXRwdXRLZXlzKSwgXCJjaGVja3BvaW50c1wiKSkpO1xuXHRcdGlmIChPYmplY3QudmFsdWVzKHRoaXMudGFza3MpLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0dGhpcy5zdGF0dXMgPSBcImRvbmVcIjtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0aWYgKHRoaXMuc2tpcERvbmVUYXNrcyAmJiB0aGlzLmNoZWNrcG9pbnRQZW5kaW5nV3JpdGVzLmxlbmd0aCA+IDApIHtcblx0XHRcdGZvciAoY29uc3QgW3RpZCwgaywgdl0gb2YgdGhpcy5jaGVja3BvaW50UGVuZGluZ1dyaXRlcykge1xuXHRcdFx0XHRpZiAoayA9PT0gRVJST1IgfHwgayA9PT0gSU5URVJSVVBUIHx8IGsgPT09IFJFU1VNRSkgY29udGludWU7XG5cdFx0XHRcdGNvbnN0IHRhc2sgPSBPYmplY3QudmFsdWVzKHRoaXMudGFza3MpLmZpbmQoKHQpID0+IHQuaWQgPT09IHRpZCk7XG5cdFx0XHRcdGlmICh0YXNrKSB0YXNrLndyaXRlcy5wdXNoKFtrLCB2XSk7XG5cdFx0XHR9XG5cdFx0XHRmb3IgKGNvbnN0IHRhc2sgb2YgT2JqZWN0LnZhbHVlcyh0aGlzLnRhc2tzKSkgaWYgKHRhc2sud3JpdGVzLmxlbmd0aCA+IDApIHRoaXMuX291dHB1dFdyaXRlcyh0YXNrLmlkLCB0YXNrLndyaXRlcywgdHJ1ZSk7XG5cdFx0fVxuXHRcdGlmIChPYmplY3QudmFsdWVzKHRoaXMudGFza3MpLmV2ZXJ5KCh0YXNrKSA9PiB0YXNrLndyaXRlcy5sZW5ndGggPiAwKSkgcmV0dXJuIHRoaXMudGljayh7IGlucHV0S2V5cyB9KTtcblx0XHRpZiAoc2hvdWxkSW50ZXJydXB0KHRoaXMuY2hlY2twb2ludCwgdGhpcy5pbnRlcnJ1cHRCZWZvcmUsIE9iamVjdC52YWx1ZXModGhpcy50YXNrcykpKSB7XG5cdFx0XHR0aGlzLnN0YXR1cyA9IFwiaW50ZXJydXB0X2JlZm9yZVwiO1xuXHRcdFx0dGhyb3cgbmV3IEdyYXBoSW50ZXJydXB0KCk7XG5cdFx0fVxuXHRcdGNvbnN0IGRlYnVnT3V0cHV0ID0gYXdhaXQgZ2F0aGVySXRlcmF0b3IocHJlZml4R2VuZXJhdG9yKG1hcERlYnVnVGFza3MoT2JqZWN0LnZhbHVlcyh0aGlzLnRhc2tzKSksIFwidGFza3NcIikpO1xuXHRcdHRoaXMuX2VtaXQoZGVidWdPdXRwdXQpO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cdGFzeW5jIGZpbmlzaEFuZEhhbmRsZUVycm9yKGVycm9yKSB7XG5cdFx0aWYgKHRoaXMuZHVyYWJpbGl0eSA9PT0gXCJleGl0XCIgJiYgKCF0aGlzLmlzTmVzdGVkIHx8IHR5cGVvZiBlcnJvciAhPT0gXCJ1bmRlZmluZWRcIiB8fCB0aGlzLmNoZWNrcG9pbnROYW1lc3BhY2UuZXZlcnkoKHBhcnQpID0+ICFwYXJ0LmluY2x1ZGVzKENIRUNLUE9JTlRfTkFNRVNQQUNFX0VORCkpKSkge1xuXHRcdFx0dGhpcy5fcHV0Q2hlY2twb2ludCh0aGlzLmNoZWNrcG9pbnRNZXRhZGF0YSk7XG5cdFx0XHR0aGlzLl9mbHVzaFBlbmRpbmdXcml0ZXMoKTtcblx0XHR9XG5cdFx0Y29uc3Qgc3VwcHJlc3MgPSB0aGlzLl9zdXBwcmVzc0ludGVycnVwdChlcnJvcik7XG5cdFx0aWYgKHN1cHByZXNzIHx8IGVycm9yID09PSB2b2lkIDApIHRoaXMub3V0cHV0ID0gcmVhZENoYW5uZWxzKHRoaXMuY2hhbm5lbHMsIHRoaXMub3V0cHV0S2V5cyk7XG5cdFx0aWYgKHN1cHByZXNzKSB7XG5cdFx0XHRpZiAodGhpcy50YXNrcyAhPT0gdm9pZCAwICYmIHRoaXMuY2hlY2twb2ludFBlbmRpbmdXcml0ZXMubGVuZ3RoID4gMCAmJiBPYmplY3QudmFsdWVzKHRoaXMudGFza3MpLnNvbWUoKHRhc2spID0+IHRhc2sud3JpdGVzLmxlbmd0aCA+IDApKSB7XG5cdFx0XHRcdHRoaXMudXBkYXRlZENoYW5uZWxzID0gX2FwcGx5V3JpdGVzKHRoaXMuY2hlY2twb2ludCwgdGhpcy5jaGFubmVscywgT2JqZWN0LnZhbHVlcyh0aGlzLnRhc2tzKSwgdGhpcy5jaGVja3BvaW50ZXJHZXROZXh0VmVyc2lvbiwgdGhpcy50cmlnZ2VyVG9Ob2Rlcyk7XG5cdFx0XHRcdHRoaXMuX2VtaXQoZ2F0aGVySXRlcmF0b3JTeW5jKHByZWZpeEdlbmVyYXRvcihtYXBPdXRwdXRWYWx1ZXModGhpcy5vdXRwdXRLZXlzLCBPYmplY3QudmFsdWVzKHRoaXMudGFza3MpLmZsYXRNYXAoKHQpID0+IHQud3JpdGVzKSwgdGhpcy5jaGFubmVscyksIFwidmFsdWVzXCIpKSk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoaXNHcmFwaEludGVycnVwdChlcnJvcikgJiYgIWVycm9yLmludGVycnVwdHMubGVuZ3RoKSB0aGlzLl9lbWl0KFtbXCJ1cGRhdGVzXCIsIHsgW0lOVEVSUlVQVF06IFtdIH1dLCBbXCJ2YWx1ZXNcIiwgeyBbSU5URVJSVVBUXTogW10gfV1dKTtcblx0XHR9XG5cdFx0cmV0dXJuIHN1cHByZXNzO1xuXHR9XG5cdGFzeW5jIGFjY2VwdFB1c2godGFzaywgd3JpdGVJZHgsIGNhbGwpIHtcblx0XHRpZiAodGhpcy5pbnRlcnJ1cHRBZnRlcj8ubGVuZ3RoID4gMCAmJiBzaG91bGRJbnRlcnJ1cHQodGhpcy5jaGVja3BvaW50LCB0aGlzLmludGVycnVwdEFmdGVyLCBbdGFza10pKSB7XG5cdFx0XHR0aGlzLnRvSW50ZXJydXB0LnB1c2godGFzayk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGNvbnN0IHB1c2hlZCA9IF9wcmVwYXJlU2luZ2xlVGFzayhbXG5cdFx0XHRQVVNILFxuXHRcdFx0dGFzay5wYXRoID8/IFtdLFxuXHRcdFx0d3JpdGVJZHgsXG5cdFx0XHR0YXNrLmlkLFxuXHRcdFx0Y2FsbFxuXHRcdF0sIHRoaXMuY2hlY2twb2ludCwgdGhpcy5jaGVja3BvaW50UGVuZGluZ1dyaXRlcywgdGhpcy5ub2RlcywgdGhpcy5jaGFubmVscywgdGFzay5jb25maWcgPz8ge30sIHRydWUsIHtcblx0XHRcdHN0ZXA6IHRoaXMuc3RlcCxcblx0XHRcdGNoZWNrcG9pbnRlcjogdGhpcy5jaGVja3BvaW50ZXIsXG5cdFx0XHRtYW5hZ2VyOiB0aGlzLm1hbmFnZXIsXG5cdFx0XHRzdG9yZTogdGhpcy5zdG9yZSxcblx0XHRcdHN0cmVhbTogdGhpcy5zdHJlYW1cblx0XHR9KTtcblx0XHRpZiAoIXB1c2hlZCkgcmV0dXJuO1xuXHRcdGlmICh0aGlzLmludGVycnVwdEJlZm9yZT8ubGVuZ3RoID4gMCAmJiBzaG91bGRJbnRlcnJ1cHQodGhpcy5jaGVja3BvaW50LCB0aGlzLmludGVycnVwdEJlZm9yZSwgW3B1c2hlZF0pKSB7XG5cdFx0XHR0aGlzLnRvSW50ZXJydXB0LnB1c2gocHVzaGVkKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0dGhpcy5fZW1pdChnYXRoZXJJdGVyYXRvclN5bmMocHJlZml4R2VuZXJhdG9yKG1hcERlYnVnVGFza3MoW3B1c2hlZF0pLCBcInRhc2tzXCIpKSk7XG5cdFx0aWYgKHRoaXMuZGVidWcpIHByaW50U3RlcFRhc2tzKHRoaXMuc3RlcCwgW3B1c2hlZF0pO1xuXHRcdHRoaXMudGFza3NbcHVzaGVkLmlkXSA9IHB1c2hlZDtcblx0XHRpZiAodGhpcy5za2lwRG9uZVRhc2tzKSB0aGlzLl9tYXRjaFdyaXRlcyh7IFtwdXNoZWQuaWRdOiBwdXNoZWQgfSk7XG5cdFx0Y29uc3QgdGFza3MgPSBhd2FpdCB0aGlzLl9tYXRjaENhY2hlZFdyaXRlcygpO1xuXHRcdGZvciAoY29uc3QgeyB0YXNrOiB0YXNrJDEgfSBvZiB0YXNrcykgdGhpcy5fb3V0cHV0V3JpdGVzKHRhc2skMS5pZCwgdGFzayQxLndyaXRlcywgdHJ1ZSk7XG5cdFx0cmV0dXJuIHB1c2hlZDtcblx0fVxuXHRfc3VwcHJlc3NJbnRlcnJ1cHQoZSkge1xuXHRcdHJldHVybiBpc0dyYXBoSW50ZXJydXB0KGUpICYmICF0aGlzLmlzTmVzdGVkO1xuXHR9XG5cdGFzeW5jIF9maXJzdChpbnB1dEtleXMpIHtcblx0XHRjb25zdCB7IGNvbmZpZ3VyYWJsZSB9ID0gdGhpcy5jb25maWc7XG5cdFx0Y29uc3Qgc2NyYXRjaHBhZCA9IGNvbmZpZ3VyYWJsZT8uW0NPTkZJR19LRVlfU0NSQVRDSFBBRF07XG5cdFx0aWYgKHNjcmF0Y2hwYWQgJiYgc2NyYXRjaHBhZC5udWxsUmVzdW1lICE9PSB2b2lkIDApIHRoaXMucHV0V3JpdGVzKE5VTExfVEFTS19JRCwgW1tSRVNVTUUsIHNjcmF0Y2hwYWQubnVsbFJlc3VtZV1dKTtcblx0XHRpZiAoaXNDb21tYW5kKHRoaXMuaW5wdXQpKSB7XG5cdFx0XHRjb25zdCBoYXNSZXN1bWUgPSB0aGlzLmlucHV0LnJlc3VtZSAhPSBudWxsO1xuXHRcdFx0aWYgKHRoaXMuaW5wdXQucmVzdW1lICE9IG51bGwgJiYgdHlwZW9mIHRoaXMuaW5wdXQucmVzdW1lID09PSBcIm9iamVjdFwiICYmIE9iamVjdC5rZXlzKHRoaXMuaW5wdXQucmVzdW1lKS5ldmVyeShpc1hYSDMpKSB7XG5cdFx0XHRcdHRoaXMuY29uZmlnLmNvbmZpZ3VyYWJsZSA/Pz0ge307XG5cdFx0XHRcdHRoaXMuY29uZmlnLmNvbmZpZ3VyYWJsZVtDT05GSUdfS0VZX1JFU1VNRV9NQVBdID0gdGhpcy5pbnB1dC5yZXN1bWU7XG5cdFx0XHR9XG5cdFx0XHRpZiAoaGFzUmVzdW1lICYmIHRoaXMuY2hlY2twb2ludGVyID09IG51bGwpIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCB1c2UgQ29tbWFuZChyZXN1bWU9Li4uKSB3aXRob3V0IGNoZWNrcG9pbnRlclwiKTtcblx0XHRcdGNvbnN0IHdyaXRlcyA9IHt9O1xuXHRcdFx0Zm9yIChjb25zdCBbdGlkLCBrZXksIHZhbHVlXSBvZiBtYXBDb21tYW5kKHRoaXMuaW5wdXQsIHRoaXMuY2hlY2twb2ludFBlbmRpbmdXcml0ZXMpKSB7XG5cdFx0XHRcdHdyaXRlc1t0aWRdID8/PSBbXTtcblx0XHRcdFx0d3JpdGVzW3RpZF0ucHVzaChba2V5LCB2YWx1ZV0pO1xuXHRcdFx0fVxuXHRcdFx0aWYgKE9iamVjdC5rZXlzKHdyaXRlcykubGVuZ3RoID09PSAwKSB0aHJvdyBuZXcgRW1wdHlJbnB1dEVycm9yKFwiUmVjZWl2ZWQgZW1wdHkgQ29tbWFuZCBpbnB1dFwiKTtcblx0XHRcdGZvciAoY29uc3QgW3RpZCwgd3NdIG9mIE9iamVjdC5lbnRyaWVzKHdyaXRlcykpIHRoaXMucHV0V3JpdGVzKHRpZCwgd3MpO1xuXHRcdH1cblx0XHRjb25zdCBudWxsV3JpdGVzID0gKHRoaXMuY2hlY2twb2ludFBlbmRpbmdXcml0ZXMgPz8gW10pLmZpbHRlcigodykgPT4gd1swXSA9PT0gTlVMTF9UQVNLX0lEKS5tYXAoKHcpID0+IHcuc2xpY2UoMSkpO1xuXHRcdGlmIChudWxsV3JpdGVzLmxlbmd0aCA+IDApIF9hcHBseVdyaXRlcyh0aGlzLmNoZWNrcG9pbnQsIHRoaXMuY2hhbm5lbHMsIFt7XG5cdFx0XHRuYW1lOiBJTlBVVCxcblx0XHRcdHdyaXRlczogbnVsbFdyaXRlcyxcblx0XHRcdHRyaWdnZXJzOiBbXVxuXHRcdH1dLCB0aGlzLmNoZWNrcG9pbnRlckdldE5leHRWZXJzaW9uLCB0aGlzLnRyaWdnZXJUb05vZGVzKTtcblx0XHRjb25zdCBpc0NvbW1hbmRVcGRhdGVPckdvdG8gPSBpc0NvbW1hbmQodGhpcy5pbnB1dCkgJiYgbnVsbFdyaXRlcy5sZW5ndGggPiAwO1xuXHRcdGlmICh0aGlzLmlzUmVzdW1pbmcgfHwgaXNDb21tYW5kVXBkYXRlT3JHb3RvKSB7XG5cdFx0XHRmb3IgKGNvbnN0IGNoYW5uZWxOYW1lIGluIHRoaXMuY2hhbm5lbHMpIHtcblx0XHRcdFx0aWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5jaGFubmVscywgY2hhbm5lbE5hbWUpKSBjb250aW51ZTtcblx0XHRcdFx0aWYgKHRoaXMuY2hlY2twb2ludC5jaGFubmVsX3ZlcnNpb25zW2NoYW5uZWxOYW1lXSAhPT0gdm9pZCAwKSB7XG5cdFx0XHRcdFx0Y29uc3QgdmVyc2lvbiA9IHRoaXMuY2hlY2twb2ludC5jaGFubmVsX3ZlcnNpb25zW2NoYW5uZWxOYW1lXTtcblx0XHRcdFx0XHR0aGlzLmNoZWNrcG9pbnQudmVyc2lvbnNfc2VlbltJTlRFUlJVUFRdID0ge1xuXHRcdFx0XHRcdFx0Li4udGhpcy5jaGVja3BvaW50LnZlcnNpb25zX3NlZW5bSU5URVJSVVBUXSxcblx0XHRcdFx0XHRcdFtjaGFubmVsTmFtZV06IHZlcnNpb25cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRjb25zdCB2YWx1ZXNPdXRwdXQgPSBhd2FpdCBnYXRoZXJJdGVyYXRvcihwcmVmaXhHZW5lcmF0b3IobWFwT3V0cHV0VmFsdWVzKHRoaXMub3V0cHV0S2V5cywgdHJ1ZSwgdGhpcy5jaGFubmVscyksIFwidmFsdWVzXCIpKTtcblx0XHRcdHRoaXMuX2VtaXQodmFsdWVzT3V0cHV0KTtcblx0XHR9XG5cdFx0aWYgKHRoaXMuaXNSZXN1bWluZykgdGhpcy5pbnB1dCA9IElOUFVUX1JFU1VNSU5HO1xuXHRcdGVsc2UgaWYgKGlzQ29tbWFuZFVwZGF0ZU9yR290bykge1xuXHRcdFx0YXdhaXQgdGhpcy5fcHV0Q2hlY2twb2ludCh7IHNvdXJjZTogXCJpbnB1dFwiIH0pO1xuXHRcdFx0dGhpcy5pbnB1dCA9IElOUFVUX0RPTkU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnN0IGlucHV0V3JpdGVzID0gYXdhaXQgZ2F0aGVySXRlcmF0b3IobWFwSW5wdXQoaW5wdXRLZXlzLCB0aGlzLmlucHV0KSk7XG5cdFx0XHRpZiAoaW5wdXRXcml0ZXMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRjb25zdCBkaXNjYXJkVGFza3MgPSBfcHJlcGFyZU5leHRUYXNrcyh0aGlzLmNoZWNrcG9pbnQsIHRoaXMuY2hlY2twb2ludFBlbmRpbmdXcml0ZXMsIHRoaXMubm9kZXMsIHRoaXMuY2hhbm5lbHMsIHRoaXMuY29uZmlnLCB0cnVlLCB7IHN0ZXA6IHRoaXMuc3RlcCB9KTtcblx0XHRcdFx0dGhpcy51cGRhdGVkQ2hhbm5lbHMgPSBfYXBwbHlXcml0ZXModGhpcy5jaGVja3BvaW50LCB0aGlzLmNoYW5uZWxzLCBPYmplY3QudmFsdWVzKGRpc2NhcmRUYXNrcykuY29uY2F0KFt7XG5cdFx0XHRcdFx0bmFtZTogSU5QVVQsXG5cdFx0XHRcdFx0d3JpdGVzOiBpbnB1dFdyaXRlcyxcblx0XHRcdFx0XHR0cmlnZ2VyczogW11cblx0XHRcdFx0fV0pLCB0aGlzLmNoZWNrcG9pbnRlckdldE5leHRWZXJzaW9uLCB0aGlzLnRyaWdnZXJUb05vZGVzKTtcblx0XHRcdFx0YXdhaXQgdGhpcy5fcHV0Q2hlY2twb2ludCh7IHNvdXJjZTogXCJpbnB1dFwiIH0pO1xuXHRcdFx0XHR0aGlzLmlucHV0ID0gSU5QVVRfRE9ORTtcblx0XHRcdH0gZWxzZSBpZiAoIShDT05GSUdfS0VZX1JFU1VNSU5HIGluICh0aGlzLmNvbmZpZy5jb25maWd1cmFibGUgPz8ge30pKSkgdGhyb3cgbmV3IEVtcHR5SW5wdXRFcnJvcihgUmVjZWl2ZWQgbm8gaW5wdXQgd3JpdGVzIGZvciAke0pTT04uc3RyaW5naWZ5KGlucHV0S2V5cywgbnVsbCwgMil9YCk7XG5cdFx0XHRlbHNlIHRoaXMuaW5wdXQgPSBJTlBVVF9ET05FO1xuXHRcdH1cblx0XHRpZiAoIXRoaXMuaXNOZXN0ZWQpIHRoaXMuY29uZmlnID0gcGF0Y2hDb25maWd1cmFibGUodGhpcy5jb25maWcsIHsgW0NPTkZJR19LRVlfUkVTVU1JTkddOiB0aGlzLmlzUmVzdW1pbmcgfSk7XG5cdH1cblx0X2VtaXQodmFsdWVzKSB7XG5cdFx0Zm9yIChjb25zdCBbbW9kZSwgcGF5bG9hZF0gb2YgdmFsdWVzKSB7XG5cdFx0XHRpZiAodGhpcy5zdHJlYW0ubW9kZXMuaGFzKG1vZGUpKSB0aGlzLnN0cmVhbS5wdXNoKFtcblx0XHRcdFx0dGhpcy5jaGVja3BvaW50TmFtZXNwYWNlLFxuXHRcdFx0XHRtb2RlLFxuXHRcdFx0XHRwYXlsb2FkXG5cdFx0XHRdKTtcblx0XHRcdGlmICgobW9kZSA9PT0gXCJjaGVja3BvaW50c1wiIHx8IG1vZGUgPT09IFwidGFza3NcIikgJiYgdGhpcy5zdHJlYW0ubW9kZXMuaGFzKFwiZGVidWdcIikpIHtcblx0XHRcdFx0Y29uc3Qgc3RlcCA9IG1vZGUgPT09IFwiY2hlY2twb2ludHNcIiA/IHRoaXMuc3RlcCAtIDEgOiB0aGlzLnN0ZXA7XG5cdFx0XHRcdGNvbnN0IHRpbWVzdGFtcCA9ICgvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSkudG9JU09TdHJpbmcoKTtcblx0XHRcdFx0Y29uc3QgdHlwZSA9ICgoKSA9PiB7XG5cdFx0XHRcdFx0aWYgKG1vZGUgPT09IFwiY2hlY2twb2ludHNcIikgcmV0dXJuIFwiY2hlY2twb2ludFwiO1xuXHRcdFx0XHRcdGVsc2UgaWYgKHR5cGVvZiBwYXlsb2FkID09PSBcIm9iamVjdFwiICYmIHBheWxvYWQgIT0gbnVsbCAmJiBcInJlc3VsdFwiIGluIHBheWxvYWQpIHJldHVybiBcInRhc2tfcmVzdWx0XCI7XG5cdFx0XHRcdFx0ZWxzZSByZXR1cm4gXCJ0YXNrXCI7XG5cdFx0XHRcdH0pKCk7XG5cdFx0XHRcdHRoaXMuc3RyZWFtLnB1c2goW1xuXHRcdFx0XHRcdHRoaXMuY2hlY2twb2ludE5hbWVzcGFjZSxcblx0XHRcdFx0XHRcImRlYnVnXCIsXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0c3RlcCxcblx0XHRcdFx0XHRcdHR5cGUsXG5cdFx0XHRcdFx0XHR0aW1lc3RhbXAsXG5cdFx0XHRcdFx0XHRwYXlsb2FkXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRdKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0X3B1dENoZWNrcG9pbnQoaW5wdXRNZXRhZGF0YSkge1xuXHRcdGNvbnN0IGV4aXRpbmcgPSB0aGlzLmNoZWNrcG9pbnRNZXRhZGF0YSA9PT0gaW5wdXRNZXRhZGF0YTtcblx0XHRjb25zdCBkb0NoZWNrcG9pbnQgPSB0aGlzLmNoZWNrcG9pbnRlciAhPSBudWxsICYmICh0aGlzLmR1cmFiaWxpdHkgIT09IFwiZXhpdFwiIHx8IGV4aXRpbmcpO1xuXHRcdGNvbnN0IHN0b3JlQ2hlY2twb2ludCA9IChjaGVja3BvaW50KSA9PiB7XG5cdFx0XHR0aGlzLnByZXZDaGVja3BvaW50Q29uZmlnID0gdGhpcy5jaGVja3BvaW50Q29uZmlnPy5jb25maWd1cmFibGU/LmNoZWNrcG9pbnRfaWQgPyB0aGlzLmNoZWNrcG9pbnRDb25maWcgOiB2b2lkIDA7XG5cdFx0XHR0aGlzLmNoZWNrcG9pbnRDb25maWcgPSBwYXRjaENvbmZpZ3VyYWJsZSh0aGlzLmNoZWNrcG9pbnRDb25maWcsIHsgW0NPTkZJR19LRVlfQ0hFQ0tQT0lOVF9OU106IHRoaXMuY29uZmlnLmNvbmZpZ3VyYWJsZT8uY2hlY2twb2ludF9ucyA/PyBcIlwiIH0pO1xuXHRcdFx0Y29uc3QgY2hhbm5lbFZlcnNpb25zID0geyAuLi50aGlzLmNoZWNrcG9pbnQuY2hhbm5lbF92ZXJzaW9ucyB9O1xuXHRcdFx0Y29uc3QgbmV3VmVyc2lvbnMgPSBnZXROZXdDaGFubmVsVmVyc2lvbnModGhpcy5jaGVja3BvaW50UHJldmlvdXNWZXJzaW9ucywgY2hhbm5lbFZlcnNpb25zKTtcblx0XHRcdHRoaXMuY2hlY2twb2ludFByZXZpb3VzVmVyc2lvbnMgPSBjaGFubmVsVmVyc2lvbnM7XG5cdFx0XHR0aGlzLl9jaGVja3BvaW50ZXJQdXRBZnRlclByZXZpb3VzKHtcblx0XHRcdFx0Y29uZmlnOiB7IC4uLnRoaXMuY2hlY2twb2ludENvbmZpZyB9LFxuXHRcdFx0XHRjaGVja3BvaW50OiBjb3B5Q2hlY2twb2ludChjaGVja3BvaW50KSxcblx0XHRcdFx0bWV0YWRhdGE6IHsgLi4udGhpcy5jaGVja3BvaW50TWV0YWRhdGEgfSxcblx0XHRcdFx0bmV3VmVyc2lvbnNcblx0XHRcdH0pO1xuXHRcdFx0dGhpcy5jaGVja3BvaW50Q29uZmlnID0ge1xuXHRcdFx0XHQuLi50aGlzLmNoZWNrcG9pbnRDb25maWcsXG5cdFx0XHRcdGNvbmZpZ3VyYWJsZToge1xuXHRcdFx0XHRcdC4uLnRoaXMuY2hlY2twb2ludENvbmZpZy5jb25maWd1cmFibGUsXG5cdFx0XHRcdFx0Y2hlY2twb2ludF9pZDogdGhpcy5jaGVja3BvaW50LmlkXG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0fTtcblx0XHRpZiAoIWV4aXRpbmcpIHRoaXMuY2hlY2twb2ludE1ldGFkYXRhID0ge1xuXHRcdFx0Li4uaW5wdXRNZXRhZGF0YSxcblx0XHRcdHN0ZXA6IHRoaXMuc3RlcCxcblx0XHRcdHBhcmVudHM6IHRoaXMuY29uZmlnLmNvbmZpZ3VyYWJsZT8uW0NPTkZJR19LRVlfQ0hFQ0tQT0lOVF9NQVBdID8/IHt9XG5cdFx0fTtcblx0XHR0aGlzLmNoZWNrcG9pbnQgPSBjcmVhdGVDaGVja3BvaW50KHRoaXMuY2hlY2twb2ludCwgZG9DaGVja3BvaW50ID8gdGhpcy5jaGFubmVscyA6IHZvaWQgMCwgdGhpcy5zdGVwLCBleGl0aW5nID8geyBpZDogdGhpcy5jaGVja3BvaW50LmlkIH0gOiB2b2lkIDApO1xuXHRcdGlmIChkb0NoZWNrcG9pbnQpIHN0b3JlQ2hlY2twb2ludCh0aGlzLmNoZWNrcG9pbnQpO1xuXHRcdGlmICghZXhpdGluZykgdGhpcy5zdGVwICs9IDE7XG5cdH1cblx0X2ZsdXNoUGVuZGluZ1dyaXRlcygpIHtcblx0XHRpZiAodGhpcy5jaGVja3BvaW50ZXIgPT0gbnVsbCkgcmV0dXJuO1xuXHRcdGlmICh0aGlzLmNoZWNrcG9pbnRQZW5kaW5nV3JpdGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXHRcdGNvbnN0IGNvbmZpZyA9IHBhdGNoQ29uZmlndXJhYmxlKHRoaXMuY2hlY2twb2ludENvbmZpZywge1xuXHRcdFx0W0NPTkZJR19LRVlfQ0hFQ0tQT0lOVF9OU106IHRoaXMuY29uZmlnLmNvbmZpZ3VyYWJsZT8uY2hlY2twb2ludF9ucyA/PyBcIlwiLFxuXHRcdFx0W0NPTkZJR19LRVlfQ0hFQ0tQT0lOVF9JRF06IHRoaXMuY2hlY2twb2ludC5pZFxuXHRcdH0pO1xuXHRcdGNvbnN0IGJ5VGFzayA9IHt9O1xuXHRcdGZvciAoY29uc3QgW3RpZCwga2V5LCB2YWx1ZV0gb2YgdGhpcy5jaGVja3BvaW50UGVuZGluZ1dyaXRlcykge1xuXHRcdFx0YnlUYXNrW3RpZF0gPz89IFtdO1xuXHRcdFx0YnlUYXNrW3RpZF0ucHVzaChba2V5LCB2YWx1ZV0pO1xuXHRcdH1cblx0XHRmb3IgKGNvbnN0IFt0aWQsIHdzXSBvZiBPYmplY3QuZW50cmllcyhieVRhc2spKSB0aGlzLmNoZWNrcG9pbnRlclByb21pc2VzLnB1c2godGhpcy5jaGVja3BvaW50ZXIucHV0V3JpdGVzKGNvbmZpZywgd3MsIHRpZCkpO1xuXHR9XG5cdF9tYXRjaFdyaXRlcyh0YXNrcykge1xuXHRcdGZvciAoY29uc3QgW3RpZCwgaywgdl0gb2YgdGhpcy5jaGVja3BvaW50UGVuZGluZ1dyaXRlcykge1xuXHRcdFx0aWYgKGsgPT09IEVSUk9SIHx8IGsgPT09IElOVEVSUlVQVCB8fCBrID09PSBSRVNVTUUpIGNvbnRpbnVlO1xuXHRcdFx0Y29uc3QgdGFzayA9IE9iamVjdC52YWx1ZXModGFza3MpLmZpbmQoKHQpID0+IHQuaWQgPT09IHRpZCk7XG5cdFx0XHRpZiAodGFzaykgdGFzay53cml0ZXMucHVzaChbaywgdl0pO1xuXHRcdH1cblx0XHRmb3IgKGNvbnN0IHRhc2sgb2YgT2JqZWN0LnZhbHVlcyh0YXNrcykpIGlmICh0YXNrLndyaXRlcy5sZW5ndGggPiAwKSB0aGlzLl9vdXRwdXRXcml0ZXModGFzay5pZCwgdGFzay53cml0ZXMsIHRydWUpO1xuXHR9XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IFByZWdlbExvb3AgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvb3AuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/loop.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/messages.js":
/*!***************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/messages.js ***!
  \***************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StreamMessagesHandler: () => (/* binding */ StreamMessagesHandler)\n/* harmony export */ });\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/constants.js\");\n/* harmony import */ var _langchain_core_callbacks_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @langchain/core/callbacks/base */ \"(ssr)/./node_modules/.pnpm/@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12_/node_modules/@langchain/core/dist/callbacks/base.js\");\n/* harmony import */ var _langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @langchain/core/messages */ \"(ssr)/./node_modules/.pnpm/@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12_/node_modules/@langchain/core/dist/messages/index.js\");\n\n\n\n\n//#region src/pregel/messages.ts\nfunction isChatGenerationChunk(x) {\n\treturn (0,_langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.isBaseMessage)(x?.message);\n}\n/**\n* A callback handler that implements stream_mode=messages.\n* Collects messages from (1) chat model stream events and (2) node outputs.\n*/\nvar StreamMessagesHandler = class extends _langchain_core_callbacks_base__WEBPACK_IMPORTED_MODULE_1__.BaseCallbackHandler {\n\tname = \"StreamMessagesHandler\";\n\tstreamFn;\n\tmetadatas = {};\n\tseen = {};\n\temittedChatModelRunIds = {};\n\tstableMessageIdMap = {};\n\tlc_prefer_streaming = true;\n\tconstructor(streamFn) {\n\t\tsuper();\n\t\tthis.streamFn = streamFn;\n\t}\n\t_emit(meta, message, runId, dedupe = false) {\n\t\tif (dedupe && message.id !== void 0 && this.seen[message.id] !== void 0) return;\n\t\tlet messageId = message.id;\n\t\tif (runId != null) if ((0,_langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.isToolMessage)(message)) messageId ??= `run-${runId}-tool-${message.tool_call_id}`;\n\t\telse {\n\t\t\tif (messageId == null || messageId === `run-${runId}`) messageId = this.stableMessageIdMap[runId] ?? messageId ?? `run-${runId}`;\n\t\t\tthis.stableMessageIdMap[runId] ??= messageId;\n\t\t}\n\t\tif (messageId !== message.id) {\n\t\t\tmessage.id = messageId;\n\t\t\tmessage.lc_kwargs.id = messageId;\n\t\t}\n\t\tif (message.id != null) this.seen[message.id] = message;\n\t\tthis.streamFn([\n\t\t\tmeta[0],\n\t\t\t\"messages\",\n\t\t\t[message, meta[1]]\n\t\t]);\n\t}\n\thandleChatModelStart(_llm, _messages, runId, _parentRunId, _extraParams, tags, metadata, name) {\n\t\tif (metadata && (!tags || !tags.includes(_constants_js__WEBPACK_IMPORTED_MODULE_0__.TAG_NOSTREAM) && !tags.includes(\"nostream\"))) this.metadatas[runId] = [metadata.langgraph_checkpoint_ns.split(\"|\"), {\n\t\t\ttags,\n\t\t\tname,\n\t\t\t...metadata\n\t\t}];\n\t}\n\thandleLLMNewToken(token, _idx, runId, _parentRunId, _tags, fields) {\n\t\tconst chunk = fields?.chunk;\n\t\tthis.emittedChatModelRunIds[runId] = true;\n\t\tif (this.metadatas[runId] !== void 0) if (isChatGenerationChunk(chunk)) this._emit(this.metadatas[runId], chunk.message, runId);\n\t\telse this._emit(this.metadatas[runId], new _langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.AIMessageChunk({ content: token }), runId);\n\t}\n\thandleLLMEnd(output, runId) {\n\t\tif (this.metadatas[runId] === void 0) return;\n\t\tif (!this.emittedChatModelRunIds[runId]) {\n\t\t\tconst chatGeneration = output.generations?.[0]?.[0];\n\t\t\tif ((0,_langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.isBaseMessage)(chatGeneration?.message)) this._emit(this.metadatas[runId], chatGeneration?.message, runId, true);\n\t\t\tdelete this.emittedChatModelRunIds[runId];\n\t\t}\n\t\tdelete this.metadatas[runId];\n\t\tdelete this.stableMessageIdMap[runId];\n\t}\n\thandleLLMError(_err, runId) {\n\t\tdelete this.metadatas[runId];\n\t}\n\thandleChainStart(_chain, inputs, runId, _parentRunId, tags, metadata, _runType, name) {\n\t\tif (metadata !== void 0 && name === metadata.langgraph_node && (tags === void 0 || !tags.includes(_constants_js__WEBPACK_IMPORTED_MODULE_0__.TAG_HIDDEN))) {\n\t\t\tthis.metadatas[runId] = [metadata.langgraph_checkpoint_ns.split(\"|\"), {\n\t\t\t\ttags,\n\t\t\t\tname,\n\t\t\t\t...metadata\n\t\t\t}];\n\t\t\tif (typeof inputs === \"object\") {\n\t\t\t\tfor (const value of Object.values(inputs)) if (((0,_langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.isBaseMessage)(value) || (0,_langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.isBaseMessageChunk)(value)) && value.id !== void 0) this.seen[value.id] = value;\n\t\t\t\telse if (Array.isArray(value)) {\n\t\t\t\t\tfor (const item of value) if (((0,_langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.isBaseMessage)(item) || (0,_langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.isBaseMessageChunk)(item)) && item.id !== void 0) this.seen[item.id] = item;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\thandleChainEnd(outputs, runId) {\n\t\tconst metadata = this.metadatas[runId];\n\t\tdelete this.metadatas[runId];\n\t\tif (metadata !== void 0) {\n\t\t\tif ((0,_langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.isBaseMessage)(outputs)) this._emit(metadata, outputs, runId, true);\n\t\t\telse if (Array.isArray(outputs)) {\n\t\t\t\tfor (const value of outputs) if ((0,_langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.isBaseMessage)(value)) this._emit(metadata, value, runId, true);\n\t\t\t} else if (outputs != null && typeof outputs === \"object\") {\n\t\t\t\tfor (const value of Object.values(outputs)) if ((0,_langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.isBaseMessage)(value)) this._emit(metadata, value, runId, true);\n\t\t\t\telse if (Array.isArray(value)) {\n\t\t\t\t\tfor (const item of value) if ((0,_langchain_core_messages__WEBPACK_IMPORTED_MODULE_2__.isBaseMessage)(item)) this._emit(metadata, item, runId, true);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\thandleChainError(_err, runId) {\n\t\tdelete this.metadatas[runId];\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=messages.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L3ByZWdlbC9tZXNzYWdlcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTJEO0FBQ1U7QUFDdUM7O0FBRTVHO0FBQ0E7QUFDQSxRQUFRLHVFQUFhO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsK0VBQW1CO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsdUVBQWEsZ0NBQWdDLE1BQU0sUUFBUSxxQkFBcUI7QUFDekc7QUFDQSxpREFBaUQsTUFBTSxxRUFBcUUsTUFBTTtBQUNsSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLHVEQUFZO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLG9FQUFjLEdBQUcsZ0JBQWdCO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLHVFQUFhO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9HQUFvRyxxREFBVTtBQUM5RztBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLG9EQUFvRCx1RUFBYSxXQUFXLDRFQUFrQjtBQUM5RjtBQUNBLG9DQUFvQyx1RUFBYSxVQUFVLDRFQUFrQjtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyx1RUFBYTtBQUNwQjtBQUNBLHFDQUFxQyx1RUFBYTtBQUNsRCxLQUFLO0FBQ0wsb0RBQW9ELHVFQUFhO0FBQ2pFO0FBQ0EsbUNBQW1DLHVFQUFhO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDaUM7QUFDakMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2IvRGVza3RvcC9wcm9qZWN0X3gvcHJvamVjdC1zcWwtYWdlbnQvc2VydmljZXMvZnJvbnRlbmQvbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rbGFuZ2dyYXBoQDEuMC4xX0BsYW5nY2hhaW4rY29yZUAxLjAuMl9vcGVuYWlANC4xMDAuMF93c0A4LjE4LjJfem9kQDQuMS4xMl9fX19lZmE0ZThmODY1NThlNWQyOWViZGVjM2QyZjAwNGVkOS9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9sYW5nZ3JhcGgvZGlzdC9wcmVnZWwvbWVzc2FnZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVEFHX0hJRERFTiwgVEFHX05PU1RSRUFNIH0gZnJvbSBcIi4uL2NvbnN0YW50cy5qc1wiO1xuaW1wb3J0IHsgQmFzZUNhbGxiYWNrSGFuZGxlciB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvY2FsbGJhY2tzL2Jhc2VcIjtcbmltcG9ydCB7IEFJTWVzc2FnZUNodW5rLCBpc0Jhc2VNZXNzYWdlLCBpc0Jhc2VNZXNzYWdlQ2h1bmssIGlzVG9vbE1lc3NhZ2UgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL21lc3NhZ2VzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvcHJlZ2VsL21lc3NhZ2VzLnRzXG5mdW5jdGlvbiBpc0NoYXRHZW5lcmF0aW9uQ2h1bmsoeCkge1xuXHRyZXR1cm4gaXNCYXNlTWVzc2FnZSh4Py5tZXNzYWdlKTtcbn1cbi8qKlxuKiBBIGNhbGxiYWNrIGhhbmRsZXIgdGhhdCBpbXBsZW1lbnRzIHN0cmVhbV9tb2RlPW1lc3NhZ2VzLlxuKiBDb2xsZWN0cyBtZXNzYWdlcyBmcm9tICgxKSBjaGF0IG1vZGVsIHN0cmVhbSBldmVudHMgYW5kICgyKSBub2RlIG91dHB1dHMuXG4qL1xudmFyIFN0cmVhbU1lc3NhZ2VzSGFuZGxlciA9IGNsYXNzIGV4dGVuZHMgQmFzZUNhbGxiYWNrSGFuZGxlciB7XG5cdG5hbWUgPSBcIlN0cmVhbU1lc3NhZ2VzSGFuZGxlclwiO1xuXHRzdHJlYW1Gbjtcblx0bWV0YWRhdGFzID0ge307XG5cdHNlZW4gPSB7fTtcblx0ZW1pdHRlZENoYXRNb2RlbFJ1bklkcyA9IHt9O1xuXHRzdGFibGVNZXNzYWdlSWRNYXAgPSB7fTtcblx0bGNfcHJlZmVyX3N0cmVhbWluZyA9IHRydWU7XG5cdGNvbnN0cnVjdG9yKHN0cmVhbUZuKSB7XG5cdFx0c3VwZXIoKTtcblx0XHR0aGlzLnN0cmVhbUZuID0gc3RyZWFtRm47XG5cdH1cblx0X2VtaXQobWV0YSwgbWVzc2FnZSwgcnVuSWQsIGRlZHVwZSA9IGZhbHNlKSB7XG5cdFx0aWYgKGRlZHVwZSAmJiBtZXNzYWdlLmlkICE9PSB2b2lkIDAgJiYgdGhpcy5zZWVuW21lc3NhZ2UuaWRdICE9PSB2b2lkIDApIHJldHVybjtcblx0XHRsZXQgbWVzc2FnZUlkID0gbWVzc2FnZS5pZDtcblx0XHRpZiAocnVuSWQgIT0gbnVsbCkgaWYgKGlzVG9vbE1lc3NhZ2UobWVzc2FnZSkpIG1lc3NhZ2VJZCA/Pz0gYHJ1bi0ke3J1bklkfS10b29sLSR7bWVzc2FnZS50b29sX2NhbGxfaWR9YDtcblx0XHRlbHNlIHtcblx0XHRcdGlmIChtZXNzYWdlSWQgPT0gbnVsbCB8fCBtZXNzYWdlSWQgPT09IGBydW4tJHtydW5JZH1gKSBtZXNzYWdlSWQgPSB0aGlzLnN0YWJsZU1lc3NhZ2VJZE1hcFtydW5JZF0gPz8gbWVzc2FnZUlkID8/IGBydW4tJHtydW5JZH1gO1xuXHRcdFx0dGhpcy5zdGFibGVNZXNzYWdlSWRNYXBbcnVuSWRdID8/PSBtZXNzYWdlSWQ7XG5cdFx0fVxuXHRcdGlmIChtZXNzYWdlSWQgIT09IG1lc3NhZ2UuaWQpIHtcblx0XHRcdG1lc3NhZ2UuaWQgPSBtZXNzYWdlSWQ7XG5cdFx0XHRtZXNzYWdlLmxjX2t3YXJncy5pZCA9IG1lc3NhZ2VJZDtcblx0XHR9XG5cdFx0aWYgKG1lc3NhZ2UuaWQgIT0gbnVsbCkgdGhpcy5zZWVuW21lc3NhZ2UuaWRdID0gbWVzc2FnZTtcblx0XHR0aGlzLnN0cmVhbUZuKFtcblx0XHRcdG1ldGFbMF0sXG5cdFx0XHRcIm1lc3NhZ2VzXCIsXG5cdFx0XHRbbWVzc2FnZSwgbWV0YVsxXV1cblx0XHRdKTtcblx0fVxuXHRoYW5kbGVDaGF0TW9kZWxTdGFydChfbGxtLCBfbWVzc2FnZXMsIHJ1bklkLCBfcGFyZW50UnVuSWQsIF9leHRyYVBhcmFtcywgdGFncywgbWV0YWRhdGEsIG5hbWUpIHtcblx0XHRpZiAobWV0YWRhdGEgJiYgKCF0YWdzIHx8ICF0YWdzLmluY2x1ZGVzKFRBR19OT1NUUkVBTSkgJiYgIXRhZ3MuaW5jbHVkZXMoXCJub3N0cmVhbVwiKSkpIHRoaXMubWV0YWRhdGFzW3J1bklkXSA9IFttZXRhZGF0YS5sYW5nZ3JhcGhfY2hlY2twb2ludF9ucy5zcGxpdChcInxcIiksIHtcblx0XHRcdHRhZ3MsXG5cdFx0XHRuYW1lLFxuXHRcdFx0Li4ubWV0YWRhdGFcblx0XHR9XTtcblx0fVxuXHRoYW5kbGVMTE1OZXdUb2tlbih0b2tlbiwgX2lkeCwgcnVuSWQsIF9wYXJlbnRSdW5JZCwgX3RhZ3MsIGZpZWxkcykge1xuXHRcdGNvbnN0IGNodW5rID0gZmllbGRzPy5jaHVuaztcblx0XHR0aGlzLmVtaXR0ZWRDaGF0TW9kZWxSdW5JZHNbcnVuSWRdID0gdHJ1ZTtcblx0XHRpZiAodGhpcy5tZXRhZGF0YXNbcnVuSWRdICE9PSB2b2lkIDApIGlmIChpc0NoYXRHZW5lcmF0aW9uQ2h1bmsoY2h1bmspKSB0aGlzLl9lbWl0KHRoaXMubWV0YWRhdGFzW3J1bklkXSwgY2h1bmsubWVzc2FnZSwgcnVuSWQpO1xuXHRcdGVsc2UgdGhpcy5fZW1pdCh0aGlzLm1ldGFkYXRhc1tydW5JZF0sIG5ldyBBSU1lc3NhZ2VDaHVuayh7IGNvbnRlbnQ6IHRva2VuIH0pLCBydW5JZCk7XG5cdH1cblx0aGFuZGxlTExNRW5kKG91dHB1dCwgcnVuSWQpIHtcblx0XHRpZiAodGhpcy5tZXRhZGF0YXNbcnVuSWRdID09PSB2b2lkIDApIHJldHVybjtcblx0XHRpZiAoIXRoaXMuZW1pdHRlZENoYXRNb2RlbFJ1bklkc1tydW5JZF0pIHtcblx0XHRcdGNvbnN0IGNoYXRHZW5lcmF0aW9uID0gb3V0cHV0LmdlbmVyYXRpb25zPy5bMF0/LlswXTtcblx0XHRcdGlmIChpc0Jhc2VNZXNzYWdlKGNoYXRHZW5lcmF0aW9uPy5tZXNzYWdlKSkgdGhpcy5fZW1pdCh0aGlzLm1ldGFkYXRhc1tydW5JZF0sIGNoYXRHZW5lcmF0aW9uPy5tZXNzYWdlLCBydW5JZCwgdHJ1ZSk7XG5cdFx0XHRkZWxldGUgdGhpcy5lbWl0dGVkQ2hhdE1vZGVsUnVuSWRzW3J1bklkXTtcblx0XHR9XG5cdFx0ZGVsZXRlIHRoaXMubWV0YWRhdGFzW3J1bklkXTtcblx0XHRkZWxldGUgdGhpcy5zdGFibGVNZXNzYWdlSWRNYXBbcnVuSWRdO1xuXHR9XG5cdGhhbmRsZUxMTUVycm9yKF9lcnIsIHJ1bklkKSB7XG5cdFx0ZGVsZXRlIHRoaXMubWV0YWRhdGFzW3J1bklkXTtcblx0fVxuXHRoYW5kbGVDaGFpblN0YXJ0KF9jaGFpbiwgaW5wdXRzLCBydW5JZCwgX3BhcmVudFJ1bklkLCB0YWdzLCBtZXRhZGF0YSwgX3J1blR5cGUsIG5hbWUpIHtcblx0XHRpZiAobWV0YWRhdGEgIT09IHZvaWQgMCAmJiBuYW1lID09PSBtZXRhZGF0YS5sYW5nZ3JhcGhfbm9kZSAmJiAodGFncyA9PT0gdm9pZCAwIHx8ICF0YWdzLmluY2x1ZGVzKFRBR19ISURERU4pKSkge1xuXHRcdFx0dGhpcy5tZXRhZGF0YXNbcnVuSWRdID0gW21ldGFkYXRhLmxhbmdncmFwaF9jaGVja3BvaW50X25zLnNwbGl0KFwifFwiKSwge1xuXHRcdFx0XHR0YWdzLFxuXHRcdFx0XHRuYW1lLFxuXHRcdFx0XHQuLi5tZXRhZGF0YVxuXHRcdFx0fV07XG5cdFx0XHRpZiAodHlwZW9mIGlucHV0cyA9PT0gXCJvYmplY3RcIikge1xuXHRcdFx0XHRmb3IgKGNvbnN0IHZhbHVlIG9mIE9iamVjdC52YWx1ZXMoaW5wdXRzKSkgaWYgKChpc0Jhc2VNZXNzYWdlKHZhbHVlKSB8fCBpc0Jhc2VNZXNzYWdlQ2h1bmsodmFsdWUpKSAmJiB2YWx1ZS5pZCAhPT0gdm9pZCAwKSB0aGlzLnNlZW5bdmFsdWUuaWRdID0gdmFsdWU7XG5cdFx0XHRcdGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG5cdFx0XHRcdFx0Zm9yIChjb25zdCBpdGVtIG9mIHZhbHVlKSBpZiAoKGlzQmFzZU1lc3NhZ2UoaXRlbSkgfHwgaXNCYXNlTWVzc2FnZUNodW5rKGl0ZW0pKSAmJiBpdGVtLmlkICE9PSB2b2lkIDApIHRoaXMuc2VlbltpdGVtLmlkXSA9IGl0ZW07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblx0aGFuZGxlQ2hhaW5FbmQob3V0cHV0cywgcnVuSWQpIHtcblx0XHRjb25zdCBtZXRhZGF0YSA9IHRoaXMubWV0YWRhdGFzW3J1bklkXTtcblx0XHRkZWxldGUgdGhpcy5tZXRhZGF0YXNbcnVuSWRdO1xuXHRcdGlmIChtZXRhZGF0YSAhPT0gdm9pZCAwKSB7XG5cdFx0XHRpZiAoaXNCYXNlTWVzc2FnZShvdXRwdXRzKSkgdGhpcy5fZW1pdChtZXRhZGF0YSwgb3V0cHV0cywgcnVuSWQsIHRydWUpO1xuXHRcdFx0ZWxzZSBpZiAoQXJyYXkuaXNBcnJheShvdXRwdXRzKSkge1xuXHRcdFx0XHRmb3IgKGNvbnN0IHZhbHVlIG9mIG91dHB1dHMpIGlmIChpc0Jhc2VNZXNzYWdlKHZhbHVlKSkgdGhpcy5fZW1pdChtZXRhZGF0YSwgdmFsdWUsIHJ1bklkLCB0cnVlKTtcblx0XHRcdH0gZWxzZSBpZiAob3V0cHV0cyAhPSBudWxsICYmIHR5cGVvZiBvdXRwdXRzID09PSBcIm9iamVjdFwiKSB7XG5cdFx0XHRcdGZvciAoY29uc3QgdmFsdWUgb2YgT2JqZWN0LnZhbHVlcyhvdXRwdXRzKSkgaWYgKGlzQmFzZU1lc3NhZ2UodmFsdWUpKSB0aGlzLl9lbWl0KG1ldGFkYXRhLCB2YWx1ZSwgcnVuSWQsIHRydWUpO1xuXHRcdFx0XHRlbHNlIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuXHRcdFx0XHRcdGZvciAoY29uc3QgaXRlbSBvZiB2YWx1ZSkgaWYgKGlzQmFzZU1lc3NhZ2UoaXRlbSkpIHRoaXMuX2VtaXQobWV0YWRhdGEsIGl0ZW0sIHJ1bklkLCB0cnVlKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRoYW5kbGVDaGFpbkVycm9yKF9lcnIsIHJ1bklkKSB7XG5cdFx0ZGVsZXRlIHRoaXMubWV0YWRhdGFzW3J1bklkXTtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBTdHJlYW1NZXNzYWdlc0hhbmRsZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lc3NhZ2VzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/messages.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/read.js":
/*!***********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/read.js ***!
  \***********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChannelRead: () => (/* binding */ ChannelRead),\n/* harmony export */   PregelNode: () => (/* binding */ PregelNode)\n/* harmony export */ });\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/constants.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/utils.js\");\n/* harmony import */ var _write_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./write.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/write.js\");\n/* harmony import */ var _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @langchain/core/runnables */ \"(ssr)/./node_modules/.pnpm/@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12_/node_modules/@langchain/core/dist/runnables/index.js\");\n\n\n\n\n\n//#region src/pregel/read.ts\nvar ChannelRead = class ChannelRead extends _utils_js__WEBPACK_IMPORTED_MODULE_1__.RunnableCallable {\n\tlc_graph_name = \"ChannelRead\";\n\tchannel;\n\tfresh = false;\n\tmapper;\n\tconstructor(channel, mapper, fresh = false) {\n\t\tsuper({ func: (_, config) => ChannelRead.doRead(config, this.channel, this.fresh, this.mapper) });\n\t\tthis.fresh = fresh;\n\t\tthis.mapper = mapper;\n\t\tthis.channel = channel;\n\t\tthis.name = Array.isArray(channel) ? `ChannelRead<${channel.join(\",\")}>` : `ChannelRead<${channel}>`;\n\t}\n\tstatic doRead(config, channel, fresh, mapper) {\n\t\tconst read = config.configurable?.[_constants_js__WEBPACK_IMPORTED_MODULE_0__.CONFIG_KEY_READ];\n\t\tif (!read) throw new Error(\"Runnable is not configured with a read function. Make sure to call in the context of a Pregel process\");\n\t\tif (mapper) return mapper(read(channel, fresh));\n\t\telse return read(channel, fresh);\n\t}\n};\nconst defaultRunnableBound = /* @__PURE__ */ new _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_3__.RunnablePassthrough();\nvar PregelNode = class PregelNode extends _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_3__.RunnableBinding {\n\tlc_graph_name = \"PregelNode\";\n\tchannels;\n\ttriggers = [];\n\tmapper;\n\twriters = [];\n\tbound = defaultRunnableBound;\n\tkwargs = {};\n\tmetadata = {};\n\ttags = [];\n\tretryPolicy;\n\tcachePolicy;\n\tsubgraphs;\n\tends;\n\tconstructor(fields) {\n\t\tconst { channels, triggers, mapper, writers, bound, kwargs, metadata, retryPolicy, cachePolicy, tags, subgraphs, ends } = fields;\n\t\tconst mergedTags = [...fields.config?.tags ? fields.config.tags : [], ...tags ?? []];\n\t\tsuper({\n\t\t\t...fields,\n\t\t\tbound: fields.bound ?? defaultRunnableBound,\n\t\t\tconfig: {\n\t\t\t\t...fields.config ? fields.config : {},\n\t\t\t\ttags: mergedTags\n\t\t\t}\n\t\t});\n\t\tthis.channels = channels;\n\t\tthis.triggers = triggers;\n\t\tthis.mapper = mapper;\n\t\tthis.writers = writers ?? this.writers;\n\t\tthis.bound = bound ?? this.bound;\n\t\tthis.kwargs = kwargs ?? this.kwargs;\n\t\tthis.metadata = metadata ?? this.metadata;\n\t\tthis.tags = mergedTags;\n\t\tthis.retryPolicy = retryPolicy;\n\t\tthis.cachePolicy = cachePolicy;\n\t\tthis.subgraphs = subgraphs;\n\t\tthis.ends = ends;\n\t}\n\tgetWriters() {\n\t\tconst newWriters = [...this.writers];\n\t\twhile (newWriters.length > 1 && newWriters[newWriters.length - 1] instanceof _write_js__WEBPACK_IMPORTED_MODULE_2__.ChannelWrite && newWriters[newWriters.length - 2] instanceof _write_js__WEBPACK_IMPORTED_MODULE_2__.ChannelWrite) {\n\t\t\tconst endWriters = newWriters.slice(-2);\n\t\t\tconst combinedWrites = endWriters[0].writes.concat(endWriters[1].writes);\n\t\t\tnewWriters[newWriters.length - 2] = new _write_js__WEBPACK_IMPORTED_MODULE_2__.ChannelWrite(combinedWrites, endWriters[0].config?.tags);\n\t\t\tnewWriters.pop();\n\t\t}\n\t\treturn newWriters;\n\t}\n\tgetNode() {\n\t\tconst writers = this.getWriters();\n\t\tif (this.bound === defaultRunnableBound && writers.length === 0) return void 0;\n\t\telse if (this.bound === defaultRunnableBound && writers.length === 1) return writers[0];\n\t\telse if (this.bound === defaultRunnableBound) return new _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_3__.RunnableSequence({\n\t\t\tfirst: writers[0],\n\t\t\tmiddle: writers.slice(1, writers.length - 1),\n\t\t\tlast: writers[writers.length - 1],\n\t\t\tomitSequenceTags: true\n\t\t});\n\t\telse if (writers.length > 0) return new _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_3__.RunnableSequence({\n\t\t\tfirst: this.bound,\n\t\t\tmiddle: writers.slice(0, writers.length - 1),\n\t\t\tlast: writers[writers.length - 1],\n\t\t\tomitSequenceTags: true\n\t\t});\n\t\telse return this.bound;\n\t}\n\tjoin(channels) {\n\t\tif (!Array.isArray(channels)) throw new Error(\"channels must be a list\");\n\t\tif (typeof this.channels !== \"object\") throw new Error(\"all channels must be named when using .join()\");\n\t\treturn new PregelNode({\n\t\t\tchannels: {\n\t\t\t\t...this.channels,\n\t\t\t\t...Object.fromEntries(channels.map((chan) => [chan, chan]))\n\t\t\t},\n\t\t\ttriggers: this.triggers,\n\t\t\tmapper: this.mapper,\n\t\t\twriters: this.writers,\n\t\t\tbound: this.bound,\n\t\t\tkwargs: this.kwargs,\n\t\t\tconfig: this.config,\n\t\t\tretryPolicy: this.retryPolicy,\n\t\t\tcachePolicy: this.cachePolicy\n\t\t});\n\t}\n\tpipe(coerceable) {\n\t\tif (_write_js__WEBPACK_IMPORTED_MODULE_2__.ChannelWrite.isWriter(coerceable)) return new PregelNode({\n\t\t\tchannels: this.channels,\n\t\t\ttriggers: this.triggers,\n\t\t\tmapper: this.mapper,\n\t\t\twriters: [...this.writers, coerceable],\n\t\t\tbound: this.bound,\n\t\t\tconfig: this.config,\n\t\t\tkwargs: this.kwargs,\n\t\t\tretryPolicy: this.retryPolicy,\n\t\t\tcachePolicy: this.cachePolicy\n\t\t});\n\t\telse if (this.bound === defaultRunnableBound) return new PregelNode({\n\t\t\tchannels: this.channels,\n\t\t\ttriggers: this.triggers,\n\t\t\tmapper: this.mapper,\n\t\t\twriters: this.writers,\n\t\t\tbound: (0,_langchain_core_runnables__WEBPACK_IMPORTED_MODULE_3__._coerceToRunnable)(coerceable),\n\t\t\tconfig: this.config,\n\t\t\tkwargs: this.kwargs,\n\t\t\tretryPolicy: this.retryPolicy,\n\t\t\tcachePolicy: this.cachePolicy\n\t\t});\n\t\telse return new PregelNode({\n\t\t\tchannels: this.channels,\n\t\t\ttriggers: this.triggers,\n\t\t\tmapper: this.mapper,\n\t\t\twriters: this.writers,\n\t\t\tbound: this.bound.pipe(coerceable),\n\t\t\tconfig: this.config,\n\t\t\tkwargs: this.kwargs,\n\t\t\tretryPolicy: this.retryPolicy,\n\t\t\tcachePolicy: this.cachePolicy\n\t\t});\n\t}\n};\n\n//#endregion\n\n//# sourceMappingURL=read.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L3ByZWdlbC9yZWFkLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFrRDtBQUNIO0FBQ0w7QUFDNEU7O0FBRXRIO0FBQ0EsNENBQTRDLHVEQUFnQjtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSx3RkFBd0Y7QUFDbEc7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELGtCQUFrQixvQkFBb0IsUUFBUTtBQUNwRztBQUNBO0FBQ0EscUNBQXFDLDBEQUFlO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsMEVBQW1CO0FBQ3BFLDBDQUEwQyxzRUFBZTtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxnSEFBZ0g7QUFDMUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtFQUErRSxtREFBWSxpREFBaUQsbURBQVk7QUFDeEo7QUFDQTtBQUNBLDJDQUEyQyxtREFBWTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELHVFQUFnQjtBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCwwQ0FBMEMsdUVBQWdCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxNQUFNLG1EQUFZO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSw0RUFBaUI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNtQztBQUNuQyIsInNvdXJjZXMiOlsiL1VzZXJzL2pvYi9EZXNrdG9wL3Byb2plY3RfeC9wcm9qZWN0LXNxbC1hZ2VudC9zZXJ2aWNlcy9mcm9udGVuZC9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L3ByZWdlbC9yZWFkLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENPTkZJR19LRVlfUkVBRCB9IGZyb20gXCIuLi9jb25zdGFudHMuanNcIjtcbmltcG9ydCB7IFJ1bm5hYmxlQ2FsbGFibGUgfSBmcm9tIFwiLi4vdXRpbHMuanNcIjtcbmltcG9ydCB7IENoYW5uZWxXcml0ZSB9IGZyb20gXCIuL3dyaXRlLmpzXCI7XG5pbXBvcnQgeyBSdW5uYWJsZUJpbmRpbmcsIFJ1bm5hYmxlUGFzc3Rocm91Z2gsIFJ1bm5hYmxlU2VxdWVuY2UsIF9jb2VyY2VUb1J1bm5hYmxlIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9ydW5uYWJsZXNcIjtcblxuLy8jcmVnaW9uIHNyYy9wcmVnZWwvcmVhZC50c1xudmFyIENoYW5uZWxSZWFkID0gY2xhc3MgQ2hhbm5lbFJlYWQgZXh0ZW5kcyBSdW5uYWJsZUNhbGxhYmxlIHtcblx0bGNfZ3JhcGhfbmFtZSA9IFwiQ2hhbm5lbFJlYWRcIjtcblx0Y2hhbm5lbDtcblx0ZnJlc2ggPSBmYWxzZTtcblx0bWFwcGVyO1xuXHRjb25zdHJ1Y3RvcihjaGFubmVsLCBtYXBwZXIsIGZyZXNoID0gZmFsc2UpIHtcblx0XHRzdXBlcih7IGZ1bmM6IChfLCBjb25maWcpID0+IENoYW5uZWxSZWFkLmRvUmVhZChjb25maWcsIHRoaXMuY2hhbm5lbCwgdGhpcy5mcmVzaCwgdGhpcy5tYXBwZXIpIH0pO1xuXHRcdHRoaXMuZnJlc2ggPSBmcmVzaDtcblx0XHR0aGlzLm1hcHBlciA9IG1hcHBlcjtcblx0XHR0aGlzLmNoYW5uZWwgPSBjaGFubmVsO1xuXHRcdHRoaXMubmFtZSA9IEFycmF5LmlzQXJyYXkoY2hhbm5lbCkgPyBgQ2hhbm5lbFJlYWQ8JHtjaGFubmVsLmpvaW4oXCIsXCIpfT5gIDogYENoYW5uZWxSZWFkPCR7Y2hhbm5lbH0+YDtcblx0fVxuXHRzdGF0aWMgZG9SZWFkKGNvbmZpZywgY2hhbm5lbCwgZnJlc2gsIG1hcHBlcikge1xuXHRcdGNvbnN0IHJlYWQgPSBjb25maWcuY29uZmlndXJhYmxlPy5bQ09ORklHX0tFWV9SRUFEXTtcblx0XHRpZiAoIXJlYWQpIHRocm93IG5ldyBFcnJvcihcIlJ1bm5hYmxlIGlzIG5vdCBjb25maWd1cmVkIHdpdGggYSByZWFkIGZ1bmN0aW9uLiBNYWtlIHN1cmUgdG8gY2FsbCBpbiB0aGUgY29udGV4dCBvZiBhIFByZWdlbCBwcm9jZXNzXCIpO1xuXHRcdGlmIChtYXBwZXIpIHJldHVybiBtYXBwZXIocmVhZChjaGFubmVsLCBmcmVzaCkpO1xuXHRcdGVsc2UgcmV0dXJuIHJlYWQoY2hhbm5lbCwgZnJlc2gpO1xuXHR9XG59O1xuY29uc3QgZGVmYXVsdFJ1bm5hYmxlQm91bmQgPSAvKiBAX19QVVJFX18gKi8gbmV3IFJ1bm5hYmxlUGFzc3Rocm91Z2goKTtcbnZhciBQcmVnZWxOb2RlID0gY2xhc3MgUHJlZ2VsTm9kZSBleHRlbmRzIFJ1bm5hYmxlQmluZGluZyB7XG5cdGxjX2dyYXBoX25hbWUgPSBcIlByZWdlbE5vZGVcIjtcblx0Y2hhbm5lbHM7XG5cdHRyaWdnZXJzID0gW107XG5cdG1hcHBlcjtcblx0d3JpdGVycyA9IFtdO1xuXHRib3VuZCA9IGRlZmF1bHRSdW5uYWJsZUJvdW5kO1xuXHRrd2FyZ3MgPSB7fTtcblx0bWV0YWRhdGEgPSB7fTtcblx0dGFncyA9IFtdO1xuXHRyZXRyeVBvbGljeTtcblx0Y2FjaGVQb2xpY3k7XG5cdHN1YmdyYXBocztcblx0ZW5kcztcblx0Y29uc3RydWN0b3IoZmllbGRzKSB7XG5cdFx0Y29uc3QgeyBjaGFubmVscywgdHJpZ2dlcnMsIG1hcHBlciwgd3JpdGVycywgYm91bmQsIGt3YXJncywgbWV0YWRhdGEsIHJldHJ5UG9saWN5LCBjYWNoZVBvbGljeSwgdGFncywgc3ViZ3JhcGhzLCBlbmRzIH0gPSBmaWVsZHM7XG5cdFx0Y29uc3QgbWVyZ2VkVGFncyA9IFsuLi5maWVsZHMuY29uZmlnPy50YWdzID8gZmllbGRzLmNvbmZpZy50YWdzIDogW10sIC4uLnRhZ3MgPz8gW11dO1xuXHRcdHN1cGVyKHtcblx0XHRcdC4uLmZpZWxkcyxcblx0XHRcdGJvdW5kOiBmaWVsZHMuYm91bmQgPz8gZGVmYXVsdFJ1bm5hYmxlQm91bmQsXG5cdFx0XHRjb25maWc6IHtcblx0XHRcdFx0Li4uZmllbGRzLmNvbmZpZyA/IGZpZWxkcy5jb25maWcgOiB7fSxcblx0XHRcdFx0dGFnczogbWVyZ2VkVGFnc1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHRoaXMuY2hhbm5lbHMgPSBjaGFubmVscztcblx0XHR0aGlzLnRyaWdnZXJzID0gdHJpZ2dlcnM7XG5cdFx0dGhpcy5tYXBwZXIgPSBtYXBwZXI7XG5cdFx0dGhpcy53cml0ZXJzID0gd3JpdGVycyA/PyB0aGlzLndyaXRlcnM7XG5cdFx0dGhpcy5ib3VuZCA9IGJvdW5kID8/IHRoaXMuYm91bmQ7XG5cdFx0dGhpcy5rd2FyZ3MgPSBrd2FyZ3MgPz8gdGhpcy5rd2FyZ3M7XG5cdFx0dGhpcy5tZXRhZGF0YSA9IG1ldGFkYXRhID8/IHRoaXMubWV0YWRhdGE7XG5cdFx0dGhpcy50YWdzID0gbWVyZ2VkVGFncztcblx0XHR0aGlzLnJldHJ5UG9saWN5ID0gcmV0cnlQb2xpY3k7XG5cdFx0dGhpcy5jYWNoZVBvbGljeSA9IGNhY2hlUG9saWN5O1xuXHRcdHRoaXMuc3ViZ3JhcGhzID0gc3ViZ3JhcGhzO1xuXHRcdHRoaXMuZW5kcyA9IGVuZHM7XG5cdH1cblx0Z2V0V3JpdGVycygpIHtcblx0XHRjb25zdCBuZXdXcml0ZXJzID0gWy4uLnRoaXMud3JpdGVyc107XG5cdFx0d2hpbGUgKG5ld1dyaXRlcnMubGVuZ3RoID4gMSAmJiBuZXdXcml0ZXJzW25ld1dyaXRlcnMubGVuZ3RoIC0gMV0gaW5zdGFuY2VvZiBDaGFubmVsV3JpdGUgJiYgbmV3V3JpdGVyc1tuZXdXcml0ZXJzLmxlbmd0aCAtIDJdIGluc3RhbmNlb2YgQ2hhbm5lbFdyaXRlKSB7XG5cdFx0XHRjb25zdCBlbmRXcml0ZXJzID0gbmV3V3JpdGVycy5zbGljZSgtMik7XG5cdFx0XHRjb25zdCBjb21iaW5lZFdyaXRlcyA9IGVuZFdyaXRlcnNbMF0ud3JpdGVzLmNvbmNhdChlbmRXcml0ZXJzWzFdLndyaXRlcyk7XG5cdFx0XHRuZXdXcml0ZXJzW25ld1dyaXRlcnMubGVuZ3RoIC0gMl0gPSBuZXcgQ2hhbm5lbFdyaXRlKGNvbWJpbmVkV3JpdGVzLCBlbmRXcml0ZXJzWzBdLmNvbmZpZz8udGFncyk7XG5cdFx0XHRuZXdXcml0ZXJzLnBvcCgpO1xuXHRcdH1cblx0XHRyZXR1cm4gbmV3V3JpdGVycztcblx0fVxuXHRnZXROb2RlKCkge1xuXHRcdGNvbnN0IHdyaXRlcnMgPSB0aGlzLmdldFdyaXRlcnMoKTtcblx0XHRpZiAodGhpcy5ib3VuZCA9PT0gZGVmYXVsdFJ1bm5hYmxlQm91bmQgJiYgd3JpdGVycy5sZW5ndGggPT09IDApIHJldHVybiB2b2lkIDA7XG5cdFx0ZWxzZSBpZiAodGhpcy5ib3VuZCA9PT0gZGVmYXVsdFJ1bm5hYmxlQm91bmQgJiYgd3JpdGVycy5sZW5ndGggPT09IDEpIHJldHVybiB3cml0ZXJzWzBdO1xuXHRcdGVsc2UgaWYgKHRoaXMuYm91bmQgPT09IGRlZmF1bHRSdW5uYWJsZUJvdW5kKSByZXR1cm4gbmV3IFJ1bm5hYmxlU2VxdWVuY2Uoe1xuXHRcdFx0Zmlyc3Q6IHdyaXRlcnNbMF0sXG5cdFx0XHRtaWRkbGU6IHdyaXRlcnMuc2xpY2UoMSwgd3JpdGVycy5sZW5ndGggLSAxKSxcblx0XHRcdGxhc3Q6IHdyaXRlcnNbd3JpdGVycy5sZW5ndGggLSAxXSxcblx0XHRcdG9taXRTZXF1ZW5jZVRhZ3M6IHRydWVcblx0XHR9KTtcblx0XHRlbHNlIGlmICh3cml0ZXJzLmxlbmd0aCA+IDApIHJldHVybiBuZXcgUnVubmFibGVTZXF1ZW5jZSh7XG5cdFx0XHRmaXJzdDogdGhpcy5ib3VuZCxcblx0XHRcdG1pZGRsZTogd3JpdGVycy5zbGljZSgwLCB3cml0ZXJzLmxlbmd0aCAtIDEpLFxuXHRcdFx0bGFzdDogd3JpdGVyc1t3cml0ZXJzLmxlbmd0aCAtIDFdLFxuXHRcdFx0b21pdFNlcXVlbmNlVGFnczogdHJ1ZVxuXHRcdH0pO1xuXHRcdGVsc2UgcmV0dXJuIHRoaXMuYm91bmQ7XG5cdH1cblx0am9pbihjaGFubmVscykge1xuXHRcdGlmICghQXJyYXkuaXNBcnJheShjaGFubmVscykpIHRocm93IG5ldyBFcnJvcihcImNoYW5uZWxzIG11c3QgYmUgYSBsaXN0XCIpO1xuXHRcdGlmICh0eXBlb2YgdGhpcy5jaGFubmVscyAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiYWxsIGNoYW5uZWxzIG11c3QgYmUgbmFtZWQgd2hlbiB1c2luZyAuam9pbigpXCIpO1xuXHRcdHJldHVybiBuZXcgUHJlZ2VsTm9kZSh7XG5cdFx0XHRjaGFubmVsczoge1xuXHRcdFx0XHQuLi50aGlzLmNoYW5uZWxzLFxuXHRcdFx0XHQuLi5PYmplY3QuZnJvbUVudHJpZXMoY2hhbm5lbHMubWFwKChjaGFuKSA9PiBbY2hhbiwgY2hhbl0pKVxuXHRcdFx0fSxcblx0XHRcdHRyaWdnZXJzOiB0aGlzLnRyaWdnZXJzLFxuXHRcdFx0bWFwcGVyOiB0aGlzLm1hcHBlcixcblx0XHRcdHdyaXRlcnM6IHRoaXMud3JpdGVycyxcblx0XHRcdGJvdW5kOiB0aGlzLmJvdW5kLFxuXHRcdFx0a3dhcmdzOiB0aGlzLmt3YXJncyxcblx0XHRcdGNvbmZpZzogdGhpcy5jb25maWcsXG5cdFx0XHRyZXRyeVBvbGljeTogdGhpcy5yZXRyeVBvbGljeSxcblx0XHRcdGNhY2hlUG9saWN5OiB0aGlzLmNhY2hlUG9saWN5XG5cdFx0fSk7XG5cdH1cblx0cGlwZShjb2VyY2VhYmxlKSB7XG5cdFx0aWYgKENoYW5uZWxXcml0ZS5pc1dyaXRlcihjb2VyY2VhYmxlKSkgcmV0dXJuIG5ldyBQcmVnZWxOb2RlKHtcblx0XHRcdGNoYW5uZWxzOiB0aGlzLmNoYW5uZWxzLFxuXHRcdFx0dHJpZ2dlcnM6IHRoaXMudHJpZ2dlcnMsXG5cdFx0XHRtYXBwZXI6IHRoaXMubWFwcGVyLFxuXHRcdFx0d3JpdGVyczogWy4uLnRoaXMud3JpdGVycywgY29lcmNlYWJsZV0sXG5cdFx0XHRib3VuZDogdGhpcy5ib3VuZCxcblx0XHRcdGNvbmZpZzogdGhpcy5jb25maWcsXG5cdFx0XHRrd2FyZ3M6IHRoaXMua3dhcmdzLFxuXHRcdFx0cmV0cnlQb2xpY3k6IHRoaXMucmV0cnlQb2xpY3ksXG5cdFx0XHRjYWNoZVBvbGljeTogdGhpcy5jYWNoZVBvbGljeVxuXHRcdH0pO1xuXHRcdGVsc2UgaWYgKHRoaXMuYm91bmQgPT09IGRlZmF1bHRSdW5uYWJsZUJvdW5kKSByZXR1cm4gbmV3IFByZWdlbE5vZGUoe1xuXHRcdFx0Y2hhbm5lbHM6IHRoaXMuY2hhbm5lbHMsXG5cdFx0XHR0cmlnZ2VyczogdGhpcy50cmlnZ2Vycyxcblx0XHRcdG1hcHBlcjogdGhpcy5tYXBwZXIsXG5cdFx0XHR3cml0ZXJzOiB0aGlzLndyaXRlcnMsXG5cdFx0XHRib3VuZDogX2NvZXJjZVRvUnVubmFibGUoY29lcmNlYWJsZSksXG5cdFx0XHRjb25maWc6IHRoaXMuY29uZmlnLFxuXHRcdFx0a3dhcmdzOiB0aGlzLmt3YXJncyxcblx0XHRcdHJldHJ5UG9saWN5OiB0aGlzLnJldHJ5UG9saWN5LFxuXHRcdFx0Y2FjaGVQb2xpY3k6IHRoaXMuY2FjaGVQb2xpY3lcblx0XHR9KTtcblx0XHRlbHNlIHJldHVybiBuZXcgUHJlZ2VsTm9kZSh7XG5cdFx0XHRjaGFubmVsczogdGhpcy5jaGFubmVscyxcblx0XHRcdHRyaWdnZXJzOiB0aGlzLnRyaWdnZXJzLFxuXHRcdFx0bWFwcGVyOiB0aGlzLm1hcHBlcixcblx0XHRcdHdyaXRlcnM6IHRoaXMud3JpdGVycyxcblx0XHRcdGJvdW5kOiB0aGlzLmJvdW5kLnBpcGUoY29lcmNlYWJsZSksXG5cdFx0XHRjb25maWc6IHRoaXMuY29uZmlnLFxuXHRcdFx0a3dhcmdzOiB0aGlzLmt3YXJncyxcblx0XHRcdHJldHJ5UG9saWN5OiB0aGlzLnJldHJ5UG9saWN5LFxuXHRcdFx0Y2FjaGVQb2xpY3k6IHRoaXMuY2FjaGVQb2xpY3lcblx0XHR9KTtcblx0fVxufTtcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBDaGFubmVsUmVhZCwgUHJlZ2VsTm9kZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVhZC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/read.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/retry.js":
/*!************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/retry.js ***!
  \************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _runWithRetry: () => (/* binding */ _runWithRetry)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errors.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/errors.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/constants.js\");\n/* harmony import */ var _utils_config_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/config.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/utils/config.js\");\n/* harmony import */ var _utils_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/index.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/utils/index.js\");\n\n\n\n\n\n//#region src/pregel/retry.ts\nconst DEFAULT_INITIAL_INTERVAL = 500;\nconst DEFAULT_BACKOFF_FACTOR = 2;\nconst DEFAULT_MAX_INTERVAL = 128e3;\nconst DEFAULT_MAX_RETRIES = 3;\nconst DEFAULT_STATUS_NO_RETRY = [\n\t400,\n\t401,\n\t402,\n\t403,\n\t404,\n\t405,\n\t406,\n\t407,\n\t409\n];\nconst DEFAULT_RETRY_ON_HANDLER = (error) => {\n\tif (error.message.startsWith(\"Cancel\") || error.message.startsWith(\"AbortError\") || error.name === \"AbortError\") return false;\n\tif (error.name === \"GraphValueError\") return false;\n\tif (error?.code === \"ECONNABORTED\") return false;\n\tconst status = error?.response?.status ?? error?.status;\n\tif (status && DEFAULT_STATUS_NO_RETRY.includes(+status)) return false;\n\tif (error?.error?.code === \"insufficient_quota\") return false;\n\treturn true;\n};\nasync function _runWithRetry(pregelTask, retryPolicy, configurable, signal) {\n\tconst resolvedRetryPolicy = pregelTask.retry_policy ?? retryPolicy;\n\tlet interval = resolvedRetryPolicy !== void 0 ? resolvedRetryPolicy.initialInterval ?? DEFAULT_INITIAL_INTERVAL : 0;\n\tlet attempts = 0;\n\tlet error;\n\tlet result;\n\tlet { config } = pregelTask;\n\tif (configurable) config = (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_3__.patchConfigurable)(config, configurable);\n\tconfig = {\n\t\t...config,\n\t\tsignal\n\t};\n\twhile (true) {\n\t\tif (signal?.aborted) break;\n\t\tpregelTask.writes.splice(0, pregelTask.writes.length);\n\t\terror = void 0;\n\t\ttry {\n\t\t\tresult = await pregelTask.proc.invoke(pregelTask.input, config);\n\t\t\tbreak;\n\t\t} catch (e) {\n\t\t\terror = e;\n\t\t\terror.pregelTaskId = pregelTask.id;\n\t\t\tif ((0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.isParentCommand)(error)) {\n\t\t\t\tconst ns = config?.configurable?.checkpoint_ns;\n\t\t\t\tconst cmd = error.command;\n\t\t\t\tif (cmd.graph === ns) {\n\t\t\t\t\tfor (const writer of pregelTask.writers) await writer.invoke(cmd, config);\n\t\t\t\t\terror = void 0;\n\t\t\t\t\tbreak;\n\t\t\t\t} else if (cmd.graph === _constants_js__WEBPACK_IMPORTED_MODULE_1__.Command.PARENT) {\n\t\t\t\t\tconst parentNs = (0,_utils_config_js__WEBPACK_IMPORTED_MODULE_2__.getParentCheckpointNamespace)(ns);\n\t\t\t\t\terror.command = new _constants_js__WEBPACK_IMPORTED_MODULE_1__.Command({\n\t\t\t\t\t\t...error.command,\n\t\t\t\t\t\tgraph: parentNs\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ((0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.isGraphBubbleUp)(error)) break;\n\t\t\tif (resolvedRetryPolicy === void 0) break;\n\t\t\tattempts += 1;\n\t\t\tif (attempts >= (resolvedRetryPolicy.maxAttempts ?? DEFAULT_MAX_RETRIES)) break;\n\t\t\tconst retryOn = resolvedRetryPolicy.retryOn ?? DEFAULT_RETRY_ON_HANDLER;\n\t\t\tif (!retryOn(error)) break;\n\t\t\tinterval = Math.min(resolvedRetryPolicy.maxInterval ?? DEFAULT_MAX_INTERVAL, interval * (resolvedRetryPolicy.backoffFactor ?? DEFAULT_BACKOFF_FACTOR));\n\t\t\tconst intervalWithJitter = resolvedRetryPolicy.jitter ? Math.floor(interval + Math.random() * 1e3) : interval;\n\t\t\tawait new Promise((resolve) => setTimeout(resolve, intervalWithJitter));\n\t\t\tconst errorName = error.name ?? error.constructor.unminifiable_name ?? error.constructor.name;\n\t\t\tif (resolvedRetryPolicy?.logWarning ?? true) console.log(`Retrying task \"${String(pregelTask.name)}\" after ${interval.toFixed(2)}ms (attempt ${attempts}) after ${errorName}: ${error}`);\n\t\t\tconfig = (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_3__.patchConfigurable)(config, { [_constants_js__WEBPACK_IMPORTED_MODULE_1__.CONFIG_KEY_RESUMING]: true });\n\t\t}\n\t}\n\treturn {\n\t\ttask: pregelTask,\n\t\tresult,\n\t\terror,\n\t\tsignalAborted: signal?.aborted\n\t};\n}\n\n//#endregion\n\n//# sourceMappingURL=retry.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L3ByZWdlbC9yZXRyeS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFnRTtBQUNEO0FBQ0U7QUFDWjs7QUFFckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLFNBQVM7QUFDaEIsNEJBQTRCLGtFQUFpQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxPQUFPLDJEQUFlO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sdUJBQXVCLGtEQUFPO0FBQ3BDLHNCQUFzQiw4RUFBNEI7QUFDbEQseUJBQXlCLGtEQUFPO0FBQ2hDO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE9BQU8sMkRBQWU7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEVBQThFLHdCQUF3QixVQUFVLG9CQUFvQixjQUFjLFNBQVMsVUFBVSxVQUFVLElBQUksTUFBTTtBQUN6TCxZQUFZLGtFQUFpQixXQUFXLENBQUMsOERBQW1CLFNBQVM7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3lCO0FBQ3pCIiwic291cmNlcyI6WyIvVXNlcnMvam9iL0Rlc2t0b3AvcHJvamVjdF94L3Byb2plY3Qtc3FsLWFnZW50L3NlcnZpY2VzL2Zyb250ZW5kL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2xhbmdncmFwaEAxLjAuMV9AbGFuZ2NoYWluK2NvcmVAMS4wLjJfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEA0LjEuMTJfX19fZWZhNGU4Zjg2NTU4ZTVkMjllYmRlYzNkMmYwMDRlZDkvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vbGFuZ2dyYXBoL2Rpc3QvcHJlZ2VsL3JldHJ5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzR3JhcGhCdWJibGVVcCwgaXNQYXJlbnRDb21tYW5kIH0gZnJvbSBcIi4uL2Vycm9ycy5qc1wiO1xuaW1wb3J0IHsgQ09ORklHX0tFWV9SRVNVTUlORywgQ29tbWFuZCB9IGZyb20gXCIuLi9jb25zdGFudHMuanNcIjtcbmltcG9ydCB7IGdldFBhcmVudENoZWNrcG9pbnROYW1lc3BhY2UgfSBmcm9tIFwiLi91dGlscy9jb25maWcuanNcIjtcbmltcG9ydCB7IHBhdGNoQ29uZmlndXJhYmxlIH0gZnJvbSBcIi4vdXRpbHMvaW5kZXguanNcIjtcblxuLy8jcmVnaW9uIHNyYy9wcmVnZWwvcmV0cnkudHNcbmNvbnN0IERFRkFVTFRfSU5JVElBTF9JTlRFUlZBTCA9IDUwMDtcbmNvbnN0IERFRkFVTFRfQkFDS09GRl9GQUNUT1IgPSAyO1xuY29uc3QgREVGQVVMVF9NQVhfSU5URVJWQUwgPSAxMjhlMztcbmNvbnN0IERFRkFVTFRfTUFYX1JFVFJJRVMgPSAzO1xuY29uc3QgREVGQVVMVF9TVEFUVVNfTk9fUkVUUlkgPSBbXG5cdDQwMCxcblx0NDAxLFxuXHQ0MDIsXG5cdDQwMyxcblx0NDA0LFxuXHQ0MDUsXG5cdDQwNixcblx0NDA3LFxuXHQ0MDlcbl07XG5jb25zdCBERUZBVUxUX1JFVFJZX09OX0hBTkRMRVIgPSAoZXJyb3IpID0+IHtcblx0aWYgKGVycm9yLm1lc3NhZ2Uuc3RhcnRzV2l0aChcIkNhbmNlbFwiKSB8fCBlcnJvci5tZXNzYWdlLnN0YXJ0c1dpdGgoXCJBYm9ydEVycm9yXCIpIHx8IGVycm9yLm5hbWUgPT09IFwiQWJvcnRFcnJvclwiKSByZXR1cm4gZmFsc2U7XG5cdGlmIChlcnJvci5uYW1lID09PSBcIkdyYXBoVmFsdWVFcnJvclwiKSByZXR1cm4gZmFsc2U7XG5cdGlmIChlcnJvcj8uY29kZSA9PT0gXCJFQ09OTkFCT1JURURcIikgcmV0dXJuIGZhbHNlO1xuXHRjb25zdCBzdGF0dXMgPSBlcnJvcj8ucmVzcG9uc2U/LnN0YXR1cyA/PyBlcnJvcj8uc3RhdHVzO1xuXHRpZiAoc3RhdHVzICYmIERFRkFVTFRfU1RBVFVTX05PX1JFVFJZLmluY2x1ZGVzKCtzdGF0dXMpKSByZXR1cm4gZmFsc2U7XG5cdGlmIChlcnJvcj8uZXJyb3I/LmNvZGUgPT09IFwiaW5zdWZmaWNpZW50X3F1b3RhXCIpIHJldHVybiBmYWxzZTtcblx0cmV0dXJuIHRydWU7XG59O1xuYXN5bmMgZnVuY3Rpb24gX3J1bldpdGhSZXRyeShwcmVnZWxUYXNrLCByZXRyeVBvbGljeSwgY29uZmlndXJhYmxlLCBzaWduYWwpIHtcblx0Y29uc3QgcmVzb2x2ZWRSZXRyeVBvbGljeSA9IHByZWdlbFRhc2sucmV0cnlfcG9saWN5ID8/IHJldHJ5UG9saWN5O1xuXHRsZXQgaW50ZXJ2YWwgPSByZXNvbHZlZFJldHJ5UG9saWN5ICE9PSB2b2lkIDAgPyByZXNvbHZlZFJldHJ5UG9saWN5LmluaXRpYWxJbnRlcnZhbCA/PyBERUZBVUxUX0lOSVRJQUxfSU5URVJWQUwgOiAwO1xuXHRsZXQgYXR0ZW1wdHMgPSAwO1xuXHRsZXQgZXJyb3I7XG5cdGxldCByZXN1bHQ7XG5cdGxldCB7IGNvbmZpZyB9ID0gcHJlZ2VsVGFzaztcblx0aWYgKGNvbmZpZ3VyYWJsZSkgY29uZmlnID0gcGF0Y2hDb25maWd1cmFibGUoY29uZmlnLCBjb25maWd1cmFibGUpO1xuXHRjb25maWcgPSB7XG5cdFx0Li4uY29uZmlnLFxuXHRcdHNpZ25hbFxuXHR9O1xuXHR3aGlsZSAodHJ1ZSkge1xuXHRcdGlmIChzaWduYWw/LmFib3J0ZWQpIGJyZWFrO1xuXHRcdHByZWdlbFRhc2sud3JpdGVzLnNwbGljZSgwLCBwcmVnZWxUYXNrLndyaXRlcy5sZW5ndGgpO1xuXHRcdGVycm9yID0gdm9pZCAwO1xuXHRcdHRyeSB7XG5cdFx0XHRyZXN1bHQgPSBhd2FpdCBwcmVnZWxUYXNrLnByb2MuaW52b2tlKHByZWdlbFRhc2suaW5wdXQsIGNvbmZpZyk7XG5cdFx0XHRicmVhaztcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRlcnJvciA9IGU7XG5cdFx0XHRlcnJvci5wcmVnZWxUYXNrSWQgPSBwcmVnZWxUYXNrLmlkO1xuXHRcdFx0aWYgKGlzUGFyZW50Q29tbWFuZChlcnJvcikpIHtcblx0XHRcdFx0Y29uc3QgbnMgPSBjb25maWc/LmNvbmZpZ3VyYWJsZT8uY2hlY2twb2ludF9ucztcblx0XHRcdFx0Y29uc3QgY21kID0gZXJyb3IuY29tbWFuZDtcblx0XHRcdFx0aWYgKGNtZC5ncmFwaCA9PT0gbnMpIHtcblx0XHRcdFx0XHRmb3IgKGNvbnN0IHdyaXRlciBvZiBwcmVnZWxUYXNrLndyaXRlcnMpIGF3YWl0IHdyaXRlci5pbnZva2UoY21kLCBjb25maWcpO1xuXHRcdFx0XHRcdGVycm9yID0gdm9pZCAwO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGNtZC5ncmFwaCA9PT0gQ29tbWFuZC5QQVJFTlQpIHtcblx0XHRcdFx0XHRjb25zdCBwYXJlbnROcyA9IGdldFBhcmVudENoZWNrcG9pbnROYW1lc3BhY2UobnMpO1xuXHRcdFx0XHRcdGVycm9yLmNvbW1hbmQgPSBuZXcgQ29tbWFuZCh7XG5cdFx0XHRcdFx0XHQuLi5lcnJvci5jb21tYW5kLFxuXHRcdFx0XHRcdFx0Z3JhcGg6IHBhcmVudE5zXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGlmIChpc0dyYXBoQnViYmxlVXAoZXJyb3IpKSBicmVhaztcblx0XHRcdGlmIChyZXNvbHZlZFJldHJ5UG9saWN5ID09PSB2b2lkIDApIGJyZWFrO1xuXHRcdFx0YXR0ZW1wdHMgKz0gMTtcblx0XHRcdGlmIChhdHRlbXB0cyA+PSAocmVzb2x2ZWRSZXRyeVBvbGljeS5tYXhBdHRlbXB0cyA/PyBERUZBVUxUX01BWF9SRVRSSUVTKSkgYnJlYWs7XG5cdFx0XHRjb25zdCByZXRyeU9uID0gcmVzb2x2ZWRSZXRyeVBvbGljeS5yZXRyeU9uID8/IERFRkFVTFRfUkVUUllfT05fSEFORExFUjtcblx0XHRcdGlmICghcmV0cnlPbihlcnJvcikpIGJyZWFrO1xuXHRcdFx0aW50ZXJ2YWwgPSBNYXRoLm1pbihyZXNvbHZlZFJldHJ5UG9saWN5Lm1heEludGVydmFsID8/IERFRkFVTFRfTUFYX0lOVEVSVkFMLCBpbnRlcnZhbCAqIChyZXNvbHZlZFJldHJ5UG9saWN5LmJhY2tvZmZGYWN0b3IgPz8gREVGQVVMVF9CQUNLT0ZGX0ZBQ1RPUikpO1xuXHRcdFx0Y29uc3QgaW50ZXJ2YWxXaXRoSml0dGVyID0gcmVzb2x2ZWRSZXRyeVBvbGljeS5qaXR0ZXIgPyBNYXRoLmZsb29yKGludGVydmFsICsgTWF0aC5yYW5kb20oKSAqIDFlMykgOiBpbnRlcnZhbDtcblx0XHRcdGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIGludGVydmFsV2l0aEppdHRlcikpO1xuXHRcdFx0Y29uc3QgZXJyb3JOYW1lID0gZXJyb3IubmFtZSA/PyBlcnJvci5jb25zdHJ1Y3Rvci51bm1pbmlmaWFibGVfbmFtZSA/PyBlcnJvci5jb25zdHJ1Y3Rvci5uYW1lO1xuXHRcdFx0aWYgKHJlc29sdmVkUmV0cnlQb2xpY3k/LmxvZ1dhcm5pbmcgPz8gdHJ1ZSkgY29uc29sZS5sb2coYFJldHJ5aW5nIHRhc2sgXCIke1N0cmluZyhwcmVnZWxUYXNrLm5hbWUpfVwiIGFmdGVyICR7aW50ZXJ2YWwudG9GaXhlZCgyKX1tcyAoYXR0ZW1wdCAke2F0dGVtcHRzfSkgYWZ0ZXIgJHtlcnJvck5hbWV9OiAke2Vycm9yfWApO1xuXHRcdFx0Y29uZmlnID0gcGF0Y2hDb25maWd1cmFibGUoY29uZmlnLCB7IFtDT05GSUdfS0VZX1JFU1VNSU5HXTogdHJ1ZSB9KTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHtcblx0XHR0YXNrOiBwcmVnZWxUYXNrLFxuXHRcdHJlc3VsdCxcblx0XHRlcnJvcixcblx0XHRzaWduYWxBYm9ydGVkOiBzaWduYWw/LmFib3J0ZWRcblx0fTtcbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBfcnVuV2l0aFJldHJ5IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXRyeS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/retry.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/runner.js":
/*!*************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/runner.js ***!
  \*************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PregelRunner: () => (/* binding */ PregelRunner)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errors.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/errors.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/constants.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./types.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/types.js\");\n/* harmony import */ var _utils_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/index.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/utils/index.js\");\n/* harmony import */ var _retry_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./retry.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/retry.js\");\n\n\n\n\n\n\n//#region src/pregel/runner.ts\nconst PROMISE_ADDED_SYMBOL = Symbol.for(\"promiseAdded\");\nfunction createPromiseBarrier() {\n\tconst barrier = {\n\t\tnext: () => void 0,\n\t\twait: Promise.resolve(PROMISE_ADDED_SYMBOL)\n\t};\n\tfunction waitHandler(resolve) {\n\t\tbarrier.next = () => {\n\t\t\tbarrier.wait = new Promise(waitHandler);\n\t\t\tresolve(PROMISE_ADDED_SYMBOL);\n\t\t};\n\t}\n\tbarrier.wait = new Promise(waitHandler);\n\treturn barrier;\n}\n/**\n* Responsible for handling task execution on each tick of the {@link PregelLoop}.\n*/\nvar PregelRunner = class {\n\tnodeFinished;\n\tloop;\n\t/**\n\t* Construct a new PregelRunner, which executes tasks from the provided PregelLoop.\n\t* @param loop - The PregelLoop that produces tasks for this runner to execute.\n\t*/\n\tconstructor({ loop, nodeFinished }) {\n\t\tthis.loop = loop;\n\t\tthis.nodeFinished = nodeFinished;\n\t}\n\t/**\n\t* Execute tasks from the current step of the PregelLoop.\n\t*\n\t* Note: this method does NOT call {@link PregelLoop}#tick. That must be handled externally.\n\t* @param options - Options for the execution.\n\t*/\n\tasync tick(options = {}) {\n\t\tconst { timeout, retryPolicy, onStepWrite, maxConcurrency } = options;\n\t\tconst nodeErrors = /* @__PURE__ */ new Set();\n\t\tlet graphBubbleUp;\n\t\tconst exceptionSignalController = new AbortController();\n\t\tconst exceptionSignal = exceptionSignalController.signal;\n\t\tconst stepTimeoutSignal = timeout ? AbortSignal.timeout(timeout) : void 0;\n\t\tconst pendingTasks = Object.values(this.loop.tasks).filter((t) => t.writes.length === 0);\n\t\tconst { signals, disposeCombinedSignal } = this._initializeAbortSignals({\n\t\t\texceptionSignal,\n\t\t\tstepTimeoutSignal,\n\t\t\tsignal: options.signal\n\t\t});\n\t\tconst taskStream = this._executeTasksWithRetry(pendingTasks, {\n\t\t\tsignals,\n\t\t\tretryPolicy,\n\t\t\tmaxConcurrency\n\t\t});\n\t\tfor await (const { task, error, signalAborted } of taskStream) {\n\t\t\tthis._commit(task, error);\n\t\t\tif ((0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.isGraphInterrupt)(error)) graphBubbleUp = error;\n\t\t\telse if ((0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.isGraphBubbleUp)(error) && !(0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.isGraphInterrupt)(graphBubbleUp)) graphBubbleUp = error;\n\t\t\telse if (error && (nodeErrors.size === 0 || !signalAborted)) {\n\t\t\t\texceptionSignalController.abort();\n\t\t\t\tnodeErrors.add(error);\n\t\t\t}\n\t\t}\n\t\tdisposeCombinedSignal?.();\n\t\tonStepWrite?.(this.loop.step, Object.values(this.loop.tasks).map((task) => task.writes).flat());\n\t\tif (nodeErrors.size === 1) throw Array.from(nodeErrors)[0];\n\t\telse if (nodeErrors.size > 1) throw new AggregateError(Array.from(nodeErrors), `Multiple errors occurred during superstep ${this.loop.step}. See the \"errors\" field of this exception for more details.`);\n\t\tif ((0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.isGraphInterrupt)(graphBubbleUp)) throw graphBubbleUp;\n\t\tif ((0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.isGraphBubbleUp)(graphBubbleUp) && this.loop.isNested) throw graphBubbleUp;\n\t}\n\t/**\n\t* Initializes the current AbortSignals for the PregelRunner, handling the various ways that\n\t* AbortSignals must be chained together so that the PregelLoop can be interrupted if necessary\n\t* while still allowing nodes to gracefully exit.\n\t*\n\t* This method must only be called once per PregelRunner#tick. It has the side effect of updating\n\t* the PregelLoop#config with the new AbortSignals so they may be propagated correctly to future\n\t* ticks and subgraph calls.\n\t*\n\t* @param options - Options for the initialization.\n\t* @returns The current abort signals.\n\t* @internal\n\t*/\n\t_initializeAbortSignals({ exceptionSignal, stepTimeoutSignal, signal }) {\n\t\tconst previousSignals = this.loop.config.configurable?.[_constants_js__WEBPACK_IMPORTED_MODULE_1__.CONFIG_KEY_ABORT_SIGNALS] ?? {};\n\t\tconst externalAbortSignal = previousSignals.externalAbortSignal ?? signal;\n\t\tconst timeoutAbortSignal = stepTimeoutSignal ?? previousSignals.timeoutAbortSignal;\n\t\tconst { signal: composedAbortSignal, dispose: disposeCombinedSignal } = (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_3__.combineAbortSignals)(externalAbortSignal, timeoutAbortSignal, exceptionSignal);\n\t\tconst signals = {\n\t\t\texternalAbortSignal,\n\t\t\ttimeoutAbortSignal,\n\t\t\tcomposedAbortSignal\n\t\t};\n\t\tthis.loop.config = (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_3__.patchConfigurable)(this.loop.config, { [_constants_js__WEBPACK_IMPORTED_MODULE_1__.CONFIG_KEY_ABORT_SIGNALS]: signals });\n\t\treturn {\n\t\t\tsignals,\n\t\t\tdisposeCombinedSignal\n\t\t};\n\t}\n\t/**\n\t* Concurrently executes tasks with the requested retry policy, yielding a {@link SettledPregelTask} for each task as it completes.\n\t* @param tasks - The tasks to execute.\n\t* @param options - Options for the execution.\n\t*/\n\tasync *_executeTasksWithRetry(tasks, options) {\n\t\tconst { retryPolicy, maxConcurrency, signals } = options ?? {};\n\t\tconst barrier = createPromiseBarrier();\n\t\tconst executingTasksMap = {};\n\t\tconst thisCall = {\n\t\t\texecutingTasksMap,\n\t\t\tbarrier,\n\t\t\tretryPolicy,\n\t\t\tscheduleTask: async (task, writeIdx, call$1) => this.loop.acceptPush(task, writeIdx, call$1)\n\t\t};\n\t\tif (signals?.composedAbortSignal?.aborted) throw new Error(\"Abort\");\n\t\tlet startedTasksCount = 0;\n\t\tlet listener;\n\t\tconst timeoutOrCancelSignal = (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_3__.combineAbortSignals)(signals?.externalAbortSignal, signals?.timeoutAbortSignal);\n\t\tconst abortPromise = timeoutOrCancelSignal.signal ? new Promise((_resolve, reject) => {\n\t\t\tlistener = () => reject(/* @__PURE__ */ new Error(\"Abort\"));\n\t\t\ttimeoutOrCancelSignal.signal?.addEventListener(\"abort\", listener, { once: true });\n\t\t}) : void 0;\n\t\twhile ((startedTasksCount === 0 || Object.keys(executingTasksMap).length > 0) && tasks.length) {\n\t\t\tfor (; Object.values(executingTasksMap).length < (maxConcurrency ?? tasks.length) && startedTasksCount < tasks.length; startedTasksCount += 1) {\n\t\t\t\tconst task = tasks[startedTasksCount];\n\t\t\t\texecutingTasksMap[task.id] = (0,_retry_js__WEBPACK_IMPORTED_MODULE_4__._runWithRetry)(task, retryPolicy, { [_constants_js__WEBPACK_IMPORTED_MODULE_1__.CONFIG_KEY_CALL]: call?.bind(thisCall, this, task) }, signals?.composedAbortSignal).catch((error) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttask,\n\t\t\t\t\t\terror,\n\t\t\t\t\t\tsignalAborted: signals?.composedAbortSignal?.aborted\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}\n\t\t\tconst settledTask = await Promise.race([\n\t\t\t\t...Object.values(executingTasksMap),\n\t\t\t\t...abortPromise ? [abortPromise] : [],\n\t\t\t\tbarrier.wait\n\t\t\t]);\n\t\t\tif (settledTask === PROMISE_ADDED_SYMBOL) continue;\n\t\t\tyield settledTask;\n\t\t\tif (listener != null) {\n\t\t\t\ttimeoutOrCancelSignal.signal?.removeEventListener(\"abort\", listener);\n\t\t\t\ttimeoutOrCancelSignal.dispose?.();\n\t\t\t}\n\t\t\tdelete executingTasksMap[settledTask.task.id];\n\t\t}\n\t}\n\t/**\n\t* Determines what writes to apply based on whether the task completed successfully, and what type of error occurred.\n\t*\n\t* Throws an error if the error is a {@link GraphBubbleUp} error and {@link PregelLoop}#isNested is true.\n\t*\n\t* @param task - The task to commit.\n\t* @param error - The error that occurred, if any.\n\t*/\n\t_commit(task, error) {\n\t\tif (error !== void 0) if ((0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.isGraphInterrupt)(error)) {\n\t\t\tif (error.interrupts.length) {\n\t\t\t\tconst interrupts = error.interrupts.map((interrupt) => [_constants_js__WEBPACK_IMPORTED_MODULE_1__.INTERRUPT, interrupt]);\n\t\t\t\tconst resumes = task.writes.filter((w) => w[0] === _constants_js__WEBPACK_IMPORTED_MODULE_1__.RESUME);\n\t\t\t\tif (resumes.length) interrupts.push(...resumes);\n\t\t\t\tthis.loop.putWrites(task.id, interrupts);\n\t\t\t}\n\t\t} else if ((0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.isGraphBubbleUp)(error) && task.writes.length) this.loop.putWrites(task.id, task.writes);\n\t\telse this.loop.putWrites(task.id, [[_constants_js__WEBPACK_IMPORTED_MODULE_1__.ERROR, {\n\t\t\tmessage: error.message,\n\t\t\tname: error.name\n\t\t}]]);\n\t\telse {\n\t\t\tif (this.nodeFinished && (task.config?.tags == null || !task.config.tags.includes(_constants_js__WEBPACK_IMPORTED_MODULE_1__.TAG_HIDDEN))) this.nodeFinished(String(task.name));\n\t\t\tif (task.writes.length === 0) task.writes.push([_constants_js__WEBPACK_IMPORTED_MODULE_1__.NO_WRITES, null]);\n\t\t\tthis.loop.putWrites(task.id, task.writes);\n\t\t}\n\t}\n};\nasync function call(runner, task, func, name, input, options = {}) {\n\tconst scratchpad = task.config?.configurable?.[_constants_js__WEBPACK_IMPORTED_MODULE_1__.CONFIG_KEY_SCRATCHPAD];\n\tif (!scratchpad) throw new Error(`BUG: No scratchpad found on task ${task.name}__${task.id}`);\n\tconst cnt = scratchpad.callCounter;\n\tscratchpad.callCounter += 1;\n\tconst wcall = new _types_js__WEBPACK_IMPORTED_MODULE_2__.Call({\n\t\tfunc,\n\t\tname,\n\t\tinput,\n\t\tcache: options.cache,\n\t\tretry: options.retry,\n\t\tcallbacks: options.callbacks\n\t});\n\tconst nextTask = await this.scheduleTask(task, cnt, wcall);\n\tif (!nextTask) return void 0;\n\tconst existingPromise = this.executingTasksMap[nextTask.id];\n\tif (existingPromise !== void 0) return existingPromise;\n\tif (nextTask.writes.length > 0) {\n\t\tconst returns = nextTask.writes.filter(([c]) => c === _constants_js__WEBPACK_IMPORTED_MODULE_1__.RETURN);\n\t\tconst errors = nextTask.writes.filter(([c]) => c === _constants_js__WEBPACK_IMPORTED_MODULE_1__.ERROR);\n\t\tif (returns.length > 0) {\n\t\t\tif (returns.length === 1) return Promise.resolve(returns[0][1]);\n\t\t\tthrow new Error(`BUG: multiple returns found for task ${nextTask.name}__${nextTask.id}`);\n\t\t}\n\t\tif (errors.length > 0) {\n\t\t\tif (errors.length === 1) {\n\t\t\t\tconst errorValue = errors[0][1];\n\t\t\t\tconst error = errorValue instanceof Error ? errorValue : new Error(String(errorValue));\n\t\t\t\treturn Promise.reject(error);\n\t\t\t}\n\t\t\tthrow new Error(`BUG: multiple errors found for task ${nextTask.name}__${nextTask.id}`);\n\t\t}\n\t\treturn void 0;\n\t} else {\n\t\tconst prom = (0,_retry_js__WEBPACK_IMPORTED_MODULE_4__._runWithRetry)(nextTask, options.retry, { [_constants_js__WEBPACK_IMPORTED_MODULE_1__.CONFIG_KEY_CALL]: call.bind(this, runner, nextTask) });\n\t\tthis.executingTasksMap[nextTask.id] = prom;\n\t\tthis.barrier.next();\n\t\treturn prom.then(({ result, error }) => {\n\t\t\tif (error) return Promise.reject(error);\n\t\t\treturn result;\n\t\t});\n\t}\n}\n\n//#endregion\n\n//# sourceMappingURL=runner.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L3ByZWdlbC9ydW5uZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQWlFO0FBQzJGO0FBQzFIO0FBQ3dDO0FBQy9COztBQUUzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStELGlCQUFpQjtBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLGlCQUFpQjtBQUNyRDtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCLFVBQVUsb0RBQW9EO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsaUNBQWlDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxxQkFBcUIsNkJBQTZCO0FBQ2xEO0FBQ0EsT0FBTyw0REFBZ0I7QUFDdkIsWUFBWSwyREFBZSxZQUFZLDREQUFnQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEhBQThILGVBQWU7QUFDN0ksTUFBTSw0REFBZ0I7QUFDdEIsTUFBTSwyREFBZTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDRDQUE0QztBQUN2RSwwREFBMEQsbUVBQXdCO0FBQ2xGO0FBQ0E7QUFDQSxVQUFVLDhEQUE4RCxFQUFFLG9FQUFtQjtBQUM3RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGtFQUFpQixxQkFBcUIsQ0FBQyxtRUFBd0IsWUFBWTtBQUNoRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RUFBNEUseUJBQXlCO0FBQ3JHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSx1Q0FBdUM7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxvRUFBbUI7QUFDbkQ7QUFDQTtBQUNBLHVFQUF1RSxZQUFZO0FBQ25GLEdBQUc7QUFDSDtBQUNBLFVBQVUsZ0hBQWdIO0FBQzFIO0FBQ0EsaUNBQWlDLHdEQUFhLHNCQUFzQixDQUFDLDBEQUFlLHFDQUFxQztBQUN6SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxxQkFBcUIsV0FBVyxpQkFBaUI7QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw0REFBZ0I7QUFDNUM7QUFDQSw0REFBNEQsb0RBQVM7QUFDckUsdURBQXVELGlEQUFNO0FBQzdEO0FBQ0E7QUFDQTtBQUNBLElBQUksU0FBUywyREFBZTtBQUM1QixzQ0FBc0MsZ0RBQUs7QUFDM0M7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLHFGQUFxRixxREFBVTtBQUMvRixtREFBbUQsb0RBQVM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUU7QUFDakUsZ0RBQWdELGdFQUFxQjtBQUNyRSxzRUFBc0UsVUFBVSxJQUFJLFFBQVE7QUFDNUY7QUFDQTtBQUNBLG1CQUFtQiwyQ0FBSTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCxpREFBTTtBQUM5RCx1REFBdUQsZ0RBQUs7QUFDNUQ7QUFDQTtBQUNBLDJEQUEyRCxjQUFjLElBQUksWUFBWTtBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxjQUFjLElBQUksWUFBWTtBQUN4RjtBQUNBO0FBQ0EsR0FBRztBQUNILGVBQWUsd0RBQWEsNEJBQTRCLENBQUMsMERBQWUsc0NBQXNDO0FBQzlHO0FBQ0E7QUFDQSxzQkFBc0IsZUFBZTtBQUNyQztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDd0I7QUFDeEIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2IvRGVza3RvcC9wcm9qZWN0X3gvcHJvamVjdC1zcWwtYWdlbnQvc2VydmljZXMvZnJvbnRlbmQvbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rbGFuZ2dyYXBoQDEuMC4xX0BsYW5nY2hhaW4rY29yZUAxLjAuMl9vcGVuYWlANC4xMDAuMF93c0A4LjE4LjJfem9kQDQuMS4xMl9fX19lZmE0ZThmODY1NThlNWQyOWViZGVjM2QyZjAwNGVkOS9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9sYW5nZ3JhcGgvZGlzdC9wcmVnZWwvcnVubmVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzR3JhcGhCdWJibGVVcCwgaXNHcmFwaEludGVycnVwdCB9IGZyb20gXCIuLi9lcnJvcnMuanNcIjtcbmltcG9ydCB7IENPTkZJR19LRVlfQUJPUlRfU0lHTkFMUywgQ09ORklHX0tFWV9DQUxMLCBDT05GSUdfS0VZX1NDUkFUQ0hQQUQsIEVSUk9SLCBJTlRFUlJVUFQsIE5PX1dSSVRFUywgUkVTVU1FLCBSRVRVUk4sIFRBR19ISURERU4gfSBmcm9tIFwiLi4vY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgeyBDYWxsIH0gZnJvbSBcIi4vdHlwZXMuanNcIjtcbmltcG9ydCB7IGNvbWJpbmVBYm9ydFNpZ25hbHMsIHBhdGNoQ29uZmlndXJhYmxlIH0gZnJvbSBcIi4vdXRpbHMvaW5kZXguanNcIjtcbmltcG9ydCB7IF9ydW5XaXRoUmV0cnkgfSBmcm9tIFwiLi9yZXRyeS5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3ByZWdlbC9ydW5uZXIudHNcbmNvbnN0IFBST01JU0VfQURERURfU1lNQk9MID0gU3ltYm9sLmZvcihcInByb21pc2VBZGRlZFwiKTtcbmZ1bmN0aW9uIGNyZWF0ZVByb21pc2VCYXJyaWVyKCkge1xuXHRjb25zdCBiYXJyaWVyID0ge1xuXHRcdG5leHQ6ICgpID0+IHZvaWQgMCxcblx0XHR3YWl0OiBQcm9taXNlLnJlc29sdmUoUFJPTUlTRV9BRERFRF9TWU1CT0wpXG5cdH07XG5cdGZ1bmN0aW9uIHdhaXRIYW5kbGVyKHJlc29sdmUpIHtcblx0XHRiYXJyaWVyLm5leHQgPSAoKSA9PiB7XG5cdFx0XHRiYXJyaWVyLndhaXQgPSBuZXcgUHJvbWlzZSh3YWl0SGFuZGxlcik7XG5cdFx0XHRyZXNvbHZlKFBST01JU0VfQURERURfU1lNQk9MKTtcblx0XHR9O1xuXHR9XG5cdGJhcnJpZXIud2FpdCA9IG5ldyBQcm9taXNlKHdhaXRIYW5kbGVyKTtcblx0cmV0dXJuIGJhcnJpZXI7XG59XG4vKipcbiogUmVzcG9uc2libGUgZm9yIGhhbmRsaW5nIHRhc2sgZXhlY3V0aW9uIG9uIGVhY2ggdGljayBvZiB0aGUge0BsaW5rIFByZWdlbExvb3B9LlxuKi9cbnZhciBQcmVnZWxSdW5uZXIgPSBjbGFzcyB7XG5cdG5vZGVGaW5pc2hlZDtcblx0bG9vcDtcblx0LyoqXG5cdCogQ29uc3RydWN0IGEgbmV3IFByZWdlbFJ1bm5lciwgd2hpY2ggZXhlY3V0ZXMgdGFza3MgZnJvbSB0aGUgcHJvdmlkZWQgUHJlZ2VsTG9vcC5cblx0KiBAcGFyYW0gbG9vcCAtIFRoZSBQcmVnZWxMb29wIHRoYXQgcHJvZHVjZXMgdGFza3MgZm9yIHRoaXMgcnVubmVyIHRvIGV4ZWN1dGUuXG5cdCovXG5cdGNvbnN0cnVjdG9yKHsgbG9vcCwgbm9kZUZpbmlzaGVkIH0pIHtcblx0XHR0aGlzLmxvb3AgPSBsb29wO1xuXHRcdHRoaXMubm9kZUZpbmlzaGVkID0gbm9kZUZpbmlzaGVkO1xuXHR9XG5cdC8qKlxuXHQqIEV4ZWN1dGUgdGFza3MgZnJvbSB0aGUgY3VycmVudCBzdGVwIG9mIHRoZSBQcmVnZWxMb29wLlxuXHQqXG5cdCogTm90ZTogdGhpcyBtZXRob2QgZG9lcyBOT1QgY2FsbCB7QGxpbmsgUHJlZ2VsTG9vcH0jdGljay4gVGhhdCBtdXN0IGJlIGhhbmRsZWQgZXh0ZXJuYWxseS5cblx0KiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgZm9yIHRoZSBleGVjdXRpb24uXG5cdCovXG5cdGFzeW5jIHRpY2sob3B0aW9ucyA9IHt9KSB7XG5cdFx0Y29uc3QgeyB0aW1lb3V0LCByZXRyeVBvbGljeSwgb25TdGVwV3JpdGUsIG1heENvbmN1cnJlbmN5IH0gPSBvcHRpb25zO1xuXHRcdGNvbnN0IG5vZGVFcnJvcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuXHRcdGxldCBncmFwaEJ1YmJsZVVwO1xuXHRcdGNvbnN0IGV4Y2VwdGlvblNpZ25hbENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG5cdFx0Y29uc3QgZXhjZXB0aW9uU2lnbmFsID0gZXhjZXB0aW9uU2lnbmFsQ29udHJvbGxlci5zaWduYWw7XG5cdFx0Y29uc3Qgc3RlcFRpbWVvdXRTaWduYWwgPSB0aW1lb3V0ID8gQWJvcnRTaWduYWwudGltZW91dCh0aW1lb3V0KSA6IHZvaWQgMDtcblx0XHRjb25zdCBwZW5kaW5nVGFza3MgPSBPYmplY3QudmFsdWVzKHRoaXMubG9vcC50YXNrcykuZmlsdGVyKCh0KSA9PiB0LndyaXRlcy5sZW5ndGggPT09IDApO1xuXHRcdGNvbnN0IHsgc2lnbmFscywgZGlzcG9zZUNvbWJpbmVkU2lnbmFsIH0gPSB0aGlzLl9pbml0aWFsaXplQWJvcnRTaWduYWxzKHtcblx0XHRcdGV4Y2VwdGlvblNpZ25hbCxcblx0XHRcdHN0ZXBUaW1lb3V0U2lnbmFsLFxuXHRcdFx0c2lnbmFsOiBvcHRpb25zLnNpZ25hbFxuXHRcdH0pO1xuXHRcdGNvbnN0IHRhc2tTdHJlYW0gPSB0aGlzLl9leGVjdXRlVGFza3NXaXRoUmV0cnkocGVuZGluZ1Rhc2tzLCB7XG5cdFx0XHRzaWduYWxzLFxuXHRcdFx0cmV0cnlQb2xpY3ksXG5cdFx0XHRtYXhDb25jdXJyZW5jeVxuXHRcdH0pO1xuXHRcdGZvciBhd2FpdCAoY29uc3QgeyB0YXNrLCBlcnJvciwgc2lnbmFsQWJvcnRlZCB9IG9mIHRhc2tTdHJlYW0pIHtcblx0XHRcdHRoaXMuX2NvbW1pdCh0YXNrLCBlcnJvcik7XG5cdFx0XHRpZiAoaXNHcmFwaEludGVycnVwdChlcnJvcikpIGdyYXBoQnViYmxlVXAgPSBlcnJvcjtcblx0XHRcdGVsc2UgaWYgKGlzR3JhcGhCdWJibGVVcChlcnJvcikgJiYgIWlzR3JhcGhJbnRlcnJ1cHQoZ3JhcGhCdWJibGVVcCkpIGdyYXBoQnViYmxlVXAgPSBlcnJvcjtcblx0XHRcdGVsc2UgaWYgKGVycm9yICYmIChub2RlRXJyb3JzLnNpemUgPT09IDAgfHwgIXNpZ25hbEFib3J0ZWQpKSB7XG5cdFx0XHRcdGV4Y2VwdGlvblNpZ25hbENvbnRyb2xsZXIuYWJvcnQoKTtcblx0XHRcdFx0bm9kZUVycm9ycy5hZGQoZXJyb3IpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRkaXNwb3NlQ29tYmluZWRTaWduYWw/LigpO1xuXHRcdG9uU3RlcFdyaXRlPy4odGhpcy5sb29wLnN0ZXAsIE9iamVjdC52YWx1ZXModGhpcy5sb29wLnRhc2tzKS5tYXAoKHRhc2spID0+IHRhc2sud3JpdGVzKS5mbGF0KCkpO1xuXHRcdGlmIChub2RlRXJyb3JzLnNpemUgPT09IDEpIHRocm93IEFycmF5LmZyb20obm9kZUVycm9ycylbMF07XG5cdFx0ZWxzZSBpZiAobm9kZUVycm9ycy5zaXplID4gMSkgdGhyb3cgbmV3IEFnZ3JlZ2F0ZUVycm9yKEFycmF5LmZyb20obm9kZUVycm9ycyksIGBNdWx0aXBsZSBlcnJvcnMgb2NjdXJyZWQgZHVyaW5nIHN1cGVyc3RlcCAke3RoaXMubG9vcC5zdGVwfS4gU2VlIHRoZSBcImVycm9yc1wiIGZpZWxkIG9mIHRoaXMgZXhjZXB0aW9uIGZvciBtb3JlIGRldGFpbHMuYCk7XG5cdFx0aWYgKGlzR3JhcGhJbnRlcnJ1cHQoZ3JhcGhCdWJibGVVcCkpIHRocm93IGdyYXBoQnViYmxlVXA7XG5cdFx0aWYgKGlzR3JhcGhCdWJibGVVcChncmFwaEJ1YmJsZVVwKSAmJiB0aGlzLmxvb3AuaXNOZXN0ZWQpIHRocm93IGdyYXBoQnViYmxlVXA7XG5cdH1cblx0LyoqXG5cdCogSW5pdGlhbGl6ZXMgdGhlIGN1cnJlbnQgQWJvcnRTaWduYWxzIGZvciB0aGUgUHJlZ2VsUnVubmVyLCBoYW5kbGluZyB0aGUgdmFyaW91cyB3YXlzIHRoYXRcblx0KiBBYm9ydFNpZ25hbHMgbXVzdCBiZSBjaGFpbmVkIHRvZ2V0aGVyIHNvIHRoYXQgdGhlIFByZWdlbExvb3AgY2FuIGJlIGludGVycnVwdGVkIGlmIG5lY2Vzc2FyeVxuXHQqIHdoaWxlIHN0aWxsIGFsbG93aW5nIG5vZGVzIHRvIGdyYWNlZnVsbHkgZXhpdC5cblx0KlxuXHQqIFRoaXMgbWV0aG9kIG11c3Qgb25seSBiZSBjYWxsZWQgb25jZSBwZXIgUHJlZ2VsUnVubmVyI3RpY2suIEl0IGhhcyB0aGUgc2lkZSBlZmZlY3Qgb2YgdXBkYXRpbmdcblx0KiB0aGUgUHJlZ2VsTG9vcCNjb25maWcgd2l0aCB0aGUgbmV3IEFib3J0U2lnbmFscyBzbyB0aGV5IG1heSBiZSBwcm9wYWdhdGVkIGNvcnJlY3RseSB0byBmdXR1cmVcblx0KiB0aWNrcyBhbmQgc3ViZ3JhcGggY2FsbHMuXG5cdCpcblx0KiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgZm9yIHRoZSBpbml0aWFsaXphdGlvbi5cblx0KiBAcmV0dXJucyBUaGUgY3VycmVudCBhYm9ydCBzaWduYWxzLlxuXHQqIEBpbnRlcm5hbFxuXHQqL1xuXHRfaW5pdGlhbGl6ZUFib3J0U2lnbmFscyh7IGV4Y2VwdGlvblNpZ25hbCwgc3RlcFRpbWVvdXRTaWduYWwsIHNpZ25hbCB9KSB7XG5cdFx0Y29uc3QgcHJldmlvdXNTaWduYWxzID0gdGhpcy5sb29wLmNvbmZpZy5jb25maWd1cmFibGU/LltDT05GSUdfS0VZX0FCT1JUX1NJR05BTFNdID8/IHt9O1xuXHRcdGNvbnN0IGV4dGVybmFsQWJvcnRTaWduYWwgPSBwcmV2aW91c1NpZ25hbHMuZXh0ZXJuYWxBYm9ydFNpZ25hbCA/PyBzaWduYWw7XG5cdFx0Y29uc3QgdGltZW91dEFib3J0U2lnbmFsID0gc3RlcFRpbWVvdXRTaWduYWwgPz8gcHJldmlvdXNTaWduYWxzLnRpbWVvdXRBYm9ydFNpZ25hbDtcblx0XHRjb25zdCB7IHNpZ25hbDogY29tcG9zZWRBYm9ydFNpZ25hbCwgZGlzcG9zZTogZGlzcG9zZUNvbWJpbmVkU2lnbmFsIH0gPSBjb21iaW5lQWJvcnRTaWduYWxzKGV4dGVybmFsQWJvcnRTaWduYWwsIHRpbWVvdXRBYm9ydFNpZ25hbCwgZXhjZXB0aW9uU2lnbmFsKTtcblx0XHRjb25zdCBzaWduYWxzID0ge1xuXHRcdFx0ZXh0ZXJuYWxBYm9ydFNpZ25hbCxcblx0XHRcdHRpbWVvdXRBYm9ydFNpZ25hbCxcblx0XHRcdGNvbXBvc2VkQWJvcnRTaWduYWxcblx0XHR9O1xuXHRcdHRoaXMubG9vcC5jb25maWcgPSBwYXRjaENvbmZpZ3VyYWJsZSh0aGlzLmxvb3AuY29uZmlnLCB7IFtDT05GSUdfS0VZX0FCT1JUX1NJR05BTFNdOiBzaWduYWxzIH0pO1xuXHRcdHJldHVybiB7XG5cdFx0XHRzaWduYWxzLFxuXHRcdFx0ZGlzcG9zZUNvbWJpbmVkU2lnbmFsXG5cdFx0fTtcblx0fVxuXHQvKipcblx0KiBDb25jdXJyZW50bHkgZXhlY3V0ZXMgdGFza3Mgd2l0aCB0aGUgcmVxdWVzdGVkIHJldHJ5IHBvbGljeSwgeWllbGRpbmcgYSB7QGxpbmsgU2V0dGxlZFByZWdlbFRhc2t9IGZvciBlYWNoIHRhc2sgYXMgaXQgY29tcGxldGVzLlxuXHQqIEBwYXJhbSB0YXNrcyAtIFRoZSB0YXNrcyB0byBleGVjdXRlLlxuXHQqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyBmb3IgdGhlIGV4ZWN1dGlvbi5cblx0Ki9cblx0YXN5bmMgKl9leGVjdXRlVGFza3NXaXRoUmV0cnkodGFza3MsIG9wdGlvbnMpIHtcblx0XHRjb25zdCB7IHJldHJ5UG9saWN5LCBtYXhDb25jdXJyZW5jeSwgc2lnbmFscyB9ID0gb3B0aW9ucyA/PyB7fTtcblx0XHRjb25zdCBiYXJyaWVyID0gY3JlYXRlUHJvbWlzZUJhcnJpZXIoKTtcblx0XHRjb25zdCBleGVjdXRpbmdUYXNrc01hcCA9IHt9O1xuXHRcdGNvbnN0IHRoaXNDYWxsID0ge1xuXHRcdFx0ZXhlY3V0aW5nVGFza3NNYXAsXG5cdFx0XHRiYXJyaWVyLFxuXHRcdFx0cmV0cnlQb2xpY3ksXG5cdFx0XHRzY2hlZHVsZVRhc2s6IGFzeW5jICh0YXNrLCB3cml0ZUlkeCwgY2FsbCQxKSA9PiB0aGlzLmxvb3AuYWNjZXB0UHVzaCh0YXNrLCB3cml0ZUlkeCwgY2FsbCQxKVxuXHRcdH07XG5cdFx0aWYgKHNpZ25hbHM/LmNvbXBvc2VkQWJvcnRTaWduYWw/LmFib3J0ZWQpIHRocm93IG5ldyBFcnJvcihcIkFib3J0XCIpO1xuXHRcdGxldCBzdGFydGVkVGFza3NDb3VudCA9IDA7XG5cdFx0bGV0IGxpc3RlbmVyO1xuXHRcdGNvbnN0IHRpbWVvdXRPckNhbmNlbFNpZ25hbCA9IGNvbWJpbmVBYm9ydFNpZ25hbHMoc2lnbmFscz8uZXh0ZXJuYWxBYm9ydFNpZ25hbCwgc2lnbmFscz8udGltZW91dEFib3J0U2lnbmFsKTtcblx0XHRjb25zdCBhYm9ydFByb21pc2UgPSB0aW1lb3V0T3JDYW5jZWxTaWduYWwuc2lnbmFsID8gbmV3IFByb21pc2UoKF9yZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdGxpc3RlbmVyID0gKCkgPT4gcmVqZWN0KC8qIEBfX1BVUkVfXyAqLyBuZXcgRXJyb3IoXCJBYm9ydFwiKSk7XG5cdFx0XHR0aW1lb3V0T3JDYW5jZWxTaWduYWwuc2lnbmFsPy5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgbGlzdGVuZXIsIHsgb25jZTogdHJ1ZSB9KTtcblx0XHR9KSA6IHZvaWQgMDtcblx0XHR3aGlsZSAoKHN0YXJ0ZWRUYXNrc0NvdW50ID09PSAwIHx8IE9iamVjdC5rZXlzKGV4ZWN1dGluZ1Rhc2tzTWFwKS5sZW5ndGggPiAwKSAmJiB0YXNrcy5sZW5ndGgpIHtcblx0XHRcdGZvciAoOyBPYmplY3QudmFsdWVzKGV4ZWN1dGluZ1Rhc2tzTWFwKS5sZW5ndGggPCAobWF4Q29uY3VycmVuY3kgPz8gdGFza3MubGVuZ3RoKSAmJiBzdGFydGVkVGFza3NDb3VudCA8IHRhc2tzLmxlbmd0aDsgc3RhcnRlZFRhc2tzQ291bnQgKz0gMSkge1xuXHRcdFx0XHRjb25zdCB0YXNrID0gdGFza3Nbc3RhcnRlZFRhc2tzQ291bnRdO1xuXHRcdFx0XHRleGVjdXRpbmdUYXNrc01hcFt0YXNrLmlkXSA9IF9ydW5XaXRoUmV0cnkodGFzaywgcmV0cnlQb2xpY3ksIHsgW0NPTkZJR19LRVlfQ0FMTF06IGNhbGw/LmJpbmQodGhpc0NhbGwsIHRoaXMsIHRhc2spIH0sIHNpZ25hbHM/LmNvbXBvc2VkQWJvcnRTaWduYWwpLmNhdGNoKChlcnJvcikgPT4ge1xuXHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHR0YXNrLFxuXHRcdFx0XHRcdFx0ZXJyb3IsXG5cdFx0XHRcdFx0XHRzaWduYWxBYm9ydGVkOiBzaWduYWxzPy5jb21wb3NlZEFib3J0U2lnbmFsPy5hYm9ydGVkXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHRjb25zdCBzZXR0bGVkVGFzayA9IGF3YWl0IFByb21pc2UucmFjZShbXG5cdFx0XHRcdC4uLk9iamVjdC52YWx1ZXMoZXhlY3V0aW5nVGFza3NNYXApLFxuXHRcdFx0XHQuLi5hYm9ydFByb21pc2UgPyBbYWJvcnRQcm9taXNlXSA6IFtdLFxuXHRcdFx0XHRiYXJyaWVyLndhaXRcblx0XHRcdF0pO1xuXHRcdFx0aWYgKHNldHRsZWRUYXNrID09PSBQUk9NSVNFX0FEREVEX1NZTUJPTCkgY29udGludWU7XG5cdFx0XHR5aWVsZCBzZXR0bGVkVGFzaztcblx0XHRcdGlmIChsaXN0ZW5lciAhPSBudWxsKSB7XG5cdFx0XHRcdHRpbWVvdXRPckNhbmNlbFNpZ25hbC5zaWduYWw/LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBsaXN0ZW5lcik7XG5cdFx0XHRcdHRpbWVvdXRPckNhbmNlbFNpZ25hbC5kaXNwb3NlPy4oKTtcblx0XHRcdH1cblx0XHRcdGRlbGV0ZSBleGVjdXRpbmdUYXNrc01hcFtzZXR0bGVkVGFzay50YXNrLmlkXTtcblx0XHR9XG5cdH1cblx0LyoqXG5cdCogRGV0ZXJtaW5lcyB3aGF0IHdyaXRlcyB0byBhcHBseSBiYXNlZCBvbiB3aGV0aGVyIHRoZSB0YXNrIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHksIGFuZCB3aGF0IHR5cGUgb2YgZXJyb3Igb2NjdXJyZWQuXG5cdCpcblx0KiBUaHJvd3MgYW4gZXJyb3IgaWYgdGhlIGVycm9yIGlzIGEge0BsaW5rIEdyYXBoQnViYmxlVXB9IGVycm9yIGFuZCB7QGxpbmsgUHJlZ2VsTG9vcH0jaXNOZXN0ZWQgaXMgdHJ1ZS5cblx0KlxuXHQqIEBwYXJhbSB0YXNrIC0gVGhlIHRhc2sgdG8gY29tbWl0LlxuXHQqIEBwYXJhbSBlcnJvciAtIFRoZSBlcnJvciB0aGF0IG9jY3VycmVkLCBpZiBhbnkuXG5cdCovXG5cdF9jb21taXQodGFzaywgZXJyb3IpIHtcblx0XHRpZiAoZXJyb3IgIT09IHZvaWQgMCkgaWYgKGlzR3JhcGhJbnRlcnJ1cHQoZXJyb3IpKSB7XG5cdFx0XHRpZiAoZXJyb3IuaW50ZXJydXB0cy5sZW5ndGgpIHtcblx0XHRcdFx0Y29uc3QgaW50ZXJydXB0cyA9IGVycm9yLmludGVycnVwdHMubWFwKChpbnRlcnJ1cHQpID0+IFtJTlRFUlJVUFQsIGludGVycnVwdF0pO1xuXHRcdFx0XHRjb25zdCByZXN1bWVzID0gdGFzay53cml0ZXMuZmlsdGVyKCh3KSA9PiB3WzBdID09PSBSRVNVTUUpO1xuXHRcdFx0XHRpZiAocmVzdW1lcy5sZW5ndGgpIGludGVycnVwdHMucHVzaCguLi5yZXN1bWVzKTtcblx0XHRcdFx0dGhpcy5sb29wLnB1dFdyaXRlcyh0YXNrLmlkLCBpbnRlcnJ1cHRzKTtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKGlzR3JhcGhCdWJibGVVcChlcnJvcikgJiYgdGFzay53cml0ZXMubGVuZ3RoKSB0aGlzLmxvb3AucHV0V3JpdGVzKHRhc2suaWQsIHRhc2sud3JpdGVzKTtcblx0XHRlbHNlIHRoaXMubG9vcC5wdXRXcml0ZXModGFzay5pZCwgW1tFUlJPUiwge1xuXHRcdFx0bWVzc2FnZTogZXJyb3IubWVzc2FnZSxcblx0XHRcdG5hbWU6IGVycm9yLm5hbWVcblx0XHR9XV0pO1xuXHRcdGVsc2Uge1xuXHRcdFx0aWYgKHRoaXMubm9kZUZpbmlzaGVkICYmICh0YXNrLmNvbmZpZz8udGFncyA9PSBudWxsIHx8ICF0YXNrLmNvbmZpZy50YWdzLmluY2x1ZGVzKFRBR19ISURERU4pKSkgdGhpcy5ub2RlRmluaXNoZWQoU3RyaW5nKHRhc2submFtZSkpO1xuXHRcdFx0aWYgKHRhc2sud3JpdGVzLmxlbmd0aCA9PT0gMCkgdGFzay53cml0ZXMucHVzaChbTk9fV1JJVEVTLCBudWxsXSk7XG5cdFx0XHR0aGlzLmxvb3AucHV0V3JpdGVzKHRhc2suaWQsIHRhc2sud3JpdGVzKTtcblx0XHR9XG5cdH1cbn07XG5hc3luYyBmdW5jdGlvbiBjYWxsKHJ1bm5lciwgdGFzaywgZnVuYywgbmFtZSwgaW5wdXQsIG9wdGlvbnMgPSB7fSkge1xuXHRjb25zdCBzY3JhdGNocGFkID0gdGFzay5jb25maWc/LmNvbmZpZ3VyYWJsZT8uW0NPTkZJR19LRVlfU0NSQVRDSFBBRF07XG5cdGlmICghc2NyYXRjaHBhZCkgdGhyb3cgbmV3IEVycm9yKGBCVUc6IE5vIHNjcmF0Y2hwYWQgZm91bmQgb24gdGFzayAke3Rhc2submFtZX1fXyR7dGFzay5pZH1gKTtcblx0Y29uc3QgY250ID0gc2NyYXRjaHBhZC5jYWxsQ291bnRlcjtcblx0c2NyYXRjaHBhZC5jYWxsQ291bnRlciArPSAxO1xuXHRjb25zdCB3Y2FsbCA9IG5ldyBDYWxsKHtcblx0XHRmdW5jLFxuXHRcdG5hbWUsXG5cdFx0aW5wdXQsXG5cdFx0Y2FjaGU6IG9wdGlvbnMuY2FjaGUsXG5cdFx0cmV0cnk6IG9wdGlvbnMucmV0cnksXG5cdFx0Y2FsbGJhY2tzOiBvcHRpb25zLmNhbGxiYWNrc1xuXHR9KTtcblx0Y29uc3QgbmV4dFRhc2sgPSBhd2FpdCB0aGlzLnNjaGVkdWxlVGFzayh0YXNrLCBjbnQsIHdjYWxsKTtcblx0aWYgKCFuZXh0VGFzaykgcmV0dXJuIHZvaWQgMDtcblx0Y29uc3QgZXhpc3RpbmdQcm9taXNlID0gdGhpcy5leGVjdXRpbmdUYXNrc01hcFtuZXh0VGFzay5pZF07XG5cdGlmIChleGlzdGluZ1Byb21pc2UgIT09IHZvaWQgMCkgcmV0dXJuIGV4aXN0aW5nUHJvbWlzZTtcblx0aWYgKG5leHRUYXNrLndyaXRlcy5sZW5ndGggPiAwKSB7XG5cdFx0Y29uc3QgcmV0dXJucyA9IG5leHRUYXNrLndyaXRlcy5maWx0ZXIoKFtjXSkgPT4gYyA9PT0gUkVUVVJOKTtcblx0XHRjb25zdCBlcnJvcnMgPSBuZXh0VGFzay53cml0ZXMuZmlsdGVyKChbY10pID0+IGMgPT09IEVSUk9SKTtcblx0XHRpZiAocmV0dXJucy5sZW5ndGggPiAwKSB7XG5cdFx0XHRpZiAocmV0dXJucy5sZW5ndGggPT09IDEpIHJldHVybiBQcm9taXNlLnJlc29sdmUocmV0dXJuc1swXVsxXSk7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEJVRzogbXVsdGlwbGUgcmV0dXJucyBmb3VuZCBmb3IgdGFzayAke25leHRUYXNrLm5hbWV9X18ke25leHRUYXNrLmlkfWApO1xuXHRcdH1cblx0XHRpZiAoZXJyb3JzLmxlbmd0aCA+IDApIHtcblx0XHRcdGlmIChlcnJvcnMubGVuZ3RoID09PSAxKSB7XG5cdFx0XHRcdGNvbnN0IGVycm9yVmFsdWUgPSBlcnJvcnNbMF1bMV07XG5cdFx0XHRcdGNvbnN0IGVycm9yID0gZXJyb3JWYWx1ZSBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3JWYWx1ZSA6IG5ldyBFcnJvcihTdHJpbmcoZXJyb3JWYWx1ZSkpO1xuXHRcdFx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuXHRcdFx0fVxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBCVUc6IG11bHRpcGxlIGVycm9ycyBmb3VuZCBmb3IgdGFzayAke25leHRUYXNrLm5hbWV9X18ke25leHRUYXNrLmlkfWApO1xuXHRcdH1cblx0XHRyZXR1cm4gdm9pZCAwO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnN0IHByb20gPSBfcnVuV2l0aFJldHJ5KG5leHRUYXNrLCBvcHRpb25zLnJldHJ5LCB7IFtDT05GSUdfS0VZX0NBTExdOiBjYWxsLmJpbmQodGhpcywgcnVubmVyLCBuZXh0VGFzaykgfSk7XG5cdFx0dGhpcy5leGVjdXRpbmdUYXNrc01hcFtuZXh0VGFzay5pZF0gPSBwcm9tO1xuXHRcdHRoaXMuYmFycmllci5uZXh0KCk7XG5cdFx0cmV0dXJuIHByb20udGhlbigoeyByZXN1bHQsIGVycm9yIH0pID0+IHtcblx0XHRcdGlmIChlcnJvcikgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fSk7XG5cdH1cbn1cblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBQcmVnZWxSdW5uZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJ1bm5lci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/runner.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/stream.js":
/*!*************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/stream.js ***!
  \*************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IterableReadableStreamWithAbortSignal: () => (/* binding */ IterableReadableStreamWithAbortSignal),\n/* harmony export */   IterableReadableWritableStream: () => (/* binding */ IterableReadableWritableStream),\n/* harmony export */   toEventStream: () => (/* binding */ toEventStream)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_utils_stream__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/utils/stream */ \"(ssr)/./node_modules/.pnpm/@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12_/node_modules/@langchain/core/dist/utils/stream.js\");\n\n\n//#region src/pregel/stream.ts\n/**\n* A wrapper around an IterableReadableStream that allows for aborting the stream when\n* {@link cancel} is called.\n*/\nvar IterableReadableStreamWithAbortSignal = class extends _langchain_core_utils_stream__WEBPACK_IMPORTED_MODULE_0__.IterableReadableStream {\n\t_abortController;\n\t_innerReader;\n\t/**\n\t* @param readableStream - The stream to wrap.\n\t* @param abortController - The abort controller to use. Optional. One will be created if not provided.\n\t*/\n\tconstructor(readableStream, abortController) {\n\t\tconst reader = readableStream.getReader();\n\t\tconst ac = abortController ?? new AbortController();\n\t\tsuper({ start(controller) {\n\t\t\treturn pump();\n\t\t\tfunction pump() {\n\t\t\t\treturn reader.read().then(({ done, value }) => {\n\t\t\t\t\tif (done) {\n\t\t\t\t\t\tcontroller.close();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tcontroller.enqueue(value);\n\t\t\t\t\treturn pump();\n\t\t\t\t});\n\t\t\t}\n\t\t} });\n\t\tthis._abortController = ac;\n\t\tthis._innerReader = reader;\n\t}\n\t/**\n\t* Aborts the stream, abandoning any pending operations in progress. Calling this triggers an\n\t* {@link AbortSignal} that is propagated to the tasks that are producing the data for this stream.\n\t* @param reason - The reason for aborting the stream. Optional.\n\t*/\n\tasync cancel(reason) {\n\t\tthis._abortController.abort(reason);\n\t\tthis._innerReader.releaseLock();\n\t}\n\t/**\n\t* The {@link AbortSignal} for the stream. Aborted when {@link cancel} is called.\n\t*/\n\tget signal() {\n\t\treturn this._abortController.signal;\n\t}\n};\nvar IterableReadableWritableStream = class extends _langchain_core_utils_stream__WEBPACK_IMPORTED_MODULE_0__.IterableReadableStream {\n\tmodes;\n\tcontroller;\n\tpassthroughFn;\n\t_closed = false;\n\tget closed() {\n\t\treturn this._closed;\n\t}\n\tconstructor(params) {\n\t\tlet streamControllerPromiseResolver;\n\t\tconst streamControllerPromise = new Promise((resolve) => {\n\t\t\tstreamControllerPromiseResolver = resolve;\n\t\t});\n\t\tsuper({ start: (controller) => {\n\t\t\tstreamControllerPromiseResolver(controller);\n\t\t} });\n\t\tstreamControllerPromise.then((controller) => {\n\t\t\tthis.controller = controller;\n\t\t});\n\t\tthis.passthroughFn = params.passthroughFn;\n\t\tthis.modes = params.modes;\n\t}\n\tpush(chunk) {\n\t\tthis.passthroughFn?.(chunk);\n\t\tthis.controller.enqueue(chunk);\n\t}\n\tclose() {\n\t\ttry {\n\t\t\tthis.controller.close();\n\t\t} catch (e) {} finally {\n\t\t\tthis._closed = true;\n\t\t}\n\t}\n\terror(e) {\n\t\tthis.controller.error(e);\n\t}\n};\nfunction _stringifyAsDict(obj) {\n\treturn JSON.stringify(obj, function(key, value) {\n\t\tconst rawValue = this[key];\n\t\tif (rawValue != null && typeof rawValue === \"object\" && \"toDict\" in rawValue && typeof rawValue.toDict === \"function\") {\n\t\t\tconst { type, data } = rawValue.toDict();\n\t\t\treturn {\n\t\t\t\t...data,\n\t\t\t\ttype\n\t\t\t};\n\t\t}\n\t\treturn value;\n\t});\n}\nfunction _serializeError(error) {\n\tif (error instanceof Error) return {\n\t\terror: error.name,\n\t\tmessage: error.message\n\t};\n\treturn {\n\t\terror: \"Error\",\n\t\tmessage: JSON.stringify(error)\n\t};\n}\nfunction _isRunnableConfig(config) {\n\tif (typeof config !== \"object\" || config == null) return false;\n\treturn \"configurable\" in config && typeof config.configurable === \"object\" && config.configurable != null;\n}\nfunction _extractCheckpointFromConfig(config) {\n\tif (!_isRunnableConfig(config) || !config.configurable.thread_id) return null;\n\treturn {\n\t\tthread_id: config.configurable.thread_id,\n\t\tcheckpoint_ns: config.configurable.checkpoint_ns || \"\",\n\t\tcheckpoint_id: config.configurable.checkpoint_id || null,\n\t\tcheckpoint_map: config.configurable.checkpoint_map || null\n\t};\n}\nfunction _serializeConfig(config) {\n\tif (_isRunnableConfig(config)) {\n\t\tconst configurable = Object.fromEntries(Object.entries(config.configurable).filter(([key]) => !key.startsWith(\"__\")));\n\t\tconst newConfig = {\n\t\t\t...config,\n\t\t\tconfigurable\n\t\t};\n\t\tdelete newConfig.callbacks;\n\t\treturn newConfig;\n\t}\n\treturn config;\n}\nfunction _serializeCheckpoint(payload) {\n\tconst result = {\n\t\t...payload,\n\t\tcheckpoint: _extractCheckpointFromConfig(payload.config),\n\t\tparent_checkpoint: _extractCheckpointFromConfig(payload.parentConfig),\n\t\tconfig: _serializeConfig(payload.config),\n\t\tparent_config: _serializeConfig(payload.parentConfig),\n\t\ttasks: payload.tasks.map((task) => {\n\t\t\tif (_isRunnableConfig(task.state)) {\n\t\t\t\tconst checkpoint = _extractCheckpointFromConfig(task.state);\n\t\t\t\tif (checkpoint != null) {\n\t\t\t\t\tconst cloneTask = {\n\t\t\t\t\t\t...task,\n\t\t\t\t\t\tcheckpoint\n\t\t\t\t\t};\n\t\t\t\t\tdelete cloneTask.state;\n\t\t\t\t\treturn cloneTask;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn task;\n\t\t})\n\t};\n\tdelete result.parentConfig;\n\treturn result;\n}\nfunction toEventStream(stream) {\n\tconst encoder = new TextEncoder();\n\treturn new ReadableStream({ async start(controller) {\n\t\tconst enqueueChunk = (sse) => {\n\t\t\tcontroller.enqueue(encoder.encode(`event: ${sse.event}\\ndata: ${_stringifyAsDict(sse.data)}\\n\\n`));\n\t\t};\n\t\ttry {\n\t\t\tfor await (const payload of stream) {\n\t\t\t\tconst [ns, mode, chunk] = payload;\n\t\t\t\tlet data = chunk;\n\t\t\t\tif (mode === \"debug\") {\n\t\t\t\t\tconst debugChunk = chunk;\n\t\t\t\t\tif (debugChunk.type === \"checkpoint\") data = {\n\t\t\t\t\t\t...debugChunk,\n\t\t\t\t\t\tpayload: _serializeCheckpoint(debugChunk.payload)\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (mode === \"checkpoints\") data = _serializeCheckpoint(chunk);\n\t\t\t\tconst event = ns?.length ? `${mode}|${ns.join(\"|\")}` : mode;\n\t\t\t\tenqueueChunk({\n\t\t\t\t\tevent,\n\t\t\t\t\tdata\n\t\t\t\t});\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tenqueueChunk({\n\t\t\t\tevent: \"error\",\n\t\t\t\tdata: _serializeError(error)\n\t\t\t});\n\t\t}\n\t\tcontroller.close();\n\t} });\n}\n\n//#endregion\n\n//# sourceMappingURL=stream.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L3ByZWdlbC9zdHJlYW0uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFzRTs7QUFFdEU7QUFDQTtBQUNBO0FBQ0EsR0FBRyxjQUFjO0FBQ2pCO0FBQ0EsMERBQTBELGdGQUFzQjtBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLGlDQUFpQyxhQUFhO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxtQkFBbUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLG1CQUFtQiw4QkFBOEIsY0FBYztBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELGdGQUFzQjtBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILFVBQVU7QUFDVjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxhQUFhO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGFBQWE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0EsK0NBQStDLFVBQVUsVUFBVSwyQkFBMkI7QUFDOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsS0FBSyxHQUFHLGFBQWE7QUFDdkQ7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ2dHO0FBQ2hHIiwic291cmNlcyI6WyIvVXNlcnMvam9iL0Rlc2t0b3AvcHJvamVjdF94L3Byb2plY3Qtc3FsLWFnZW50L3NlcnZpY2VzL2Zyb250ZW5kL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2xhbmdncmFwaEAxLjAuMV9AbGFuZ2NoYWluK2NvcmVAMS4wLjJfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEA0LjEuMTJfX19fZWZhNGU4Zjg2NTU4ZTVkMjllYmRlYzNkMmYwMDRlZDkvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vbGFuZ2dyYXBoL2Rpc3QvcHJlZ2VsL3N0cmVhbS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJdGVyYWJsZVJlYWRhYmxlU3RyZWFtIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS91dGlscy9zdHJlYW1cIjtcblxuLy8jcmVnaW9uIHNyYy9wcmVnZWwvc3RyZWFtLnRzXG4vKipcbiogQSB3cmFwcGVyIGFyb3VuZCBhbiBJdGVyYWJsZVJlYWRhYmxlU3RyZWFtIHRoYXQgYWxsb3dzIGZvciBhYm9ydGluZyB0aGUgc3RyZWFtIHdoZW5cbioge0BsaW5rIGNhbmNlbH0gaXMgY2FsbGVkLlxuKi9cbnZhciBJdGVyYWJsZVJlYWRhYmxlU3RyZWFtV2l0aEFib3J0U2lnbmFsID0gY2xhc3MgZXh0ZW5kcyBJdGVyYWJsZVJlYWRhYmxlU3RyZWFtIHtcblx0X2Fib3J0Q29udHJvbGxlcjtcblx0X2lubmVyUmVhZGVyO1xuXHQvKipcblx0KiBAcGFyYW0gcmVhZGFibGVTdHJlYW0gLSBUaGUgc3RyZWFtIHRvIHdyYXAuXG5cdCogQHBhcmFtIGFib3J0Q29udHJvbGxlciAtIFRoZSBhYm9ydCBjb250cm9sbGVyIHRvIHVzZS4gT3B0aW9uYWwuIE9uZSB3aWxsIGJlIGNyZWF0ZWQgaWYgbm90IHByb3ZpZGVkLlxuXHQqL1xuXHRjb25zdHJ1Y3RvcihyZWFkYWJsZVN0cmVhbSwgYWJvcnRDb250cm9sbGVyKSB7XG5cdFx0Y29uc3QgcmVhZGVyID0gcmVhZGFibGVTdHJlYW0uZ2V0UmVhZGVyKCk7XG5cdFx0Y29uc3QgYWMgPSBhYm9ydENvbnRyb2xsZXIgPz8gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuXHRcdHN1cGVyKHsgc3RhcnQoY29udHJvbGxlcikge1xuXHRcdFx0cmV0dXJuIHB1bXAoKTtcblx0XHRcdGZ1bmN0aW9uIHB1bXAoKSB7XG5cdFx0XHRcdHJldHVybiByZWFkZXIucmVhZCgpLnRoZW4oKHsgZG9uZSwgdmFsdWUgfSkgPT4ge1xuXHRcdFx0XHRcdGlmIChkb25lKSB7XG5cdFx0XHRcdFx0XHRjb250cm9sbGVyLmNsb3NlKCk7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNvbnRyb2xsZXIuZW5xdWV1ZSh2YWx1ZSk7XG5cdFx0XHRcdFx0cmV0dXJuIHB1bXAoKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSB9KTtcblx0XHR0aGlzLl9hYm9ydENvbnRyb2xsZXIgPSBhYztcblx0XHR0aGlzLl9pbm5lclJlYWRlciA9IHJlYWRlcjtcblx0fVxuXHQvKipcblx0KiBBYm9ydHMgdGhlIHN0cmVhbSwgYWJhbmRvbmluZyBhbnkgcGVuZGluZyBvcGVyYXRpb25zIGluIHByb2dyZXNzLiBDYWxsaW5nIHRoaXMgdHJpZ2dlcnMgYW5cblx0KiB7QGxpbmsgQWJvcnRTaWduYWx9IHRoYXQgaXMgcHJvcGFnYXRlZCB0byB0aGUgdGFza3MgdGhhdCBhcmUgcHJvZHVjaW5nIHRoZSBkYXRhIGZvciB0aGlzIHN0cmVhbS5cblx0KiBAcGFyYW0gcmVhc29uIC0gVGhlIHJlYXNvbiBmb3IgYWJvcnRpbmcgdGhlIHN0cmVhbS4gT3B0aW9uYWwuXG5cdCovXG5cdGFzeW5jIGNhbmNlbChyZWFzb24pIHtcblx0XHR0aGlzLl9hYm9ydENvbnRyb2xsZXIuYWJvcnQocmVhc29uKTtcblx0XHR0aGlzLl9pbm5lclJlYWRlci5yZWxlYXNlTG9jaygpO1xuXHR9XG5cdC8qKlxuXHQqIFRoZSB7QGxpbmsgQWJvcnRTaWduYWx9IGZvciB0aGUgc3RyZWFtLiBBYm9ydGVkIHdoZW4ge0BsaW5rIGNhbmNlbH0gaXMgY2FsbGVkLlxuXHQqL1xuXHRnZXQgc2lnbmFsKCkge1xuXHRcdHJldHVybiB0aGlzLl9hYm9ydENvbnRyb2xsZXIuc2lnbmFsO1xuXHR9XG59O1xudmFyIEl0ZXJhYmxlUmVhZGFibGVXcml0YWJsZVN0cmVhbSA9IGNsYXNzIGV4dGVuZHMgSXRlcmFibGVSZWFkYWJsZVN0cmVhbSB7XG5cdG1vZGVzO1xuXHRjb250cm9sbGVyO1xuXHRwYXNzdGhyb3VnaEZuO1xuXHRfY2xvc2VkID0gZmFsc2U7XG5cdGdldCBjbG9zZWQoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2Nsb3NlZDtcblx0fVxuXHRjb25zdHJ1Y3RvcihwYXJhbXMpIHtcblx0XHRsZXQgc3RyZWFtQ29udHJvbGxlclByb21pc2VSZXNvbHZlcjtcblx0XHRjb25zdCBzdHJlYW1Db250cm9sbGVyUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG5cdFx0XHRzdHJlYW1Db250cm9sbGVyUHJvbWlzZVJlc29sdmVyID0gcmVzb2x2ZTtcblx0XHR9KTtcblx0XHRzdXBlcih7IHN0YXJ0OiAoY29udHJvbGxlcikgPT4ge1xuXHRcdFx0c3RyZWFtQ29udHJvbGxlclByb21pc2VSZXNvbHZlcihjb250cm9sbGVyKTtcblx0XHR9IH0pO1xuXHRcdHN0cmVhbUNvbnRyb2xsZXJQcm9taXNlLnRoZW4oKGNvbnRyb2xsZXIpID0+IHtcblx0XHRcdHRoaXMuY29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG5cdFx0fSk7XG5cdFx0dGhpcy5wYXNzdGhyb3VnaEZuID0gcGFyYW1zLnBhc3N0aHJvdWdoRm47XG5cdFx0dGhpcy5tb2RlcyA9IHBhcmFtcy5tb2Rlcztcblx0fVxuXHRwdXNoKGNodW5rKSB7XG5cdFx0dGhpcy5wYXNzdGhyb3VnaEZuPy4oY2h1bmspO1xuXHRcdHRoaXMuY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcblx0fVxuXHRjbG9zZSgpIHtcblx0XHR0cnkge1xuXHRcdFx0dGhpcy5jb250cm9sbGVyLmNsb3NlKCk7XG5cdFx0fSBjYXRjaCAoZSkge30gZmluYWxseSB7XG5cdFx0XHR0aGlzLl9jbG9zZWQgPSB0cnVlO1xuXHRcdH1cblx0fVxuXHRlcnJvcihlKSB7XG5cdFx0dGhpcy5jb250cm9sbGVyLmVycm9yKGUpO1xuXHR9XG59O1xuZnVuY3Rpb24gX3N0cmluZ2lmeUFzRGljdChvYmopIHtcblx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iaiwgZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuXHRcdGNvbnN0IHJhd1ZhbHVlID0gdGhpc1trZXldO1xuXHRcdGlmIChyYXdWYWx1ZSAhPSBudWxsICYmIHR5cGVvZiByYXdWYWx1ZSA9PT0gXCJvYmplY3RcIiAmJiBcInRvRGljdFwiIGluIHJhd1ZhbHVlICYmIHR5cGVvZiByYXdWYWx1ZS50b0RpY3QgPT09IFwiZnVuY3Rpb25cIikge1xuXHRcdFx0Y29uc3QgeyB0eXBlLCBkYXRhIH0gPSByYXdWYWx1ZS50b0RpY3QoKTtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdC4uLmRhdGEsXG5cdFx0XHRcdHR5cGVcblx0XHRcdH07XG5cdFx0fVxuXHRcdHJldHVybiB2YWx1ZTtcblx0fSk7XG59XG5mdW5jdGlvbiBfc2VyaWFsaXplRXJyb3IoZXJyb3IpIHtcblx0aWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHJldHVybiB7XG5cdFx0ZXJyb3I6IGVycm9yLm5hbWUsXG5cdFx0bWVzc2FnZTogZXJyb3IubWVzc2FnZVxuXHR9O1xuXHRyZXR1cm4ge1xuXHRcdGVycm9yOiBcIkVycm9yXCIsXG5cdFx0bWVzc2FnZTogSlNPTi5zdHJpbmdpZnkoZXJyb3IpXG5cdH07XG59XG5mdW5jdGlvbiBfaXNSdW5uYWJsZUNvbmZpZyhjb25maWcpIHtcblx0aWYgKHR5cGVvZiBjb25maWcgIT09IFwib2JqZWN0XCIgfHwgY29uZmlnID09IG51bGwpIHJldHVybiBmYWxzZTtcblx0cmV0dXJuIFwiY29uZmlndXJhYmxlXCIgaW4gY29uZmlnICYmIHR5cGVvZiBjb25maWcuY29uZmlndXJhYmxlID09PSBcIm9iamVjdFwiICYmIGNvbmZpZy5jb25maWd1cmFibGUgIT0gbnVsbDtcbn1cbmZ1bmN0aW9uIF9leHRyYWN0Q2hlY2twb2ludEZyb21Db25maWcoY29uZmlnKSB7XG5cdGlmICghX2lzUnVubmFibGVDb25maWcoY29uZmlnKSB8fCAhY29uZmlnLmNvbmZpZ3VyYWJsZS50aHJlYWRfaWQpIHJldHVybiBudWxsO1xuXHRyZXR1cm4ge1xuXHRcdHRocmVhZF9pZDogY29uZmlnLmNvbmZpZ3VyYWJsZS50aHJlYWRfaWQsXG5cdFx0Y2hlY2twb2ludF9uczogY29uZmlnLmNvbmZpZ3VyYWJsZS5jaGVja3BvaW50X25zIHx8IFwiXCIsXG5cdFx0Y2hlY2twb2ludF9pZDogY29uZmlnLmNvbmZpZ3VyYWJsZS5jaGVja3BvaW50X2lkIHx8IG51bGwsXG5cdFx0Y2hlY2twb2ludF9tYXA6IGNvbmZpZy5jb25maWd1cmFibGUuY2hlY2twb2ludF9tYXAgfHwgbnVsbFxuXHR9O1xufVxuZnVuY3Rpb24gX3NlcmlhbGl6ZUNvbmZpZyhjb25maWcpIHtcblx0aWYgKF9pc1J1bm5hYmxlQ29uZmlnKGNvbmZpZykpIHtcblx0XHRjb25zdCBjb25maWd1cmFibGUgPSBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMoY29uZmlnLmNvbmZpZ3VyYWJsZSkuZmlsdGVyKChba2V5XSkgPT4gIWtleS5zdGFydHNXaXRoKFwiX19cIikpKTtcblx0XHRjb25zdCBuZXdDb25maWcgPSB7XG5cdFx0XHQuLi5jb25maWcsXG5cdFx0XHRjb25maWd1cmFibGVcblx0XHR9O1xuXHRcdGRlbGV0ZSBuZXdDb25maWcuY2FsbGJhY2tzO1xuXHRcdHJldHVybiBuZXdDb25maWc7XG5cdH1cblx0cmV0dXJuIGNvbmZpZztcbn1cbmZ1bmN0aW9uIF9zZXJpYWxpemVDaGVja3BvaW50KHBheWxvYWQpIHtcblx0Y29uc3QgcmVzdWx0ID0ge1xuXHRcdC4uLnBheWxvYWQsXG5cdFx0Y2hlY2twb2ludDogX2V4dHJhY3RDaGVja3BvaW50RnJvbUNvbmZpZyhwYXlsb2FkLmNvbmZpZyksXG5cdFx0cGFyZW50X2NoZWNrcG9pbnQ6IF9leHRyYWN0Q2hlY2twb2ludEZyb21Db25maWcocGF5bG9hZC5wYXJlbnRDb25maWcpLFxuXHRcdGNvbmZpZzogX3NlcmlhbGl6ZUNvbmZpZyhwYXlsb2FkLmNvbmZpZyksXG5cdFx0cGFyZW50X2NvbmZpZzogX3NlcmlhbGl6ZUNvbmZpZyhwYXlsb2FkLnBhcmVudENvbmZpZyksXG5cdFx0dGFza3M6IHBheWxvYWQudGFza3MubWFwKCh0YXNrKSA9PiB7XG5cdFx0XHRpZiAoX2lzUnVubmFibGVDb25maWcodGFzay5zdGF0ZSkpIHtcblx0XHRcdFx0Y29uc3QgY2hlY2twb2ludCA9IF9leHRyYWN0Q2hlY2twb2ludEZyb21Db25maWcodGFzay5zdGF0ZSk7XG5cdFx0XHRcdGlmIChjaGVja3BvaW50ICE9IG51bGwpIHtcblx0XHRcdFx0XHRjb25zdCBjbG9uZVRhc2sgPSB7XG5cdFx0XHRcdFx0XHQuLi50YXNrLFxuXHRcdFx0XHRcdFx0Y2hlY2twb2ludFxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0ZGVsZXRlIGNsb25lVGFzay5zdGF0ZTtcblx0XHRcdFx0XHRyZXR1cm4gY2xvbmVUYXNrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGFzaztcblx0XHR9KVxuXHR9O1xuXHRkZWxldGUgcmVzdWx0LnBhcmVudENvbmZpZztcblx0cmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHRvRXZlbnRTdHJlYW0oc3RyZWFtKSB7XG5cdGNvbnN0IGVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKTtcblx0cmV0dXJuIG5ldyBSZWFkYWJsZVN0cmVhbSh7IGFzeW5jIHN0YXJ0KGNvbnRyb2xsZXIpIHtcblx0XHRjb25zdCBlbnF1ZXVlQ2h1bmsgPSAoc3NlKSA9PiB7XG5cdFx0XHRjb250cm9sbGVyLmVucXVldWUoZW5jb2Rlci5lbmNvZGUoYGV2ZW50OiAke3NzZS5ldmVudH1cXG5kYXRhOiAke19zdHJpbmdpZnlBc0RpY3Qoc3NlLmRhdGEpfVxcblxcbmApKTtcblx0XHR9O1xuXHRcdHRyeSB7XG5cdFx0XHRmb3IgYXdhaXQgKGNvbnN0IHBheWxvYWQgb2Ygc3RyZWFtKSB7XG5cdFx0XHRcdGNvbnN0IFtucywgbW9kZSwgY2h1bmtdID0gcGF5bG9hZDtcblx0XHRcdFx0bGV0IGRhdGEgPSBjaHVuaztcblx0XHRcdFx0aWYgKG1vZGUgPT09IFwiZGVidWdcIikge1xuXHRcdFx0XHRcdGNvbnN0IGRlYnVnQ2h1bmsgPSBjaHVuaztcblx0XHRcdFx0XHRpZiAoZGVidWdDaHVuay50eXBlID09PSBcImNoZWNrcG9pbnRcIikgZGF0YSA9IHtcblx0XHRcdFx0XHRcdC4uLmRlYnVnQ2h1bmssXG5cdFx0XHRcdFx0XHRwYXlsb2FkOiBfc2VyaWFsaXplQ2hlY2twb2ludChkZWJ1Z0NodW5rLnBheWxvYWQpXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAobW9kZSA9PT0gXCJjaGVja3BvaW50c1wiKSBkYXRhID0gX3NlcmlhbGl6ZUNoZWNrcG9pbnQoY2h1bmspO1xuXHRcdFx0XHRjb25zdCBldmVudCA9IG5zPy5sZW5ndGggPyBgJHttb2RlfXwke25zLmpvaW4oXCJ8XCIpfWAgOiBtb2RlO1xuXHRcdFx0XHRlbnF1ZXVlQ2h1bmsoe1xuXHRcdFx0XHRcdGV2ZW50LFxuXHRcdFx0XHRcdGRhdGFcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGVucXVldWVDaHVuayh7XG5cdFx0XHRcdGV2ZW50OiBcImVycm9yXCIsXG5cdFx0XHRcdGRhdGE6IF9zZXJpYWxpemVFcnJvcihlcnJvcilcblx0XHRcdH0pO1xuXHRcdH1cblx0XHRjb250cm9sbGVyLmNsb3NlKCk7XG5cdH0gfSk7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgSXRlcmFibGVSZWFkYWJsZVN0cmVhbVdpdGhBYm9ydFNpZ25hbCwgSXRlcmFibGVSZWFkYWJsZVdyaXRhYmxlU3RyZWFtLCB0b0V2ZW50U3RyZWFtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdHJlYW0uanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/stream.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/types.js":
/*!************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/types.js ***!
  \************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Call: () => (/* binding */ Call),\n/* harmony export */   isCall: () => (/* binding */ isCall)\n/* harmony export */ });\n//#region src/pregel/types.ts\nvar Call = class {\n\tfunc;\n\tname;\n\tinput;\n\tretry;\n\tcache;\n\tcallbacks;\n\t__lg_type = \"call\";\n\tconstructor({ func, name, input, retry, cache, callbacks }) {\n\t\tthis.func = func;\n\t\tthis.name = name;\n\t\tthis.input = input;\n\t\tthis.retry = retry;\n\t\tthis.cache = cache;\n\t\tthis.callbacks = callbacks;\n\t}\n};\nfunction isCall(value) {\n\treturn typeof value === \"object\" && value !== null && \"__lg_type\" in value && value.__lg_type === \"call\";\n}\n\n//#endregion\n\n//# sourceMappingURL=types.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L3ByZWdlbC90eXBlcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsNENBQTRDO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDd0I7QUFDeEIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2IvRGVza3RvcC9wcm9qZWN0X3gvcHJvamVjdC1zcWwtYWdlbnQvc2VydmljZXMvZnJvbnRlbmQvbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rbGFuZ2dyYXBoQDEuMC4xX0BsYW5nY2hhaW4rY29yZUAxLjAuMl9vcGVuYWlANC4xMDAuMF93c0A4LjE4LjJfem9kQDQuMS4xMl9fX19lZmE0ZThmODY1NThlNWQyOWViZGVjM2QyZjAwNGVkOS9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9sYW5nZ3JhcGgvZGlzdC9wcmVnZWwvdHlwZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8jcmVnaW9uIHNyYy9wcmVnZWwvdHlwZXMudHNcbnZhciBDYWxsID0gY2xhc3Mge1xuXHRmdW5jO1xuXHRuYW1lO1xuXHRpbnB1dDtcblx0cmV0cnk7XG5cdGNhY2hlO1xuXHRjYWxsYmFja3M7XG5cdF9fbGdfdHlwZSA9IFwiY2FsbFwiO1xuXHRjb25zdHJ1Y3Rvcih7IGZ1bmMsIG5hbWUsIGlucHV0LCByZXRyeSwgY2FjaGUsIGNhbGxiYWNrcyB9KSB7XG5cdFx0dGhpcy5mdW5jID0gZnVuYztcblx0XHR0aGlzLm5hbWUgPSBuYW1lO1xuXHRcdHRoaXMuaW5wdXQgPSBpbnB1dDtcblx0XHR0aGlzLnJldHJ5ID0gcmV0cnk7XG5cdFx0dGhpcy5jYWNoZSA9IGNhY2hlO1xuXHRcdHRoaXMuY2FsbGJhY2tzID0gY2FsbGJhY2tzO1xuXHR9XG59O1xuZnVuY3Rpb24gaXNDYWxsKHZhbHVlKSB7XG5cdHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUgIT09IG51bGwgJiYgXCJfX2xnX3R5cGVcIiBpbiB2YWx1ZSAmJiB2YWx1ZS5fX2xnX3R5cGUgPT09IFwiY2FsbFwiO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IENhbGwsIGlzQ2FsbCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHlwZXMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/types.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/utils/config.js":
/*!*******************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/utils/config.js ***!
  \*******************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ensureLangGraphConfig: () => (/* binding */ ensureLangGraphConfig),\n/* harmony export */   getConfig: () => (/* binding */ getConfig),\n/* harmony export */   getCurrentTaskInput: () => (/* binding */ getCurrentTaskInput),\n/* harmony export */   getParentCheckpointNamespace: () => (/* binding */ getParentCheckpointNamespace),\n/* harmony export */   getStore: () => (/* binding */ getStore),\n/* harmony export */   getWriter: () => (/* binding */ getWriter),\n/* harmony export */   recastCheckpointNamespace: () => (/* binding */ recastCheckpointNamespace)\n/* harmony export */ });\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../constants.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/constants.js\");\n/* harmony import */ var _langchain_core_singletons__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @langchain/core/singletons */ \"(ssr)/./node_modules/.pnpm/@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12_/node_modules/@langchain/core/dist/singletons/index.js\");\n\n\n\n//#region src/pregel/utils/config.ts\nconst COPIABLE_KEYS = [\n\t\"tags\",\n\t\"metadata\",\n\t\"callbacks\",\n\t\"configurable\"\n];\nconst CONFIG_KEYS = [\n\t\"tags\",\n\t\"metadata\",\n\t\"callbacks\",\n\t\"runName\",\n\t\"maxConcurrency\",\n\t\"recursionLimit\",\n\t\"configurable\",\n\t\"runId\",\n\t\"outputKeys\",\n\t\"streamMode\",\n\t\"store\",\n\t\"writer\",\n\t\"interrupt\",\n\t\"context\",\n\t\"interruptBefore\",\n\t\"interruptAfter\",\n\t\"checkpointDuring\",\n\t\"durability\",\n\t\"signal\"\n];\nconst DEFAULT_RECURSION_LIMIT = 25;\nfunction ensureLangGraphConfig(...configs) {\n\tconst empty = {\n\t\ttags: [],\n\t\tmetadata: {},\n\t\tcallbacks: void 0,\n\t\trecursionLimit: DEFAULT_RECURSION_LIMIT,\n\t\tconfigurable: {}\n\t};\n\tconst implicitConfig = _langchain_core_singletons__WEBPACK_IMPORTED_MODULE_1__.AsyncLocalStorageProviderSingleton.getRunnableConfig();\n\tif (implicitConfig !== void 0) {\n\t\tfor (const [k, v] of Object.entries(implicitConfig)) if (v !== void 0) if (COPIABLE_KEYS.includes(k)) {\n\t\t\tlet copiedValue;\n\t\t\tif (Array.isArray(v)) copiedValue = [...v];\n\t\t\telse if (typeof v === \"object\") if (k === \"callbacks\" && \"copy\" in v && typeof v.copy === \"function\") copiedValue = v.copy();\n\t\t\telse copiedValue = { ...v };\n\t\t\telse copiedValue = v;\n\t\t\tempty[k] = copiedValue;\n\t\t} else empty[k] = v;\n\t}\n\tfor (const config of configs) {\n\t\tif (config === void 0) continue;\n\t\tfor (const [k, v] of Object.entries(config)) if (v !== void 0 && CONFIG_KEYS.includes(k)) empty[k] = v;\n\t}\n\tfor (const [key, value] of Object.entries(empty.configurable)) {\n\t\tempty.metadata = empty.metadata ?? {};\n\t\tif (!key.startsWith(\"__\") && (typeof value === \"string\" || typeof value === \"number\" || typeof value === \"boolean\") && !(key in empty.metadata)) empty.metadata[key] = value;\n\t}\n\treturn empty;\n}\n/**\n* A helper utility function that returns the {@link BaseStore} that was set when the graph was initialized\n*\n* @returns a reference to the {@link BaseStore} that was set when the graph was initialized\n*/\nfunction getStore(config) {\n\tconst runConfig = config ?? _langchain_core_singletons__WEBPACK_IMPORTED_MODULE_1__.AsyncLocalStorageProviderSingleton.getRunnableConfig();\n\tif (runConfig === void 0) throw new Error([\"Config not retrievable. This is likely because you are running in an environment without support for AsyncLocalStorage.\", \"If you're running `getStore` in such environment, pass the `config` from the node function directly.\"].join(\"\\n\"));\n\treturn runConfig?.store;\n}\n/**\n* A helper utility function that returns the {@link LangGraphRunnableConfig#writer} if \"custom\" stream mode is enabled, otherwise undefined.\n*\n* @returns a reference to the {@link LangGraphRunnableConfig#writer} if \"custom\" stream mode is enabled, otherwise undefined\n*/\nfunction getWriter(config) {\n\tconst runConfig = config ?? _langchain_core_singletons__WEBPACK_IMPORTED_MODULE_1__.AsyncLocalStorageProviderSingleton.getRunnableConfig();\n\tif (runConfig === void 0) throw new Error([\"Config not retrievable. This is likely because you are running in an environment without support for AsyncLocalStorage.\", \"If you're running `getWriter` in such environment, pass the `config` from the node function directly.\"].join(\"\\n\"));\n\treturn runConfig?.writer || runConfig?.configurable?.writer;\n}\n/**\n* A helper utility function that returns the {@link LangGraphRunnableConfig} that was set when the graph was initialized.\n*\n* Note: This only works when running in an environment that supports node:async_hooks and AsyncLocalStorage. If you're running this in a\n* web environment, access the LangGraphRunnableConfig from the node function directly.\n*\n* @returns the {@link LangGraphRunnableConfig} that was set when the graph was initialized\n*/\nfunction getConfig() {\n\treturn _langchain_core_singletons__WEBPACK_IMPORTED_MODULE_1__.AsyncLocalStorageProviderSingleton.getRunnableConfig();\n}\n/**\n* A helper utility function that returns the input for the currently executing task\n*\n* @returns the input for the currently executing task\n*/\nfunction getCurrentTaskInput(config) {\n\tconst runConfig = config ?? _langchain_core_singletons__WEBPACK_IMPORTED_MODULE_1__.AsyncLocalStorageProviderSingleton.getRunnableConfig();\n\tif (runConfig === void 0) throw new Error([\"Config not retrievable. This is likely because you are running in an environment without support for AsyncLocalStorage.\", \"If you're running `getCurrentTaskInput` in such environment, pass the `config` from the node function directly.\"].join(\"\\n\"));\n\tif (runConfig.configurable?.[_constants_js__WEBPACK_IMPORTED_MODULE_0__.CONFIG_KEY_SCRATCHPAD]?.currentTaskInput === void 0) throw new Error(\"BUG: internal scratchpad not initialized.\");\n\treturn runConfig.configurable[_constants_js__WEBPACK_IMPORTED_MODULE_0__.CONFIG_KEY_SCRATCHPAD].currentTaskInput;\n}\nfunction recastCheckpointNamespace(namespace) {\n\treturn namespace.split(_constants_js__WEBPACK_IMPORTED_MODULE_0__.CHECKPOINT_NAMESPACE_SEPARATOR).filter((part) => !part.match(/^\\d+$/)).map((part) => part.split(_constants_js__WEBPACK_IMPORTED_MODULE_0__.CHECKPOINT_NAMESPACE_END)[0]).join(_constants_js__WEBPACK_IMPORTED_MODULE_0__.CHECKPOINT_NAMESPACE_SEPARATOR);\n}\nfunction getParentCheckpointNamespace(namespace) {\n\tconst parts = namespace.split(_constants_js__WEBPACK_IMPORTED_MODULE_0__.CHECKPOINT_NAMESPACE_SEPARATOR);\n\twhile (parts.length > 1 && parts[parts.length - 1].match(/^\\d+$/)) parts.pop();\n\treturn parts.slice(0, -1).join(_constants_js__WEBPACK_IMPORTED_MODULE_0__.CHECKPOINT_NAMESPACE_SEPARATOR);\n}\n\n//#endregion\n\n//# sourceMappingURL=config.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L3ByZWdlbC91dGlscy9jb25maWcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQXFIO0FBQ3JDOztBQUVoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDBGQUFrQztBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLGlCQUFpQjtBQUMvRDtBQUNBLCtCQUErQixpQkFBaUI7QUFDaEQ7QUFDQTtBQUNBLDZCQUE2QiwwRkFBa0M7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsc0NBQXNDO0FBQ3BGO0FBQ0EsK0JBQStCLHNDQUFzQztBQUNyRTtBQUNBO0FBQ0EsNkJBQTZCLDBGQUFrQztBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QywrQkFBK0I7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsK0JBQStCO0FBQy9DO0FBQ0E7QUFDQSxRQUFRLDBGQUFrQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QiwwRkFBa0M7QUFDL0Q7QUFDQSw4QkFBOEIsZ0VBQXFCO0FBQ25ELCtCQUErQixnRUFBcUI7QUFDcEQ7QUFDQTtBQUNBLHdCQUF3Qix5RUFBOEIsa0VBQWtFLG1FQUF3QixXQUFXLHlFQUE4QjtBQUN6TDtBQUNBO0FBQ0EsK0JBQStCLHlFQUE4QjtBQUM3RDtBQUNBLGdDQUFnQyx5RUFBOEI7QUFDOUQ7O0FBRUE7QUFDK0k7QUFDL0kiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2IvRGVza3RvcC9wcm9qZWN0X3gvcHJvamVjdC1zcWwtYWdlbnQvc2VydmljZXMvZnJvbnRlbmQvbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rbGFuZ2dyYXBoQDEuMC4xX0BsYW5nY2hhaW4rY29yZUAxLjAuMl9vcGVuYWlANC4xMDAuMF93c0A4LjE4LjJfem9kQDQuMS4xMl9fX19lZmE0ZThmODY1NThlNWQyOWViZGVjM2QyZjAwNGVkOS9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9sYW5nZ3JhcGgvZGlzdC9wcmVnZWwvdXRpbHMvY29uZmlnLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENIRUNLUE9JTlRfTkFNRVNQQUNFX0VORCwgQ0hFQ0tQT0lOVF9OQU1FU1BBQ0VfU0VQQVJBVE9SLCBDT05GSUdfS0VZX1NDUkFUQ0hQQUQgfSBmcm9tIFwiLi4vLi4vY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgeyBBc3luY0xvY2FsU3RvcmFnZVByb3ZpZGVyU2luZ2xldG9uIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9zaW5nbGV0b25zXCI7XG5cbi8vI3JlZ2lvbiBzcmMvcHJlZ2VsL3V0aWxzL2NvbmZpZy50c1xuY29uc3QgQ09QSUFCTEVfS0VZUyA9IFtcblx0XCJ0YWdzXCIsXG5cdFwibWV0YWRhdGFcIixcblx0XCJjYWxsYmFja3NcIixcblx0XCJjb25maWd1cmFibGVcIlxuXTtcbmNvbnN0IENPTkZJR19LRVlTID0gW1xuXHRcInRhZ3NcIixcblx0XCJtZXRhZGF0YVwiLFxuXHRcImNhbGxiYWNrc1wiLFxuXHRcInJ1bk5hbWVcIixcblx0XCJtYXhDb25jdXJyZW5jeVwiLFxuXHRcInJlY3Vyc2lvbkxpbWl0XCIsXG5cdFwiY29uZmlndXJhYmxlXCIsXG5cdFwicnVuSWRcIixcblx0XCJvdXRwdXRLZXlzXCIsXG5cdFwic3RyZWFtTW9kZVwiLFxuXHRcInN0b3JlXCIsXG5cdFwid3JpdGVyXCIsXG5cdFwiaW50ZXJydXB0XCIsXG5cdFwiY29udGV4dFwiLFxuXHRcImludGVycnVwdEJlZm9yZVwiLFxuXHRcImludGVycnVwdEFmdGVyXCIsXG5cdFwiY2hlY2twb2ludER1cmluZ1wiLFxuXHRcImR1cmFiaWxpdHlcIixcblx0XCJzaWduYWxcIlxuXTtcbmNvbnN0IERFRkFVTFRfUkVDVVJTSU9OX0xJTUlUID0gMjU7XG5mdW5jdGlvbiBlbnN1cmVMYW5nR3JhcGhDb25maWcoLi4uY29uZmlncykge1xuXHRjb25zdCBlbXB0eSA9IHtcblx0XHR0YWdzOiBbXSxcblx0XHRtZXRhZGF0YToge30sXG5cdFx0Y2FsbGJhY2tzOiB2b2lkIDAsXG5cdFx0cmVjdXJzaW9uTGltaXQ6IERFRkFVTFRfUkVDVVJTSU9OX0xJTUlULFxuXHRcdGNvbmZpZ3VyYWJsZToge31cblx0fTtcblx0Y29uc3QgaW1wbGljaXRDb25maWcgPSBBc3luY0xvY2FsU3RvcmFnZVByb3ZpZGVyU2luZ2xldG9uLmdldFJ1bm5hYmxlQ29uZmlnKCk7XG5cdGlmIChpbXBsaWNpdENvbmZpZyAhPT0gdm9pZCAwKSB7XG5cdFx0Zm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMoaW1wbGljaXRDb25maWcpKSBpZiAodiAhPT0gdm9pZCAwKSBpZiAoQ09QSUFCTEVfS0VZUy5pbmNsdWRlcyhrKSkge1xuXHRcdFx0bGV0IGNvcGllZFZhbHVlO1xuXHRcdFx0aWYgKEFycmF5LmlzQXJyYXkodikpIGNvcGllZFZhbHVlID0gWy4uLnZdO1xuXHRcdFx0ZWxzZSBpZiAodHlwZW9mIHYgPT09IFwib2JqZWN0XCIpIGlmIChrID09PSBcImNhbGxiYWNrc1wiICYmIFwiY29weVwiIGluIHYgJiYgdHlwZW9mIHYuY29weSA9PT0gXCJmdW5jdGlvblwiKSBjb3BpZWRWYWx1ZSA9IHYuY29weSgpO1xuXHRcdFx0ZWxzZSBjb3BpZWRWYWx1ZSA9IHsgLi4udiB9O1xuXHRcdFx0ZWxzZSBjb3BpZWRWYWx1ZSA9IHY7XG5cdFx0XHRlbXB0eVtrXSA9IGNvcGllZFZhbHVlO1xuXHRcdH0gZWxzZSBlbXB0eVtrXSA9IHY7XG5cdH1cblx0Zm9yIChjb25zdCBjb25maWcgb2YgY29uZmlncykge1xuXHRcdGlmIChjb25maWcgPT09IHZvaWQgMCkgY29udGludWU7XG5cdFx0Zm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMoY29uZmlnKSkgaWYgKHYgIT09IHZvaWQgMCAmJiBDT05GSUdfS0VZUy5pbmNsdWRlcyhrKSkgZW1wdHlba10gPSB2O1xuXHR9XG5cdGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGVtcHR5LmNvbmZpZ3VyYWJsZSkpIHtcblx0XHRlbXB0eS5tZXRhZGF0YSA9IGVtcHR5Lm1ldGFkYXRhID8/IHt9O1xuXHRcdGlmICgha2V5LnN0YXJ0c1dpdGgoXCJfX1wiKSAmJiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgdmFsdWUgPT09IFwiYm9vbGVhblwiKSAmJiAhKGtleSBpbiBlbXB0eS5tZXRhZGF0YSkpIGVtcHR5Lm1ldGFkYXRhW2tleV0gPSB2YWx1ZTtcblx0fVxuXHRyZXR1cm4gZW1wdHk7XG59XG4vKipcbiogQSBoZWxwZXIgdXRpbGl0eSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIHtAbGluayBCYXNlU3RvcmV9IHRoYXQgd2FzIHNldCB3aGVuIHRoZSBncmFwaCB3YXMgaW5pdGlhbGl6ZWRcbipcbiogQHJldHVybnMgYSByZWZlcmVuY2UgdG8gdGhlIHtAbGluayBCYXNlU3RvcmV9IHRoYXQgd2FzIHNldCB3aGVuIHRoZSBncmFwaCB3YXMgaW5pdGlhbGl6ZWRcbiovXG5mdW5jdGlvbiBnZXRTdG9yZShjb25maWcpIHtcblx0Y29uc3QgcnVuQ29uZmlnID0gY29uZmlnID8/IEFzeW5jTG9jYWxTdG9yYWdlUHJvdmlkZXJTaW5nbGV0b24uZ2V0UnVubmFibGVDb25maWcoKTtcblx0aWYgKHJ1bkNvbmZpZyA9PT0gdm9pZCAwKSB0aHJvdyBuZXcgRXJyb3IoW1wiQ29uZmlnIG5vdCByZXRyaWV2YWJsZS4gVGhpcyBpcyBsaWtlbHkgYmVjYXVzZSB5b3UgYXJlIHJ1bm5pbmcgaW4gYW4gZW52aXJvbm1lbnQgd2l0aG91dCBzdXBwb3J0IGZvciBBc3luY0xvY2FsU3RvcmFnZS5cIiwgXCJJZiB5b3UncmUgcnVubmluZyBgZ2V0U3RvcmVgIGluIHN1Y2ggZW52aXJvbm1lbnQsIHBhc3MgdGhlIGBjb25maWdgIGZyb20gdGhlIG5vZGUgZnVuY3Rpb24gZGlyZWN0bHkuXCJdLmpvaW4oXCJcXG5cIikpO1xuXHRyZXR1cm4gcnVuQ29uZmlnPy5zdG9yZTtcbn1cbi8qKlxuKiBBIGhlbHBlciB1dGlsaXR5IGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUge0BsaW5rIExhbmdHcmFwaFJ1bm5hYmxlQ29uZmlnI3dyaXRlcn0gaWYgXCJjdXN0b21cIiBzdHJlYW0gbW9kZSBpcyBlbmFibGVkLCBvdGhlcndpc2UgdW5kZWZpbmVkLlxuKlxuKiBAcmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGUge0BsaW5rIExhbmdHcmFwaFJ1bm5hYmxlQ29uZmlnI3dyaXRlcn0gaWYgXCJjdXN0b21cIiBzdHJlYW0gbW9kZSBpcyBlbmFibGVkLCBvdGhlcndpc2UgdW5kZWZpbmVkXG4qL1xuZnVuY3Rpb24gZ2V0V3JpdGVyKGNvbmZpZykge1xuXHRjb25zdCBydW5Db25maWcgPSBjb25maWcgPz8gQXN5bmNMb2NhbFN0b3JhZ2VQcm92aWRlclNpbmdsZXRvbi5nZXRSdW5uYWJsZUNvbmZpZygpO1xuXHRpZiAocnVuQ29uZmlnID09PSB2b2lkIDApIHRocm93IG5ldyBFcnJvcihbXCJDb25maWcgbm90IHJldHJpZXZhYmxlLiBUaGlzIGlzIGxpa2VseSBiZWNhdXNlIHlvdSBhcmUgcnVubmluZyBpbiBhbiBlbnZpcm9ubWVudCB3aXRob3V0IHN1cHBvcnQgZm9yIEFzeW5jTG9jYWxTdG9yYWdlLlwiLCBcIklmIHlvdSdyZSBydW5uaW5nIGBnZXRXcml0ZXJgIGluIHN1Y2ggZW52aXJvbm1lbnQsIHBhc3MgdGhlIGBjb25maWdgIGZyb20gdGhlIG5vZGUgZnVuY3Rpb24gZGlyZWN0bHkuXCJdLmpvaW4oXCJcXG5cIikpO1xuXHRyZXR1cm4gcnVuQ29uZmlnPy53cml0ZXIgfHwgcnVuQ29uZmlnPy5jb25maWd1cmFibGU/LndyaXRlcjtcbn1cbi8qKlxuKiBBIGhlbHBlciB1dGlsaXR5IGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUge0BsaW5rIExhbmdHcmFwaFJ1bm5hYmxlQ29uZmlnfSB0aGF0IHdhcyBzZXQgd2hlbiB0aGUgZ3JhcGggd2FzIGluaXRpYWxpemVkLlxuKlxuKiBOb3RlOiBUaGlzIG9ubHkgd29ya3Mgd2hlbiBydW5uaW5nIGluIGFuIGVudmlyb25tZW50IHRoYXQgc3VwcG9ydHMgbm9kZTphc3luY19ob29rcyBhbmQgQXN5bmNMb2NhbFN0b3JhZ2UuIElmIHlvdSdyZSBydW5uaW5nIHRoaXMgaW4gYVxuKiB3ZWIgZW52aXJvbm1lbnQsIGFjY2VzcyB0aGUgTGFuZ0dyYXBoUnVubmFibGVDb25maWcgZnJvbSB0aGUgbm9kZSBmdW5jdGlvbiBkaXJlY3RseS5cbipcbiogQHJldHVybnMgdGhlIHtAbGluayBMYW5nR3JhcGhSdW5uYWJsZUNvbmZpZ30gdGhhdCB3YXMgc2V0IHdoZW4gdGhlIGdyYXBoIHdhcyBpbml0aWFsaXplZFxuKi9cbmZ1bmN0aW9uIGdldENvbmZpZygpIHtcblx0cmV0dXJuIEFzeW5jTG9jYWxTdG9yYWdlUHJvdmlkZXJTaW5nbGV0b24uZ2V0UnVubmFibGVDb25maWcoKTtcbn1cbi8qKlxuKiBBIGhlbHBlciB1dGlsaXR5IGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgaW5wdXQgZm9yIHRoZSBjdXJyZW50bHkgZXhlY3V0aW5nIHRhc2tcbipcbiogQHJldHVybnMgdGhlIGlucHV0IGZvciB0aGUgY3VycmVudGx5IGV4ZWN1dGluZyB0YXNrXG4qL1xuZnVuY3Rpb24gZ2V0Q3VycmVudFRhc2tJbnB1dChjb25maWcpIHtcblx0Y29uc3QgcnVuQ29uZmlnID0gY29uZmlnID8/IEFzeW5jTG9jYWxTdG9yYWdlUHJvdmlkZXJTaW5nbGV0b24uZ2V0UnVubmFibGVDb25maWcoKTtcblx0aWYgKHJ1bkNvbmZpZyA9PT0gdm9pZCAwKSB0aHJvdyBuZXcgRXJyb3IoW1wiQ29uZmlnIG5vdCByZXRyaWV2YWJsZS4gVGhpcyBpcyBsaWtlbHkgYmVjYXVzZSB5b3UgYXJlIHJ1bm5pbmcgaW4gYW4gZW52aXJvbm1lbnQgd2l0aG91dCBzdXBwb3J0IGZvciBBc3luY0xvY2FsU3RvcmFnZS5cIiwgXCJJZiB5b3UncmUgcnVubmluZyBgZ2V0Q3VycmVudFRhc2tJbnB1dGAgaW4gc3VjaCBlbnZpcm9ubWVudCwgcGFzcyB0aGUgYGNvbmZpZ2AgZnJvbSB0aGUgbm9kZSBmdW5jdGlvbiBkaXJlY3RseS5cIl0uam9pbihcIlxcblwiKSk7XG5cdGlmIChydW5Db25maWcuY29uZmlndXJhYmxlPy5bQ09ORklHX0tFWV9TQ1JBVENIUEFEXT8uY3VycmVudFRhc2tJbnB1dCA9PT0gdm9pZCAwKSB0aHJvdyBuZXcgRXJyb3IoXCJCVUc6IGludGVybmFsIHNjcmF0Y2hwYWQgbm90IGluaXRpYWxpemVkLlwiKTtcblx0cmV0dXJuIHJ1bkNvbmZpZy5jb25maWd1cmFibGVbQ09ORklHX0tFWV9TQ1JBVENIUEFEXS5jdXJyZW50VGFza0lucHV0O1xufVxuZnVuY3Rpb24gcmVjYXN0Q2hlY2twb2ludE5hbWVzcGFjZShuYW1lc3BhY2UpIHtcblx0cmV0dXJuIG5hbWVzcGFjZS5zcGxpdChDSEVDS1BPSU5UX05BTUVTUEFDRV9TRVBBUkFUT1IpLmZpbHRlcigocGFydCkgPT4gIXBhcnQubWF0Y2goL15cXGQrJC8pKS5tYXAoKHBhcnQpID0+IHBhcnQuc3BsaXQoQ0hFQ0tQT0lOVF9OQU1FU1BBQ0VfRU5EKVswXSkuam9pbihDSEVDS1BPSU5UX05BTUVTUEFDRV9TRVBBUkFUT1IpO1xufVxuZnVuY3Rpb24gZ2V0UGFyZW50Q2hlY2twb2ludE5hbWVzcGFjZShuYW1lc3BhY2UpIHtcblx0Y29uc3QgcGFydHMgPSBuYW1lc3BhY2Uuc3BsaXQoQ0hFQ0tQT0lOVF9OQU1FU1BBQ0VfU0VQQVJBVE9SKTtcblx0d2hpbGUgKHBhcnRzLmxlbmd0aCA+IDEgJiYgcGFydHNbcGFydHMubGVuZ3RoIC0gMV0ubWF0Y2goL15cXGQrJC8pKSBwYXJ0cy5wb3AoKTtcblx0cmV0dXJuIHBhcnRzLnNsaWNlKDAsIC0xKS5qb2luKENIRUNLUE9JTlRfTkFNRVNQQUNFX1NFUEFSQVRPUik7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgZW5zdXJlTGFuZ0dyYXBoQ29uZmlnLCBnZXRDb25maWcsIGdldEN1cnJlbnRUYXNrSW5wdXQsIGdldFBhcmVudENoZWNrcG9pbnROYW1lc3BhY2UsIGdldFN0b3JlLCBnZXRXcml0ZXIsIHJlY2FzdENoZWNrcG9pbnROYW1lc3BhY2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbmZpZy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/utils/config.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/utils/index.js":
/*!******************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/utils/index.js ***!
  \******************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _coerceToDict: () => (/* binding */ _coerceToDict),\n/* harmony export */   combineAbortSignals: () => (/* binding */ combineAbortSignals),\n/* harmony export */   combineCallbacks: () => (/* binding */ combineCallbacks),\n/* harmony export */   getNewChannelVersions: () => (/* binding */ getNewChannelVersions),\n/* harmony export */   getNullChannelVersion: () => (/* binding */ getNullChannelVersion),\n/* harmony export */   patchCheckpointMap: () => (/* binding */ patchCheckpointMap),\n/* harmony export */   patchConfigurable: () => (/* binding */ patchConfigurable)\n/* harmony export */ });\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../constants.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/constants.js\");\n\n\n//#region src/pregel/utils/index.ts\nfunction getNullChannelVersion(currentVersions) {\n\tconst startVersion = typeof currentVersions[_constants_js__WEBPACK_IMPORTED_MODULE_0__.START];\n\tif (startVersion === \"number\") return 0;\n\tif (startVersion === \"string\") return \"\";\n\tfor (const key in currentVersions) {\n\t\tif (!Object.prototype.hasOwnProperty.call(currentVersions, key)) continue;\n\t\tconst versionType = typeof currentVersions[key];\n\t\tif (versionType === \"number\") return 0;\n\t\tif (versionType === \"string\") return \"\";\n\t\tbreak;\n\t}\n\treturn void 0;\n}\nfunction getNewChannelVersions(previousVersions, currentVersions) {\n\tif (Object.keys(previousVersions).length > 0) {\n\t\tconst nullVersion = getNullChannelVersion(currentVersions);\n\t\treturn Object.fromEntries(Object.entries(currentVersions).filter(([k, v]) => v > (previousVersions[k] ?? nullVersion)));\n\t} else return currentVersions;\n}\nfunction _coerceToDict(value, defaultKey) {\n\treturn value && !Array.isArray(value) && !(value instanceof Date) && typeof value === \"object\" ? value : { [defaultKey]: value };\n}\nfunction patchConfigurable(config, patch) {\n\tif (config === null) return { configurable: patch };\n\telse if (config?.configurable === void 0) return {\n\t\t...config,\n\t\tconfigurable: patch\n\t};\n\telse return {\n\t\t...config,\n\t\tconfigurable: {\n\t\t\t...config.configurable,\n\t\t\t...patch\n\t\t}\n\t};\n}\nfunction patchCheckpointMap(config, metadata) {\n\tconst parents = metadata?.parents ?? {};\n\tif (Object.keys(parents).length > 0) return patchConfigurable(config, { [_constants_js__WEBPACK_IMPORTED_MODULE_0__.CONFIG_KEY_CHECKPOINT_MAP]: {\n\t\t...parents,\n\t\t[config.configurable?.checkpoint_ns ?? \"\"]: config.configurable?.checkpoint_id\n\t} });\n\telse return config;\n}\n/**\n* Combine multiple abort signals into a single abort signal.\n* @param signals - The abort signals to combine.\n* @returns A combined abort signal and a dispose function to remove the abort listener if unused.\n*/\nfunction combineAbortSignals(...x) {\n\tconst signals = [...new Set(x.filter(Boolean))];\n\tif (signals.length === 0) return {\n\t\tsignal: void 0,\n\t\tdispose: void 0\n\t};\n\tif (signals.length === 1) return {\n\t\tsignal: signals[0],\n\t\tdispose: void 0\n\t};\n\tconst combinedController = new AbortController();\n\tconst listener = () => {\n\t\tconst reason = signals.find((s) => s.aborted)?.reason;\n\t\tcombinedController.abort(reason);\n\t\tsignals.forEach((s) => s.removeEventListener(\"abort\", listener));\n\t};\n\tsignals.forEach((s) => s.addEventListener(\"abort\", listener, { once: true }));\n\tconst hasAlreadyAbortedSignal = signals.find((s) => s.aborted);\n\tif (hasAlreadyAbortedSignal) combinedController.abort(hasAlreadyAbortedSignal.reason);\n\treturn {\n\t\tsignal: combinedController.signal,\n\t\tdispose: () => {\n\t\t\tsignals.forEach((s) => s.removeEventListener(\"abort\", listener));\n\t\t}\n\t};\n}\n/**\n* Combine multiple callbacks into a single callback.\n* @param callback1 - The first callback to combine.\n* @param callback2 - The second callback to combine.\n* @returns A single callback that is a combination of the input callbacks.\n*/\nconst combineCallbacks = (callback1, callback2) => {\n\tif (!callback1 && !callback2) return void 0;\n\tif (!callback1) return callback2;\n\tif (!callback2) return callback1;\n\tif (Array.isArray(callback1) && Array.isArray(callback2)) return [...callback1, ...callback2];\n\tif (Array.isArray(callback1)) return [...callback1, callback2];\n\tif (Array.isArray(callback2)) return [callback1, ...callback2];\n\treturn [callback1, callback2];\n};\n\n//#endregion\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L3ByZWdlbC91dGlscy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRTs7QUFFdEU7QUFDQTtBQUNBLDZDQUE2QyxnREFBSztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLDRHQUE0RztBQUM1RztBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5RUFBeUUsQ0FBQyxvRUFBeUI7QUFDbkc7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLFlBQVk7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3FKO0FBQ3JKIiwic291cmNlcyI6WyIvVXNlcnMvam9iL0Rlc2t0b3AvcHJvamVjdF94L3Byb2plY3Qtc3FsLWFnZW50L3NlcnZpY2VzL2Zyb250ZW5kL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2xhbmdncmFwaEAxLjAuMV9AbGFuZ2NoYWluK2NvcmVAMS4wLjJfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEA0LjEuMTJfX19fZWZhNGU4Zjg2NTU4ZTVkMjllYmRlYzNkMmYwMDRlZDkvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vbGFuZ2dyYXBoL2Rpc3QvcHJlZ2VsL3V0aWxzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENPTkZJR19LRVlfQ0hFQ0tQT0lOVF9NQVAsIFNUQVJUIH0gZnJvbSBcIi4uLy4uL2NvbnN0YW50cy5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL3ByZWdlbC91dGlscy9pbmRleC50c1xuZnVuY3Rpb24gZ2V0TnVsbENoYW5uZWxWZXJzaW9uKGN1cnJlbnRWZXJzaW9ucykge1xuXHRjb25zdCBzdGFydFZlcnNpb24gPSB0eXBlb2YgY3VycmVudFZlcnNpb25zW1NUQVJUXTtcblx0aWYgKHN0YXJ0VmVyc2lvbiA9PT0gXCJudW1iZXJcIikgcmV0dXJuIDA7XG5cdGlmIChzdGFydFZlcnNpb24gPT09IFwic3RyaW5nXCIpIHJldHVybiBcIlwiO1xuXHRmb3IgKGNvbnN0IGtleSBpbiBjdXJyZW50VmVyc2lvbnMpIHtcblx0XHRpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjdXJyZW50VmVyc2lvbnMsIGtleSkpIGNvbnRpbnVlO1xuXHRcdGNvbnN0IHZlcnNpb25UeXBlID0gdHlwZW9mIGN1cnJlbnRWZXJzaW9uc1trZXldO1xuXHRcdGlmICh2ZXJzaW9uVHlwZSA9PT0gXCJudW1iZXJcIikgcmV0dXJuIDA7XG5cdFx0aWYgKHZlcnNpb25UeXBlID09PSBcInN0cmluZ1wiKSByZXR1cm4gXCJcIjtcblx0XHRicmVhaztcblx0fVxuXHRyZXR1cm4gdm9pZCAwO1xufVxuZnVuY3Rpb24gZ2V0TmV3Q2hhbm5lbFZlcnNpb25zKHByZXZpb3VzVmVyc2lvbnMsIGN1cnJlbnRWZXJzaW9ucykge1xuXHRpZiAoT2JqZWN0LmtleXMocHJldmlvdXNWZXJzaW9ucykubGVuZ3RoID4gMCkge1xuXHRcdGNvbnN0IG51bGxWZXJzaW9uID0gZ2V0TnVsbENoYW5uZWxWZXJzaW9uKGN1cnJlbnRWZXJzaW9ucyk7XG5cdFx0cmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyhjdXJyZW50VmVyc2lvbnMpLmZpbHRlcigoW2ssIHZdKSA9PiB2ID4gKHByZXZpb3VzVmVyc2lvbnNba10gPz8gbnVsbFZlcnNpb24pKSk7XG5cdH0gZWxzZSByZXR1cm4gY3VycmVudFZlcnNpb25zO1xufVxuZnVuY3Rpb24gX2NvZXJjZVRvRGljdCh2YWx1ZSwgZGVmYXVsdEtleSkge1xuXHRyZXR1cm4gdmFsdWUgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpICYmICEodmFsdWUgaW5zdGFuY2VvZiBEYXRlKSAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgPyB2YWx1ZSA6IHsgW2RlZmF1bHRLZXldOiB2YWx1ZSB9O1xufVxuZnVuY3Rpb24gcGF0Y2hDb25maWd1cmFibGUoY29uZmlnLCBwYXRjaCkge1xuXHRpZiAoY29uZmlnID09PSBudWxsKSByZXR1cm4geyBjb25maWd1cmFibGU6IHBhdGNoIH07XG5cdGVsc2UgaWYgKGNvbmZpZz8uY29uZmlndXJhYmxlID09PSB2b2lkIDApIHJldHVybiB7XG5cdFx0Li4uY29uZmlnLFxuXHRcdGNvbmZpZ3VyYWJsZTogcGF0Y2hcblx0fTtcblx0ZWxzZSByZXR1cm4ge1xuXHRcdC4uLmNvbmZpZyxcblx0XHRjb25maWd1cmFibGU6IHtcblx0XHRcdC4uLmNvbmZpZy5jb25maWd1cmFibGUsXG5cdFx0XHQuLi5wYXRjaFxuXHRcdH1cblx0fTtcbn1cbmZ1bmN0aW9uIHBhdGNoQ2hlY2twb2ludE1hcChjb25maWcsIG1ldGFkYXRhKSB7XG5cdGNvbnN0IHBhcmVudHMgPSBtZXRhZGF0YT8ucGFyZW50cyA/PyB7fTtcblx0aWYgKE9iamVjdC5rZXlzKHBhcmVudHMpLmxlbmd0aCA+IDApIHJldHVybiBwYXRjaENvbmZpZ3VyYWJsZShjb25maWcsIHsgW0NPTkZJR19LRVlfQ0hFQ0tQT0lOVF9NQVBdOiB7XG5cdFx0Li4ucGFyZW50cyxcblx0XHRbY29uZmlnLmNvbmZpZ3VyYWJsZT8uY2hlY2twb2ludF9ucyA/PyBcIlwiXTogY29uZmlnLmNvbmZpZ3VyYWJsZT8uY2hlY2twb2ludF9pZFxuXHR9IH0pO1xuXHRlbHNlIHJldHVybiBjb25maWc7XG59XG4vKipcbiogQ29tYmluZSBtdWx0aXBsZSBhYm9ydCBzaWduYWxzIGludG8gYSBzaW5nbGUgYWJvcnQgc2lnbmFsLlxuKiBAcGFyYW0gc2lnbmFscyAtIFRoZSBhYm9ydCBzaWduYWxzIHRvIGNvbWJpbmUuXG4qIEByZXR1cm5zIEEgY29tYmluZWQgYWJvcnQgc2lnbmFsIGFuZCBhIGRpc3Bvc2UgZnVuY3Rpb24gdG8gcmVtb3ZlIHRoZSBhYm9ydCBsaXN0ZW5lciBpZiB1bnVzZWQuXG4qL1xuZnVuY3Rpb24gY29tYmluZUFib3J0U2lnbmFscyguLi54KSB7XG5cdGNvbnN0IHNpZ25hbHMgPSBbLi4ubmV3IFNldCh4LmZpbHRlcihCb29sZWFuKSldO1xuXHRpZiAoc2lnbmFscy5sZW5ndGggPT09IDApIHJldHVybiB7XG5cdFx0c2lnbmFsOiB2b2lkIDAsXG5cdFx0ZGlzcG9zZTogdm9pZCAwXG5cdH07XG5cdGlmIChzaWduYWxzLmxlbmd0aCA9PT0gMSkgcmV0dXJuIHtcblx0XHRzaWduYWw6IHNpZ25hbHNbMF0sXG5cdFx0ZGlzcG9zZTogdm9pZCAwXG5cdH07XG5cdGNvbnN0IGNvbWJpbmVkQ29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcblx0Y29uc3QgbGlzdGVuZXIgPSAoKSA9PiB7XG5cdFx0Y29uc3QgcmVhc29uID0gc2lnbmFscy5maW5kKChzKSA9PiBzLmFib3J0ZWQpPy5yZWFzb247XG5cdFx0Y29tYmluZWRDb250cm9sbGVyLmFib3J0KHJlYXNvbik7XG5cdFx0c2lnbmFscy5mb3JFYWNoKChzKSA9PiBzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBsaXN0ZW5lcikpO1xuXHR9O1xuXHRzaWduYWxzLmZvckVhY2goKHMpID0+IHMuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsIGxpc3RlbmVyLCB7IG9uY2U6IHRydWUgfSkpO1xuXHRjb25zdCBoYXNBbHJlYWR5QWJvcnRlZFNpZ25hbCA9IHNpZ25hbHMuZmluZCgocykgPT4gcy5hYm9ydGVkKTtcblx0aWYgKGhhc0FscmVhZHlBYm9ydGVkU2lnbmFsKSBjb21iaW5lZENvbnRyb2xsZXIuYWJvcnQoaGFzQWxyZWFkeUFib3J0ZWRTaWduYWwucmVhc29uKTtcblx0cmV0dXJuIHtcblx0XHRzaWduYWw6IGNvbWJpbmVkQ29udHJvbGxlci5zaWduYWwsXG5cdFx0ZGlzcG9zZTogKCkgPT4ge1xuXHRcdFx0c2lnbmFscy5mb3JFYWNoKChzKSA9PiBzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBsaXN0ZW5lcikpO1xuXHRcdH1cblx0fTtcbn1cbi8qKlxuKiBDb21iaW5lIG11bHRpcGxlIGNhbGxiYWNrcyBpbnRvIGEgc2luZ2xlIGNhbGxiYWNrLlxuKiBAcGFyYW0gY2FsbGJhY2sxIC0gVGhlIGZpcnN0IGNhbGxiYWNrIHRvIGNvbWJpbmUuXG4qIEBwYXJhbSBjYWxsYmFjazIgLSBUaGUgc2Vjb25kIGNhbGxiYWNrIHRvIGNvbWJpbmUuXG4qIEByZXR1cm5zIEEgc2luZ2xlIGNhbGxiYWNrIHRoYXQgaXMgYSBjb21iaW5hdGlvbiBvZiB0aGUgaW5wdXQgY2FsbGJhY2tzLlxuKi9cbmNvbnN0IGNvbWJpbmVDYWxsYmFja3MgPSAoY2FsbGJhY2sxLCBjYWxsYmFjazIpID0+IHtcblx0aWYgKCFjYWxsYmFjazEgJiYgIWNhbGxiYWNrMikgcmV0dXJuIHZvaWQgMDtcblx0aWYgKCFjYWxsYmFjazEpIHJldHVybiBjYWxsYmFjazI7XG5cdGlmICghY2FsbGJhY2syKSByZXR1cm4gY2FsbGJhY2sxO1xuXHRpZiAoQXJyYXkuaXNBcnJheShjYWxsYmFjazEpICYmIEFycmF5LmlzQXJyYXkoY2FsbGJhY2syKSkgcmV0dXJuIFsuLi5jYWxsYmFjazEsIC4uLmNhbGxiYWNrMl07XG5cdGlmIChBcnJheS5pc0FycmF5KGNhbGxiYWNrMSkpIHJldHVybiBbLi4uY2FsbGJhY2sxLCBjYWxsYmFjazJdO1xuXHRpZiAoQXJyYXkuaXNBcnJheShjYWxsYmFjazIpKSByZXR1cm4gW2NhbGxiYWNrMSwgLi4uY2FsbGJhY2syXTtcblx0cmV0dXJuIFtjYWxsYmFjazEsIGNhbGxiYWNrMl07XG59O1xuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IF9jb2VyY2VUb0RpY3QsIGNvbWJpbmVBYm9ydFNpZ25hbHMsIGNvbWJpbmVDYWxsYmFja3MsIGdldE5ld0NoYW5uZWxWZXJzaW9ucywgZ2V0TnVsbENoYW5uZWxWZXJzaW9uLCBwYXRjaENoZWNrcG9pbnRNYXAsIHBhdGNoQ29uZmlndXJhYmxlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/utils/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/utils/subgraph.js":
/*!*********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/utils/subgraph.js ***!
  \*********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   findSubgraphPregel: () => (/* binding */ findSubgraphPregel),\n/* harmony export */   isPregelLike: () => (/* binding */ isPregelLike)\n/* harmony export */ });\n//#region src/pregel/utils/subgraph.ts\nfunction isRunnableSequence(x) {\n\treturn \"steps\" in x && Array.isArray(x.steps);\n}\nfunction isPregelLike(x) {\n\treturn \"lg_is_pregel\" in x && x.lg_is_pregel === true;\n}\nfunction findSubgraphPregel(candidate) {\n\tconst candidates = [candidate];\n\tfor (const candidate$1 of candidates) if (isPregelLike(candidate$1)) return candidate$1;\n\telse if (isRunnableSequence(candidate$1)) candidates.push(...candidate$1.steps);\n\treturn void 0;\n}\n\n//#endregion\n\n//# sourceMappingURL=subgraph.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L3ByZWdlbC91dGlscy9zdWJncmFwaC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQzRDO0FBQzVDIiwic291cmNlcyI6WyIvVXNlcnMvam9iL0Rlc2t0b3AvcHJvamVjdF94L3Byb2plY3Qtc3FsLWFnZW50L3NlcnZpY2VzL2Zyb250ZW5kL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2xhbmdncmFwaEAxLjAuMV9AbGFuZ2NoYWluK2NvcmVAMS4wLjJfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEA0LjEuMTJfX19fZWZhNGU4Zjg2NTU4ZTVkMjllYmRlYzNkMmYwMDRlZDkvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vbGFuZ2dyYXBoL2Rpc3QvcHJlZ2VsL3V0aWxzL3N1YmdyYXBoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vI3JlZ2lvbiBzcmMvcHJlZ2VsL3V0aWxzL3N1YmdyYXBoLnRzXG5mdW5jdGlvbiBpc1J1bm5hYmxlU2VxdWVuY2UoeCkge1xuXHRyZXR1cm4gXCJzdGVwc1wiIGluIHggJiYgQXJyYXkuaXNBcnJheSh4LnN0ZXBzKTtcbn1cbmZ1bmN0aW9uIGlzUHJlZ2VsTGlrZSh4KSB7XG5cdHJldHVybiBcImxnX2lzX3ByZWdlbFwiIGluIHggJiYgeC5sZ19pc19wcmVnZWwgPT09IHRydWU7XG59XG5mdW5jdGlvbiBmaW5kU3ViZ3JhcGhQcmVnZWwoY2FuZGlkYXRlKSB7XG5cdGNvbnN0IGNhbmRpZGF0ZXMgPSBbY2FuZGlkYXRlXTtcblx0Zm9yIChjb25zdCBjYW5kaWRhdGUkMSBvZiBjYW5kaWRhdGVzKSBpZiAoaXNQcmVnZWxMaWtlKGNhbmRpZGF0ZSQxKSkgcmV0dXJuIGNhbmRpZGF0ZSQxO1xuXHRlbHNlIGlmIChpc1J1bm5hYmxlU2VxdWVuY2UoY2FuZGlkYXRlJDEpKSBjYW5kaWRhdGVzLnB1c2goLi4uY2FuZGlkYXRlJDEuc3RlcHMpO1xuXHRyZXR1cm4gdm9pZCAwO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IGZpbmRTdWJncmFwaFByZWdlbCwgaXNQcmVnZWxMaWtlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJncmFwaC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/utils/subgraph.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/validate.js":
/*!***************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/validate.js ***!
  \***************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   validateGraph: () => (/* binding */ validateGraph),\n/* harmony export */   validateKeys: () => (/* binding */ validateKeys)\n/* harmony export */ });\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/constants.js\");\n/* harmony import */ var _read_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./read.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/read.js\");\n\n\n\n//#region src/pregel/validate.ts\nvar GraphValidationError = class extends Error {\n\tconstructor(message) {\n\t\tsuper(message);\n\t\tthis.name = \"GraphValidationError\";\n\t}\n};\nfunction validateGraph({ nodes, channels, inputChannels, outputChannels, streamChannels, interruptAfterNodes, interruptBeforeNodes }) {\n\tif (!channels) throw new GraphValidationError(\"Channels not provided\");\n\tconst subscribedChannels = /* @__PURE__ */ new Set();\n\tconst allOutputChannels = /* @__PURE__ */ new Set();\n\tfor (const [name, node] of Object.entries(nodes)) {\n\t\tif (name === _constants_js__WEBPACK_IMPORTED_MODULE_0__.INTERRUPT) throw new GraphValidationError(`\"Node name ${_constants_js__WEBPACK_IMPORTED_MODULE_0__.INTERRUPT} is reserved\"`);\n\t\tif (node.constructor === _read_js__WEBPACK_IMPORTED_MODULE_1__.PregelNode) node.triggers.forEach((trigger) => subscribedChannels.add(trigger));\n\t\telse throw new GraphValidationError(`Invalid node type ${typeof node}, expected PregelNode`);\n\t}\n\tfor (const chan of subscribedChannels) if (!(chan in channels)) throw new GraphValidationError(`Subscribed channel '${String(chan)}' not in channels`);\n\tif (!Array.isArray(inputChannels)) {\n\t\tif (!subscribedChannels.has(inputChannels)) throw new GraphValidationError(`Input channel ${String(inputChannels)} is not subscribed to by any node`);\n\t} else if (inputChannels.every((channel) => !subscribedChannels.has(channel))) throw new GraphValidationError(`None of the input channels ${inputChannels} are subscribed to by any node`);\n\tif (!Array.isArray(outputChannels)) allOutputChannels.add(outputChannels);\n\telse outputChannels.forEach((chan) => allOutputChannels.add(chan));\n\tif (streamChannels && !Array.isArray(streamChannels)) allOutputChannels.add(streamChannels);\n\telse if (Array.isArray(streamChannels)) streamChannels.forEach((chan) => allOutputChannels.add(chan));\n\tfor (const chan of allOutputChannels) if (!(chan in channels)) throw new GraphValidationError(`Output channel '${String(chan)}' not in channels`);\n\tif (interruptAfterNodes && interruptAfterNodes !== \"*\") {\n\t\tfor (const node of interruptAfterNodes) if (!(node in nodes)) throw new GraphValidationError(`Node ${String(node)} not in nodes`);\n\t}\n\tif (interruptBeforeNodes && interruptBeforeNodes !== \"*\") {\n\t\tfor (const node of interruptBeforeNodes) if (!(node in nodes)) throw new GraphValidationError(`Node ${String(node)} not in nodes`);\n\t}\n}\nfunction validateKeys(keys, channels) {\n\tif (Array.isArray(keys)) {\n\t\tfor (const key of keys) if (!(key in channels)) throw new Error(`Key ${String(key)} not found in channels`);\n\t} else if (!(keys in channels)) throw new Error(`Key ${String(keys)} not found in channels`);\n}\n\n//#endregion\n\n//# sourceMappingURL=validate.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L3ByZWdlbC92YWxpZGF0ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTRDO0FBQ0w7O0FBRXZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDJHQUEyRztBQUNwSTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsb0RBQVMsK0NBQStDLG9EQUFTLEVBQUU7QUFDbEYsMkJBQTJCLGdEQUFVO0FBQ3JDLDJEQUEyRCxZQUFZO0FBQ3ZFO0FBQ0EsdUhBQXVILGFBQWE7QUFDcEk7QUFDQSw4RkFBOEYsdUJBQXVCO0FBQ3JILEdBQUcsMElBQTBJLGVBQWU7QUFDNUo7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrSEFBa0gsYUFBYTtBQUMvSDtBQUNBLHVHQUF1RyxjQUFjO0FBQ3JIO0FBQ0E7QUFDQSx3R0FBd0csY0FBYztBQUN0SDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlFQUF5RSxhQUFhO0FBQ3RGLEdBQUcscURBQXFELGNBQWM7QUFDdEU7O0FBRUE7QUFDdUM7QUFDdkMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2IvRGVza3RvcC9wcm9qZWN0X3gvcHJvamVjdC1zcWwtYWdlbnQvc2VydmljZXMvZnJvbnRlbmQvbm9kZV9tb2R1bGVzLy5wbnBtL0BsYW5nY2hhaW4rbGFuZ2dyYXBoQDEuMC4xX0BsYW5nY2hhaW4rY29yZUAxLjAuMl9vcGVuYWlANC4xMDAuMF93c0A4LjE4LjJfem9kQDQuMS4xMl9fX19lZmE0ZThmODY1NThlNWQyOWViZGVjM2QyZjAwNGVkOS9ub2RlX21vZHVsZXMvQGxhbmdjaGFpbi9sYW5nZ3JhcGgvZGlzdC9wcmVnZWwvdmFsaWRhdGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSU5URVJSVVBUIH0gZnJvbSBcIi4uL2NvbnN0YW50cy5qc1wiO1xuaW1wb3J0IHsgUHJlZ2VsTm9kZSB9IGZyb20gXCIuL3JlYWQuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9wcmVnZWwvdmFsaWRhdGUudHNcbnZhciBHcmFwaFZhbGlkYXRpb25FcnJvciA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuXHRjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG5cdFx0c3VwZXIobWVzc2FnZSk7XG5cdFx0dGhpcy5uYW1lID0gXCJHcmFwaFZhbGlkYXRpb25FcnJvclwiO1xuXHR9XG59O1xuZnVuY3Rpb24gdmFsaWRhdGVHcmFwaCh7IG5vZGVzLCBjaGFubmVscywgaW5wdXRDaGFubmVscywgb3V0cHV0Q2hhbm5lbHMsIHN0cmVhbUNoYW5uZWxzLCBpbnRlcnJ1cHRBZnRlck5vZGVzLCBpbnRlcnJ1cHRCZWZvcmVOb2RlcyB9KSB7XG5cdGlmICghY2hhbm5lbHMpIHRocm93IG5ldyBHcmFwaFZhbGlkYXRpb25FcnJvcihcIkNoYW5uZWxzIG5vdCBwcm92aWRlZFwiKTtcblx0Y29uc3Qgc3Vic2NyaWJlZENoYW5uZWxzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcblx0Y29uc3QgYWxsT3V0cHV0Q2hhbm5lbHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuXHRmb3IgKGNvbnN0IFtuYW1lLCBub2RlXSBvZiBPYmplY3QuZW50cmllcyhub2RlcykpIHtcblx0XHRpZiAobmFtZSA9PT0gSU5URVJSVVBUKSB0aHJvdyBuZXcgR3JhcGhWYWxpZGF0aW9uRXJyb3IoYFwiTm9kZSBuYW1lICR7SU5URVJSVVBUfSBpcyByZXNlcnZlZFwiYCk7XG5cdFx0aWYgKG5vZGUuY29uc3RydWN0b3IgPT09IFByZWdlbE5vZGUpIG5vZGUudHJpZ2dlcnMuZm9yRWFjaCgodHJpZ2dlcikgPT4gc3Vic2NyaWJlZENoYW5uZWxzLmFkZCh0cmlnZ2VyKSk7XG5cdFx0ZWxzZSB0aHJvdyBuZXcgR3JhcGhWYWxpZGF0aW9uRXJyb3IoYEludmFsaWQgbm9kZSB0eXBlICR7dHlwZW9mIG5vZGV9LCBleHBlY3RlZCBQcmVnZWxOb2RlYCk7XG5cdH1cblx0Zm9yIChjb25zdCBjaGFuIG9mIHN1YnNjcmliZWRDaGFubmVscykgaWYgKCEoY2hhbiBpbiBjaGFubmVscykpIHRocm93IG5ldyBHcmFwaFZhbGlkYXRpb25FcnJvcihgU3Vic2NyaWJlZCBjaGFubmVsICcke1N0cmluZyhjaGFuKX0nIG5vdCBpbiBjaGFubmVsc2ApO1xuXHRpZiAoIUFycmF5LmlzQXJyYXkoaW5wdXRDaGFubmVscykpIHtcblx0XHRpZiAoIXN1YnNjcmliZWRDaGFubmVscy5oYXMoaW5wdXRDaGFubmVscykpIHRocm93IG5ldyBHcmFwaFZhbGlkYXRpb25FcnJvcihgSW5wdXQgY2hhbm5lbCAke1N0cmluZyhpbnB1dENoYW5uZWxzKX0gaXMgbm90IHN1YnNjcmliZWQgdG8gYnkgYW55IG5vZGVgKTtcblx0fSBlbHNlIGlmIChpbnB1dENoYW5uZWxzLmV2ZXJ5KChjaGFubmVsKSA9PiAhc3Vic2NyaWJlZENoYW5uZWxzLmhhcyhjaGFubmVsKSkpIHRocm93IG5ldyBHcmFwaFZhbGlkYXRpb25FcnJvcihgTm9uZSBvZiB0aGUgaW5wdXQgY2hhbm5lbHMgJHtpbnB1dENoYW5uZWxzfSBhcmUgc3Vic2NyaWJlZCB0byBieSBhbnkgbm9kZWApO1xuXHRpZiAoIUFycmF5LmlzQXJyYXkob3V0cHV0Q2hhbm5lbHMpKSBhbGxPdXRwdXRDaGFubmVscy5hZGQob3V0cHV0Q2hhbm5lbHMpO1xuXHRlbHNlIG91dHB1dENoYW5uZWxzLmZvckVhY2goKGNoYW4pID0+IGFsbE91dHB1dENoYW5uZWxzLmFkZChjaGFuKSk7XG5cdGlmIChzdHJlYW1DaGFubmVscyAmJiAhQXJyYXkuaXNBcnJheShzdHJlYW1DaGFubmVscykpIGFsbE91dHB1dENoYW5uZWxzLmFkZChzdHJlYW1DaGFubmVscyk7XG5cdGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoc3RyZWFtQ2hhbm5lbHMpKSBzdHJlYW1DaGFubmVscy5mb3JFYWNoKChjaGFuKSA9PiBhbGxPdXRwdXRDaGFubmVscy5hZGQoY2hhbikpO1xuXHRmb3IgKGNvbnN0IGNoYW4gb2YgYWxsT3V0cHV0Q2hhbm5lbHMpIGlmICghKGNoYW4gaW4gY2hhbm5lbHMpKSB0aHJvdyBuZXcgR3JhcGhWYWxpZGF0aW9uRXJyb3IoYE91dHB1dCBjaGFubmVsICcke1N0cmluZyhjaGFuKX0nIG5vdCBpbiBjaGFubmVsc2ApO1xuXHRpZiAoaW50ZXJydXB0QWZ0ZXJOb2RlcyAmJiBpbnRlcnJ1cHRBZnRlck5vZGVzICE9PSBcIipcIikge1xuXHRcdGZvciAoY29uc3Qgbm9kZSBvZiBpbnRlcnJ1cHRBZnRlck5vZGVzKSBpZiAoIShub2RlIGluIG5vZGVzKSkgdGhyb3cgbmV3IEdyYXBoVmFsaWRhdGlvbkVycm9yKGBOb2RlICR7U3RyaW5nKG5vZGUpfSBub3QgaW4gbm9kZXNgKTtcblx0fVxuXHRpZiAoaW50ZXJydXB0QmVmb3JlTm9kZXMgJiYgaW50ZXJydXB0QmVmb3JlTm9kZXMgIT09IFwiKlwiKSB7XG5cdFx0Zm9yIChjb25zdCBub2RlIG9mIGludGVycnVwdEJlZm9yZU5vZGVzKSBpZiAoIShub2RlIGluIG5vZGVzKSkgdGhyb3cgbmV3IEdyYXBoVmFsaWRhdGlvbkVycm9yKGBOb2RlICR7U3RyaW5nKG5vZGUpfSBub3QgaW4gbm9kZXNgKTtcblx0fVxufVxuZnVuY3Rpb24gdmFsaWRhdGVLZXlzKGtleXMsIGNoYW5uZWxzKSB7XG5cdGlmIChBcnJheS5pc0FycmF5KGtleXMpKSB7XG5cdFx0Zm9yIChjb25zdCBrZXkgb2Yga2V5cykgaWYgKCEoa2V5IGluIGNoYW5uZWxzKSkgdGhyb3cgbmV3IEVycm9yKGBLZXkgJHtTdHJpbmcoa2V5KX0gbm90IGZvdW5kIGluIGNoYW5uZWxzYCk7XG5cdH0gZWxzZSBpZiAoIShrZXlzIGluIGNoYW5uZWxzKSkgdGhyb3cgbmV3IEVycm9yKGBLZXkgJHtTdHJpbmcoa2V5cyl9IG5vdCBmb3VuZCBpbiBjaGFubmVsc2ApO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IHZhbGlkYXRlR3JhcGgsIHZhbGlkYXRlS2V5cyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmFsaWRhdGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/validate.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/write.js":
/*!************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/write.js ***!
  \************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChannelWrite: () => (/* binding */ ChannelWrite),\n/* harmony export */   PASSTHROUGH: () => (/* binding */ PASSTHROUGH)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errors.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/errors.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/constants.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/utils.js\");\n/* harmony import */ var _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @langchain/core/runnables */ \"(ssr)/./node_modules/.pnpm/@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12_/node_modules/@langchain/core/dist/runnables/index.js\");\n\n\n\n\n\n//#region src/pregel/write.ts\nconst SKIP_WRITE = { [Symbol.for(\"LG_SKIP_WRITE\")]: true };\nfunction _isSkipWrite(x) {\n\treturn typeof x === \"object\" && x?.[Symbol.for(\"LG_SKIP_WRITE\")] !== void 0;\n}\nconst PASSTHROUGH = { [Symbol.for(\"LG_PASSTHROUGH\")]: true };\nfunction _isPassthrough(x) {\n\treturn typeof x === \"object\" && x?.[Symbol.for(\"LG_PASSTHROUGH\")] !== void 0;\n}\nconst IS_WRITER = Symbol(\"IS_WRITER\");\n/**\n* Mapping of write channels to Runnables that return the value to be written,\n* or None to skip writing.\n*/\nvar ChannelWrite = class ChannelWrite extends _utils_js__WEBPACK_IMPORTED_MODULE_2__.RunnableCallable {\n\twrites;\n\tconstructor(writes, tags) {\n\t\tconst name = `ChannelWrite<${writes.map((packet) => {\n\t\t\tif ((0,_constants_js__WEBPACK_IMPORTED_MODULE_1__._isSend)(packet)) return packet.node;\n\t\t\telse if (\"channel\" in packet) return packet.channel;\n\t\t\treturn \"...\";\n\t\t}).join(\",\")}>`;\n\t\tsuper({\n\t\t\twrites,\n\t\t\tname,\n\t\t\ttags,\n\t\t\tfunc: async (input, config) => {\n\t\t\t\treturn this._write(input, config ?? {});\n\t\t\t}\n\t\t});\n\t\tthis.writes = writes;\n\t}\n\tasync _write(input, config) {\n\t\tconst writes = this.writes.map((write) => {\n\t\t\tif (_isChannelWriteTupleEntry(write) && _isPassthrough(write.value)) return {\n\t\t\t\tmapper: write.mapper,\n\t\t\t\tvalue: input\n\t\t\t};\n\t\t\telse if (_isChannelWriteEntry(write) && _isPassthrough(write.value)) return {\n\t\t\t\tchannel: write.channel,\n\t\t\t\tvalue: input,\n\t\t\t\tskipNone: write.skipNone,\n\t\t\t\tmapper: write.mapper\n\t\t\t};\n\t\t\telse return write;\n\t\t});\n\t\tawait ChannelWrite.doWrite(config, writes);\n\t\treturn input;\n\t}\n\tstatic async doWrite(config, writes) {\n\t\tfor (const w of writes) {\n\t\t\tif (_isChannelWriteEntry(w)) {\n\t\t\t\tif (w.channel === _constants_js__WEBPACK_IMPORTED_MODULE_1__.TASKS) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.InvalidUpdateError(\"Cannot write to the reserved channel TASKS\");\n\t\t\t\tif (_isPassthrough(w.value)) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.InvalidUpdateError(\"PASSTHROUGH value must be replaced\");\n\t\t\t}\n\t\t\tif (_isChannelWriteTupleEntry(w)) {\n\t\t\t\tif (_isPassthrough(w.value)) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.InvalidUpdateError(\"PASSTHROUGH value must be replaced\");\n\t\t\t}\n\t\t}\n\t\tconst writeEntries = [];\n\t\tfor (const w of writes) if ((0,_constants_js__WEBPACK_IMPORTED_MODULE_1__._isSend)(w)) writeEntries.push([_constants_js__WEBPACK_IMPORTED_MODULE_1__.TASKS, w]);\n\t\telse if (_isChannelWriteTupleEntry(w)) {\n\t\t\tconst mappedResult = await w.mapper.invoke(w.value, config);\n\t\t\tif (mappedResult != null && mappedResult.length > 0) writeEntries.push(...mappedResult);\n\t\t} else if (_isChannelWriteEntry(w)) {\n\t\t\tconst mappedValue = w.mapper !== void 0 ? await w.mapper.invoke(w.value, config) : w.value;\n\t\t\tif (_isSkipWrite(mappedValue)) continue;\n\t\t\tif (w.skipNone && mappedValue === void 0) continue;\n\t\t\twriteEntries.push([w.channel, mappedValue]);\n\t\t} else throw new Error(`Invalid write entry: ${JSON.stringify(w)}`);\n\t\tconst write = config.configurable?.[_constants_js__WEBPACK_IMPORTED_MODULE_1__.CONFIG_KEY_SEND];\n\t\twrite(writeEntries);\n\t}\n\tstatic isWriter(runnable) {\n\t\treturn runnable instanceof ChannelWrite || IS_WRITER in runnable && !!runnable[IS_WRITER];\n\t}\n\tstatic registerWriter(runnable) {\n\t\treturn Object.defineProperty(runnable, IS_WRITER, { value: true });\n\t}\n};\nfunction _isChannelWriteEntry(x) {\n\treturn x !== void 0 && typeof x.channel === \"string\";\n}\nfunction _isChannelWriteTupleEntry(x) {\n\treturn x !== void 0 && !_isChannelWriteEntry(x) && _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_3__.Runnable.isRunnable(x.mapper);\n}\n\n//#endregion\n\n//# sourceMappingURL=write.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L3ByZWdlbC93cml0ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBa0Q7QUFDZ0I7QUFDbkI7QUFDTTs7QUFFckQ7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsdURBQWdCO0FBQzlEO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0IsT0FBTyxzREFBTztBQUNkO0FBQ0E7QUFDQSxHQUFHLFlBQVk7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsZ0RBQUssWUFBWSwwREFBa0I7QUFDekQsMkNBQTJDLDBEQUFrQjtBQUM3RDtBQUNBO0FBQ0EsMkNBQTJDLDBEQUFrQjtBQUM3RDtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsc0RBQU8sd0JBQXdCLGdEQUFLO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksNkNBQTZDLGtCQUFrQjtBQUNuRSxzQ0FBc0MsMERBQWU7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELGFBQWE7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELCtEQUFRO0FBQzVEOztBQUVBO0FBQ3FDO0FBQ3JDIiwic291cmNlcyI6WyIvVXNlcnMvam9iL0Rlc2t0b3AvcHJvamVjdF94L3Byb2plY3Qtc3FsLWFnZW50L3NlcnZpY2VzL2Zyb250ZW5kL25vZGVfbW9kdWxlcy8ucG5wbS9AbGFuZ2NoYWluK2xhbmdncmFwaEAxLjAuMV9AbGFuZ2NoYWluK2NvcmVAMS4wLjJfb3BlbmFpQDQuMTAwLjBfd3NAOC4xOC4yX3pvZEA0LjEuMTJfX19fZWZhNGU4Zjg2NTU4ZTVkMjllYmRlYzNkMmYwMDRlZDkvbm9kZV9tb2R1bGVzL0BsYW5nY2hhaW4vbGFuZ2dyYXBoL2Rpc3QvcHJlZ2VsL3dyaXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEludmFsaWRVcGRhdGVFcnJvciB9IGZyb20gXCIuLi9lcnJvcnMuanNcIjtcbmltcG9ydCB7IENPTkZJR19LRVlfU0VORCwgVEFTS1MsIF9pc1NlbmQgfSBmcm9tIFwiLi4vY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgeyBSdW5uYWJsZUNhbGxhYmxlIH0gZnJvbSBcIi4uL3V0aWxzLmpzXCI7XG5pbXBvcnQgeyBSdW5uYWJsZSB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvcnVubmFibGVzXCI7XG5cbi8vI3JlZ2lvbiBzcmMvcHJlZ2VsL3dyaXRlLnRzXG5jb25zdCBTS0lQX1dSSVRFID0geyBbU3ltYm9sLmZvcihcIkxHX1NLSVBfV1JJVEVcIildOiB0cnVlIH07XG5mdW5jdGlvbiBfaXNTa2lwV3JpdGUoeCkge1xuXHRyZXR1cm4gdHlwZW9mIHggPT09IFwib2JqZWN0XCIgJiYgeD8uW1N5bWJvbC5mb3IoXCJMR19TS0lQX1dSSVRFXCIpXSAhPT0gdm9pZCAwO1xufVxuY29uc3QgUEFTU1RIUk9VR0ggPSB7IFtTeW1ib2wuZm9yKFwiTEdfUEFTU1RIUk9VR0hcIildOiB0cnVlIH07XG5mdW5jdGlvbiBfaXNQYXNzdGhyb3VnaCh4KSB7XG5cdHJldHVybiB0eXBlb2YgeCA9PT0gXCJvYmplY3RcIiAmJiB4Py5bU3ltYm9sLmZvcihcIkxHX1BBU1NUSFJPVUdIXCIpXSAhPT0gdm9pZCAwO1xufVxuY29uc3QgSVNfV1JJVEVSID0gU3ltYm9sKFwiSVNfV1JJVEVSXCIpO1xuLyoqXG4qIE1hcHBpbmcgb2Ygd3JpdGUgY2hhbm5lbHMgdG8gUnVubmFibGVzIHRoYXQgcmV0dXJuIHRoZSB2YWx1ZSB0byBiZSB3cml0dGVuLFxuKiBvciBOb25lIHRvIHNraXAgd3JpdGluZy5cbiovXG52YXIgQ2hhbm5lbFdyaXRlID0gY2xhc3MgQ2hhbm5lbFdyaXRlIGV4dGVuZHMgUnVubmFibGVDYWxsYWJsZSB7XG5cdHdyaXRlcztcblx0Y29uc3RydWN0b3Iod3JpdGVzLCB0YWdzKSB7XG5cdFx0Y29uc3QgbmFtZSA9IGBDaGFubmVsV3JpdGU8JHt3cml0ZXMubWFwKChwYWNrZXQpID0+IHtcblx0XHRcdGlmIChfaXNTZW5kKHBhY2tldCkpIHJldHVybiBwYWNrZXQubm9kZTtcblx0XHRcdGVsc2UgaWYgKFwiY2hhbm5lbFwiIGluIHBhY2tldCkgcmV0dXJuIHBhY2tldC5jaGFubmVsO1xuXHRcdFx0cmV0dXJuIFwiLi4uXCI7XG5cdFx0fSkuam9pbihcIixcIil9PmA7XG5cdFx0c3VwZXIoe1xuXHRcdFx0d3JpdGVzLFxuXHRcdFx0bmFtZSxcblx0XHRcdHRhZ3MsXG5cdFx0XHRmdW5jOiBhc3luYyAoaW5wdXQsIGNvbmZpZykgPT4ge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5fd3JpdGUoaW5wdXQsIGNvbmZpZyA/PyB7fSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0dGhpcy53cml0ZXMgPSB3cml0ZXM7XG5cdH1cblx0YXN5bmMgX3dyaXRlKGlucHV0LCBjb25maWcpIHtcblx0XHRjb25zdCB3cml0ZXMgPSB0aGlzLndyaXRlcy5tYXAoKHdyaXRlKSA9PiB7XG5cdFx0XHRpZiAoX2lzQ2hhbm5lbFdyaXRlVHVwbGVFbnRyeSh3cml0ZSkgJiYgX2lzUGFzc3Rocm91Z2god3JpdGUudmFsdWUpKSByZXR1cm4ge1xuXHRcdFx0XHRtYXBwZXI6IHdyaXRlLm1hcHBlcixcblx0XHRcdFx0dmFsdWU6IGlucHV0XG5cdFx0XHR9O1xuXHRcdFx0ZWxzZSBpZiAoX2lzQ2hhbm5lbFdyaXRlRW50cnkod3JpdGUpICYmIF9pc1Bhc3N0aHJvdWdoKHdyaXRlLnZhbHVlKSkgcmV0dXJuIHtcblx0XHRcdFx0Y2hhbm5lbDogd3JpdGUuY2hhbm5lbCxcblx0XHRcdFx0dmFsdWU6IGlucHV0LFxuXHRcdFx0XHRza2lwTm9uZTogd3JpdGUuc2tpcE5vbmUsXG5cdFx0XHRcdG1hcHBlcjogd3JpdGUubWFwcGVyXG5cdFx0XHR9O1xuXHRcdFx0ZWxzZSByZXR1cm4gd3JpdGU7XG5cdFx0fSk7XG5cdFx0YXdhaXQgQ2hhbm5lbFdyaXRlLmRvV3JpdGUoY29uZmlnLCB3cml0ZXMpO1xuXHRcdHJldHVybiBpbnB1dDtcblx0fVxuXHRzdGF0aWMgYXN5bmMgZG9Xcml0ZShjb25maWcsIHdyaXRlcykge1xuXHRcdGZvciAoY29uc3QgdyBvZiB3cml0ZXMpIHtcblx0XHRcdGlmIChfaXNDaGFubmVsV3JpdGVFbnRyeSh3KSkge1xuXHRcdFx0XHRpZiAody5jaGFubmVsID09PSBUQVNLUykgdGhyb3cgbmV3IEludmFsaWRVcGRhdGVFcnJvcihcIkNhbm5vdCB3cml0ZSB0byB0aGUgcmVzZXJ2ZWQgY2hhbm5lbCBUQVNLU1wiKTtcblx0XHRcdFx0aWYgKF9pc1Bhc3N0aHJvdWdoKHcudmFsdWUpKSB0aHJvdyBuZXcgSW52YWxpZFVwZGF0ZUVycm9yKFwiUEFTU1RIUk9VR0ggdmFsdWUgbXVzdCBiZSByZXBsYWNlZFwiKTtcblx0XHRcdH1cblx0XHRcdGlmIChfaXNDaGFubmVsV3JpdGVUdXBsZUVudHJ5KHcpKSB7XG5cdFx0XHRcdGlmIChfaXNQYXNzdGhyb3VnaCh3LnZhbHVlKSkgdGhyb3cgbmV3IEludmFsaWRVcGRhdGVFcnJvcihcIlBBU1NUSFJPVUdIIHZhbHVlIG11c3QgYmUgcmVwbGFjZWRcIik7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGNvbnN0IHdyaXRlRW50cmllcyA9IFtdO1xuXHRcdGZvciAoY29uc3QgdyBvZiB3cml0ZXMpIGlmIChfaXNTZW5kKHcpKSB3cml0ZUVudHJpZXMucHVzaChbVEFTS1MsIHddKTtcblx0XHRlbHNlIGlmIChfaXNDaGFubmVsV3JpdGVUdXBsZUVudHJ5KHcpKSB7XG5cdFx0XHRjb25zdCBtYXBwZWRSZXN1bHQgPSBhd2FpdCB3Lm1hcHBlci5pbnZva2Uody52YWx1ZSwgY29uZmlnKTtcblx0XHRcdGlmIChtYXBwZWRSZXN1bHQgIT0gbnVsbCAmJiBtYXBwZWRSZXN1bHQubGVuZ3RoID4gMCkgd3JpdGVFbnRyaWVzLnB1c2goLi4ubWFwcGVkUmVzdWx0KTtcblx0XHR9IGVsc2UgaWYgKF9pc0NoYW5uZWxXcml0ZUVudHJ5KHcpKSB7XG5cdFx0XHRjb25zdCBtYXBwZWRWYWx1ZSA9IHcubWFwcGVyICE9PSB2b2lkIDAgPyBhd2FpdCB3Lm1hcHBlci5pbnZva2Uody52YWx1ZSwgY29uZmlnKSA6IHcudmFsdWU7XG5cdFx0XHRpZiAoX2lzU2tpcFdyaXRlKG1hcHBlZFZhbHVlKSkgY29udGludWU7XG5cdFx0XHRpZiAody5za2lwTm9uZSAmJiBtYXBwZWRWYWx1ZSA9PT0gdm9pZCAwKSBjb250aW51ZTtcblx0XHRcdHdyaXRlRW50cmllcy5wdXNoKFt3LmNoYW5uZWwsIG1hcHBlZFZhbHVlXSk7XG5cdFx0fSBlbHNlIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCB3cml0ZSBlbnRyeTogJHtKU09OLnN0cmluZ2lmeSh3KX1gKTtcblx0XHRjb25zdCB3cml0ZSA9IGNvbmZpZy5jb25maWd1cmFibGU/LltDT05GSUdfS0VZX1NFTkRdO1xuXHRcdHdyaXRlKHdyaXRlRW50cmllcyk7XG5cdH1cblx0c3RhdGljIGlzV3JpdGVyKHJ1bm5hYmxlKSB7XG5cdFx0cmV0dXJuIHJ1bm5hYmxlIGluc3RhbmNlb2YgQ2hhbm5lbFdyaXRlIHx8IElTX1dSSVRFUiBpbiBydW5uYWJsZSAmJiAhIXJ1bm5hYmxlW0lTX1dSSVRFUl07XG5cdH1cblx0c3RhdGljIHJlZ2lzdGVyV3JpdGVyKHJ1bm5hYmxlKSB7XG5cdFx0cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShydW5uYWJsZSwgSVNfV1JJVEVSLCB7IHZhbHVlOiB0cnVlIH0pO1xuXHR9XG59O1xuZnVuY3Rpb24gX2lzQ2hhbm5lbFdyaXRlRW50cnkoeCkge1xuXHRyZXR1cm4geCAhPT0gdm9pZCAwICYmIHR5cGVvZiB4LmNoYW5uZWwgPT09IFwic3RyaW5nXCI7XG59XG5mdW5jdGlvbiBfaXNDaGFubmVsV3JpdGVUdXBsZUVudHJ5KHgpIHtcblx0cmV0dXJuIHggIT09IHZvaWQgMCAmJiAhX2lzQ2hhbm5lbFdyaXRlRW50cnkoeCkgJiYgUnVubmFibGUuaXNSdW5uYWJsZSh4Lm1hcHBlcik7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgQ2hhbm5lbFdyaXRlLCBQQVNTVEhST1VHSCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d3JpdGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/write.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/utils.js":
/*!*****************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/utils.js ***!
  \*****************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RunnableCallable: () => (/* binding */ RunnableCallable),\n/* harmony export */   gatherIterator: () => (/* binding */ gatherIterator),\n/* harmony export */   gatherIteratorSync: () => (/* binding */ gatherIteratorSync),\n/* harmony export */   isAsyncGeneratorFunction: () => (/* binding */ isAsyncGeneratorFunction),\n/* harmony export */   isGeneratorFunction: () => (/* binding */ isGeneratorFunction),\n/* harmony export */   patchConfigurable: () => (/* binding */ patchConfigurable),\n/* harmony export */   prefixGenerator: () => (/* binding */ prefixGenerator)\n/* harmony export */ });\n/* harmony import */ var _pregel_utils_config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pregel/utils/config.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/pregel/utils/config.js\");\n/* harmony import */ var _langchain_core_singletons__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @langchain/core/singletons */ \"(ssr)/./node_modules/.pnpm/@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12_/node_modules/@langchain/core/dist/singletons/index.js\");\n/* harmony import */ var _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @langchain/core/runnables */ \"(ssr)/./node_modules/.pnpm/@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12_/node_modules/@langchain/core/dist/runnables/index.js\");\n\n\n\n\n//#region src/utils.ts\nvar RunnableCallable = class extends _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_2__.Runnable {\n\tlc_namespace = [\"langgraph\"];\n\tfunc;\n\ttags;\n\tconfig;\n\ttrace = true;\n\trecurse = true;\n\tconstructor(fields) {\n\t\tsuper();\n\t\tthis.name = fields.name ?? fields.func.name;\n\t\tthis.func = fields.func;\n\t\tthis.config = fields.tags ? { tags: fields.tags } : void 0;\n\t\tthis.trace = fields.trace ?? this.trace;\n\t\tthis.recurse = fields.recurse ?? this.recurse;\n\t}\n\tasync _tracedInvoke(input, config, runManager) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst childConfig = (0,_langchain_core_runnables__WEBPACK_IMPORTED_MODULE_2__.patchConfig)(config, { callbacks: runManager?.getChild() });\n\t\t\t_langchain_core_singletons__WEBPACK_IMPORTED_MODULE_1__.AsyncLocalStorageProviderSingleton.runWithConfig(childConfig, async () => {\n\t\t\t\ttry {\n\t\t\t\t\tconst output = await this.func(input, childConfig);\n\t\t\t\t\tresolve(output);\n\t\t\t\t} catch (e) {\n\t\t\t\t\treject(e);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\tasync invoke(input, options) {\n\t\tlet returnValue;\n\t\tconst config = (0,_pregel_utils_config_js__WEBPACK_IMPORTED_MODULE_0__.ensureLangGraphConfig)(options);\n\t\tconst mergedConfig = (0,_langchain_core_runnables__WEBPACK_IMPORTED_MODULE_2__.mergeConfigs)(this.config, config);\n\t\tif (this.trace) returnValue = await this._callWithConfig(this._tracedInvoke, input, mergedConfig);\n\t\telse returnValue = await _langchain_core_singletons__WEBPACK_IMPORTED_MODULE_1__.AsyncLocalStorageProviderSingleton.runWithConfig(mergedConfig, async () => this.func(input, mergedConfig));\n\t\tif (_langchain_core_runnables__WEBPACK_IMPORTED_MODULE_2__.Runnable.isRunnable(returnValue) && this.recurse) return await _langchain_core_singletons__WEBPACK_IMPORTED_MODULE_1__.AsyncLocalStorageProviderSingleton.runWithConfig(mergedConfig, async () => returnValue.invoke(input, mergedConfig));\n\t\treturn returnValue;\n\t}\n};\nfunction* prefixGenerator(generator, prefix) {\n\tif (prefix === void 0) yield* generator;\n\telse for (const value of generator) yield [prefix, value];\n}\nasync function gatherIterator(i) {\n\tconst out = [];\n\tfor await (const item of await i) out.push(item);\n\treturn out;\n}\nfunction gatherIteratorSync(i) {\n\tconst out = [];\n\tfor (const item of i) out.push(item);\n\treturn out;\n}\nfunction patchConfigurable(config, patch) {\n\tif (!config) return { configurable: patch };\n\telse if (!(\"configurable\" in config)) return {\n\t\t...config,\n\t\tconfigurable: patch\n\t};\n\telse return {\n\t\t...config,\n\t\tconfigurable: {\n\t\t\t...config.configurable,\n\t\t\t...patch\n\t\t}\n\t};\n}\nfunction isAsyncGeneratorFunction(val) {\n\treturn val != null && typeof val === \"function\" && val instanceof Object.getPrototypeOf(async function* () {}).constructor;\n}\nfunction isGeneratorFunction(val) {\n\treturn val != null && typeof val === \"function\" && val instanceof Object.getPrototypeOf(function* () {}).constructor;\n}\n\n//#endregion\n\n//# sourceMappingURL=utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L3V0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBaUU7QUFDZTtBQUNBOztBQUVoRjtBQUNBLHFDQUFxQywrREFBUTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxvQkFBb0I7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixzRUFBVyxXQUFXLG1DQUFtQztBQUNoRixHQUFHLDBGQUFrQztBQUNyQztBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDhFQUFxQjtBQUN0Qyx1QkFBdUIsdUVBQVk7QUFDbkM7QUFDQSwyQkFBMkIsMEZBQWtDO0FBQzdELE1BQU0sK0RBQVEsdURBQXVELDBGQUFrQztBQUN2RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4R0FBOEc7QUFDOUc7QUFDQTtBQUNBLHdHQUF3RztBQUN4Rzs7QUFFQTtBQUNtSjtBQUNuSiIsInNvdXJjZXMiOlsiL1VzZXJzL2pvYi9EZXNrdG9wL3Byb2plY3RfeC9wcm9qZWN0LXNxbC1hZ2VudC9zZXJ2aWNlcy9mcm9udGVuZC9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L3V0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGVuc3VyZUxhbmdHcmFwaENvbmZpZyB9IGZyb20gXCIuL3ByZWdlbC91dGlscy9jb25maWcuanNcIjtcbmltcG9ydCB7IEFzeW5jTG9jYWxTdG9yYWdlUHJvdmlkZXJTaW5nbGV0b24gfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3NpbmdsZXRvbnNcIjtcbmltcG9ydCB7IFJ1bm5hYmxlLCBtZXJnZUNvbmZpZ3MsIHBhdGNoQ29uZmlnIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9ydW5uYWJsZXNcIjtcblxuLy8jcmVnaW9uIHNyYy91dGlscy50c1xudmFyIFJ1bm5hYmxlQ2FsbGFibGUgPSBjbGFzcyBleHRlbmRzIFJ1bm5hYmxlIHtcblx0bGNfbmFtZXNwYWNlID0gW1wibGFuZ2dyYXBoXCJdO1xuXHRmdW5jO1xuXHR0YWdzO1xuXHRjb25maWc7XG5cdHRyYWNlID0gdHJ1ZTtcblx0cmVjdXJzZSA9IHRydWU7XG5cdGNvbnN0cnVjdG9yKGZpZWxkcykge1xuXHRcdHN1cGVyKCk7XG5cdFx0dGhpcy5uYW1lID0gZmllbGRzLm5hbWUgPz8gZmllbGRzLmZ1bmMubmFtZTtcblx0XHR0aGlzLmZ1bmMgPSBmaWVsZHMuZnVuYztcblx0XHR0aGlzLmNvbmZpZyA9IGZpZWxkcy50YWdzID8geyB0YWdzOiBmaWVsZHMudGFncyB9IDogdm9pZCAwO1xuXHRcdHRoaXMudHJhY2UgPSBmaWVsZHMudHJhY2UgPz8gdGhpcy50cmFjZTtcblx0XHR0aGlzLnJlY3Vyc2UgPSBmaWVsZHMucmVjdXJzZSA/PyB0aGlzLnJlY3Vyc2U7XG5cdH1cblx0YXN5bmMgX3RyYWNlZEludm9rZShpbnB1dCwgY29uZmlnLCBydW5NYW5hZ2VyKSB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdGNvbnN0IGNoaWxkQ29uZmlnID0gcGF0Y2hDb25maWcoY29uZmlnLCB7IGNhbGxiYWNrczogcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoKSB9KTtcblx0XHRcdEFzeW5jTG9jYWxTdG9yYWdlUHJvdmlkZXJTaW5nbGV0b24ucnVuV2l0aENvbmZpZyhjaGlsZENvbmZpZywgYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGNvbnN0IG91dHB1dCA9IGF3YWl0IHRoaXMuZnVuYyhpbnB1dCwgY2hpbGRDb25maWcpO1xuXHRcdFx0XHRcdHJlc29sdmUob3V0cHV0KTtcblx0XHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRcdHJlamVjdChlKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblx0YXN5bmMgaW52b2tlKGlucHV0LCBvcHRpb25zKSB7XG5cdFx0bGV0IHJldHVyblZhbHVlO1xuXHRcdGNvbnN0IGNvbmZpZyA9IGVuc3VyZUxhbmdHcmFwaENvbmZpZyhvcHRpb25zKTtcblx0XHRjb25zdCBtZXJnZWRDb25maWcgPSBtZXJnZUNvbmZpZ3ModGhpcy5jb25maWcsIGNvbmZpZyk7XG5cdFx0aWYgKHRoaXMudHJhY2UpIHJldHVyblZhbHVlID0gYXdhaXQgdGhpcy5fY2FsbFdpdGhDb25maWcodGhpcy5fdHJhY2VkSW52b2tlLCBpbnB1dCwgbWVyZ2VkQ29uZmlnKTtcblx0XHRlbHNlIHJldHVyblZhbHVlID0gYXdhaXQgQXN5bmNMb2NhbFN0b3JhZ2VQcm92aWRlclNpbmdsZXRvbi5ydW5XaXRoQ29uZmlnKG1lcmdlZENvbmZpZywgYXN5bmMgKCkgPT4gdGhpcy5mdW5jKGlucHV0LCBtZXJnZWRDb25maWcpKTtcblx0XHRpZiAoUnVubmFibGUuaXNSdW5uYWJsZShyZXR1cm5WYWx1ZSkgJiYgdGhpcy5yZWN1cnNlKSByZXR1cm4gYXdhaXQgQXN5bmNMb2NhbFN0b3JhZ2VQcm92aWRlclNpbmdsZXRvbi5ydW5XaXRoQ29uZmlnKG1lcmdlZENvbmZpZywgYXN5bmMgKCkgPT4gcmV0dXJuVmFsdWUuaW52b2tlKGlucHV0LCBtZXJnZWRDb25maWcpKTtcblx0XHRyZXR1cm4gcmV0dXJuVmFsdWU7XG5cdH1cbn07XG5mdW5jdGlvbiogcHJlZml4R2VuZXJhdG9yKGdlbmVyYXRvciwgcHJlZml4KSB7XG5cdGlmIChwcmVmaXggPT09IHZvaWQgMCkgeWllbGQqIGdlbmVyYXRvcjtcblx0ZWxzZSBmb3IgKGNvbnN0IHZhbHVlIG9mIGdlbmVyYXRvcikgeWllbGQgW3ByZWZpeCwgdmFsdWVdO1xufVxuYXN5bmMgZnVuY3Rpb24gZ2F0aGVySXRlcmF0b3IoaSkge1xuXHRjb25zdCBvdXQgPSBbXTtcblx0Zm9yIGF3YWl0IChjb25zdCBpdGVtIG9mIGF3YWl0IGkpIG91dC5wdXNoKGl0ZW0pO1xuXHRyZXR1cm4gb3V0O1xufVxuZnVuY3Rpb24gZ2F0aGVySXRlcmF0b3JTeW5jKGkpIHtcblx0Y29uc3Qgb3V0ID0gW107XG5cdGZvciAoY29uc3QgaXRlbSBvZiBpKSBvdXQucHVzaChpdGVtKTtcblx0cmV0dXJuIG91dDtcbn1cbmZ1bmN0aW9uIHBhdGNoQ29uZmlndXJhYmxlKGNvbmZpZywgcGF0Y2gpIHtcblx0aWYgKCFjb25maWcpIHJldHVybiB7IGNvbmZpZ3VyYWJsZTogcGF0Y2ggfTtcblx0ZWxzZSBpZiAoIShcImNvbmZpZ3VyYWJsZVwiIGluIGNvbmZpZykpIHJldHVybiB7XG5cdFx0Li4uY29uZmlnLFxuXHRcdGNvbmZpZ3VyYWJsZTogcGF0Y2hcblx0fTtcblx0ZWxzZSByZXR1cm4ge1xuXHRcdC4uLmNvbmZpZyxcblx0XHRjb25maWd1cmFibGU6IHtcblx0XHRcdC4uLmNvbmZpZy5jb25maWd1cmFibGUsXG5cdFx0XHQuLi5wYXRjaFxuXHRcdH1cblx0fTtcbn1cbmZ1bmN0aW9uIGlzQXN5bmNHZW5lcmF0b3JGdW5jdGlvbih2YWwpIHtcblx0cmV0dXJuIHZhbCAhPSBudWxsICYmIHR5cGVvZiB2YWwgPT09IFwiZnVuY3Rpb25cIiAmJiB2YWwgaW5zdGFuY2VvZiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoYXN5bmMgZnVuY3Rpb24qICgpIHt9KS5jb25zdHJ1Y3Rvcjtcbn1cbmZ1bmN0aW9uIGlzR2VuZXJhdG9yRnVuY3Rpb24odmFsKSB7XG5cdHJldHVybiB2YWwgIT0gbnVsbCAmJiB0eXBlb2YgdmFsID09PSBcImZ1bmN0aW9uXCIgJiYgdmFsIGluc3RhbmNlb2YgT2JqZWN0LmdldFByb3RvdHlwZU9mKGZ1bmN0aW9uKiAoKSB7fSkuY29uc3RydWN0b3I7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgUnVubmFibGVDYWxsYWJsZSwgZ2F0aGVySXRlcmF0b3IsIGdhdGhlckl0ZXJhdG9yU3luYywgaXNBc3luY0dlbmVyYXRvckZ1bmN0aW9uLCBpc0dlbmVyYXRvckZ1bmN0aW9uLCBwYXRjaENvbmZpZ3VyYWJsZSwgcHJlZml4R2VuZXJhdG9yIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/web.js":
/*!***************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/web.js ***!
  \***************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Annotation: () => (/* reexport safe */ _graph_annotation_js__WEBPACK_IMPORTED_MODULE_3__.Annotation),\n/* harmony export */   AsyncBatchedStore: () => (/* reexport safe */ _langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_12__.AsyncBatchedStore),\n/* harmony export */   BaseChannel: () => (/* reexport safe */ _channels_base_js__WEBPACK_IMPORTED_MODULE_1__.BaseChannel),\n/* harmony export */   BaseCheckpointSaver: () => (/* reexport safe */ _langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_12__.BaseCheckpointSaver),\n/* harmony export */   BaseLangGraphError: () => (/* reexport safe */ _errors_js__WEBPACK_IMPORTED_MODULE_0__.BaseLangGraphError),\n/* harmony export */   BaseStore: () => (/* reexport safe */ _langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_12__.BaseStore),\n/* harmony export */   BinaryOperatorAggregate: () => (/* reexport safe */ _channels_binop_js__WEBPACK_IMPORTED_MODULE_2__.BinaryOperatorAggregate),\n/* harmony export */   Command: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_4__.Command),\n/* harmony export */   CompiledStateGraph: () => (/* reexport safe */ _graph_state_js__WEBPACK_IMPORTED_MODULE_6__.CompiledStateGraph),\n/* harmony export */   END: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_4__.END),\n/* harmony export */   EmptyChannelError: () => (/* reexport safe */ _errors_js__WEBPACK_IMPORTED_MODULE_0__.EmptyChannelError),\n/* harmony export */   EmptyInputError: () => (/* reexport safe */ _errors_js__WEBPACK_IMPORTED_MODULE_0__.EmptyInputError),\n/* harmony export */   Graph: () => (/* reexport safe */ _graph_graph_js__WEBPACK_IMPORTED_MODULE_5__.Graph),\n/* harmony export */   GraphBubbleUp: () => (/* reexport safe */ _errors_js__WEBPACK_IMPORTED_MODULE_0__.GraphBubbleUp),\n/* harmony export */   GraphInterrupt: () => (/* reexport safe */ _errors_js__WEBPACK_IMPORTED_MODULE_0__.GraphInterrupt),\n/* harmony export */   GraphRecursionError: () => (/* reexport safe */ _errors_js__WEBPACK_IMPORTED_MODULE_0__.GraphRecursionError),\n/* harmony export */   GraphValueError: () => (/* reexport safe */ _errors_js__WEBPACK_IMPORTED_MODULE_0__.GraphValueError),\n/* harmony export */   INTERRUPT: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_4__.INTERRUPT),\n/* harmony export */   InMemoryStore: () => (/* reexport safe */ _langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_12__.InMemoryStore),\n/* harmony export */   InvalidUpdateError: () => (/* reexport safe */ _errors_js__WEBPACK_IMPORTED_MODULE_0__.InvalidUpdateError),\n/* harmony export */   MemorySaver: () => (/* reexport safe */ _langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_12__.MemorySaver),\n/* harmony export */   MessageGraph: () => (/* reexport safe */ _graph_message_js__WEBPACK_IMPORTED_MODULE_7__.MessageGraph),\n/* harmony export */   MessagesAnnotation: () => (/* reexport safe */ _graph_messages_annotation_js__WEBPACK_IMPORTED_MODULE_11__.MessagesAnnotation),\n/* harmony export */   MessagesZodMeta: () => (/* reexport safe */ _graph_messages_annotation_js__WEBPACK_IMPORTED_MODULE_11__.MessagesZodMeta),\n/* harmony export */   MessagesZodState: () => (/* reexport safe */ _graph_messages_annotation_js__WEBPACK_IMPORTED_MODULE_11__.MessagesZodState),\n/* harmony export */   MultipleSubgraphsError: () => (/* reexport safe */ _errors_js__WEBPACK_IMPORTED_MODULE_0__.MultipleSubgraphsError),\n/* harmony export */   NodeInterrupt: () => (/* reexport safe */ _errors_js__WEBPACK_IMPORTED_MODULE_0__.NodeInterrupt),\n/* harmony export */   ParentCommand: () => (/* reexport safe */ _errors_js__WEBPACK_IMPORTED_MODULE_0__.ParentCommand),\n/* harmony export */   REMOVE_ALL_MESSAGES: () => (/* reexport safe */ _graph_message_js__WEBPACK_IMPORTED_MODULE_7__.REMOVE_ALL_MESSAGES),\n/* harmony export */   RemoteException: () => (/* reexport safe */ _errors_js__WEBPACK_IMPORTED_MODULE_0__.RemoteException),\n/* harmony export */   START: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_4__.START),\n/* harmony export */   Send: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_4__.Send),\n/* harmony export */   StateGraph: () => (/* reexport safe */ _graph_state_js__WEBPACK_IMPORTED_MODULE_6__.StateGraph),\n/* harmony export */   UnreachableNodeError: () => (/* reexport safe */ _errors_js__WEBPACK_IMPORTED_MODULE_0__.UnreachableNodeError),\n/* harmony export */   addMessages: () => (/* reexport safe */ _graph_message_js__WEBPACK_IMPORTED_MODULE_7__.messagesStateReducer),\n/* harmony export */   copyCheckpoint: () => (/* reexport safe */ _langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_12__.copyCheckpoint),\n/* harmony export */   emptyCheckpoint: () => (/* reexport safe */ _langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_12__.emptyCheckpoint),\n/* harmony export */   entrypoint: () => (/* reexport safe */ _func_index_js__WEBPACK_IMPORTED_MODULE_10__.entrypoint),\n/* harmony export */   getSubgraphsSeenSet: () => (/* reexport safe */ _errors_js__WEBPACK_IMPORTED_MODULE_0__.getSubgraphsSeenSet),\n/* harmony export */   isCommand: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_4__.isCommand),\n/* harmony export */   isGraphBubbleUp: () => (/* reexport safe */ _errors_js__WEBPACK_IMPORTED_MODULE_0__.isGraphBubbleUp),\n/* harmony export */   isGraphInterrupt: () => (/* reexport safe */ _errors_js__WEBPACK_IMPORTED_MODULE_0__.isGraphInterrupt),\n/* harmony export */   isInterrupted: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_4__.isInterrupted),\n/* harmony export */   isParentCommand: () => (/* reexport safe */ _errors_js__WEBPACK_IMPORTED_MODULE_0__.isParentCommand),\n/* harmony export */   messagesStateReducer: () => (/* reexport safe */ _graph_message_js__WEBPACK_IMPORTED_MODULE_7__.messagesStateReducer),\n/* harmony export */   task: () => (/* reexport safe */ _func_index_js__WEBPACK_IMPORTED_MODULE_10__.task)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./errors.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/errors.js\");\n/* harmony import */ var _channels_base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./channels/base.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/base.js\");\n/* harmony import */ var _channels_binop_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./channels/binop.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/binop.js\");\n/* harmony import */ var _graph_annotation_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./graph/annotation.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/graph/annotation.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./constants.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/constants.js\");\n/* harmony import */ var _graph_graph_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./graph/graph.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/graph/graph.js\");\n/* harmony import */ var _graph_state_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./graph/state.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/graph/state.js\");\n/* harmony import */ var _graph_message_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./graph/message.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/graph/message.js\");\n/* harmony import */ var _graph_index_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./graph/index.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/graph/index.js\");\n/* harmony import */ var _channels_index_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./channels/index.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/channels/index.js\");\n/* harmony import */ var _func_index_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./func/index.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/func/index.js\");\n/* harmony import */ var _graph_messages_annotation_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./graph/messages_annotation.js */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/graph/messages_annotation.js\");\n/* harmony import */ var _langchain_langgraph_checkpoint__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @langchain/langgraph-checkpoint */ \"(ssr)/./node_modules/.pnpm/@langchain+langgraph-checkpoint@1.0.0_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12__/node_modules/@langchain/langgraph-checkpoint/dist/index.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L3dlYi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFvVjtBQUNuUztBQUNhO0FBQ1g7QUFDNkM7QUFDdkQ7QUFDeUI7QUFDMkI7QUFDbkU7QUFDRztBQUNzQjtBQUNvRDtBQUMwRCIsInNvdXJjZXMiOlsiL1VzZXJzL2pvYi9EZXNrdG9wL3Byb2plY3RfeC9wcm9qZWN0LXNxbC1hZ2VudC9zZXJ2aWNlcy9mcm9udGVuZC9ub2RlX21vZHVsZXMvLnBucG0vQGxhbmdjaGFpbitsYW5nZ3JhcGhAMS4wLjFfQGxhbmdjaGFpbitjb3JlQDEuMC4yX29wZW5haUA0LjEwMC4wX3dzQDguMTguMl96b2RANC4xLjEyX19fX2VmYTRlOGY4NjU1OGU1ZDI5ZWJkZWMzZDJmMDA0ZWQ5L25vZGVfbW9kdWxlcy9AbGFuZ2NoYWluL2xhbmdncmFwaC9kaXN0L3dlYi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYXNlTGFuZ0dyYXBoRXJyb3IsIEVtcHR5Q2hhbm5lbEVycm9yLCBFbXB0eUlucHV0RXJyb3IsIEdyYXBoQnViYmxlVXAsIEdyYXBoSW50ZXJydXB0LCBHcmFwaFJlY3Vyc2lvbkVycm9yLCBHcmFwaFZhbHVlRXJyb3IsIEludmFsaWRVcGRhdGVFcnJvciwgTXVsdGlwbGVTdWJncmFwaHNFcnJvciwgTm9kZUludGVycnVwdCwgUGFyZW50Q29tbWFuZCwgUmVtb3RlRXhjZXB0aW9uLCBVbnJlYWNoYWJsZU5vZGVFcnJvciwgZ2V0U3ViZ3JhcGhzU2VlblNldCwgaXNHcmFwaEJ1YmJsZVVwLCBpc0dyYXBoSW50ZXJydXB0LCBpc1BhcmVudENvbW1hbmQgfSBmcm9tIFwiLi9lcnJvcnMuanNcIjtcbmltcG9ydCB7IEJhc2VDaGFubmVsIH0gZnJvbSBcIi4vY2hhbm5lbHMvYmFzZS5qc1wiO1xuaW1wb3J0IHsgQmluYXJ5T3BlcmF0b3JBZ2dyZWdhdGUgfSBmcm9tIFwiLi9jaGFubmVscy9iaW5vcC5qc1wiO1xuaW1wb3J0IHsgQW5ub3RhdGlvbiB9IGZyb20gXCIuL2dyYXBoL2Fubm90YXRpb24uanNcIjtcbmltcG9ydCB7IENvbW1hbmQsIEVORCwgSU5URVJSVVBULCBTVEFSVCwgU2VuZCwgaXNDb21tYW5kLCBpc0ludGVycnVwdGVkIH0gZnJvbSBcIi4vY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgeyBHcmFwaCB9IGZyb20gXCIuL2dyYXBoL2dyYXBoLmpzXCI7XG5pbXBvcnQgeyBDb21waWxlZFN0YXRlR3JhcGgsIFN0YXRlR3JhcGggfSBmcm9tIFwiLi9ncmFwaC9zdGF0ZS5qc1wiO1xuaW1wb3J0IHsgTWVzc2FnZUdyYXBoLCBSRU1PVkVfQUxMX01FU1NBR0VTLCBtZXNzYWdlc1N0YXRlUmVkdWNlciB9IGZyb20gXCIuL2dyYXBoL21lc3NhZ2UuanNcIjtcbmltcG9ydCBcIi4vZ3JhcGgvaW5kZXguanNcIjtcbmltcG9ydCBcIi4vY2hhbm5lbHMvaW5kZXguanNcIjtcbmltcG9ydCB7IGVudHJ5cG9pbnQsIHRhc2sgfSBmcm9tIFwiLi9mdW5jL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBNZXNzYWdlc0Fubm90YXRpb24sIE1lc3NhZ2VzWm9kTWV0YSwgTWVzc2FnZXNab2RTdGF0ZSB9IGZyb20gXCIuL2dyYXBoL21lc3NhZ2VzX2Fubm90YXRpb24uanNcIjtcbmltcG9ydCB7IEFzeW5jQmF0Y2hlZFN0b3JlLCBCYXNlQ2hlY2twb2ludFNhdmVyLCBCYXNlU3RvcmUsIEluTWVtb3J5U3RvcmUsIE1lbW9yeVNhdmVyLCBjb3B5Q2hlY2twb2ludCwgZW1wdHlDaGVja3BvaW50IH0gZnJvbSBcIkBsYW5nY2hhaW4vbGFuZ2dyYXBoLWNoZWNrcG9pbnRcIjtcblxuZXhwb3J0IHsgQW5ub3RhdGlvbiwgQXN5bmNCYXRjaGVkU3RvcmUsIEJhc2VDaGFubmVsLCBCYXNlQ2hlY2twb2ludFNhdmVyLCBCYXNlTGFuZ0dyYXBoRXJyb3IsIEJhc2VTdG9yZSwgQmluYXJ5T3BlcmF0b3JBZ2dyZWdhdGUsIENvbW1hbmQsIENvbXBpbGVkU3RhdGVHcmFwaCwgRU5ELCBFbXB0eUNoYW5uZWxFcnJvciwgRW1wdHlJbnB1dEVycm9yLCBHcmFwaCwgR3JhcGhCdWJibGVVcCwgR3JhcGhJbnRlcnJ1cHQsIEdyYXBoUmVjdXJzaW9uRXJyb3IsIEdyYXBoVmFsdWVFcnJvciwgSU5URVJSVVBULCBJbk1lbW9yeVN0b3JlLCBJbnZhbGlkVXBkYXRlRXJyb3IsIE1lbW9yeVNhdmVyLCBNZXNzYWdlR3JhcGgsIE1lc3NhZ2VzQW5ub3RhdGlvbiwgTWVzc2FnZXNab2RNZXRhLCBNZXNzYWdlc1pvZFN0YXRlLCBNdWx0aXBsZVN1YmdyYXBoc0Vycm9yLCBOb2RlSW50ZXJydXB0LCBQYXJlbnRDb21tYW5kLCBSRU1PVkVfQUxMX01FU1NBR0VTLCBSZW1vdGVFeGNlcHRpb24sIFNUQVJULCBTZW5kLCBTdGF0ZUdyYXBoLCBVbnJlYWNoYWJsZU5vZGVFcnJvciwgbWVzc2FnZXNTdGF0ZVJlZHVjZXIgYXMgYWRkTWVzc2FnZXMsIGNvcHlDaGVja3BvaW50LCBlbXB0eUNoZWNrcG9pbnQsIGVudHJ5cG9pbnQsIGdldFN1YmdyYXBoc1NlZW5TZXQsIGlzQ29tbWFuZCwgaXNHcmFwaEJ1YmJsZVVwLCBpc0dyYXBoSW50ZXJydXB0LCBpc0ludGVycnVwdGVkLCBpc1BhcmVudENvbW1hbmQsIG1lc3NhZ2VzU3RhdGVSZWR1Y2VyLCB0YXNrIH07Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@langchain+langgraph@1.0.1_@langchain+core@1.0.2_openai@4.100.0_ws@8.18.2_zod@4.1.12____efa4e8f86558e5d29ebdec3d2f004ed9/node_modules/@langchain/langgraph/dist/web.js\n");

/***/ })

};
;